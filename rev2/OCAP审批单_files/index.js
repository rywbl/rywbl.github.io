!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("React"),require("mobxReact"),require("mobx"),require("ReactDOM"),require("ecCom"),require("loadjs"),require("antd"),require("jQuery"),require("ReactRouter")):"function"===typeof define&&define.amd?define(["React","mobxReact","mobx","ReactDOM","ecCom","loadjs","antd","jQuery","ReactRouter"],t):"object"===typeof exports?exports.weaWorkflowForm=t(require("React"),require("mobxReact"),require("mobx"),require("ReactDOM"),require("ecCom"),require("loadjs"),require("antd"),require("jQuery"),require("ReactRouter")):e.weaWorkflowForm=t(e.React,e.mobxReact,e.mobx,e.ReactDOM,e.ecCom,e.loadjs,e.antd,e.jQuery,e.ReactRouter)}(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_8__,__WEBPACK_EXTERNAL_MODULE_9__,__WEBPACK_EXTERNAL_MODULE_48__,__WEBPACK_EXTERNAL_MODULE_51__,__WEBPACK_EXTERNAL_MODULE_81__,__WEBPACK_EXTERNAL_MODULE_83__,__WEBPACK_EXTERNAL_MODULE_126__,__WEBPACK_EXTERNAL_MODULE_185__){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r=window.webpackJsonpweaWorkflowForm;window.webpackJsonpweaWorkflowForm=function(t,n,i){for(var a,l,s=0,u=[];s<t.length;s++)l=t[s],o[l]&&u.push(o[l][0]),o[l]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);for(r&&r(t,n,i);u.length;)u.shift()()};var n={},o={3:0};return t.e=function(e){function r(){l.onerror=l.onload=null,clearTimeout(s);var t=o[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var n=o[e];if(0===n)return new Promise(function(e){e()});if(n)return n[2];var i=new Promise(function(t,r){n=o[e]=[t,r]});n[2]=i;var a=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.charset="utf-8",l.async=!0,l.timeout=12e4,t.nc&&l.setAttribute("nonce",t.nc),l.src=(window[t.v]||"")+t.p+"static/js/"+({}[e]||e)+".chunk.js?v="+{0:"2fa3fd6b",1:"ddf78c6c",2:"4aac4b4e"}[e];var s=setTimeout(r,12e4);return l.onerror=l.onload=r,a.appendChild(l),i},t.m=e,t.c=n,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/spa/workflow/static4form/",t.v="ecologyContentPath",t.oe=function(e){throw e},t(t.s=285)}([function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(e,t,r){"use strict";t.__esModule=!0;var n=r(16),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(297),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(35),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,o.default)(t))&&"function"!==typeof t?e:t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(315),i=n(o),a=r(194),l=n(a),s=r(35),u=n(s);t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,u.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.getAntd=function(){return"undefined"===typeof window.antd?{}:window.antd},t.getEcCom=function(){return"undefined"===typeof window.ecCom?window.ecComSmall:window.ecCom});t.getComsMobx=function(){return"undefined"===typeof window.comsMobx?{}:window.comsMobx},t.getLabel=function(){var e=n(),t=e.WeaLocaleProvider;return t.getLabel.apply(t,arguments)}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(75),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_8__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_9__},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=t.sortedUniq=t.filter=t.slice=t.forEach=t.concat=t.findIndex=t.dropWhile=t.includes=t.cloneDeep=t.merge=t.forIn=t.indexOf=t.size=t.get=t.has=t.isEqual=t.trim=t.isEmpty=void 0;var o=r(332),i=n(o),a=r(111),l=n(a),s=r(355),u=n(s),c=r(389),f=n(c),d=r(220),p=n(d),h=r(394),m=n(h),v=r(398),g=n(v),b=r(401),y=n(b),w=r(405),_=n(w),S=r(232),E=n(S),I=r(435),k=n(I),C=r(438),x=n(C),O=r(448),P=n(O),M=r(449),A=n(M),F=r(452),R=n(F),T=r(455),D=n(T),j=r(456),L=n(j),N=r(458),q=n(N),W=r(460),B=n(W);t.isEmpty=i.default,t.trim=l.default,t.isEqual=u.default,t.has=f.default,t.get=p.default,t.size=m.default,t.indexOf=g.default,t.forIn=y.default,t.merge=_.default,t.cloneDeep=E.default,t.includes=k.default,t.dropWhile=x.default,t.findIndex=P.default,t.concat=A.default,t.forEach=R.default,t.slice=D.default,t.filter=L.default,t.sortedUniq=q.default,t.chunk=B.default},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeSecLevel=t.appendDefaultPath=t.loadWaterMark=t.getWfImportParams=t.scrollDom=t.bindTagTypeShowEvent=t.isShowRightBtn=t.appendContinuationParams=t.showChart=t.switchFormTabFunc=t.switchFormTab=t.getIframeUrl=t.setFormPic=t.requestImport=t.getIntervenorDefaultV=t.doDefinitionCallBackFun=t.delRow=t.showPrompt=t.printPreViewPage=t.judgePrintLogList=t.loadScript=t.convertNull=t.reloadListPage=t.printDuration=t.closeRequestPage=t.buildUrlStr=t.gotoPage=t.reloadRequestPage=t.getPageTitle=t.getBrowserVersion=t.convertKeyCode=t.bindResizeEvent=void 0;var i=r(94),a=o(i),l=r(31),s=o(l),u=r(7),c=o(u),f=r(12),d=o(f),p=r(15),h=n(p),m=r(10),v=n(m),g=r(18),b=n(g),y=r(23),w=n(y),_=r(29),S=n(_),E=r(124),I=n(E),k=r(39),C=o(k),x=r(55),O=n(x),P=r(477),M=r(128),A=r(6),F=r(9),R=r(27),T=n(R),D=r(495),j=o(D),L=r(127),N=n(L),q=r(82),W=(t.bindResizeEvent=function(){jQuery(window).bind("resize",function(){var e=jQuery(".wea-new-top-req-content").height()?jQuery(".wea-new-top-req-content").height():600,t=d.default.globalStore.tabKey;"pic"===t?K(e):"odoc"===t&&(jQuery(".wf-req-odoc").height(e-20),jQuery(".req-workflow-odoc").height(e-20))})},t.convertKeyCode=function(e){return e=e.nativeEvent?e.nativeEvent:e,e=e||window.event,e.nativeEvent?e.nativeEvent.keyCode:e.which},t.getBrowserVersion=function(){var e=navigator.userAgent;if(e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1)return"Chrome";var t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,r=e.indexOf("Edge")>-1&&!t,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(r)return"Edge";if(n)return"IE11";if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var o=parseFloat(RegExp.$1);return 7==o?"IE7":8==o?"IE8":9==o?"IE9":10==o?"IE10":11==o?"IE11":"IE"}var i=e.indexOf("Opera")>-1,a=e.indexOf("Firefox")>-1,l=e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome");return i?"Opera":a?"FF":l?"Safari":"unident"},t.getPageTitle=function(){var e=d.default.globalStore,t=d.default.layoutStore,r=e.commonParam;if("1"===e.urlParams.isPreView)return(0,A.getLabel)(31568,"模板预览");var n=t.mainData,o=r.iscreate,i=r.workflowname;return v.isEmpty(r)||1!==parseInt(o)?n.has("field-1")?n.get("field-1").value:(0,A.getLabel)(553,"处理")+" - "+i:(0,A.getLabel)(83443,"创建")+" - "+i},!1),B=t.reloadRequestPage=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=d.default.globalStore;if(r.setCloseNeedPrompt(!1),!0===t){var n=r.commonParam,o=n.f_weaver_belongto_userid,i=n.f_weaver_belongto_usertype,a=n.wfTestStr;e=(0,c.default)({f_weaver_belongto_userid:o,f_weaver_belongto_usertype:i,wfTestStr:a},e)}var l=r.urlParams.isOpenContinuationProcess;e=(0,c.default)({isOpenContinuationProcess:l},e),e.requestid==r.commonParam.requestid&&(e.isRefresh="1",X(e)),W=!0,z((window.ecologyContentPath||"")+"/workflow/request/ViewRequestForwardSPA.jsp",e)},z=t.gotoPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{ReactDOM.unmountComponentAtNode(document.getElementById("container"))}catch(e){window.console}window.location.href=Z(e+"?"+U(t))},U=t.buildUrlStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";return v.forIn(e,function(e,r){t+="&"+r+"="+e}),""!==t&&(t=t.substring(1)),t};t.closeRequestPage=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.requestid,n=void 0===r?-1:r,o=d.default.globalStore,i=o.urlParams,a=void 0===i?{}:i;o.continuationProcessInfo;o.setCloseNeedPrompt(e),H(),(0,P.closeUnLock)(),S.verifyCustomRegisterEvent(C.default.OPER_CLOSE,function(){if("1"==a.isOpenContinuationProcess)try{return void N.switchRequest("next",!0)}catch(e){}try{window.top.close()}catch(e){window.close()}window.opener||(n>-1?B({requestid:n}):window.location.reload())},t)};window.onbeforeunload=function(e){e=e||window.event;var t=d.default.globalStore,r=t.closeNeedPrompt,n=t.commonParam,o=d.default.layoutStore.existChangeFormData;if(W||(0,P.closeUnLock)(),W=!1,r&&0!==n.requestType&&o){var i=(0,A.getLabel)(18877,"流程还没保存，如果离开，将会丢失数据，真的要离开吗？");return e&&(e.returnValue=i),i}};var V=t.printDuration=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{window.console;var r=d.default.globalStore,n=r.browserVersion,o=r.commonParam,i=r.commonApiParam;if(!0===t&&!o.belongTest){var a={url:window.location.href,moduleType:14,clientType:n,interfaceTc:window.API_DURATION,serviceTc:window.SERVER_DURATION,renderTc:window.DISPATCH_DURATION,staticTc:window.JS_LOAD_DURATION,allTc:window.REQ_LOAD_DURATION,param:(0,s.default)(i)};h.writeDurationTimeInfo(a)}}catch(e){}};window.printDuration=V;var H=t.reloadListPage=function(e){try{var t=d.default.globalStore.baseParam;(0,c.default)({},t,e),window.opener._table.reLoad((0,c.default)({},t,e))}catch(e){}try{jQuery(window.opener.document).find("#btnWfCenterReload").click()}catch(e){}try{window.opener.backlogRefresh()}catch(e){}try{window.opener.element_dataCenter_reLoad()}catch(e){}try{window.opener.attentionRefresh()}catch(e){}try{window.opener.refreshResponseList()}catch(e){}try{window.opener&&window.opener.isOdocOpenWF&&window.opener.getOdocWFList(),window.opener&&window.opener.reloadOdocElements&&window.opener.element_odoc_reLoad()}catch(e){}},G=(t.convertNull=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null===e||"undefined"===typeof e?"":t?e.toString():e},t.loadScript=function(){var e=S.generateScriptPromiseList(),t=d.default.globalStore,r=t.isSourceLayout,n=t.commonParam,o=void 0===n?{}:n,i=o.useInvoiceCloud,l=d.default.layoutStore.layoutSourceInfo;a.default.all(e).then(function(e){var t=function(){if(jQuery("#customScriptDiv").html(""),r&&e.push(l.script),e.forEach(function(t,n){try{var o=S.manageScriptContent(t);jQuery("#customScriptDiv").append('<div class="_custom_script_'+n+'">'+o+"</div>"),r||n!==e.length-1||O.setScriptContent(o)}catch(e){}}),S.loadCustomFiles("js"),S.loadFormulaResource(),window.__Load_Script_Complete__=!0,!G()){Q();var t=d.default.globalStore,n=t.urlParams;1==(void 0===n?{}:n).mulPrintMode&&top.window.printReqStore&&top.window.printReqStore.setPrintBtnDisabled(!0)}var o=d.default.layoutStore.odocInfo;o&&!0===o.docFlag&&window.oDocUtil.loadOdocConfig()};d.default.globalStore.pushJSCompleteEvent(t)}),1==i&&(0,M.bindOnMessage)()},t.judgePrintLogList=function(){var e=d.default.globalStore,t=d.default.layoutStore,r=e.commonParam,n=e.rightMenu,o=e.isSourceLayout,i=r.isprint,a=r.isHideArea,l=r.printLogListFlag,s=(n.forward,t.cellInfo),u=!1;if(1==parseInt(i)&&"1"!=a)if(0===l);else if(2===l)u=!0;else if(o){var c=s.nodeMarkContent||{};u=v.isEmpty(c)}else u=!s.existCurrentWfNodeMark;return u}),Q=t.printPreViewPage=function(){var e=d.default.globalStore,t=e.browserVersion,r=e.urlParams,n=e.commonParam;if(1===parseInt(n.isprint))if("true"!==r.isBatchPrint){if("true"!==r.isPreView)var o=function(){var e=isNaN(parseInt(WfForm.printTimeout||""))?500:parseInt(WfForm.printTimeout);window.setTimeout(function(){if(t.indexOf("IE")>-1){try{jQuery(".wf-req-print")&&jQuery(".wf-req-print").append('<object id="WebBrowser" height="0" width="0" classid="CLSID:8856F961-340A-11D0-A96B-00C04FD705A2" viewastext></object>');var e="\\Software\\Microsoft\\Internet Explorer\\PageSetup\\",r="",n=new ActiveXObject("WScript.Shell");r="Print_Background",n.RegWrite("HKEY_CURRENT_USER"+e+r,"yes"),r="Shrink_To_Fit",n.RegWrite("HKEY_CURRENT_USER"+e+r,"yes")}catch(e){window.console}try{document.all.WebBrowser.ExecWB(7,1)}catch(e){window.print()}}else window.print()},e)},i=(new Date).getTime(),a=window.setInterval(function(){(!0===window.__Load_Script_Complete__||(new Date).getTime()-i>1e4)&&(S.verifyCustomRegisterEvent(C.default.OPER_PRINTPREVIEW,o),window.clearInterval(a))},200)}else var l=(new Date).getTime(),s=window.setInterval(function(){var e=n.requestid,t=jQuery(".wf-req-print");jQuery("iframe#request_"+e,window.parent.document).css("height",t.height()+10),(new Date).getTime()-l>3e3&&window.clearInterval(s)},200)};window.printPreViewPage=Q;var K=(t.showPrompt=function(e,t){if(e){var r=d.default.layoutStore,n=r.fieldAttrMap,o=r.cellInfo,i=r.variableMap,a=i.get("promptBox");if(!a||!a.visible){var l="",s=null,u="";1===t||2===t?(l=e.indexOf("_")>-1?e.substring(5,e.indexOf("_")):e.substring(5),s=n.get(l),u=-10==l?(0,A.getLabel)(531284,"密级或保密期限"):s&&s.fieldlabel||""):3===t&&(u=""+(0,A.getLabel)(19325,"明细表")+e.substring(7));var c={},f="";if(c.promptBox={mark:e,lableText:u,promptType:t,visible:!0},1===t){s&&1===s.isonlyshow?c.promptBox.isFieldOnlyShow=!0:c.promptRequiredField=e;var p=v.get(o,["fieldCellInfo",l,"symbol"])||"";f=p.indexOf("mc_")>-1||p.indexOf("detail_")>-1?v.get(o,["subPanelInfo",p,"symbol"])||"":p}else 3===t&&(f=v.get(o,["subPanelInfo",e,"symbol"])||"");if(f.indexOf("tab_")>-1){var h=v.get(o,["subPanelInfo",f])||{};v.isEmpty(h)||(c["tabarea_"+h.rowid+"_"+h.colid+"_showid"]=f)}r.batchControlVariableMap(c);var m=(0,A.getAntd)(),g=m.Modal,b=d.default.globalStore,y=b.dialogVisible,w=b.controlDialogVisible;y.has(T.FREE_WORKFLOW_SIMPLE)&&y.get(T.FREE_WORKFLOW_SIMPLE)&&g.warning({title:(0,A.getLabel)(28535,"信息提示"),content:(0,A.getLabel)(513127,"表单有必填项未填写"),okText:(0,A.getLabel)(83446,"确定"),onOk:function(){w(T.FREE_WORKFLOW_SIMPLE,!1)}}),window.setTimeout(function(){var e={};e.promptBox={visible:!1},1===t&&(e.promptRequiredField=""),r.batchControlVariableMap(e)},1500)}}},t.delRow=function(e){var t=w.getDetailObj(e);if(null!==t){var r=w.getDetailCheckedRowArr(t);if(0!==r.length){(0,A.getAntd)().Modal.confirm({title:(0,A.getLabel)(131329,"信息确认"),content:(0,A.getLabel)(15097,"确定要删除吗？"),okText:(0,A.getLabel)(826,"确定"),cancelText:(0,A.getLabel)(201,"取消"),onOk:function(){w.delAssignRow(e,r)},onCancel:function(){}})}}},t.doDefinitionCallBackFun=function(e,t,r,n,o){"function"===typeof wfbrowvaluechange&&wfbrowvaluechange(null,e,t);var i=o.detailtype,a=o.isDetail;if("function"===typeof __browVal4CustomCheck){var l=d.default.globalStore.commonParam,s=l.workflowid,u=l.requestid,c=a?"field"+e+"_"+t:"field"+e;__browVal4CustomCheck(e,s,u,i,r,n,c)}if(22===i)try{(0,A.getEcCom)().WeaTools.callApi("/api/fna/budgetfeeTypeBrowser/updateBudgetfeeTypeUsed","GET",{subjectId:r})}catch(e){window.console}if(300===i){var f=(0,A.getEcCom)(),p=f.WeaTools,h=d.default.globalStore.commonParam,m=h.workflowid;h.requestid;try{p.callApi("/api/fnaMulDimensions/fnaWfDimTypeBrowserUser/updateWfDimTypeUsed","POST",{memberId:r,fieldId:e,workflowId:m})}catch(e){window.console}}},t.getIntervenorDefaultV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={Intervenorid:"",IntervenoridType:"",Intervenorid_crm:""},r=e.items,n=void 0===r?[]:r,o=e.replacedatas||[],i=e.replacedatas_crm||[];if(n.length>0&&n.map(function(e){var r=(e.labelcol,e.fieldcol,e.label,e.conditionType),n=e.domkey,i=void 0===n?[]:n,a=e.browserConditionParam,l=void 0===a?{}:a,s=e.options,u=void 0===s?[]:s;if("SELECT"==r)u.map(function(e){e.selected&&(t[i[0]]=e.key)});else if("BROWSER"==r){var c=l.replaceDatas,f=void 0===c?[]:c,d=[];f.map(function(e){d.push(e.id)}),t[i[0]]=d.join(","),"Intervenorid"==i[0]&&(o=f)}}),o&&o.length>0){var a=[],l=[];o.map(function(e){var t=e.id,r=e.IntervenoridType,n=void 0===r?"":r;a.push(t),l.push(n)}),t.Intervenorid=a.join(","),t.IntervenoridType=l.join(",")}if(i&&i.length>0){var s=[];i.map(function(e){var t=e.id;s.push(t)}),t.Intervenorid_crm=s.join(",")}return t},t.requestImport=function(e){var t=d.default.globalStore,r=t.commonParam;(0,t.setLoading)(!0);var n=r.workflowid,o=r.formid,i=r.isbill,a=r.nodeid,l=r.nodetype,s=r.isagent,u=r.beagenter,c="",f="",p=b.getFieldValObj(-1,-1),m=b.getFieldValObj(-2,-1);if(p){var v=p.valueObj,g=void 0===v?{}:v,y=g.value;c=void 0===y?"":y}if(m){var w=m.valueObj,_=void 0===w?{}:w,S=_.value;f=void 0===S?"":S}var E={src:"import",imprequestid:e,workflowid:n,formid:o,isbill:i,nodeid:a,nodetype:l,isagent:s,beagenter:u,requestname:c,requestlevel:f};h.requestImport(E).then(function(e){B({requestid:e.requestid})})},t.setFormPic=function(e){var t=J();jQuery(".req-workflow-map").attr("src")!=t&&jQuery(".req-workflow-map").attr("src",t),jQuery(".req-workflow-map").height(e-5)}),J=t.getIframeUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d.default.globalStore,r=t.baseParam,n=t.rightMenu,o=t.variableMap,i=t.commonParam,a=t.urlParams,l=(0,c.default)({},(0,F.toJS)(a),(0,F.toJS)(r)),s=r.requestid;if(o.get(T.FREEFLOW_SETTING)||s>0){var u=i.hasFreeNode,f=void 0!==u&&u,p=n.isFree,h=void 0===p?"0":p,m=n.isAllowNodeFreeFlow,v=void 0===m?"0":m;l.isFree=h,l.isAllowNodeFreeFlow=v,l.isReadOnlyModel=!0,l.isFlowModel="0",l.hasFreeNode=f?"1":"0"}return l.authSignatureStr=i.authSignatureStr,l.authStr=i.authStr,l.wfTestStr=i.wfTestStr,l=(0,c.default)({},l,e),(window.ecologyContentPath||"")+"/workflow/workflowDesign/readOnly-index.html?"+U(l)+"&showE9Pic=1&isFromWfForm=true&_freekey="+o.get("FREE_T_KEY")},Y=(t.switchFormTab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(d.default.globalStore.JSComplete){if("odoc"==e&&WfForm.getOdocConfig().openWpsJSAPI&&WfForm.getOdocConfig().extendName.indexOf("doc")>-1)return void beforeWpsOnlineEdit.createDoc();if(!("odoc"==e&&(jQuery(".req-workflow-odoc").length>0||jQuery(".wf-req-form-odoc-iframe")>0)&&WfForm.getOdocConfig().docParam.isTextInFormCanEdit&&WfForm.getOdocConfig().docParam.isTextInForm))if(null!=WfForm.getOdocConfig()&&null!=WfForm.getOdocConfig().docParam&&!0===WfForm.getOdocConfig().docParam.saveDocRemind&&!0===getWebOfficeIsModify()&&"odoc"!=e&&"odoc"===d.default.globalStore.tabKey){var r=(0,A.getAntd)(),n=r.Modal;showOrHideWeboffice(0),n.confirm({title:(0,A.getLabel)(131329,"信息确认"),content:(0,A.getLabel)(19006,"文档还没保存，确定要离开吗？"),okText:(0,A.getLabel)(826,"确定"),cancelText:(0,A.getLabel)(201,"取消"),onOk:function(){Y(e,t),showOrHideWeboffice(1)},onCancel:function(){showOrHideWeboffice(1)}})}else Y(e,t)}},t.switchFormTabFunc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=d.default.globalStore.tabKey;$("#conflict-panel-box")&&"visible"==$("#conflict-panel-box").css("visibility")&&$("#conflict-panel-box").css({visibility:"hidden"}),-1===e.indexOf("custom_dialog_")&&t&&d.default.globalStore.setTabKey(e);var n=jQuery(".wea-new-top-req-content");n.css("overflow-y","form"===e||"pic"===e||"resource"===e?"hidden":"auto");var o=0;if(o="pic"===e?n.height()-50?n.height()-50:600:n.height()?n.height():600,jQuery(".wf-req-odoc").show(),jQuery(".wf-req-odoc").length>0)if("odoc"===e){jQuery(".wf-req-odoc").css("height","100%"),showOrHideWeboffice(1),jQuery(".wf-req-odoc").css("marginTop","10px"),jQuery(".wf-req-odoc").css("marginBottom","10px"),jQuery(".req-workflow-odoc").css("width","100%");try{oDocUtil.uploadPDFCanClick=!0}catch(e){}}else if("form"!==e||!WfForm.getOdocConfig().docParam.isTextInForm||WfForm.getOdocConfig().docParam.isUseTempletNode||WfForm.getOdocConfig().docParam.wpsEditor){jQuery(".wf-req-odoc").height(1);var i=parseInt(jQuery(".wf-req-odoc").css("fontSize").replace("px",""),10);i=i>0?i=-1*(i+1):-13,jQuery(".wf-req-odoc").css("marginTop",i+"px"),jQuery(".wf-req-odoc").css("marginBottom","0px"),jQuery(".req-workflow-odoc").height(1),showOrHideWeboffice(0),reloadTextInForm()}else showOrHideWeboffice(1),jQuery(".wf-req-odoc").css("marginTop","0px"),jQuery(".wf-req-odoc").css("marginBottom","0px"),reloadTextInForm();if("form"===e)w.fixedDetailHead(),window.formLoglistStore&&window.formLoglistStore.updateLogParams({pgnumber:1}),"communication"==r&&window.formLoglistStore&&window.formLoglistStore.loadMarkInfo();else if("pic"===e)K(o),d.default.smartGuessWfStore.baseReqParams.requestid||d.default.smartGuessWfStore.init(d.default.globalStore.commonParam);else if("odoc"===e)try{if((jQuery(".req-workflow-odoc").length>0||jQuery(".wf-req-form-odoc-iframe")>0)&&WfForm.getOdocConfig().docParam.isTextInFormCanEdit&&WfForm.getOdocConfig().docParam.isTextInForm)return void WfForm.switchTab("form");var a=WfForm.getOdocConfig(),l=a.docParam.documentTitleField;if(-3!==l&&0!==l||(l=-1),""===WfForm.getFieldValue("field"+l)&&WfForm.getFieldCurViewAttr("field"+ +l)>1)return antd.message.error('"'+WfForm.getFieldInfo(l).fieldlabel+'"'+ecCom.WeaLocaleProvider.getLabel(503020,"字段未填写")),oDocUtil.uploadPDFCanClick=!0,WfForm.switchTab("form"),!1;if(a.docParam.secid&&a.docParam.secid<=0)return antd.message.error(ecCom.WeaLocaleProvider.getLabel(519301,"正文存放目录未设置")),oDocUtil.uploadPDFCanClick=!0,WfForm.switchTab("form"),!1;if(a.isOpenClassification&&window.oDocUtil.haveSecretLevel&&WfForm.getOdocConfig()&&WfForm.getOdocConfig().docParam&&WfForm.getOdocConfig().docParam.docid<0&&1==WfForm.getOdocConfig().docParam.isEdit)if(window.oDocUtil.needReconfirmSecretLevel){if(!window.oDocUtil.haveSecretLevel())return void WfForm.switchTab("form");showOrHideWeboffice(0),window.weaOdoc?window.oDocUtil.renderDialog(!1,0,0,"clickOdocTab"):window.eventRegister&&window.eventRegister.loadModule("f_odoc",function(){window.oDocUtil.renderDialog(!1,0,0,"clickOdocTab")},function(){window.console})}else oDocUtil.setDocParam();else oDocUtil.setDocParam();jQuery(".req-workflow-odoc").height(o-20)}catch(e){}else if(e.indexOf("custom_")>-1)try{var s=WfForm.customTabFunObj[e];"function"===typeof s&&s()}catch(e){window.console}var u=document.getElementById("wfFrontOperator-container");u&&"pic"!==e&&(u.style.visibility="hidden"),window.WfForm.triggerAction(window.WfForm.ACTION_SWITCHTAB,[e,r])}),X=(t.showChart=function(e){var t=e.requestid,r=e.sessionkey,n=d.default.globalStore,o=n.submitParam,i=void 0===o?{}:o,a=n.rightMenu,l=n.commonParam,s=n.urlParams,u=i.workflowid,f=i.isbill,p=i.formid,h=i.isfromtab,m=i.f_weaver_belongto_userid,v=i.f_weaver_belongto_usertype,g=(0,c.default)({},(0,F.toJS)(s),{requestid:t,workflowid:u,isbill:f,formid:p,isfromtab:h,f_weaver_belongto_userid:m,f_weaver_belongto_usertype:v,showE9Pic:"1",isFromAutodirect:"1",isFromWfForm:!0,authSignatureStr:l.authSignatureStr,authStr:l.authStr,wfTestStr:l.wfTestStr,sessionkey:r}),b=a.isFree,y=void 0===b?"0":b,w=a.isAllowNodeFreeFlow,_=void 0===w?"0":w;g.isFree=y,g.isAllowNodeFreeFlow=_,X(g),z((window.ecologyContentPath||"")+"/workflow/request/WorkflowDirectionNew.jsp",g)},t.appendContinuationParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d.default.globalStore,r=t.continuationProcessInfo;return r.loaded&&(e.isOpenContinuationProcess="1",e.currentIndex=r.currentIndex,e.counts=r.counts,e.showSwitchBar=r.showSwitchBar),e}),Z=(t.isShowRightBtn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d.default.globalStore,r=t.tabKey,n=e.type,o=(e.menuName,e.menuIcon,e.isTest,!0);return"BTN_EXCEL"==n&&"form"!==r&&(o=!1),o},t.bindTagTypeShowEvent=function(){jQuery("body").on("click",function(e){jQuery(e.target).parents(".icon-coms02-Label").length>0||jQuery(e.target).hasClass("icon-coms02-Label")||jQuery(e.target).parents(".ant-popover-content").length<1&&(d.default.followSelectStore.followTypeSelectShow=!1)})},t.scrollDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".wf-req-freeWorkflowSimple",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2],n=(0,A.getAntd)(),o=n.message,i=parseInt(jQuery(e).offset().top),a=0;i>0&&i-jQuery(".wea-new-top-req").height()+200<jQuery(".wf-req-form-scroll").height()||(i-jQuery(".wea-new-top-req").height()+200>jQuery(".wf-req-form-scroll").height()&&(a=i+jQuery(".wf-req-form-scroll").scrollTop()-385),i<jQuery(".wea-new-top-req").height()&&(i<0&&(i*=-1),a=jQuery(".wf-req-form-scroll").scrollTop()-i-jQuery(".wea-new-top-req").height()-350),jQuery(".wf-req-form-scroll").animate({scrollTop:a+"px"},0)),r&&o.warning(r),t&&jQuery(e).css("border","1px solid #2DB7F5")},t.getWfImportParams=function(){var e=d.default.globalStore,t=e.rightMenu,r=e.commonParam,n=t&&t.rightMenus||[],o={};return n instanceof Array&&n.map(function(e){var t=(e.type,e.menuName),n=(e.menuIcon,e.menuFun);e.isTop,e.isLockShow,e.isTest;if(n.indexOf("doImportWorkflow")>-1){var i=r.f_weaver_belongto_userid||"",a=r.workflowid,l=r.formid,s=r.isbill,u=r.belongTest;o={workflowid:a,formid:l,isbill:s,belongTest:u,userId:i,menuName:t}}}),o},t.loadWaterMark=function(){var e=d.default.globalStore,t=e.commonParam,r=void 0===t?{}:t,n=e.urlParams,o=void 0===n?{}:n,i=r.waterMarkInfo,a=window.ua,l=a.browser,s=void 0===l?"":l,u=a.version,c=void 0===u?"0":u;if(!("IE"===s&&parseInt(c,10)<11)&&i){var f=i.contentType,p=void 0===f?0:f,h=i.content,m=void 0===h?"":h,v=i.width,g=void 0===v?0:v,b=i.height,y=void 0===b?0:b,w=i.transparency,_=void 0===w?0:w,E=i.rotationAngle,I=void 0===E?0:E,k={fontStyle:"font-size:18px;color:#000;",rotate:360-I,alpha:_/100,width:g,height:y};if(1==p){for(var C=m,x=/<span key=\"(.*?)\"><\/span>/g;null!=x.exec(m);){var O=RegExp.$1,P=S.getWaterMarkFieldShowName(O);C=C.replace('<span key="'+O+'"></span>',"<span>"+P+"</span>")}k.text=j.default.formatContent({text:C})}2==p&&(k.src=m);var M=o.isBatchPrint,A=void 0===M?"false":M,F=o.isPreView,R=void 0===F?"false":F,T=null;if("true"==A||"true"==R){T=window.document;var D=0,L=setInterval(function(){D<20?((0,j.default)(k,T),D++):clearInterval(L)},200)}else(0,j.default)(k,T)}},t.appendDefaultPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;return window.ecologyContentPath&&e&&e.startsWith("/")&&!e.startsWith(window.ecologyContentPath)&&(t=""+window.ecologyContentPath+e),t});t.changeSecLevel=function(e){var t=I.getSecLevel(),r=d.default.globalStore,n=r.secLevelInfo,o=void 0===n?{}:n,i=r.variableMap,a=r.controlVariableMap,l=o.secValidityMap,s=void 0===l?{}:l,u=i.get("miniWfSecLevel")||"",c="";if(e<=2&&""!=e&&(c=s[e]),I.changeSecLevelInfo(e,c),""!=u&&u<e){(0,A.getAntd)().Modal.confirm({title:(0,A.getLabel)(131329,"信息确认"),content:(0,A.getLabel)(531285,"变更密级，高于当前流程密级的关联资源会被清除，高于当前流程密级的附件密级将自动调整为修改的密级，确定要调整吗？"),okText:(0,A.getLabel)(826,"确定"),cancelText:(0,A.getLabel)(201,"取消"),onOk:function(){(0,q.doSave_nNew)()},onCancel:function(){var e="";t<=2&&(e=s[t]),I.changeSecLevelInfo(t,e)}})}else""!==e&&a("miniWfSecLevel",e)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(143),i=n(o),a=r(15),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),s=r(25),u=n(s),c=r(6),f={globalStore:{},layoutStore:{},ehOperatorStore:{},printLogStore:{},rejectStore:{},shareStore:{},overTimeStore:{},freeFlowStore:{},secondAuthStore:{},selectNextFlowStore:{},followSelectStore:{},freeWflowSimpleStore:{},ensureSubmitStore:{},smartGuessWfStore:{},requestWithdrawStore:{},showContentStore:{},conformRuleStore:null,init:function(e){this.globalStore=e.globalStore,this.layoutStore=e.layoutStore,this.ehOperatorStore=e.ehOperatorStore,this.printLogStore=e.printLogStore,this.rejectStore=e.rejectStore,this.shareStore=e.shareStore,this.selectNextFlowStore=e.selectNextFlowStore,this.overTimeStore=e.overTimeStore,this.freeFlowStore=e.freeFlowStore,this.secondAuthStore=e.secondAuthStore,this.followSelectStore=e.followSelectStore,this.freeWflowSimpleStore=e.freeWflowSimpleStore,this.ensureSubmitStore=e.ensureSubmitStore,this.smartGuessWfStore=e.smartGuessStore,this.requestWithdrawStore=e.requestWithdrawStore,this.showContentStore=e.showContentStore,this.conformRuleStore=e.conformRuleStore,u.default.init(e.globalStore,e.layoutStore,i.default,l,c.getLabel)}};t.default=f},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncLoadModule=t.loadFullResource=t.controlAsyncLoad=void 0;var o=r(12),i=n(o),a=r(17),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),s=r(173),u=n(s),c=(t.controlAsyncLoad=function(){_.isEmpty(i.default.globalStore.commonParam)||(window.REQ_LOAD_DURATION||(window.DISPATCH_DURATION=(new Date).getTime()-window.API_LOAD_END,window.REQ_LOAD_DURATION=(new Date).getTime()-window.REQ_PAGE_LOAD_START),!0!==window.__hasLoadFullResource__&&c()),i.default.globalStore.triggerJSCompleteEvent()},t.loadFullResource=function(){window.__hasLoadFullResource__=!0;var e=window.loadjs,t=u.default.globalStore,r=function(){window.ASYNC_BEGIN=(new Date).getTime(),e(l.antdFiles,function(){e(l.ecComFiles,function(){e(l.comMobxFiles.concat(l.odocFiles),function(){window.ASYNC_DURATION=(new Date).getTime()-window.ASYNC_BEGIN,t.markJSComplete(),d(),e(l.dependFiles,"depend"),e(l.escFiles,"esc"),window.formImgLazyLoad(jQuery(".wf-req-form-scroll"))})})})},n=0,o=t.urlParams;o.delayAsyncLoad?n=isNaN(parseInt(o.delayAsyncLoad))?999999999:parseInt(o.delayAsyncLoad):"Chrome"!==t.browserVersion&&(n=300),n>0?window.setTimeout(r,n):r()}),f={},d=(t.asyncLoadModule=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=window.loadjs;if(i.default.globalStore.JSComplete)o.isDefined(e)?o.ready(e,r):o(t,e,{async:n,success:r});else{var a=e in f?f[e]:{files:t,async:n,callbacks:[]};a.callbacks.push(r),f[e]=a}},function(){var e=window.loadjs;for(var t in f)!function(t){var r=f[t],n=r.files||[],o=!("async"in r)||r.async,i=r.callbacks||[],a=function(){i.map(function(e){"function"===typeof e&&e()})};e.isDefined(t)?e.ready(t,a):e(n,t,{async:o,success:a})}(t)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conformCheck=t.saveFreeNodeFormConfig=t.getFreeNodeBrowserItem=t.getNextNodeContent=t.getBrowserInfo=t.getFidOrEcid=t.getInvoiceCloudToken=t.saveDetailExpSet=t.getDetailExpSet=t.getContinnuationProcessInfo=t.getThMouldList=t.getThImageFileId=t.getThPreviewUrl=t.getTriggerSubWFList=t.getFlowChartInfo=t.getForecastInfo=t.getRuleCondition=t.getOperator=t.getSimpleWfData=t.loadCondition=t.formulaCfg=t.exportFieldSet=t.fieldLinkageCfg=t.checkJoin=t.doTakEnd=t.getFormAttentionTag=t.isShowShareBtn=t.getSendEmailInfo=t.runCustomOperationAction=t.getCustomOperation=t.doTakeBack=t.getExportedPDF=t.getExportedExcel=t.getFormulasNew=t.getSelectFlowNodeInfo=t.getSelectNextFlowCondition=t.getFormTab=t.doSupervise=t.generatePrintLog=t.loadPrintTemplates=t.editLockOper=t.freeFlowSave=t.freeFlowRead=t.getPrintLogData=t.getPrintLogBase=t.requestWithDraw=t.overTimeSetting=t.chooseExceptionOperator=t.getInterventionUser=t.getReqInterventionInfo=t.requestImport=t.getUploadFileInfo=t.triggerSubWf=t.reqOperate=t.functionLink=t.loadWfCodeFieldValueInfo=t.createWfCode=t.reqDateTimeResult=t.reqFieldSqlResult=t.reqDataInputResult=t.updateUserTxStatus=t.getWfStatusCount=t.getWfStatus=t.judgeRejectWay=t.loadHrefTextContent=t.loadInjectDevFile=t.loadCustompage=t.loadScriptContent=t.updateReqInfo=t.getRightMenu=t.getNodeSignSet=t.getSignInput=t.updateRequestLogPageSize=t.getRequestLogList=t.getRequestLogBaseInfo=t.loadRequestLog=t.saveDetailPaging=t.getDetailDataKeyIds=t.loadDetailData=t.writeDurationTimeInfo=t.loadPreViewInfo=t.loadBaseInfo=void 0;var n=r(6),o=r(12),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=(0,n.getEcCom)(),l=a.WeaTools,s=function(e){var t=i.default.globalStore.commonParam;["wfTestStr","f_weaver_belongto_userid","f_weaver_belongto_usertype"].map(function(r){!(r in e)&&r in t&&(e[r]=t[r])})},u=function(e){var t=i.default.globalStore.commonParam;["authStr","authSignatureStr"].map(function(r){!(r in e)&&r in t&&(e[r]=t[r])})};t.loadBaseInfo=function(e){return l.callApi("/api/workflow/reqform/loadForm","POST",e)},t.loadPreViewInfo=function(e){return l.callApi("/api/workflow/reqform/loadPreView","POST",e)},t.writeDurationTimeInfo=function(e){return l.callApi("/api/systemViewLog/home/InsertSystemPageViewLog","POST",e)},t.loadDetailData=function(e){return s(e),l.callApi("/api/workflow/reqform/detailData","POST",e)},t.getDetailDataKeyIds=function(e){return s(e),l.callApi("/api/workflow/reqform/detailDataKeyId","POST",e)},t.saveDetailPaging=function(e){return s(e),l.callApi("/api/workflow/reqform/saveDetailPaging","POST",e)},t.loadRequestLog=function(e){return s(e),l.callApi("/api/workflow/reqform/requestLog","POST",e)},t.getRequestLogBaseInfo=function(e){return s(e),l.callApi("/api/workflow/reqform/getRequestLogBaseInfo","POST",e)},t.getRequestLogList=function(e){return s(e),l.callApi("/api/workflow/reqform/getRequestLogList","POST",e)},t.updateRequestLogPageSize=function(e){return s(e),l.callApi("/api/workflow/reqform/updateRequestLogPageSize","POST",e)},t.getSignInput=function(e){return s(e),u(e),l.callApi("/api/workflow/reqform/signInput","POST",e)},t.getNodeSignSet=function(e){return s(e),u(e),l.callApi("/api/workflow/reqform/getNodeSignSet","GET",e)},t.getRightMenu=function(e){return s(e),l.callApi("/api/workflow/reqform/rightMenu","POST",e)},t.updateReqInfo=function(e){return s(e),l.callApi("/api/workflow/reqform/updateReqInfo","POST",e)},t.loadScriptContent=function(e){return s(e),l.callApi("/api/workflow/reqform/scripts","GET",e,"text")},t.loadCustompage=function(e,t){return s(t),t.__address__=e,l.callApi("/workflow/request/CustomPageForward.jsp","POST",t,"text")},t.loadInjectDevFile=function(e){return s(e),l.callApi("/api/workflow/injectDev/loadFormDevFileList","POST",e)},t.loadHrefTextContent=function(e,t){return s(t),l.callApi(e,"GET",t,"text")},t.judgeRejectWay=function(e){return s(e),l.callApi("/api/workflow/reqform/judgeRejectWay","POST",e)},t.getWfStatus=function(e){return s(e),u(e),l.callApi("/api/workflow/reqform/wfstatusnew","POST",e)},t.getWfStatusCount=function(e){return s(e),u(e),l.callApi("/api/workflow/reqform/wfstatuscount","POST",e)},t.updateUserTxStatus=function(e){return s(e),l.callApi("/api/workflow/reqform/updateUserTxStatus","POST",e)},t.reqDataInputResult=function(e){return s(e),l.callApi("/api/workflow/linkage/reqDataInputResult","POST",e)},t.reqFieldSqlResult=function(e){return s(e),l.callApi("/api/workflow/linkage/reqFieldSqlResult","POST",e)},t.reqDateTimeResult=function(e){return s(e),l.callApi("/api/workflow/linkage/reqDateTimeResult","POST",e)},t.createWfCode=function(e){return s(e),l.callApi("/api/workflow/reqform/createWfCode","POST",e)},t.loadWfCodeFieldValueInfo=function(e){return s(e),l.callApi("/api/workflow/reqform/loadWfCodeFieldValueInfo","POST",e)},t.functionLink=function(e){return s(e),l.callApi("/api/workflow/reqform/functionLink","POST",e)},t.reqOperate=function(e,t){return s(t),l.callApi("/api/workflow/reqform/"+e,"POST",t)},t.triggerSubWf=function(e){return s(e),l.callApi("/api/workflow/reqform/triggerSubWf","POST",e)},t.getUploadFileInfo=function(e){return s(e),l.callApi("/api/workflow/reqform/getUploadFileInfo","POST",e)},t.requestImport=function(e){return s(e),l.callApi("/api/workflow/reqform/requestImport","POST",e)},t.getReqInterventionInfo=function(e){return s(e),l.callApi("/api/workflow/monitor/intervention","POST",e)},t.getInterventionUser=function(e){return s(e),l.callApi("/api/workflow/monitor/getUsers","POST",e)},t.chooseExceptionOperator=function(e){return s(e),l.callApi("/api/workflow/reqform/chooseExceptionOperator","POST",e)},t.overTimeSetting=function(e){return s(e),l.callApi("/api/workflow/reqform/overTimeSetting","POST",e)},t.requestWithDraw=function(e){return s(e),l.callApi("/api/workflow/reqform/requestWithdraw","POST",e)},t.getPrintLogBase=function(e){return s(e),l.callApi("/api/workflow/reqform/getPrintLogBase","POST",e)},t.getPrintLogData=function(e){return s(e),l.callApi("/api/workflow/reqform/getPrintLogData","POST",e)},t.freeFlowRead=function(e){return s(e),l.callApi("/api/workflow/reqform/freeFlowRead","POST",e)},t.freeFlowSave=function(e){return s(e),l.callApi("/api/workflow/reqform/freeFlowSave","POST",e)},t.editLockOper=function(e){return s(e),l.callApi("/api/workflow/reqform/editLockOper","POST",e)},t.loadPrintTemplates=function(e){return l.callApi("/api/workflow/reqform/loadPrintTemplates","POST",e)},t.generatePrintLog=function(e){return l.callApi("/api/workflow/reqform/generatePrintLog","POST",e)},t.doSupervise=function(e){return l.callApi("/api/workflow/supervise/doSupervise","POST",e)},t.getFormTab=function(e){return l.callApi("/api/workflow/reqform/getFormTab","POST",e)},t.getSelectNextFlowCondition=function(e){return l.callApi("/api/workflow/reqform/getSelectNextFlowCondition","POST",e)},t.getSelectFlowNodeInfo=function(e){return l.callApi("/api/workflow/reqform/getSelectFlowNodeInfo","POST",e)},t.getFormulasNew=function(e){return l.callApi("/api/workflow/formula/getFormulas","POST",e)},t.getExportedExcel=function(e){e=encodeURI(encodeURI(e));var t=$("<form>").attr("action",(window.ecologyContentPath||"")+"/api/workflow/formexport/formExport").attr("method","POST").attr("style","display:none"),r=$("<input>").attr("value",e).attr("name","json").attr("type","hidden"),n=$("<input>").attr("value",$("#requestid").val()).attr("name","requestid").attr("type","hidden");t.append(r).append(n),$(document.body).append(t),t.submit(),$(t).remove()},t.getExportedPDF=function(e,t){e=encodeURI(encodeURI(e).replace(/\+/g,"%2B"));var r=$("<form>").attr("action",(window.ecologyContentPath||"")+"/api/workflow/formexport/formExportPDF").attr("method","POST").attr("style","display:none"),n=$("<input>").attr("value",e).attr("name","json").attr("type","hidden"),o=$("<input>").attr("value",t).attr("name","requestid").attr("type","hidden");r.append(n).append(o),$(document.body).append(r),r.submit(),$(r).remove()},t.doTakeBack=function(e){return l.callApi("/api/workflow/reqform/doTakeBack","POST",e)},t.getCustomOperation=function(e){return s(e),l.callApi("/api/workflow/reqform/getCustomOperation","POST",e)},t.runCustomOperationAction=function(e){return s(e),l.callApi("/api/workflow/reqform/runCustomOperationAction","GET",e)},t.getSendEmailInfo=function(e){return l.callApi("/api/workflow/supervise/getSendEmailInfo","POST",e)},t.isShowShareBtn=function(){return l.callApi("/api/systeminfo/appsetting/get","GET",{})},t.getFormAttentionTag=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.src="getFormAttentionTag",l.callApi("/api/workflow/requestAttention/getAttentionTypeSet","POST",e)},t.doTakEnd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.callApi("/api/workflow/reqform/doTakEnd","POST",e)},t.checkJoin=function(){return l.callApi("/api/ec/dev/app/checkJoin","GET",{})},t.fieldLinkageCfg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.callApi("/api/workflow/reqform/riggerFieldLinkageCfg","POST",e)},t.exportFieldSet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.callApi("/api/workflow/reqform/exportFieldSet","POST",e)},t.formulaCfg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.callApi("/api/workflow/reqform/riggerFormulaCfg","POST",e)},t.loadCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.callApi("/api/workflow/reqform/getTransferCondition","POST",e)},t.getSimpleWfData=function(e){return l.callApi("/api/workflow/layout/getSimpleModeData","POST",e)},t.getOperator=function(e){return l.callApi("/api/workflow/layout/getOperator","POST",e)},t.getRuleCondition=function(e){return l.callApi("/api/workflow/layout/getRuleCondition","POST",e)},t.getForecastInfo=function(e){return l.callApi("/api/workflow/layout/getForecastInfo","POST",e)},t.getFlowChartInfo=function(e){return l.callApi("/api/workflow/layout/getFlowChartInfo","POST",e)},t.getTriggerSubWFList=function(e){return l.callApi("/api/workflow/pocseconddev/getTriggerSubWFList","POST",e)},t.getThPreviewUrl=function(e){return l.callApi("/api/workflow/reqform/getThPreviewUrl","POST",e)},t.getThImageFileId=function(e){return l.callApi("/api/odoc/odocFile/selectMouldForTemplate","POST",e)},t.getThMouldList=function(e){return l.callApi("/api/workflow/reqform/getThMouldList","POST",e)},t.getContinnuationProcessInfo=function(e){return l.callApi("/api/workflow/reqlist/continnuationProcessInfo","POST",e)},t.getDetailExpSet=function(e){return l.callApi("/api/workflow/reqform/getDetailExpSet","GET",e)},t.saveDetailExpSet=function(e){return l.callApi("/api/workflow/reqform/saveDetailExpSet","POST",e)},t.getInvoiceCloudToken=function(e){return l.callApi("/api/fna/fnaEmbileMicroReport/getInvoiceCloudToken","GET",e)},t.getFidOrEcid=function(e){return l.callApi("/api/fna/invoiceLedger/getFidOrEcid","GET",e)},t.getBrowserInfo=function(e){return l.callApi("/api/workflow/formula/assignValue","POST",e)},t.getNextNodeContent=function(e){return l.callApi("/api/workflow/reqform/getNextNodeContent","POST",e)},t.getFreeNodeBrowserItem=function(e){return l.callApi("/api/workflow/reqform/getFreeNodeBrowserItem","GET",e)},t.saveFreeNodeFormConfig=function(e){return l.callApi("/api/workflow/reqform/saveFreeNodeFormConfig","POST",e)},t.conformCheck=function(e){return s(e),l.callApi("/api/workflow/reqform/conformCheck","POST",e)}},function(e,t,r){e.exports={default:r(299),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.excelDesignFiles=t.emailFiles=t.communicationFiles=t.smsFiles=t.fnaFiles=t.hrmFiles=t.portalFiles=t.workflowFiles=t.workflowPublicFiles=t.escFiles=t.dependFiles=t.odocComsFiles=t.odocFiles=t.comMobxFiles=t.ecComFiles=t.antdFiles=void 0;var n=r(6),o=(0,n.getEcCom)(),i=o.WeaTools,a="?v="+(i&&i.ls&&i.ls.getStr("staticVersion")||0);t.antdFiles=["/cloudstore/resource/pc/com/v1/index.min.js"+a],t.ecComFiles=["/cloudstore/resource/pc/com/v1/ecCom.min.js"+a],t.comMobxFiles=["/spa/coms/index.mobx.js"+a],t.odocFiles=["/formmode/js/CryptoJS3.1.2/aes_wev8.js"+a,"/js/odoc/common/DocUtil_e9.js"+a,"/js/odoc/common/OdocRightBtn.js"+a,"/odoc/odoc/js/wps_sdk.js"+a,"/js/odoc/common/wpsJsApi.js"+a],t.odocComsFiles=["/spa/odoc/static/index.js"+a,"css!/spa/odoc/static/index.css"+a],t.dependFiles=["/spa/workflow/async/zDialog_wev8.js"+a,"/js/doc/workflow_form_doc_operation.js"+a,"/spa/hrm/eventListener.js"+a,"/social/js/drageasy/drageasy.js"+a,"/social/js/bootstrap/js/bootstrap.js"+a,"/social/im/js/IMUtil_wev8.js"+a,"/social/js/imcarousel/imcarousel.js"+a],t.escFiles=["/formmode/js/CryptoJS3.1.2/mode_ecb_wev8.js"+a,"/js/weaver_encrypt/jsencrypt_wev.js"+a,"/js/weaver_encrypt/weaver_encrypt.js"+a,"/js/weaver_encrypt/weaver_encrypt_ctrl.js"+a],t.workflowPublicFiles=["/spa/workflow/static4public/index.js"+a,"css!/spa/workflow/static4public/index.css"+a],t.workflowFiles=["/spa/workflow/static/index.js"+a,"css!/spa/workflow/static/index.css"+a],t.portalFiles=["/spa/portal/public/index.js"+a,"css!/spa/portal/public/index.css"+a,"/spa/portal/static/index.js"+a,"css!/spa/portal/static/index.css"+a],t.hrmFiles=["/spa/hrm/static4enginePublic/engine.js"+a],t.fnaFiles=["/spa/fna/fnaSpecial/index_mobx.js"+a,"/spa/fna/static/index.js"+a,"css!/spa/fna/static/index.css"+a],t.smsFiles=["/spa/smallApp/static/index.js"+a,"css!/spa/smallApp/static/index.css"+a],t.communicationFiles=["css!/blog/js/weaverImgZoom/weaverImgZoom_wev8.css"+a,"/blog/js/weaverImgZoom/weaverImgZoom_wev8.js"+a],t.emailFiles=["/spa/email/static/index.js"+a,"css!/spa/email/static/index.css"+a],t.excelDesignFiles=["/spa/workflow/excelDesign/engine.js"+a,"css!/spa/workflow/excelDesign/engine.css"+a]},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSecLevelName=exports.buildMultiUserGroupInfo=exports.spellResourceCondition=exports.calExpressionResult=exports.restoreSpeicalChar=exports.getFieldCurViewAttr=exports.convertTimeValue=exports.convertFloatValue=exports.judgeIsNumber=exports.convertNumberValue=exports.restoreSpeicalStr=exports.convertSpecialChar=exports.convertValueBeforeChangeStore=exports.managerValueObjBeforeChangeStore=exports.convertSystemFieldName=exports.getSelectShowName=exports.getRelateFieldShowName=exports.getRelateFieldValues=exports.getRelateFieldValue=exports.getDetailFieldObj=exports.getMainFieldObj=exports.getFieldObj=exports.getFieldValObj=exports.getFieldValue=exports.getFieldAttr=void 0;var _source=__webpack_require__(25),_source2=_interopRequireDefault(_source),_common=__webpack_require__(10),_=_interopRequireWildcard(_common),_mobx=__webpack_require__(9),_inputUtil=__webpack_require__(80),InputUtil=_interopRequireWildcard(_inputUtil),getFieldid=function(e){return e.indexOf("_")>-1&&(e=e.substring(0,e.indexOf("_"))),e.indexOf("field")>-1&&(e=e.substring(5)),e},getFieldAttr=exports.getFieldAttr=function(e){var t=getFieldid(e),r=null,n=_source2.default.layoutStore.fieldAttrMap;return n.has(t)&&(r=n.get(t)),r},getFieldValue=exports.getFieldValue=function(e,t,r){var n=getFieldValObj(e,t);return!0===r?n.numValue:n.value},getFieldValObj=exports.getFieldValObj=function(e,t){var r=_source2.default.layoutStore.fieldAttrMap;if(!r.has(e.toString()))return window.console,null;var n=r.get(e.toString()).tableMark,o=-1===n.indexOf("detail")?"field"+e:"field"+e+"_"+t;return getFieldObj(o,n)},getFieldObj=exports.getFieldObj=function(e,t){return t?-1===t.indexOf("detail")?getMainFieldObj(e):getDetailFieldObj(e,t):null},getMainFieldObj=exports.getMainFieldObj=function(e){var t=_source2.default.layoutStore.mainData;return t.has(e)?t.get(e):new _source2.default.FieldEntity},getDetailFieldObj=exports.getDetailFieldObj=function(e,t){var r=_source2.default.layoutStore.detailMap,n=r.get(t),o=n.detailData;return o.has(e)?o.get(e):new _source2.default.FieldEntity},getRelateFieldValue=exports.getRelateFieldValue=function(e,t){return getRelateFieldValues([e],t)[e]||""},getRelateFieldValues=exports.getRelateFieldValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r={},n=_source2.default.layoutStore,o=n.mainData,i=n.detailMap,a=n.fieldAttrMap;return e.map(function(e){var n="";if(a.has(e.toString())){var l=a.get(e.toString()).tableMark;if("main"===l)n=o.has("field"+e)?o.get("field"+e).value:"";else if(l.indexOf("detail_")>-1){var s=i.get(l),u=s.detailData;n=u.has("field"+e+"_"+t)?u.get("field"+e+"_"+t).value:""}}r[e]=n.toString()}),r},getRelateFieldShowName=exports.getRelateFieldShowName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=_source2.default.layoutStore.fieldAttrMap,n={};return e.forEach(function(e){var o=e.split("_")[0],i=r.has(o)?(0,_mobx.toJS)(r.get(o)):{};if(5===i.htmltype){var a=i.isDetail?"field"+o+"_"+t:"field"+o;n[a+"_span"]=getSelectShowName(a,",")}}),n},getSelectShowName=exports.getSelectShowName=function(e,t){if(-1===e.indexOf("field"))return"";"undefined"!==typeof t&&""!==t||(t=",");var r="",n=_source2.default.layoutStore.fieldAttrMap,o=e.indexOf("_"),i=o>-1?e.substring(5,o):e.substring(5),a=o>-1?e.substring(o+1):-1,l=getFieldValue(i,a),s=n.has(i)?(0,_mobx.toJS)(n.get(i)):{};if(-10==i&&""!=l){var u=l.split(",");u=u.filter(function(e){return""!==e});var c=_source2.default.globalStore.secLevelInfo,f=void 0===c?{}:c,d=f.secLevelOption;(void 0===d?[]:d).map(function(e){""!==e.key&&_.indexOf(u,e.key)>-1&&(""!==r&&(r+=t),r+=e.showname)})}else if(""!==l&&5===s.htmltype&&s.selectattr){var p=s.selectattr.selectitemlist||[],h=l.split(",");h=h.filter(function(e){return""!==e}),p.map(function(e){""!==e.selectvalue&&_.indexOf(h,e.selectvalue+"")>-1&&(""!==r&&(r+=t),r+=e.selectname)})}return r},convertSystemFieldName=exports.convertSystemFieldName=function(e){switch(e){case"field-1":return"requestname";case"field-2":return"requestlevel";case"field-3":return"messageType";case"field-5":return"chatsType";default:return e}},managerValueObjBeforeChangeStore=exports.managerValueObjBeforeChangeStore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(!_.isEmpty(t)){var r=t.htmltype,n=t.detailtype;if(3===r&&161===n){var o=(e.value,e.specialobj);if(o&&o.length>1){var i=o.splice(0,1);e.specialobj=i,e.value=i[0].id}}}},convertValueBeforeChangeStore=exports.convertValueBeforeChangeStore=function(e,t){if(_.isEmpty(t))return e;if(t.encryptFlag>0)return e;var r=t.htmltype,n=t.detailtype,o=e;if(1===r)o=1===n?convertSpecialChar(o):convertNumberValue(o,t);else if(2===r&&1===n)o=convertSpecialChar(o);else if(3===r&&2===n){var i=/^\d{4}-\d{1,2}-\d{1,2}$/;o&&!i.test(o)&&(o="")}else if(3===r&&402===n){var a=/^\d{4}$/;o&&!a.test(o)&&(o="")}else if(3===r&&403===n){var l=/^\d{4}-\d{1,2}$/;o&&!l.test(o)&&(o="")}else if(3===r&&19===n){var s=/^\d{1,2}:\d{1,2}(:\d{1,2})?$/;o&&!s.test(o)&&(o="")}else 4===r&&(!o||"0"!==o.toString()&&"1"!==o.toString())&&(o="0");return o},convertSpecialChar=exports.convertSpecialChar=function(e){return e=e.toString(),e=e.replace(/<br>|<br( )?\/>/gi,"\n"),e=e.replace(/&nbsp;/gi," "),e=e.replace(/&lt;/gi,"<"),e=e.replace(/&gt;/gi,">"),e=e.replace(/&quot;/gi,'"'),e=e.replace(/&amp;/gi,"&")},restoreSpeicalStr=exports.restoreSpeicalStr=function(e){return e=e.toString(),e=e.replace(/&/gi,"&amp;"),e=e.replace(/</gi,"&lt;"),e=e.replace(/>/gi,"&gt;"),e=e.replace(/\n/gi,"<br>"),e=e.replace(/( {2,})/gi,function(e){return" "+e.substring(1).replace(/ /gi,"&nbsp;")})," "===e.charAt(0)&&(e="&nbsp;"+e.substring(1)),e=e.replace(/\"/gi,"&quot;")},convertNumberValue=exports.convertNumberValue=function(e,t){if(null===e||"undefined"===typeof e)return"";var r=5===t.detailtype;return r&&(e=e.toString().replace(/,/g,"")),judgeIsNumber(e)?convertFloatValue(e,t.qfws,r):""},judgeIsNumber=exports.judgeIsNumber=InputUtil.judgeIsNumber,convertFloatValue=exports.convertFloatValue=InputUtil.convertFloatValue,convertTimeValue=exports.convertTimeValue=function(e){var t=/^\d{1,2}:\d{1,2}(:\d{1,2})?$/;if(e&&t.test(e)){var r=e.split(":");1===r[0].length&&(r[0]="0"+r[0]),1===r[1].length&&(r[1]="0"+r[1]),r.length>2&&1===r[2].length&&(r[2]="0"+r[2]),e=r[0]+":"+r[1],r.length>2&&(e+=":"+r[2])}else e="";return e},getFieldCurViewAttr=exports.getFieldCurViewAttr=function(e,t){var r=getFieldAttr(e);if(null==r)return 0;var n=_source2.default.layoutStore,o=n.cellInfo,i=(n.mainData,n.detailMap),a=r.tableMark;t||(t=getFieldObj(e,a));var l=t,s=l.variable,u=getFieldid(e),c=parseInt(r.viewattr)||0;if(0===c&&_.has(o,["fieldCellInfo",u])&&(c=1),1===r.isonlyshow&&(c=1),s.has("viewAttr")){var f=parseInt(s.get("viewAttr"))||0;1!==f&&2!==f&&3!==f||(c=f)}if(2===c||3===c){var d=_source2.default.globalStore.commonParam;if((1===parseInt(d.isviewonly||0)||1===parseInt(d.isaffirmance||0)&&"9-1"!=t.fieldType)&&(c=1),a.indexOf("detail_")>-1){var p=i.get(a),h=p.attr,m=(p.detailData,p.rowInfo),v=parseInt(e.substring(e.indexOf("_")+1));if(isNaN(v))return-101;var g=m.get("row_"+v),b=g.get("keyid")||0;1!==h.isedit&&b>0&&(c=1)}}return c},restoreSpeicalChar=exports.restoreSpeicalChar=function(e,t,r,n,o){if(1===o&&(1===r&&1===n||2===r&&1===n)){if((1===r||2===r)&&1===n){var i=_source2.default.globalStore.commonParam.isbill,a=_source2.default.layoutStore.propFileCfg,l="field"+e+"_"+i;if((a.support_html_textarea_field||"").indexOf(l)>-1)return t=t.replace(/\n/gi,"<br>")}t=restoreSpeicalStr(t),t=t.replace(/&amp;#160;/g,"&nbsp;")}return t},calExpressionResult=exports.calExpressionResult=function calExpressionResult(expression){var propFileCfg=_source2.default.layoutStore.propFileCfg,open_server_eval=!1,result="";try{if(window.___Calculate&&!expression.includes("Math")){var calculate=new window.___Calculate;result=calculate.calculateResult(expression)}else result=eval(expression)}catch(e){window.console}return result.toString()},spellResourceCondition=exports.spellResourceCondition=function(e){if(e){var t=[];return e.map(function(e,r){var n="";if(e.seclevel){var o=e.seclevel.match(/[-]/g).length;if(1==o)n=e.seclevel.replace("-","|@|");else if(2==o)if(0==e.seclevel.indexOf("-"))n=e.seclevel.replace(/-/g,"|@|"),n=n.replace("|@|","-");else{var i=e.seclevel.split("-");n=i[0]+"|@|-"+i[2]}else if(3==o){var a=e.seclevel.split("-");n="-"+a[1]+"|@|-"+a[3]}}"1"==e.sharetype?e.canDownload?t.push("1_"+e.relatedshare+"_0_0_"+("是"==e.canDownload?1:0)):t.push("1_"+e.relatedshare+"_0_0_1"):"2"==e.sharetype||"3"==e.sharetype?e.canDownload?t.push(e.sharetype+"_"+e.relatedshare+"_0_"+n+"_"+("是"==e.canDownload?1:0)):t.push(e.sharetype+"_"+e.relatedshare+"_0_"+n+"_1"):"4"==e.sharetype?e.canDownload?t.push("4_"+e.relatedshare+"_"+e.rolelevel+"_"+n+"_"+("是"==e.canDownload?1:0)):t.push("4_"+e.relatedshare+"_"+e.rolelevel+"_"+n+"_1"):"5"==e.sharetype?e.canDownload?t.push("5_0_0_"+n+"_"+("是"==e.canDownload?1:0)):t.push("5_0_0_"+n+"_1"):"6"==e.sharetype&&("2"==e.joblevel?e.canDownload?t.push("6_"+e.relatedshare+"_0_2|@|2_"+("是"==e.canDownload?1:0)):t.push("6_"+e.relatedshare+"_0_2|@|2_1"):e.canDownload?t.push("6_"+e.relatedshare+"_0_"+e.joblevel+"|@|"+e.jobfield+"_"+("是"==e.canDownload?1:0)):t.push("6_"+e.relatedshare+"_0_"+e.joblevel+"|@|"+e.jobfield+"_1"))}),t.join("~")}return""},buildMultiUserGroupInfo=exports.buildMultiUserGroupInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,r=e.specialobj||[],n={subcom:2,dept:3,group:4,virtual_subcom:5,virtual_dept:7,all:9},o={},i=0;return r&&r.map(function(e,r){var a=e.type,l=e.id||0;if("subcom"==a||"dept"==a||"group"==a){var s=e.users,u=[];s&&s.map(function(e){u.push(e.id)}),o["group_"+i]=n[a]+"|"+l+"|"+u.join(","),i++}else"all"==a&&(o["group_"+i]=n[a]+"|"+l+"|"+t,i++)}),o.groupnum=i,o},getSecLevelName=exports.getSecLevelName=function(e){var t=_source2.default.globalStore.secLevelInfo,r=void 0===t?{}:t,n="";return r.secLevelOption&&r.secLevelOption.map(function(t){t.key===e&&(n=t.showname)}),n}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement("div",null)}}]),t}(m.default.Component);t.default=v},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(20),o=r(13),i=r(36),a=r(42),l=r(41),s=function(e,t,r){var u,c,f,d=e&s.F,p=e&s.G,h=e&s.S,m=e&s.P,v=e&s.B,g=e&s.W,b=p?o:o[t]||(o[t]={}),y=b.prototype,w=p?n:h?n[t]:(n[t]||{}).prototype;p&&(r=t);for(u in r)(c=!d&&w&&void 0!==w[u])&&l(b,u)||(f=c?w[u]:r[u],b[u]=p&&"function"!=typeof w[u]?r[u]:v&&c?i(f,n):g&&w[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((b.virtual||(b.virtual={}))[u]=f,e&s.R&&y&&!y[u]&&a(y,u,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,r){e.exports=!r(37)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.controlSlidePrompt=t.calculateDetailAreaStyle=t.judgeLockedBtnRow=t.controlDetailPosition=t.syncLockedRowHeight=t.syncLockedForDidMount=t.syncDetailScrollXPosition=t.syncFixedHeadWidth=t.fixedDetailHead=t.judgeDetailContainSum=t.delAssignRow=t.copyRow=t.copyDetailRow=t.addRow=t.setAllRowChecked=t.setRowChecked=t.getDetailCheckedRowArr=t.judgeIsCardEdit=t.getDetailObj=void 0;var o=r(25),i=n(o),a=r(10),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),s=r(39),u=n(s),c=r(29),f=window.jQuery,d=t.getDetailObj=function(e){var t=i.default.layoutStore.detailMap;return t.has(e)?t.get(e):(window.console,null)},p=(t.judgeIsCardEdit=function(e){return!(e&&e.attr&&0===e.attr.mobilecardedit)},t.getDetailCheckedRowArr=function(e){var t=[];return e.rowInfo.forEach(function(e,r){e.get("checked")&&t.push(r.substring(4))}),t}),h=(t.setRowChecked=function(e,t,r){var n=d(e);n&&n.controlRowChecked(t.toString(),r)},t.setAllRowChecked=function(e,t){var r=d(e);r&&r.controlRowChecked(r.currentPageRowIndexStr,t)},t.addRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=d(e);if(null!==a){var s=parseInt(e.substring(7));return(0,c.verifyCustomRegisterEvent)(u.default.OPER_ADDROW+s,function(){var c=parseInt(a.indexnum);if(a.add_Row(t,r,n),l.isEmpty(o))i.default.layoutStore.triggerAllLinkage(3,e,"",c);else if(!o.forbidLinkage){var f=o.rowIndexStr||"";f&&","!==f.substring(f.length-1)&&(f+=","),f+=c,i.default.layoutStore.triggerAllLinkage(3,e,"",f)}return u.default.triggerAction(u.default.ACTION_ADDROW+s,[c],100),window.setTimeout(function(){v(s-1)},50),c})}}),m=(t.copyDetailRow=function(e){var t=d(e);if(null!==t){var r=p(t);0!==r.length&&m(e,r)}},t.copyRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=d(e);if(0!==t.length&&null!==r){t.sort(function(e,t){return e-t});var n=r.rowInfo,o=r.fieldInfo,i=r.detailData;t.map(function(t){if(parseInt(t)<0||!n.has("row_"+t))return!0;var r={};l.forIn(o,function(e,n){i.has("field"+n+"_"+t)&&6!==e.htmltype&&0===e.encryptFlag&&(r["field"+n]=i.get("field"+n+"_"+t).valueObj)}),h(e,r,!1,!0)})}}),v=(t.delAssignRow=function(e,t){var r=d(e);if(null!==r){var n=parseInt(e.substring(7));return(0,c.verifyCustomRegisterEvent)(u.default.OPER_DELROW+n,function(){r.del_Row(t),i.default.layoutStore.triggerAllLinkage(4,e,"",t.join(",")),u.default.triggerAction(u.default.ACTION_DELROW+n,[t],50)})}},t.judgeDetailContainSum=function(e){var t=!1,r=i.default.layoutStore,n=r.detailMap,o=r.cellInfo,a=r.linkageCfg,s=n.get(e);return l.forIn(s.fieldInfo,function(e,r){if(e.viewattr>0&&l.has(o,["fieldCellInfo",r])&&l.has(a,["colCalCfg",r]))return t=!0,!1}),t},t.fixedDetailHead=function(){var e=f(i.default.isMobile?".wf-req-content":".wf-req-form-scroll"),t=e.offset().top;e.find(".excelDetailTableDiv").each(function(){var e=f(this).attr("data-groupid"),r=f(this).find("[class^=excelDetailFixedHead]"),n=f("#oTable"+e),o=f(this).parent().find(".wf-detail-locked-btnrow"),i=o.length>0,a=n.height(),l=function(){i&&o.removeClass("wf-detail-locked-btnrow-fixed"),r.hide()};if(a<300)return l(),!0;var s=n.offset().top,u=r.height(),c=0;i&&(c=o.height(),a+=c,u+=c);s<t&&s+a>=u+t?function(){i&&(o.addClass("wf-detail-locked-btnrow-fixed"),o.find(".wf-detail-locked-btnrow-content").css("top",t)),r.css("top",t+c).show(),v(e),g(e)}():l()})},t.syncFixedHeadWidth=function(e){try{var t=f("#oTable"+e),r=f("#oTable"+e+"_head"),n=r.parent();if(!n.is(":hidden")){r.width(t.width());var o=r.find("tr.detailControlWidth");t.find("tr.detailControlWidth").children().each(function(e){o.find("td:eq("+e+")").css("width",f(this).width()+"px")}),n.css("width",n.parent().width())}}catch(e){}}),g=t.syncDetailScrollXPosition=function(e){try{var t=window.jQuery("#dTableArea_"+e);t.find(".excelDetailFixedHead").scrollLeft(t.find(".excelDetailContent").scrollLeft())}catch(e){}},b=t.syncLockedForDidMount=function(e){var t=function(){var t=f("#dTableArea_"+e);if("true"===t.attr("data-supportlockedcol")){var r=t.find("table#oTable"+e),n=t.find("table#oTable"+e+"_head"),o=t.find("table#oTable"+e+"_locked"),i=t.find("table#oTable"+e+"_head_locked");if(1===r.length&&1===o.length){var a=o.find(".detailControlWidth").children().length,l=0;r.find(".detailControlWidth").children().each(function(e){e<a&&!f(this).hasClass("detail_hide_col")&&(l+=f(this).width())}),Math.abs(r.height()-o.height())<=3&&Math.abs(o.width()-l)<=3||(o.find("tr[data-rowkey]").each(function(){var e=f(this).attr("data-rowkey"),t=o.find("tr[data-rowkey="+e+"]"),a=r.find("tr[data-rowkey="+e+"]");if(1===t.length&&1===a.length){var l=a.height()>=t.height()?a.height():t.height();t.add(a).css("height",l),n.add(i).find("tr[data-rowkey="+e+"]").css("height",l)}}),Math.abs(o.width()-l)>3&&(t.find("table#oTable"+e+"_head_locked").width(l),o.width(l)))}}},r=(new Date).getTime(),n=window.setInterval(function(){try{t();(new Date).getTime()-r>1e4&&window.clearInterval(n)}catch(e){}},200)},y={},w=(t.syncLockedRowHeight=function(e,t){var r=i.default.layoutStore.fieldAttrMap;if(!(t<0)&&r.has(e)){var n=r.get(e),o=n.tableMark,a=n.htmltype,l=n.detailtype;if(!(-1===o.indexOf("detail_")||1===a&&l>1||4===a)){var s=parseInt(o.substring(7))-1,u="field"+e+"_"+t,c=f("div#dTableArea_"+s),d=c&&c.find("[data-fieldmark="+u+"]");if(0!==d.length){var p=d.closest("tr"),h=p.attr("data-rowkey"),m=d.closest("tr").attr("data-rowheight");if(h&&m){var v=c.find(".excelDetailContent_locked").find("tr[data-rowkey="+h+"]"),g=c.find(".excelDetailContent").find("tr[data-rowkey="+h+"]");if(1===v.length&&1===g.length){var b=v.add(g),w=g.height()>=v.height()?g.height():v.height();b.css("height",w);var _=o+"_"+h;if(!y[_])var S=(new Date).getTime(),E=window.setInterval(function(){y[_]="1";var e=function(){window.clearInterval(E),y[_]=""},t=0;b.children().each(function(){var e=f(this).children(":first")&&f(this).children(":first").height()||0;e>t&&(t=e)}),Math.abs(w-t)>4&&(b.css("height",t+4),e()),(new Date).getTime()-S>3e3&&e()},200)}}}}}},t.controlDetailPosition=function(e){var t=f(i.default.isMobile?".wf-req-content":".wf-req-form-scroll"),r=f("#oTable"+e),n=r.offset().top,o=t.scrollTop(),a=t.offset().top+10,l=n+o-a;l>0&&t.scrollTop(l)},t.judgeLockedBtnRow=function(e,t){var r=i.default.layoutStore.propFileCfg,n=t.seniorset,o=void 0===n?"0":n,a=t.edtitleinrow,l=t.edlockedcol,s=void 0===l?"":l,u=t.ec,c=i.default.isMobile||isNaN(parseInt(s))?-1:parseInt(s);if(!e||"1"!==r.detail_locked_button_row||parseInt(a)<=1||1!==parseInt(o))return!1;var f=!1,d=!1;return u.forEach(function(e){var t=e.id,r=e.rowspan,n=void 0===r?"1":r,o=e.etype,i=void 0===o?"1":o,a=parseInt(t.split(",")[0]),l=parseInt(t.split(",")[1]);0===a&&("10"===i&&l>c&&(f=!0),""===i||"0"===i||"1"===i||"10"===i?parseInt(n)>1&&(d=!0):d=!0)}),f&&!d},function(e){var t=i.default.layoutStore.dataJson,r=t.etables[e]||{};return parseInt(r.edlockedcol||-1)});t.calculateDetailAreaStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),t=i.default.layoutStore.detailMap;e.find(".wf-detail").each(function(){if(!f(this).is(":visible"))return!0;var e=f(this).find(".excelDetailTableDiv"),r=parseInt(e.attr("data-groupid")),n=e.width(),o=e.find("#oTable"+r).width(),a=e.find("#oTable"+r+"_locked")&&e.find("#oTable"+r+"_locked").width()||0,l="detail_"+(r+1),s=t.get(l);if(n>=o)s.controlVariableMap("forceDisabledScrollX",!0);else if(n+(i.default.isMobile?-60:10)<=a){var u=i.default.getLabel(525843,"明细表$dt设置了前$col列为锁定列，但前$col列列宽总和已超过明细表可视区域宽度，锁定列自动失效");u=u.replace(/\$dt/i,r+1).replace(/\$col/g,w(l)),window.WfForm.showMessage(u,1,4),s.controlVariableMap("forceDisabledLocked",!0)}var c=f(this).find(".wf-detail-locked-btnrow");if(c.length>0){var d=c.height(),p=c.parent().width();c.find(".wf-detail-locked-btnrow-content").width(p),c.find(".wf-detail-locked-btnrow-placeholder").height(d)}b(r)})},t.controlSlidePrompt=function(){var e=f(".wf-req-content"),t=e.offset().top+e.height(),r=i.default.layoutStore.detailMap;f(".wf-req-content").find(".excelDetailTableDiv").each(function(){if("true"!==f(this).attr("data-supportlockedcol"))return!0;var e=parseInt(f(this).attr("data-groupid")),n=f(this).find("#oTable"+e+"_locked"),o=r.get("detail_"+(e+1)),i=o.variableMap;if(!(1!==n.length||i.has("slideprompt_show")||n.offset().top+30>t)){var a=n.find("tr[data-rowKey^=headRow]").last(),l=a.offset().top+a.height()/2-n.offset().top,s=n.width()-2;o.batchControlVariableMap({slideprompt_show:!0,slideprompt_top:l,slideprompt_left:s}),window.setTimeout(function(){o.batchControlVariableMap({slideprompt_show:!1})},2e3)}})}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={isMobile:!1,globalStore:{},layoutStore:{},FieldEntity:null,API_REQ:null,getLabel:null,setIsMobile:function(e){this.isMobile=e},init:function(e,t,r,n,o){this.globalStore=e,this.layoutStore=t,this.FieldEntity=r,this.API_REQ=n,this.getLabel=o}};t.default=n},function(e,t,r){e.exports={default:r(465),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FORM_MODIFY_LOG="form_modify_log",t.IMPORT_WF_DETAIL_MODAL="importWfDetailModal",t.CHOOSE_EXCEPTION_OPERATOR="choose_exception_operator",t.REJECT_CHOOSE="reject_choose",t.OVERTIME_SETTING="overtime_setting",t.HRM_EMPLOYEE_SETTING="HrmEmployeeSetting",t.PRINT_LOG="print_log",t.SEND_SMS="send_sms",t.SEND_SMS_PARAMS="send_sms_params",t.FREEFLOW_SETTING="freeflow_setting",t.DO_SUPERVISE="do_supervise",t.FORWARD_BACK="forward_back",t.SELECT_NEXTFLOW="select_nextflow",t.SELECT_NEXTFLOW_NODEINFO="select_nextflow_nodeinfo",t.SHARE_WORKFLOW="share_workflow",t.HANDLE_REMIND="handle_remind",t.NEED_SHOW_CHART="need_show_chart",t.SUBMIT_TYPE="submit_type",t.LOCATION_MAP="location_map",t.SEND_MAIL="send_mail",t.SEND_MAIL_PARAMS="send_mail_params",t.FREE_FLOW_SET="free_flow_set",t.FREE_WORKFLOW_SIMPLE="free_workflow_simple",t.ENSURE_SUBMIT="ensure_submit",t.WORKFLOW_WITHDRAW="workflow_withdraw",t.FREE_FLOW_CHANGEFORM="free_flow_changeform",t.FREE_FLOW_CHANGESTYLE="free_flow_changestyle",t.CONFORM_RULE="conform_rule"},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUpdateReqInfoFieldValue=exports.getWaterMarkFieldShowName=exports.loadCaculateResource=exports.handWritingHander=exports.imageStyleHander=exports.executeRightBtnClick=exports.verifyCustomRegisterEvent=exports.judgeExistXScrollDetail=exports.loadCssFileContent=exports.manageCssFilePollute=exports.manageScriptContent=exports.loadInjectDevFiles=exports.loadFormulaResource=exports.loadCustomFiles=exports.generateScriptPromiseList=exports.generateCustomPageList=exports.importantParamRange=exports.baseParamRange=exports.commonApiParamRange=exports.commonParamRange=void 0;var _keys=__webpack_require__(26),_keys2=_interopRequireDefault(_keys),_typeof2=__webpack_require__(35),_typeof3=_interopRequireDefault(_typeof2),_promise=__webpack_require__(94),_promise2=_interopRequireDefault(_promise),_extends2=__webpack_require__(7),_extends3=_interopRequireDefault(_extends2),_map=__webpack_require__(238),_map2=_interopRequireDefault(_map),_source=__webpack_require__(25),_source2=_interopRequireDefault(_source),_loadjs=__webpack_require__(81),_loadjs2=_interopRequireDefault(_loadjs),_common=__webpack_require__(10),_=_interopRequireWildcard(_common),_FormulaNew=__webpack_require__(244),_interface=__webpack_require__(39),_interface2=_interopRequireDefault(_interface),_mobx=__webpack_require__(9),_fieldUtil=__webpack_require__(18),FieldUtil=_interopRequireWildcard(_fieldUtil),commonParamRange=exports.commonParamRange=["verifyRight","requestid","workflowid","nodeid","formid","isbill","f_weaver_belongto_userid","f_weaver_belongto_usertype","authStr","authSignatureStr","signatureSecretKey","signatureAttributesStr","titlename","workflowname","currentnodetype","nodetype","nodename","iscreate","isviewonly","isaffirmance","isshared","iswfshare","ismode","modeid","isagent","beagenter","creater","creatertype","requestType","isSelfAuth","isprint","wfmonitor","isrequest","desrequestid","custompage","docViewUrl","fileViewUrl","layouttype","layoutversion","isFree","isFreeCustomeForm","isHideArea","isHideInput","intervenorright","isWorkflowDoc","flowDocFieldId","needconfirm","currentnodeid","isurger","newdocpath","belongTest","wfTestStr","billIncludePage","margin","printLogListFlag","helpdocid","isremark","takisremark","isOpenCommunication","hasNewCommunication","showDefaultSign","showDefaultLogList","agentType","agentorByAgentId","selectNextFlow","hasFreeNode","freeNodeExtendNodeId","isNeedFlowFreeNodeTips","canSubmitToRejectNode","billIncludePage4mobile","address","position","showLayoutSwitch","layoutAnalysisType","mobileSupportViewFileType","waterMarkInfo","apiResultCacheKey","selectNextFlowPattern","showFreeWfSimpleCom","existSynergy","languageid","lastname","msgSubmitFormAction","appDetachDisableAll","allowAllPersonGroup","btnLabelName","openAutoForecast","showAutoForecastResult","iscowork","coworkid","needReloadList","currentNodeAttribute","useInvoiceCloud","requestnamenew","requestname","linkageUUID","freeStartNodeid","showAI","openNodeCheck","wfFormFieldChangeCfg","openDataVerify","currentUserid"],commonApiParamRange=exports.commonApiParamRange=["requestid","workflowid","nodeid","formid","isbill","f_weaver_belongto_userid","f_weaver_belongto_usertype","authStr","authSignatureStr","signatureSecretKey","signatureAttributesStr","nodetype","iscreate","isfromtab","isviewonly","isaffirmance","isshared","iswfshare","ismode","modeid","isagent","beagenter","toexcel","creater","needconfirm","creatertype","requestType","isSelfAuth","isprint","wfmonitor","isurger","intervenorright","isSubmitDirect","selectNextFlow","agentType","agentorByAgentId","layouttype","freeNodeExtendNodeId","apiResultCacheKey"],baseParamRange=exports.baseParamRange=["requestid","workflowid","nodeid","formid","isbill","f_weaver_belongto_userid","f_weaver_belongto_usertype","languageid"],importantParamRange=exports.importantParamRange=["requestid","workflowid","nodeid","formid","isbill","f_weaver_belongto_userid","f_weaver_belongto_usertype","src","remark","authStr","iscreate","authSignatureStr","signatureSecretKey","signatureAttributesStr"],generateCustomPageList=exports.generateCustomPageList=function(){var e=_source2.default.globalStore.commonParam,t=e.billIncludePage,r=void 0===t?"":t,n=e.custompage,o=n.jspPage||[];o.push(r);var i=new _map2.default;return o=o.filter(function(e){return""!==e&&!i.has(e)&&i.set(e,!0)})},generateScriptPromiseList=exports.generateScriptPromiseList=function(){loadInjectDevFiles();var e=_source2.default.API_REQ,t=_source2.default.globalStore,r=(_source2.default.layoutStore,t.isSourceLayout),n=t.urlParams,o=t.commonParam,i=t.commonApiParam,a=(0,_extends3.default)({},n,i),l=generateCustomPageList();window.console;var s=[];return l&&l.forEach(function(t){s.push(e.loadCustompage(t,a))}),r?s.push(new _promise2.default(function(e){e("")})):s.push(e.loadScriptContent({layoutid:o.modeid})),s},loadCustomFiles=exports.loadCustomFiles=function(e){var t=_source2.default.globalStore.commonParam,r=t.custompage,n="css"===e?r.cssPage:"js"===e?r.jsPage:[];(0,_loadjs2.default)(n||[],{success:function(){window.console}})},loadFormulaResource=exports.loadFormulaResource=function(){var e=_source2.default.layoutStore.linkageCfg,t=e.formulaCfg||{},r=t.files,n=void 0===r?[]:r,o=function(){(0,_FormulaNew.registerFormula)()};_loadjs2.default.isDefined("formula")?_loadjs2.default.ready("formula",o):(0,_loadjs2.default)(n,"formula",o)},loadInjectDevFiles=exports.loadInjectDevFiles=function(){var e=_source2.default.globalStore.commonApiParam;_source2.default.API_REQ.loadInjectDevFile((0,_extends3.default)({},e)).then(function(e){var t=e.files;if(t&&t.length>0){var r=function(){window.console};_loadjs2.default.isDefined("customDev")?_loadjs2.default.ready("customDev",r):(0,_loadjs2.default)(t,"customDev",r)}})},manageScriptContent=exports.manageScriptContent=function(e){if(!e)return"";var t=_source2.default.layoutStore.propFileCfg,r=t&&"1"==t.script_debug,n=new RegExp("<script .*?id=.*?><\/script>|<script .*?id=.*?/>","ig"),o=e.match(n),i="";o&&o.map(function(e){i+=e.replace(new RegExp("(<|/)script","ig"),"$1span")}),e=e.replace(/document.write/g,'jQuery("#scriptArea").append'),e=e.replace(/<(\/?)(html|body|head)>/gi,"");var a=["/wui/common/jquery/plugin/Listener_wev8.js","/js/workflow/VCEventHandle_wev8.js"];if(r){e=e.replace(new RegExp("\x3c!--[\\s\\S]*?script[\\s\\S]*?--\x3e","ig"),"");var l=new RegExp("<script.*? src=.*?(><\/script>|/>)","ig"),s=new RegExp(" src *?= *?[\"|'](.*?)[\"|']","i"),u=e.match(l),c=[];u&&u.forEach(function(t){var r=t.match(s);if(r&&r.length>=2){var n=r[1];e=e.replace(t,""),_.includes(a,n)||c.push(n)}});var f=function(){var t=new RegExp("<script.*?>([\\s\\S]*?)<\/script>","ig"),r=e.match(t);r&&r.forEach(function(r){e=e.replace(r,"");var n=r.replace(t,"$1"),o=document.getElementsByTagName("HEAD").item(0),i=document.createElement("script");i.language="javascript",i.type="text/javascript",i.id="custom_script_"+(new Date).getTime(),i.defer=!0,i.text=n,o.appendChild(i)})};c.length>0?(0,_loadjs2.default)(c,{success:function(){f()},error:function(){window.console.error,f()}}):f()}else a.forEach(function(t){e=e.replace(new RegExp("<script .*?"+t+".*?><\/script>|<script .*?"+t+".*?/>","ig"),"")});return e+i},manageCssFilePollute=exports.manageCssFilePollute=function(e,t){if(!e||!t)return e;var r=new RegExp("<link .*?href=(.*?\\.css).*?></link>|<link .*?href=(.*?\\.css).*?/>","ig"),n=[],o=e.match(r);return o&&o.length>0&&(e=e.replace(r,""),o.map(function(e){r.test(e);var t=RegExp.$1||RegExp.$2||"";""!==t&&(t=t.replace(new RegExp("\"|'","ig"),""),n.push(t))})),loadCssFileContent(n,t),e},loadCssFileContent=exports.loadCssFileContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];e&&e.map(function(e){var r=e,n=window.ecologyContentPath||"";""!==n&&r.startsWith("/workflow/exceldesign/css")&&(r=""+n+r),_source2.default.API_REQ.loadHrefTextContent(r,{v:(new Date).getTime()}).then(function(e){e=e.replace(new RegExp("/\\*[\\s\\S]*?\\*/","ig"),""),e=e.replace(new RegExp("}([\\s\\S]*?){","ig"),"}\n."+t+" $1{"),e="<style>."+t+" "+e+"</style>",window.jQuery("body").append(e)})})},judgeExistXScrollDetail=exports.judgeExistXScrollDetail=function(){var e=!1,t=_source2.default.layoutStore.tableInfo;return _.forIn(t,function(t,r){if(r.indexOf("detail")>-1){var n=t.detailtableattr,o=n.allowscroll,i=n.mobileallowscroll;if(!_source2.default.isMobile&&1===o||_source2.default.isMobile&&1===i)return e=!0,!1}}),e},verifyCustomRegisterEvent=exports.verifyCustomRegisterEvent=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],o=null,i=convertOpertype(e),a=null===i?new Array:_interface2.default.eventList[i];if(n&&(a=n[i]),"object"===("undefined"===typeof a?"undefined":(0,_typeof3.default)(a))&&a.length>0){var l=0;!function e(){l<a.length?a[l++](function(){e()},r):o=t()}()}else o=t();return o},convertOpertype=function(e){if("string"===typeof e)return e;var t=e.actiontype,r=e.src;if("1"==e.isaffirmance&&"reject"!=e.isaffirmanceSrc)return"requestOperation"===t&&"save"===r?_interface2.default.OPER_SUBMITCONFIRM:null;if("remarkOperation"===t&&"save"===r)return _interface2.default.OPER_REMARK;if("requestOperation"===t){if("reject"===r||"save"===r&&"reject"===e.isaffirmanceSrc)return _interface2.default.OPER_REJECT;if("submit"===r)return _interface2.default.OPER_SUBMIT;if("intervenor"===r)return _interface2.default.OPER_INTERVENE;if("save"===r)return _interface2.default.OPER_SAVE}return null},executeRightBtnClick=exports.executeRightBtnClick=function executeRightBtnClick(){var item=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},rightBtn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},clickFn=function clickFn(){var _toJS=(0,_mobx.toJS)(item),type=_toJS.type,menuFun=_toJS.menuFun,_toJS$funParams=_toJS.funParams,funParams=void 0===_toJS$funParams?{}:_toJS$funParams,fn=menuFun.indexOf("this")>=0?menuFun.split("this")[0]+")":menuFun,fnName=fn.substring(0,fn.indexOf("("));type&&type.indexOf("BTN_CUSTOMIZE")>-1?eval(fn):execOperateFun(fnName,funParams,rightBtn)};verifyCustomRegisterEvent(_interface2.default.OPER_BEFORECLICKBTN,clickFn,(0,_mobx.toJS)(item))},execOperateFun=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("function"==typeof r[e])if("doSubmit_Pre"===e){var n=t.src,o=void 0===n?"submit":n;r[e](o)}else if("doSubmitDirect"===e){var i=t.subfun;r[e](i)}else if("aboutVersion"===e){var a=t.versionid;r[e](a)}else if("triSubwf2"===e){var l=t.subwfid,s=t.workflowNames,u=t.requestType;r[e](l,s,u)}else if("onCustomOpt"===e){var c=t.reqid,f=t.wfid,d=t.menuid,p=t.nodeid;r[e](c,f,d,p)}else if("onNewRequest"===e){var h=t.workflowid,m=t.requestid,v=t.agent;r[e](h,m,v)}else if("onNewRequest2"===e){var g=t.workflowid,b=t.requestid,y=t.nodeId,w=t.menuId,_=t.requestType;r[e](g,b,y,w,_)}else if("onNewSms"===e){var S=t.wfid,E=t.nodeid,I=t.reqid,k=t.menuid,C=t.isurger;r[e](S,E,I,k,C)}else if("onNewEmail"===e){var x=t.reqid;r[e](x)}else if("onNewChats"===e){var O=t.wfid,P=t.nodeid,M=t.reqid,A=t.menuid;r[e](O,P,M,A)}else if("onDocCompare"===e){var F=t.docId,R=t.rightDocId,T=t.authStr,D=t.authSignatureStr;r[e](F,R,T,D)}else(0,_keys2.default)(t).length>0?r[e](t):r[e]()},imageStyleHander=exports.imageStyleHander=function(e){var t=e.form_image_handWritingShowType,r=e.form_image_handWritingMaxHeight,n=e.form_image_scalingRatio||90,o='<style type="text/css">\n .etype_5 img, .etype_3 .wf-form-textarea .wf-form-textarea-html-show img, .etype_3 .wf-richtext-view-text img {\n';o+="max-width:"+n+"% !important\n}\n","1"==t&&null!=r&&""!=r&&(o+=" .etype_5 img.handWrittenSign {\n max-height:"+r+"px !important\n}\n"),o+="</style>",window.jQuery("body").append(o)},handWritingHander=exports.handWritingHander=function(e){var t=_source2.default.layoutStore.propFileCfg,r=t.form_image_handWritingShowType,n=t.form_image_handWritingMaxHeight,o=t.form_image_handWritingMaxWidth;if(("1"!=r||null==n)&&"2"==r&&null!=o){var i=window.jQuery(e).attr("style")||"";";"!=i.charAt(i.length-1)&&(i+=";");var a=window.jQuery(e).closest("td.etype_5").width(),l=t.form_image_scalingRatio;i+=10*(a*l/100)>10*o?"max-width: "+o+"px !important":"max-width: "+l+"% !important",window.jQuery(e).css("cssText",i)}},loadCaculateResource=exports.loadCaculateResource=function(){new _promise2.default(function(e){(0,window.loadjs)(["/js/workflow/caculate_wev8.js"],function(){e(!0)})}).then(function(e){_source2.default.globalStore.controlVariableMap("caculate_Complete",e)})},getWaterMarkFieldShowName=exports.getWaterMarkFieldShowName=function(e){if("field-2"==e){var t=_interface2.default.getFieldValueObj(e);if(t){var r=t.specialobj,n=void 0===r?[]:r,o=t.value,i=(0,_mobx.toJS)(n).filter(function(e){return e.id==o});if(i&&i.length>0)return i[0].customname}}var a=FieldUtil.getFieldAttr(e)||{},l=a.htmltype,s=void 0===l?1:l,u=a.selectattr,c=void 0===u?{}:u,f=_interface2.default.getFieldValueObj(e)||{},d=f.value,p=void 0===d?"":d,h=f.specialobj;if(a&&a.encryptFlag>0&&""!=p)return"****";switch(s){case 3:if(h){var m=[];return h.map(function(e){m.push(e.name||"")}),m.join(",")}return p;case 5:var v=c.selectitemlist;if(v){var g=p.split(","),b=[];return(0,_mobx.toJS)(v).map(function(e){var t=e.selectvalue,r=void 0===t?"":t,n=e.selectname,o=void 0===n?"":n;g.indexOf(r.toString())>-1&&b.push(o)}),b.join(" ")}return p;case 6:if(h){var y=h.filedatas,w=void 0===y?[]:y,_=[];return(0,_mobx.toJS)(w).map(function(e){_.push(e.filename||"")}),_.join(",")}return p;default:return _interface2.default.getFieldValue(e)}},getUpdateReqInfoFieldValue=exports.getUpdateReqInfoFieldValue=function(){var e={},t=_source2.default.layoutStore,r=t.mainData,n=t.fieldAttrMap;return r.forEach(function(t,r){var o=r.substring(5);if(n.has(o)){var i=n.get(o),a=i.fieldname;"manager"==(void 0===a?"":a)&&(e[r]=t.value)}}),e}},function(e,t,r){var n=r(86)("wks"),o=r(70),i=r(20).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t,r){e.exports={default:r(331),__esModule:!0}},function(e,t,r){var n=r(34),o=r(104),i=r(88),a=Object.defineProperty;t.f=r(22)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){function n(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return i(r)?t:o(function(t){return e(r,t)});default:return i(r)&&i(n)?t:i(r)?o(function(t){return e(t,n)}):i(n)?o(function(t){return e(r,t)}):e(r,n)}}}var o=r(57),i=r(130);e.exports=n},function(e,t,r){var n=r(28);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(301),i=n(o),a=r(308),l=n(a),s="function"===typeof l.default&&"symbol"===typeof i.default?function(e){return typeof e}:function(e){return e&&"function"===typeof l.default&&e.constructor===l.default&&e!==l.default.prototype?"symbol":typeof e};t.default="function"===typeof l.default&&"symbol"===s(i.default)?function(e){return"undefined"===typeof e?"undefined":s(e)}:function(e){return e&&"function"===typeof l.default&&e.constructor===l.default&&e!==l.default.prototype?"symbol":"undefined"===typeof e?"undefined":s(e)}},function(e,t,r){var n=r(59);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(73),o=r(69);e.exports=function(e){return n(o(e))}},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray2=__webpack_require__(101),_toConsumableArray3=_interopRequireDefault(_toConsumableArray2),_extends2=__webpack_require__(7),_extends3=_interopRequireDefault(_extends2),_defineProperty2=__webpack_require__(65),_defineProperty3=_interopRequireDefault(_defineProperty2),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_source=__webpack_require__(25),_source2=_interopRequireDefault(_source),_fieldUtil=__webpack_require__(18),FieldUtil=_interopRequireWildcard(_fieldUtil),_detailUtil=__webpack_require__(23),DetailUtil=_interopRequireWildcard(_detailUtil),_secLevelUtil=__webpack_require__(124),SecLevelUtil=_interopRequireWildcard(_secLevelUtil),_common=__webpack_require__(10),_=_interopRequireWildcard(_common),_formatUtil=__webpack_require__(125);__webpack_require__(464);var _mobx=__webpack_require__(9),_analyzeData=__webpack_require__(55),AI=_interopRequireWildcard(_analyzeData),jQuery=window.jQuery;jQuery.fn.extend({bindPropertyChange:function(e){return this.each(function(){var t=jQuery(this).attr("id");window.WfForm.addPropertyChangeFn(t,e)})}});var WfForm_Public={isMobile:function(){return _source2.default.isMobile},__propertyChangeFnObj:{},__detailFieldChangeFnObj:{},getGlobalStore:function(){return _source2.default.globalStore},getLayoutStore:function(){return _source2.default.layoutStore},getBaseInfo:function(){return _source2.default.globalStore.baseParam},getFnaConfig:function(){return _source2.default.layoutStore.fnaInfo},getOdocConfig:function(){return _source2.default.layoutStore.odocInfo},addPropertyChangeFn:function(e,t){if(e&&-1!==e.indexOf("field")){var r=this.__propertyChangeFnObj[e];r||(r=new Array,this.__propertyChangeFnObj[e]=r),r.push(t)}},controlBtnDisabled:function(e){_source2.default.globalStore.setApiBtnDisabled(e)},judgeIsLoading:function(){return _source2.default.globalStore.btnDisabled},bindFieldChangeEvent:function(e,t){var r=this;!!e&&e.split(",").map(function(e){r.addPropertyChangeFn(e,t)})},bindDetailFieldChangeEvent:function(e,t){var r=this,n=/^field\d+$/;!!e&&e.split(",").map(function(e){if(!e||!n.test(e))return"";var o=r.__detailFieldChangeFnObj[e];o||(o=new Array,r.__detailFieldChangeFnObj[e]=o),o.push(t)})},customTabFunObj:{},bindCustomTabEvnent:function(e,t){this.customTabFunObj[e]=t},triggerFieldBindEvent:function(e,t){e in this.__propertyChangeFnObj&&this.__propertyChangeFnObj[e].map(function(r){try{r(jQuery("#"+e)[0],e,t)}catch(e){}});var r=e.indexOf("_"),n=r>-1?e.substring(5,r):e.substring(5),o=r>-1?e.substring(r+1):-1;this.getFieldInfo(n).isDetail&&"field"+n in this.__detailFieldChangeFnObj&&this.__detailFieldChangeFnObj["field"+n].map(function(e){try{e("field"+n,o,t)}catch(e){}})},convertFieldNameToId:function(e,t,r){t=t||"main",r="undefined"===typeof r||r;var n=_source2.default.layoutStore.fieldNameMap,o=t+"."+e.toUpperCase(),i="";return n.has(o)&&(i=n.get(o),i=r?"field"+i:i),i},getFieldInfo:function(e){e=e.toString();var t=_source2.default.layoutStore.fieldAttrMap;return t.has(e)?(0,_mobx.toJS)(t.get(e)):{}},getFieldCurViewAttr:function(e){return FieldUtil.getFieldCurViewAttr(e)},getFieldValue:function(e){var t=this.getFieldObj(e);return null===t?"":t.value},getFieldValueObj:function(e){var t=this.getFieldObj(e);return null===t?{}:t.valueObj},getFieldObj:function(e){if(-1===e.indexOf("field"))return null;var t=e.indexOf("_"),r=t>-1?e.substring(5,t):e.substring(5),n=t>-1?e.substring(t+1):-1;return FieldUtil.getFieldValObj(r,n)},getSelectShowName:function(e,t){return FieldUtil.getSelectShowName(e,t)},getBrowserShowName:function(e,t){if(-1===e.indexOf("field"))return"";"undefined"!==typeof t&&""!==t||(t=",");var r="",n=this.getFieldValueObj(e);return null!==n&&"specialobj"in n&&n.specialobj&&n.specialobj.map(function(e,n){0!==n&&(r+=t),r+=e.name}),r.includes("</span>")&&(r=jQuery(r).text()),r},controlDateRange:function(e,t,r){var n=null,o=null,i=/^(-?\d+)(\.\d+)?$/;"undefined"!==typeof t&&(n=t.toString(),i.test(n)&&(n=(0,_formatUtil.formatDate)(new Date((new Date).getTime()+24*t*60*60*1e3),"yyyy-MM-dd"))),"undefined"!==typeof r&&(o=r.toString(),i.test(o)&&(o=(0,_formatUtil.formatDate)(new Date((new Date).getTime()+24*r*60*60*1e3),"yyyy-MM-dd"))),this.changeSingleField(e,{},{startDate:n,endDate:o})},changeFieldValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.changeSingleField(e,t,null,r)},changeFieldAttr:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=parseInt(t);var n={},o={};4===t||5===t?(n[e]={viewAttr:-1},o[e+"_viewAttr"]=t):(n[e]={viewAttr:t},o[e+"_viewAttr"]=-1),this.changeMoreField({},n,r),_source2.default.layoutStore.batchControlVariableMap(o)},changeSingleField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};_.isEmpty(t)||(o[e]=t);var i={};_.isEmpty(r)||("viewAttr"in r&&(this.changeFieldAttr(e,r.viewAttr),delete r.viewAttr),i[e]=r),this.changeMoreField(o,i,n)},changeMoreField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,_source2.default.layoutStore.changeMoreFieldData)(e,t,AI.generateStepId(r?AI.TYPE_WFFORM_FORMULA:AI.TYPE_WFFORM_API))},triggerFieldAllLinkage:function(e){if(-1===e.indexOf("field"))return null;var t=_source2.default.layoutStore,r=t.triggerAllLinkage,n=t.fieldAttrMap,o=e.indexOf("_"),i=o>-1?e.substring(5,o):e.substring(5),a=o>-1?e.substring(o+1):-1;r(1,(n.has(i)?n.get(i):{}).tableMark,i,a),this.triggerFieldBindEvent(e,this.getFieldValue(e))},removeSelectOption:function(e,t){var r=this.getFieldObj(e),n=r.variable,o=n.has("filterOptionRange")?n.get("filterOptionRange"):[];o=o.concat(t.split(",")),this.changeSingleField(e,null,{filterOptionRange:o})},controlSelectOption:function(e,t){this.changeSingleField(e,null,{optionRange:t.split(","),filterOptionRange:[]})},addDetailRow:function(){return DetailUtil.addRow.apply(DetailUtil,arguments)},delDetailRow:function(e,t){"all"===t&&(t=this.getDetailAllRowIndexStr(e)),DetailUtil.setAllRowChecked(e,!1),""!==t&&DetailUtil.delAssignRow(e,t.split(","))},checkDetailRow:function(e,t,r){"all"===t&&(t=this.getDetailAllRowIndexStr(e)),!0===r&&DetailUtil.setAllRowChecked(e,!1),DetailUtil.setRowChecked(e,t,!0)},controlDetailRowDisplay:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"all"===t&&(t=this.getDetailAllRowIndexStr(e));var n={};""!==t&&t.split(",").map(function(e){n["row_"+e]={needHide:r}}),DetailUtil.getDetailObj(e).controlDetailRowAttr(n)},controlDetailRowDisableCheck:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"all"===t&&(t=this.getDetailAllRowIndexStr(e));var n={};""!==t&&t.split(",").map(function(e){n["row_"+e]={disableCheck:r}}),DetailUtil.getDetailObj(e).controlDetailRowAttr(n)},getDetailAllRowIndexStr:function(e){var t=DetailUtil.getDetailObj(e);return t?t.allRowIndexStr:""},getDetailCheckedRowIndexStr:function(e){var t=DetailUtil.getDetailObj(e);return DetailUtil.getDetailCheckedRowArr(t).join(",")},getDetailRowCount:function(e){var t=this.getDetailAllRowIndexStr(e);return""===t?0:t.split(",").length},getDetailRowSerailNum:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=_source2.default.layoutStore,n=r.fieldAttrMap,o=r.detailMap,i="";if(e.startsWith("field")&&e.indexOf("_")>-1){var a=e.substring(5,e.indexOf("_"));i=n.has(a)?n.get(a).tableMark:"",t=e.substring(e.indexOf("_")+1)}else e.startsWith("detail_")&&(i=e);var l=-1;if(-1===i.indexOf("detail")||!o.has(i)||parseInt(t)<0)return l;var s=DetailUtil.getDetailObj(i),u=s.rowInfoArr;return u&&u.forEach(function(e){e.rowIndex===parseInt(t)&&(l=e.serialNum)}),l},getDetailRowKey:function(e){if(-1===e.indexOf("field")||-1===e.indexOf("_"))return-1;var t=e.substring(5,e.indexOf("_")),r=e.substring(e.indexOf("_")+1),n=_source2.default.layoutStore,o=n.fieldAttrMap,i=n.detailMap,a=o.has(t)?o.get(t).tableMark:"";if(-1===a.indexOf("detail")||!i.has(a))return-1;var l=i.get(a),s=l.rowInfo,u=s.has("row_"+r)?s.get("row_"+r):null;return u&&u.has("keyid")?parseInt(u.get("keyid")):-1},setDetailAddUseCopy:function(e,t){if(-1!==e.indexOf("detail_")&&"boolean"===typeof t){DetailUtil.getDetailObj(e).setAddDefaultCopy(t)}},setTextFieldEmptyShowContent:function(e,t){e&&-1!==e.indexOf("field")&&this.changeSingleField(e,null,{emptyShowContent:t})},controlRadioPrintText:function(e){_source2.default.layoutStore.batchControlVariableMap((0,_defineProperty3.default)({},"radioPrintText_"+e,!0))},appendBrowserDataUrlParam:function(e,t){var r=e.indexOf("_")>-1?e.substring(5,e.indexOf("_")):e.substring(5),n=this.getFieldInfo(r);n&&3===n.htmltype&&this.changeSingleField(e,null,{customDataParam:t})},overrideBrowserProp:function(e,t){var r=e.indexOf("_")>-1?e.substring(5,e.indexOf("_")):e.substring(5),n=this.getFieldInfo(r);n&&3===n.htmltype&&this.changeSingleField(e,null,{customBrowserProp:t})},signBottomComps:[],appendSignEditorBottomBar:function(e){this.signBottomComps=e},renderSignEditorBottomBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.signBottomComps&&this.signBottomComps.map(function(t){e.push({name:"Component",show:"string"===typeof t?_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:t}}):t})})},OPER_SAVE:"oper_save",OPER_SUBMIT:"oper_submit",OPER_SUBMITCONFIRM:"oper_submitconfirm",OPER_REJECT:"oper_reject",OPER_REMARK:"oper_remark",OPER_INTERVENE:"oper_intervene",OPER_FORWARD:"oper_forward",OPER_TURNHANDLE:"oper_turnhandle",OPER_ASKOPINION:"oper_askopinion",OPER_TAKFROWARD:"oper_takforward",OPER_TURNREAD:"oper_turnread",OPER_TAKEBACK:"oper_takeback",OPER_FORCEOVER:"oper_forceover",OPER_DELETE:"oper_delete",OPER_ADDROW:"oper_addrow",OPER_DELROW:"oper_delrow",OPER_EDITDETAILROW:"oper_editdetailrow",OPER_PRINTPREVIEW:"oper_printpreview",OPER_CLOSE:"oper_close",OPER_BEFOREVERIFY:"oper_beforeverify",OPER_PRINT:"oper_print",OPER_BEFORECLICKBTN:"oper_beforeClickBtn",OPER_SAVECOMPLETE:"oper_savecomplete",OPER_APIRETURN:"oper_apiReturn",OPER_WITHDRAW:"oper_withDraw",eventList:{},registerCheckEvent:function(e,t){var r=this;if("function"===typeof t){var n=e.split(",");n&&n.map(function(e){e in r.eventList||(r.eventList[e]=new Array),r.eventList[e].push(t)})}},bindFieldAction:function(e,t,r){var n=this;if("function"===typeof r){var o=/^field\d+$/,i=t.split(",");i&&i.map(function(t){o.test(t)&&n.registerAction(t+"|"+e,r)})}},triggerFieldAction:function(e,t){if(t&&0===t.indexOf("field")){var r=t.indexOf("_"),n=r>0?t.substring(0,r):t,o=r>0?parseInt(t.substring(r+1)):-1;this.triggerAction(n+"|"+e,[n,o])}},bindScrollEvent:function(e){this.registerAction(this.ACTION_SCROLL,e)},triggerScrollEvent:function(){this.triggerAction(this.ACTION_SCROLL)},proxyComps:{},afterComps:{},proxyFieldComp:function(e,t,r){this.customFieldComp(e,t,r,1)},afterFieldComp:function(e,t,r){this.customFieldComp(e,t,r,2)},customFieldComp:function(e,t,r,n){if(e&&0===e.indexOf("field")){var o=e.indexOf("_")>-1?e.substring(5,e.indexOf("_")):e.substring(5),i="string"===typeof t?_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:t}}):t,a=r?r.split(","):["1","2","3"];if(1===n){var l=this.getFieldInfo(o);1===l.htmltype&&1===l.detailtype&&(this.proxyComps[e]={comp:i,rangeArr:a},this.forceRenderField(e))}else 2===n&&(this.afterComps[e]={comp:i,rangeArr:a},this.forceRenderField(e))}},forceRenderField:function(e){this.changeSingleField(e,{},{forceRender:(new Date).getTime()})},renderCustomComp:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=1===r?this.proxyComps:this.afterComps;if(e in o){var i=o[e],a=i.comp,l=i.rangeArr;if(_.indexOf(l,t.toString())>-1)return 1===r?_react2.default.cloneElement(a,(0,_extends3.default)({},n)):a}return null},proxyCompFn:{},proxyFieldContentComp:function(e,t){"function"===typeof t&&(this.proxyCompFn["FieldContent_"+e]=t)},getCustomProxyCompFn:function(e){return e in this.proxyCompFn?this.proxyCompFn[e]:null},ACTION_ADDROW:"action_addrow_",ACTION_DELROW:"action_delrow_",ACTION_SCROLL:"action_scroll",ACTION_EDITDETAILROW:"action_editdetailrow",ACTION_SWITCHDETAILPAGING:"action_switchdetailpaging",ACTION_SWITCHTABLAYOUT:"action_switchtablayout",ACTION_TABCONFIG:"action_tabconfig",ACTION_SWITCHTAB:"action_switchtab",ACTION_SWITCHROUTINT:"action_switchrouting",actionFnList:{},registerAction:function(e,t){"function"===typeof t&&(e in this.actionFnList&&this.actionFnList[e]instanceof Array||(this.actionFnList[e]=new Array),this.actionFnList[e].push(t),e===this.ACTION_TABCONFIG&&_source2.default.globalStore.controlVariableMap("forceRenderReq",(_source2.default.globalStore.variableMap.get("forceRender")||0)+1))},triggerAction:function triggerAction(key){var _this5=this,args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],timeout=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,fnAction=function fnAction(){if(key.indexOf(_this5.ACTION_ADDROW)>-1){var detailIndex=parseInt(key.replace(_this5.ACTION_ADDROW,""))-1;try{eval("_customAddFun"+detailIndex+"("+args[0]+")")}catch(e){}}else if(key.indexOf(_this5.ACTION_DELROW)>-1){var _detailIndex=parseInt(key.replace(_this5.ACTION_DELROW,""))-1;try{eval("_customDelFun"+_detailIndex+"()")}catch(e){}}var fnArr=_this5.actionFnList[key]||[];fnArr&&fnArr.map(function(e){try{e.apply(void 0,(0,_toConsumableArray3.default)(args))}catch(e){}})};timeout>0?window.setTimeout(function(){fnAction()},timeout):fnAction()},overrideTabDatas:function(e){var t=this.actionFnList[this.ACTION_TABCONFIG]||[],r=[].concat((0,_toConsumableArray3.default)(e));return t.forEach(function(e){try{r=e(r)}catch(e){}}),r},getSecAndValidity:SecLevelUtil.getSecAndValidity,controlSecFieldOptions:SecLevelUtil.controlSecFieldOptions};exports.default=WfForm_Public},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={MARKER_ID_CONFLICT:"Marker 的 id 属性重复",MARKER_ID_REQUIRED:"每一个 Marker 必需有一个 id 属性",MAP_INSTANCE_REQUIRED:"没有地图实例；组件必须作为 Map 的子组件使用",CIRCLE_INSTANCE_REQUIRED:"",CIRCLE_CENTER_REQUIRED:"Circle 组件必需设置 center 属性",CIRCLE_RADIUS_REQUIRED:"Circle 组件必需设置 radius 属性",SRC_REQUIRED:"GroundImage 组件必需设置 src 属性",BOUNDS_REQUIRED:"GroundImage 组件必需设置 bounds 属性",WINDOW_POSITION_REQUIRED:"InfoWindow 组件必需设置 position 属性",INVALID_AMAP_PLUGIN:"plugins 属性不正确；目前支持的插件有'Scale', 'ToolBar', 'MapType', 'OverView'"},o=function(e){return e in n?n[e]:e},i={error:function(e){throw new Error(o(e))},warning:function(e){},optimize:function(e){}};t.default=i},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(32),o=r(60);e.exports=r(22)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(204),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t,r){var n=r(69);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DYNAMIC_PASSWORD=10,t.DYNAMIC_TOKEN=20,t.SECOND_AUTH_PASSWORD=30,t.CA_AUTH=40,t.QYS=50,t.REAL_ID_AUTH=60,t.SECOND_AUTH_DIALOG="secondAuthDialog",t.AUTH_DETAIL_DIALOG="authDetailDialog"},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_48__},function(e,t,r){!function(e,n){n(t,r(9),r(1),r(48))}(0,function(e,t,r,n){"use strict";function o(e){function r(r,n,o,i,a,l){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];return t.untracked(function(){if(i=i||"<<anonymous>>",l=l||o,null==n[o]){if(r){var t=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+l+"` is marked as required in `"+i+"`, but its value is `"+t+"`.")}return null}return e.apply(void 0,[n,o,i,a,l].concat(u))})}var n=r.bind(null,!1);return n.isRequired=r.bind(null,!0),n}function i(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}function a(e){var t="undefined"===typeof e?"undefined":I(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":i(t,e)?"symbol":t}function l(e){var t=a(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function s(e,r){return o(function(n,o,i,s,u){return t.untracked(function(){if(e&&a(n[o])===r.toLowerCase())return null;var s=void 0;switch(r){case"Array":s=t.isObservableArray;break;case"Object":s=t.isObservableObject;break;case"Map":s=t.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+r)}var c=n[o];if(!s(c)){var f=l(c),d=e?" or javascript `"+r.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+f+"` supplied to `"+i+"`, expected `mobx.Observable"+r+"`"+d+".")}return null})})}function u(e,r){return o(function(n,o,i,a,l){for(var u=arguments.length,c=Array(u>5?u-5:0),f=5;f<u;f++)c[f-5]=arguments[f];return t.untracked(function(){if("function"!==typeof r)return new Error("Property `"+l+"` of component `"+i+"` has invalid PropType notation.");var t=s(e,"Array")(n,o,i);if(t instanceof Error)return t;for(var u=n[o],f=0;f<u.length;f++)if((t=r.apply(void 0,[u,f,i,a,l+"["+f+"]"].concat(c)))instanceof Error)return t;return null})})}function c(e){return!e.prototype.render}function f(e,t,n){var o,i,a="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(a+="-with-"+n);var l=(i=o=function(r){function n(){var e,t,r,o;k(this,n);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=r=O(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.storeRef=function(e){r.wrappedInstance=e},o=t,O(r,o)}return x(n,r),C(n,[{key:"render",value:function(){var r={};for(var n in this.props)this.props.hasOwnProperty(n)&&(r[n]=this.props[n]);var o=e(this.context.mobxStores||{},r,this.context)||{};for(var i in o)r[i]=o[i];return c(t)||(r.ref=this.storeRef),S.createElement(t,r)}}]),n}(r.Component),o.displayName=a,i);return B(l,t),l.wrappedComponent=t,Object.defineProperties(l,U),l}function d(e){return function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r}}function p(){var e=void 0;if("function"===typeof arguments[0])return e=arguments[0],function(t){var r=f(e,t);return r.isMobxInjector=!1,r=w(r),r.isMobxInjector=!0,r};for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=d(t),function(r){return f(e,r,t.join("-"))}}function h(e){if(E)try{return E.findDOMNode(e)}catch(e){return null}return null}function m(e){var t=h(e);t&&Q&&Q.set(t,e),K.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function v(){if("undefined"===typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");V||(V=!0)}function g(e){H=e}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e[t],o=$[t],i=n?!0===r?function(){o.apply(this,arguments),n.apply(this,arguments)}:function(){n.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}function y(e,t){if(null==e||null==t||"object"!==("undefined"===typeof e?"undefined":I(e))||"object"!==("undefined"===typeof t?"undefined":I(t)))return e!==t;var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(var n=void 0,o=r.length-1;n=r[o];o--)if(t[n]!==e[n])return!0;return!1}function w(e,t){if("string"===typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return G||(G=!0),t?p.apply(null,e)(w(t)):function(t){return w(e,t)};var n=e;if(n.isMobxInjector,"function"===typeof n&&(!n.prototype||!n.prototype.render)&&!n.isReactClass&&!S.Component.isPrototypeOf(n)){var o,i;return w((i=o=function(e){function t(){return k(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),C(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(r.Component),o.displayName=n.displayName||n.name,o.contextTypes=n.contextTypes,o.propTypes=n.propTypes,o.defaultProps=n.defaultProps,i))}if(!n)throw new Error("Please pass a valid component to 'observer'");return _(n.prototype||n),n.isMobXReactObserver=!0,n}function _(e){b(e,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){b(e,t)}),e.shouldComponentUpdate||(e.shouldComponentUpdate=$.shouldComponentUpdate)}var S="default"in r?r.default:r,E="default"in n?n.default:n,I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),x=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},P=function(){function e(){k(this,e),this.listeners=[]}return C(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var r=t.listeners.indexOf(e);-1!==r&&t.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}(),M=s(!1,"Array"),A=u.bind(null,!1),F=s(!1,"Map"),R=s(!1,"Object"),T=s(!0,"Array"),D=u.bind(null,!0),j=s(!0,"Object"),L=Object.freeze({observableArray:M,observableArrayOf:A,observableMap:F,observableObject:R,arrayOrObservableArray:T,arrayOrObservableArrayOf:D,objectOrObservableObject:j}),N={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},q={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},W="function"===typeof Object.getOwnPropertySymbols,B=function(e,t,r){if("string"!==typeof t){var n=Object.getOwnPropertyNames(t);W&&(n=n.concat(Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;++o)if(!N[n[o]]&&!q[n[o]]&&(!r||!r[n[o]]))try{e[n[o]]=t[n[o]]}catch(e){}}return e},z={mobxStores:j};Object.seal(z);var U={contextTypes:{get:function(){return z},set:function(e){},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}},V=!1,H=!1,G=!1,Q="undefined"!==typeof WeakMap?new WeakMap:void 0,K=new P,J=new P,$={componentWillMount:function(){function e(e){var r=this[e],n=new t.Atom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),r},set:function(e){!a&&y(r,e)?(r=e,i=!0,n.reportChanged(),i=!1):r=e}})}var r=this;if(!0!==H){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID,i=!1,a=!1;e.call(this,"props"),e.call(this,"state");var l=this.render.bind(this),s=null,u=!1,c=function(){return s=new t.Reaction(n+"#"+o+".render()",function(){if(!u&&(u=!0,"function"===typeof r.componentWillReact&&r.componentWillReact(),!0!==r.__$mobxIsUnmounted)){var e=!0;try{a=!0,i||S.Component.prototype.forceUpdate.call(r),e=!1}finally{a=!1,e&&s.dispose()}}}),f.$mobx=s,r.render=f,f()},f=function(){u=!1;var e=void 0,n=void 0;if(s.track(function(){V&&(r.__$mobRenderStart=Date.now());try{n=t.extras.allowStateChanges(!1,l)}catch(t){e=t}V&&(r.__$mobRenderEnd=Date.now())}),e)throw J.emit(e),e;return n};this.render=c}},componentWillUnmount:function(){if(!0!==H&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,V)){var e=h(this);e&&Q&&Q.delete(e),K.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){V&&m(this)},componentDidUpdate:function(){V&&m(this)},shouldComponentUpdate:function(e,t){return this.state!==t||y(this.props,e)}},Y=w(function(e){return(0,e.children)()});Y.propTypes={children:function(e,t,r,n,o){if("function"!==typeof e[t])return new Error("Invalid prop `"+o+"` of type `"+I(e[t])+"` supplied to `"+r+"`, expected `function`.")}};var X,Z,ee={children:!0,key:!0,ref:!0},te=(Z=X=function(e){function t(){return k(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),C(t,[{key:"render",value:function(){return S.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var r in t)e[r]=t[r];for(var n in this.props)ee[n]||"suppressChangedStoreWarning"===n||(e[n]=this.props[n]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length,Object.keys(this.props).length,!e.suppressChangedStoreWarning)for(var t in e)!ee[t]&&(this.props[t],e[t])}}]),t}(r.Component),X.contextTypes={mobxStores:j},X.childContextTypes={mobxStores:j.isRequired},Z),re=void 0;if(re="mobx-react",!t)throw new Error(re+" requires the MobX package");if(!S)throw new Error(re+" requires React to be available");"function"===typeof n.unstable_batchedUpdates&&t.extras.setReactionScheduler(n.unstable_batchedUpdates);var ne=function(e){return J.on(e)};"object"===("undefined"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":I(__MOBX_DEVTOOLS_GLOBAL_HOOK__))&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(e,t),e.propTypes=L,e.PropTypes=L,e.onError=ne,e.default=e,e.observer=w,e.Observer=Y,e.renderReporter=K,e.componentByNodeRegistery=Q,e.trackComponents=v,e.useStaticRendering=g,e.Provider=te,e.inject=p,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return function(t){function r(e){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.instanceCreated=!1,t.myMapComponent=null,t.registeredEvents=[],t.onInstanceCreated=t.onInstanceCreated.bind(t),t}return a(r,t),u(r,[{key:"onInstanceCreated",value:function(){if(this.instanceCreated=!0,"events"in this.props){var e=this.myMapComponent.instance;this.props.events.created&&this.props.events.created(e)}this.reactivePropChange(this.props,!1)}},{key:"createEventsProxy",value:function(e){var t=this,r=this.myMapComponent.instance,n=Object.keys(e.events||{});n.length&&n.forEach(function(e){-1===t.registeredEvents.indexOf(e)&&(t.registeredEvents.push(e),r.on(e,function(e){return function(){if(t.props.events&&e in t.props.events){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.props.events[e].apply(null,n)}}}(e)))})}},{key:"componentWillReceiveProps",value:function(e){this.reactivePropChange(e,!0)}},{key:"reactivePropChange",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.instanceCreated)return!1;var n=this.myMapComponent,o=n.setterMap,i=void 0===o?{}:o,a=n.converterMap,l=void 0===a?{}:a,s=n.instance,u=void 0===s?{}:s,c=Object.keys(e);c.length&&c.forEach(function(n){if("events"===n)return t.createEventsProxy(e);var o=!0;if(r&&(o=t.detectPropChange(n,e,t.props)),!o)return!1;var a=e[n];if(n in l&&(a=l[n](e[n])),n in i)i[n](a);else{var s="set"+(0,p.default)(n);s in u&&u[s](a)}})}},{key:"detectPropChange",value:function(e,t,r){return t[e]!==r[e]}},{key:"render",value:function(){var t=this;return f.default.createElement(e,s({onInstanceCreated:this.onInstanceCreated,ref:function(e){t.myMapComponent=e}},this.props))}},{key:"componentWillUnmount",value:function(){var e=this.myMapComponent.instance;e&&("destroy"in e&&setTimeout(function(){e.destroy()},10),"hide"in e&&e.hide(),"__map__"in this.props&&"setMap"in e&&e.setMap(null))}}]),r}(f.default.Component)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(1),f=n(c),d=r(694),p=n(d);t.default=l},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_51__},function(e,t,r){var n=r(106),o=r(90);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){e.exports={default:r(322),__esModule:!0}},function(e,t,r){function n(e){return null!=e&&i(e.length)&&!o(e)}var o=r(153),i=r(156);e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastStepData=t.getFirstStepData=t.getFieldStepInfo=t.getFieldStepALLInfo=t.getLinkageInfo=t.openAIPage=t.appendStepDetail=t.generateStepId=t.CHANGE_FIELD_VARS=t.CHANGE_FIELD_VALUE=t.TYPE_WFFORM_FORMULA=t.TYPE_WFFORM_API=t.TYPE_LINKAGE_ASYNC=t.TYPE_LINKAGE_SYNC=t.TYPE_FIELD_CHANGE=t.TYPE_DETAIL_ADDROW=t.TYPE_MAIN_INIT=t.setScriptContent=t.isShowAI=void 0;var n=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(29),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),l=r(10),s=r(476),u=t.isShowAI=function(){return"1"==o.default.globalStore.commonParam.showAI},c="",f=(t.setScriptContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";u()&&(c=e)},t.TYPE_MAIN_INIT="1",t.TYPE_DETAIL_ADDROW="2",t.TYPE_FIELD_CHANGE="3",t.TYPE_LINKAGE_SYNC="4",t.TYPE_LINKAGE_ASYNC="5",t.TYPE_WFFORM_API="6",t.TYPE_WFFORM_FORMULA="7",t.CHANGE_FIELD_VALUE="c_value",t.CHANGE_FIELD_VARS="c_vars"),d={},p=0,h=(t.generateStepId=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u()?(p++,d["step_"+p]={type:e,datas:[],otherinfo:t,time:(new Date).getTime()},p):0},t.appendStepDetail=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(u()&&!("undefined"===typeof e||e<=0)&&d["step_"+e]){d["step_"+e].datas.push({fieldMark:t,type:r,result:n})}},t.openAIPage=function(){var e=o.default.globalStore.commonParam,t=e.custompage;window.WfForm_analyzeData={custompage:{jsp:a.generateCustomPageList(),js:t.jsPage||[],css:t.cssPage||[]},scriptContent:c,modifyStep:d},window.open((window.ecologyContentPath||"")+"/spa/workflow/static/index.html#/main/workflow/analyze")},t.getLinkageInfo=function(e){var t=(new Date,o.default.layoutStore),r=t.tableInfo,n=WfForm.__propertyChangeFnObj,i=t.linkageCfg,a=i.rowCalCfg,u=i.fieldSqlCfg,c=i.fieldMathCfg,f=i.dataInputCfg,d=i.fieldDateCfg,p=i.viewAttrCfg,h=i.mainCalCfg,m=i.formulaCfg,v=[];a&&(0,l.forIn)(a,function(e,t){"rowCalAssignInfo"!==t&&e.map(function(e){var r=t&&"string"===typeof t?t.split(","):t,n=e.assignField&&"string"===typeof e.assignField?e.assignField.split(","):e.assignField;v.push({linkageType:"行规则",trgField:r,assignField:n,otherInfo:e.config})})}),h&&(0,l.forIn)(h,function(e,t){var r=t&&"string"===typeof t?t.split(","):t,n=e&&"string"===typeof e?e.split(","):e;v.push({linkageType:"列赋值",trgField:r,assignField:n,otherInfo:""})}),u&&(0,l.forIn)(u,function(e,t){"emptyTriField"===t?e.map(function(e){var t=e.assignField&&"string"===typeof e.assignField?e.assignField.split(","):e.assignField;v.push({linkageType:"SQL联动",trgField:"无",assignField:t,otherInfo:""})}):e.map(function(e){var r=t&&"string"===typeof t?t.split(","):t,n=e.assignField&&"string"===typeof e.assignField?e.assignField.split(","):e.assignField;v.push({linkageType:"SQL联动",trgField:r,assignField:n,otherInfo:""})})}),d&&(0,l.forIn)(d,function(e,t){e.map(function(e){var t=e.relateFields&&"string"===typeof e.relateFields?e.relateFields.split(","):e.relateFields,r=e.assignField&&"string"===typeof e.assignField?e.assignField.split(","):e.assignField;v.push({linkageType:"时间日期计算",trgField:t,assignField:r,otherInfo:""})})}),c&&(0,l.forIn)(c,function(e,t){e.map(function(e){var r=t&&"string"===typeof t?t.split(","):t,n=e.assignField&&"string"===typeof e.assignField?e.assignField.split(","):e.assignField;v.push({linkageType:"字段赋值",trgField:r,assignField:n,otherInfo:e.config})})}),f&&(0,l.forIn)(f,function(e,t){e.map(function(e){e.otherParams.assignfields.map(function(r){var n=t&&"string"===typeof t?t.split(","):t,o=r&&"string"===typeof r?r.split(","):r;v.push({linkageType:"字段联动",trgField:n,assignField:o,otherInfo:e.config})})})}),p&&(0,l.forIn)(p,function(e,t){var r=[],n=t.slice(0,-2);e.relateFields&&e.relateFields.map(function(e){r.push(e.slice(0,-2))});var o=n&&"string"===typeof n?n.split(","):n;v.push({linkageType:"显示属性联动",trgField:o,assignField:r,otherInfo:""})}),r&&(0,l.forIn)(r,function(e){e.fieldinfomap&&(0,l.forIn)(e.fieldinfomap,function(e,t){if(5==e.htmltype&&e.selectattr.childfieldid>0){var r=t&&"string"===typeof t?t.split(","):t,n=e.selectattr.childfieldid.toString(),o=n&&"string"===typeof n?n.split(","):n;v.push({linkageType:"选择框联动",trgField:r,assignField:o,otherInfo:""})}})}),n&&(0,l.forIn)(n,function(e,t){var r=t&&"string"===typeof t?t.split(","):t;v.push({linkageType:"代码块/自定义页面",trgField:r,assignField:"",otherInfo:e.length+"条"})}),m&&(0,l.forIn)(m,function(e,t){"formulas"===t&&e.map(function(e){var t=(0,s.getTriFieldWithFormula)(e.triggers),r=(0,s.getAssignFieldWithFormula)(e.destfield),n=r&&"string"===typeof r?r.split(","):r;v.push({linkageType:"公式",trgField:t,assignField:n,otherInfo:""})})});var g={};return e.map(function(e){g[e]=v.filter(function(t){for(var r=t.trgField.concat(t.assignField),n=!1,o=0;o<r.length;o++)if(r[o]===e){n=!0;break}return n})}),g},t.getFieldStepALLInfo=function(e){var t=[],r=wfform.getFieldInfo(e),n=r.htmltype;d&&(0,l.forIn)(d,function(e,r){var n={},o=r.substring(5),i=e.type,a=e.datas,u=e.otherinfo;n.key=o,n.step=o,n.type=(0,s.getStepType)(i),(0,l.isEmpty)(u)||(n.linkageInfo=u),(0,l.isEmpty)(a)||(n.changedDatas=a),t.push(n)});var o=e?e.split(","):[];return 0===o.length?null:t.filter(function(e){var t=[];if(t=e.changedDatas&&e.changedDatas.filter(function(e){return(0,l.includes)(o,(0,s.getFieldid)(e.fieldMark))}),(1===n||2===n)&&"undefined"!=typeof t)for(var r=0;r<t.length;r++)if(t[r].type!==f){var i=t[r].result.value;t[r].result.value=i.length>100?i.substr(0,100)+"...(文本超长部分已被截取)":i}return e.changedDatas=t,e.changedDatas&&e.changedDatas.length>0})});t.getFieldStepInfo=function(e){var t=[],r=h(e),n=wfform.getFieldInfo(e),o=n.isdetail,i=n.tableMark;if(o){var a=parseInt(wfform.getDetailRowCount(i)),l=[];if(a>10)for(var s=0;s<10;s++){for(var u={detailIndex:s,detailFieldSetp:[]},c=0;c<r.length;c++){var f=parseInt(r[c].changedDatas[0].fieldMark.split("_")[1]);f===s&&u.detailFieldSetp.push(r[c])}l.push(u)}else for(var d=0;d<a;d++){for(var p={detailIndex:d,detailFieldSetp:[]},m=0;m<r.length;m++){var v=parseInt(r[m].changedDatas[0].fieldMark.split("_")[1]);v===d&&p.detailFieldSetp.push(r[m])}l.push(p)}for(var g=0;g<l.length;g++)if(l[g].detailFieldSetp.length>3){var b=[];b.push(l[g].detailFieldSetp[0]),b.push(l[g].detailFieldSetp[l[g].detailFieldSetp.length-2]),b.push(l[g].detailFieldSetp[l[g].detailFieldSetp.length-1]),l[g].detailFieldSetp=b}return t=l}return r.length>3?(t.push(r[0]),t.push(r[r.length-2]),t.push(r[r.length-1])):t=r,t},t.getFirstStepData=function(e,t){if(t){for(var r=[],n=0;n<e.length;n++){e[n].detailFieldSetp.length>0?r.push({detailIndex:e[n].detailIndex,firstStep:e[n].detailFieldSetp[0].changedDatas[0].result.value}):r.push({detailIndex:e[n].detailIndex,firstStep:"无变更步骤数据"})}return r}return e.length>0?e[0].changedDatas[0].type===f?e[0].changedDatas[0].result.viewAttr:e[0].changedDatas[0].result.value:"无变更步骤数据"},t.getLastStepData=function(e,t){if(t){for(var r=[],n=0;n<e.length;n++){var o=e[n].detailFieldSetp.length;o>0?r.push({detailIndex:e[n].detailIndex,firstStep:e[n].detailFieldSetp[o-1].changedDatas[0].result.value}):r.push({detailIndex:e[n].detailIndex,firstStep:"无变更步骤数据"})}return r}return e.length>0?e[e.length-1].changedDatas[0].type===f?e[e.length-1].changedDatas[0].result.viewAttr:e[e.length-1].changedDatas[0].result.value:"无变更步骤数据"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handWritingHander=t.convertSpecialChar=t.needMustInputDot=t.verifyRemarkMustInput=t.chekcremark=t.signMustInputTips=t.appendDefaultSytle=t.setRemarkContent=t.verifyRemark=void 0;var o=r(35),i=n(o),a=r(12),l=n(a),s=r(6),u=r(111),c=n(u),f=r(10),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(f),p=(t.verifyRemark=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needCheck,r=void 0!==t&&t,n=e.src,o=void 0===n?"":n,i=e.needPrompt,a=void 0===i||i,u=e.isaffirmance,c=void 0===u?"0":u,f=e.actiontype,d=void 0===f?"":f,m=e.isAddSign,g=e.isaffirmanceSrc,y=l.default.globalStore,w=y.commonParam,_=y.markInfo,S=(y.submitParam,y.changeSubmitParam,y.setTabKey),E=y.tabKey,I=w.intervenorright,k=w.isHideInput,C=_.isSignMustInput,x=_.isFormSignature,O=(_.signMustInputTypes,!1);if(("1"!=k||I>0)&&(r||(r=!("save"==o&&"requestOperation"==d)||"1"==c),("1"==C&&r||"2"==C&&b(o,d,r,g))&&(O=!0)),"1"==x)return h(O);var P=!(!window.CK_REF||!window.CK_REF.remark),M=(!window.CK_REF||window.CK_REF.freeWorkflowSimple,p({isAddSign:m,needVeiryRequired:O}));if(!1===M&&a){if((0,s.getAntd)().message.warning((0,s.getLabel)(386186,'"签字意见"未填写'),2),window.wfform.getOdocConfig().docFlag&&"odoc"==E){S("form");jQuery(".wea-new-top-req-content").css("overflow-y","hidden"),jQuery(".wf-req-odoc").height(1);var A=parseInt(jQuery(".wf-req-odoc").css("fontSize").replace("px",""),10);A=A>0?A=-1*(A+1):-13,jQuery(".wf-req-odoc").css("marginTop",A+"px"),jQuery(".wf-req-odoc").css("marginBottom","0px"),jQuery(".req-workflow-odoc").height(1),showOrHideWeboffice(0)}if(P&&1!=m){var F=l.default.globalStore.controlVariableMap;F("isShowSignInput",!0),F("isEditorFocus",!0),v()}}return M},t.setRemarkContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.default.globalStore,r=t.commonParam,n=t.changeSubmitParam,o=t.submitParam,i=r.intervenorright,a=r.isHideInput,s=!0;if("1"!=a||i>0){var u=e.isAddSign,c=e.needVeiryRequired,f=void 0!==c&&c,d=!(!window.CK_REF||!window.CK_REF.remark),p=!(!window.CK_REF||!window.CK_REF.freeWorkflowSimple),h=d?window.CK_REF.remark.getData():o.remark;if(1==u&&(h=p?window.CK_REF.freeWorkflowSimple.getData():o.remark),f&&(s=g(h)),s&&d){n({remark:m(h)})}}return s}),h=function(e){var t=l.default.globalStore.changeSubmitParam,r=!0,n=(0,s.getAntd)(),o=n.message;if("object"===(0,i.default)(window.saveAutographMul)){var a="";window.saveAutographMul&&window.saveAutographMul.wfWeaAutographCompremark&&(a=window.saveAutographMul.wfWeaAutographCompremark(e)),!0===a||-1==a&&0==e?r=!0:!isNaN(a)&&parseInt(a)>0?t({workflowRequestLogId:a}):("-2"==a?o.warning((0,s.getLabel)(386186,'"签字意见"未填写'),2):o.warning((0,s.getLabel)(528568,"签章保存失败"),2),r=!1)}else o.warning((0,s.getLabel)(528569,"签章组件未加载成功")),r=!1;return r},m=t.appendDefaultSytle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){if(new RegExp(/^<div id=\"wea_rich_text_default_font\"[^>]+\>/).test(e))return e;var t=l.default.globalStore.markInfo,r=void 0===t?{}:t,n=r.extendParams,o=void 0===n?{}:n,i=r.use_textarea_signinput,a=void 0===i?0:i,s=o.wfSignDefaultFontFamily,u=void 0===s?"":s,c=o.wfSignDefaultFontSize,f=void 0===c?"":c,d="";u&&u.indexOf("/")>-1&&(d+="font-family:"+u.split("/")[1]+";"),f&&f.indexOf("/")>-1&&(d+="font-size:"+f.split("/")[1]+";"),d&&(e=1==a?'<span id="wea_rich_text_default_font" style="'+d+'">'+e+"</span>":'<div id="wea_rich_text_default_font" style="'+d+'">'+e+"</div>")}return e},v=t.signMustInputTips=function(){var e=parseInt(jQuery("#remark").offset().top);0==e&&jQuery(".wf-req-sign-input")&&(e=parseInt(jQuery(".wf-req-sign-input").offset().top));var t=0,r=jQuery(".wf-req-form-scroll"),n=jQuery(".wea-new-top-req");e>0&&e-n.height()+200<r.height()||(e-n.height()+200>r.height()&&(t=e+r.scrollTop()-185),e<n.height()&&(e<0&&(e*=-1),t=r.scrollTop()-e-n.height()-100),setTimeout(function(){r.animate({scrollTop:t+"px"},0)},100)),window.CK_REF.remark.getEditor().focus()},g=t.chekcremark=function(e){var t=l.default.globalStore.submitParam,r=t.signworkflowids,n=void 0===r?"":r,o=t.signdocids,i=void 0===o?"":o,a=t.handWrittenSign,s=void 0===a?0:a,u=!0;if(n.length>0||i.length>0||(t["field-annexupload"]||[]).length>0||s>0);else if(null==e)u=!1;else{var f=e;f=f.replace(/<p>/gi,"").replace(/<\/p>/gi,"").replace(/ /gi,"").replace(/&nbsp;/gi,"").replace(/<br \/>/gi,""),f=f.replace(/\\n/gi,""),0===(0,c.default)(f).length&&(u=!1)}return u},b=t.verifyRemarkMustInput=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"submit",o=l.default.globalStore,i=o.markInfo,a=void 0===i?{}:i,s=o.rightMenu,u=void 0===s?{}:s,c=a.signMustInputTypes,f=void 0===c?[]:c;if("save"===e){if("requestOperation"===t)return!!r&&f.indexOf(n)>-1;var d=u.remarkOperationType,p=void 0===d?"":d;return f.indexOf(p)>-1}return f.indexOf(e)>-1};t.needMustInputDot=function(){var e=l.default.globalStore,t=e.markInfo,r=void 0===t?{}:t,n=e.rightMenu,o=void 0===n?{}:n,i=o.rightMenus,a=void 0===i?[]:i,s=o.remarkOperationType,u=void 0===s?"":s,c=r.signMustInputTypes,f=void 0===c?[]:c,p=r.isSignMustInput,h=d.findIndex(a,function(e){return"BTN_DOINTERVENOR"==e.type&&(u="intervenor"),["POSTIL_FORWARD","POSTIL_CC","REPLY","CHUANYUE_REC"].indexOf(e.systemMenuType)>-1||"BTN_DOINTERVENOR"==e.type}),m="1"==p;return"2"==p&&(f.indexOf("submit")>-1&&a.length>0&&-1==h&&(m=!0),h>-1&&f.indexOf(u)>-1&&(m=!0)),m},t.convertSpecialChar=function(e){return e=e.toString(),e=e.replace(/<br>/gi,"\n"),e=e.replace(/&nbsp;/gi," "),e=e.replace(/&lt;/gi,"<"),e=e.replace(/&gt;/gi,">"),e=e.replace(/&quot;/gi,'"'),e=e.replace(/&amp;/gi,"&")},t.handWritingHander=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,r=/<img.*?(\/>|<\/img>)/g,n=t.match(r);return n&&n.map(function(e){var r="";if(/class=(\"|\')(.*?)(\"|\')/g.test(e)&&(r=RegExp.$2),"handWrittenSign"==r){var n=e.replace(/<img/g,"<img onload='window.handWritingHander(this)'");t=t.replace(e,n)}}),t}},function(e,t,r){function n(e){return function t(r){return 0===arguments.length||o(r)?t:e.apply(this,arguments)}}var o=r(130);e.exports=n},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){function n(e,t){var r=i(e,t);return o(r)?r:void 0}var o=r(335),i=r(340);e.exports=n},function(e,t,r){function n(e){return null==e?void 0===e?s:l:u&&u in Object(e)?i(e):a(e)}var o=r(77),i=r(336),a=r(337),l="[object Null]",s="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=n},function(e,t,r){"use strict";t.__esModule=!0;var n=r(16),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,r){return t in e?(0,o.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRemarkQuoteData=t.generateFreeNodeData=t.generateFormData=t.verifySecLevelIsFormat=t.verifySecLevelIsEmpty=t.verifyRequestNameIsEmpty=t.verifyRequiredEmptyOtherParams=t.verifyRequiredEmptyField=t.verifyMustAddDetail=t.verifyIntervenorInfo=t.verifyCustomFun=t.doSubmitPost=t.doFileUpload=t.doSubmitReady=t.doSubmitForm=void 0;var i=r(31),a=o(i),l=r(94),s=o(l),u=r(7),c=o(u),f=r(12),d=o(f),p=r(15),h=n(p),m=r(11),v=n(m),g=r(127),b=n(g),y=r(18),w=n(y),_=r(23),S=n(_),E=r(56),I=r(10),k=n(I),C=r(27),x=n(C),O=r(84),P=o(O),M=r(6),A=r(29),F=r(245),R=n(F),T=r(55),D=r(102),j=r(124),L=r(47),N=n(L),q=r(246),W=r(39),B=o(W),z=r(247),U=t.doSubmitForm=function(e){var t=e.isSelectNextFlow,r=void 0===t?"0":t,n=e.type,o=void 0===n?"":n;if("1"!=r&&"ensuresubmit"!=o){d.default.secondAuthStore.setSecondAuthPop(!1)}var i=d.default.globalStore,a=i.commonParam,l=i.submitParam,s=i.secLevelInfo,u=void 0===s?{}:s,f=i.conflictFieldMap,p=i.setTabKey,h=i.tabKey,m=(0,M.getAntd)(),g=m.message,b=(e.actiontype,e.src),y=e.isaffirmance,w=void 0===y?"":y,_=(e.closePage,l.isSubmitDirectNode),S=l.lastnodeid,E=(l.isHideInput,l.iscreate),I="1"==E?"":"0",C=(0,c.default)({},e,{isFirstSubmit:I});if("submit"==b||"1"==w||"intervenor"==b){if(!te(b,w))return!1;if(!re(f))return!1;var x=parseInt(a.isviewonly||0),O=parseInt(a.isaffirmance||0),P=parseInt(a.intervenorright||0),F=1!==x&&1!==O,R=function(){if(F){if(!oe())return!1;var e=ie();if(""!==e){if(window.setTimeout(function(){v.showPrompt(e,1)},50),window.wfform.getOdocConfig().docFlag&&"odoc"==h){p("form");jQuery(".wea-new-top-req-content").css("overflow-y","hidden"),jQuery(".wf-req-odoc").height(1);var t=parseInt(jQuery(".wf-req-odoc").css("fontSize").replace("px",""),10);t=t>0?t=-1*(t+1):-13,jQuery(".wf-req-odoc").css("marginTop",t+"px"),jQuery(".wf-req-odoc").css("marginBottom","0px"),jQuery(".req-workflow-odoc").height(1),showOrHideWeboffice(0)}return!1}}else d.default.globalStore.changeSubmitParam({verifyRequiredRange:"field-9999,"});if(ue())return void g.warning((0,M.getLabel)(528441,"保密期限不能为纯数字!"));if("1"==_&&(C.SubmitToNodeid=S),P>0){var r=ne(l);if(0==r.type)return g.warning(r.msg),!1}var n=ae();if(n.msg)return void v.scrollDom(n.dom,!0,n.msg);V(C)};return F?(0,A.verifyCustomRegisterEvent)(B.default.OPER_BEFOREVERIFY,R):R()}var T=d.default.layoutStore,D=T.fieldAttrMap,j=T.cellInfo,L=D.has("-1")&&D.get("-1").viewattr||0,N=D.has("-10")&&D.get("-10").viewattr||0,q=u.canSecChange&&N>1?3:1;return"save"===b&&k.has(j,["fieldCellInfo","-1"])&&L>1&&le()?(v.showPrompt("field-1",1),g.warning((0,M.getLabel)(386187,"请求标题字段未填值！")),!1):"save"===b&&k.has(j,["fieldCellInfo","-10"])&&q&&se()?(v.showPrompt("field-10",1),g.warning((0,M.getLabel)(531286,"密级或保密期限未填写！")),!1):"save"===b&&ue()?(g.warning((0,M.getLabel)(528441,"保密期限不能为纯数字!")),!1):void V(C)},V=t.doSubmitReady=function(e){var t=e.src,r=e.actiontype,n=(e.isaffirmance,e.type,e.isaffirmanceSrc),o=void 0===n?"":n;if("requestOperation"==r&&"reject"==o){d.default.secondAuthStore.setSecondAuthPop(!1)}var i=d.default.globalStore.commonParam;d.default.conformRuleStore.hasCheckedConformRule;(0,E.verifyRemark)(e)&&(0,A.verifyCustomRegisterEvent)(e,function(){var n=i.needconfirm,o=i.selectNextFlow,a=he(t,"1"==n,o);if("intervenor"!=t&&5!=i.isremark||!i.openNodeCheck)if("remarkOperation"==r&&"1"==n||"intervenor"==t||a){var l=(0,M.getLabel)(19990,"确认是否提交?");a&&(l=pe(e)),(0,M.getAntd)().Modal.confirm({content:l,title:(0,M.getLabel)(131329,"信息确认"),okText:(0,M.getLabel)(826,"确定"),cancelText:(0,M.getLabel)(201,"取消"),onOk:function(){G(e)},onCancel:function(){d.default.conformRuleStore.setHasCheckedConformRule(!1)}})}else G(e);else{var s=React.createElement("p",null,React.createElement("span",null,(0,M.getLabel)(533651,"当前节点存在字段校验")),"(",React.createElement("span",{onClick:window.showRuleCompareResult,style:{color:"rgb(77, 122, 219)"}},React.createElement("span",{style:{cursor:"pointer"}},(0,M.getLabel)(533652,"查看详情")))," )",React.createElement("span",null,(0,M.getLabel)(19990,"确认是否提交?")));(0,M.getAntd)().Modal.confirm({content:s,title:(0,M.getLabel)(131329,"信息确认"),okText:(0,M.getLabel)(826,"确定"),cancelText:(0,M.getLabel)(201,"取消"),onOk:function(){G(e)},onCancel:function(){}})}})},H=function(){var e=d.default.globalStore,t=d.default.secondAuthStore,r=e.rightMenu,n=r.lastnodeid;1==t.isSubmitDirect?e.changeSubmitParam({SubmitToNodeid:n}):e.setSubmitToNodeId()},G=t.doFileUpload=function e(t){var r=d.default.globalStore,n=d.default.secondAuthStore,o=r.submitParam,i=o.workflowid,a=o.nodeid,l=o.requestid,s=o.f_weaver_belongto_userid,u=o.f_weaver_belongto_usertype,c=n.isAuthSuccess,f=n.isProtectSuccess;if(1==c||1==f){var p=(n.isEnableAuth,n.secondAuthType),h=n.isEnableProtect,m=n.protectType,v=n.params,g=v.authKey,b=v.qysSignWay,y=void 0===b?2:b;if(1!=f&&1==h){if(m==N.CA_AUTH||m==N.QYS&&1==y){var w=l+"_"+s+"_"+u+"_"+(new Date).getTime();return r.changeSubmitParam({isCAAuth:1,CAKey:w}),n.setCAAuthData({isProtectDialog:1}),n.saveDataToStorage(w),void Q(t)}if(m==N.QYS&&2==y){return n.setCAAuthData({isProtectDialog:1}),void(0,D.showAuthDialog)(N.SECOND_AUTH_DIALOG)}}if(1==h&&(m==N.CA_AUTH||1==y&&m==N.QYS)&&r.changeSubmitParam({authKey:g,isProtectSuccess:f}),m==N.QYS||p==N.QYS){var _=n.params,S=_.qysSealId,I=_.qysSealImg,k=_.qysCertDetails;r.changeSubmitParam({qysSealId:S,qysSealImg:I,qysCertDetails:k,qysSignWay:y})}r.changeSubmitParam({protectType:m,secondAuthType:p,isAuthSuccess:c});var C=t.src;"requestOperation"==t.actiontype&&"submit"==C&&H(),(0,E.verifyRemark)({needCheck:!0,needPrompt:!1}),Q(t)}else{var x=t.src;(0,q.getSecondAuthConfig)({workflowid:i,nodeid:a,requestid:l,src:x}).then(function(c){var f=c.isEnableAuth,d=void 0===f?0:f,p=c.secondAuthType,h=void 0===p?0:p,m=c.isEnableProtect,v=void 0===m?0:m,g=c.protectType,b=void 0===g?0:g,y=c.qysSignWay,w=void 0===y?2:y,_=c.authOperations,S=void 0===_?[]:_,E=c.message,I=void 0===E?"":E,k=c.success,C=(0,M.getAntd)(),x=C.Modal;if("0"==k&&I)return void x.warning({content:I,okText:(0,M.getLabel)(83446,"确定"),showClose:!1});if((0,D.filterRequestAction)(t,o,S))if(n.setDialogData({isEnableAuth:d,secondAuthType:h,isEnableProtect:v,protectType:b}),1==d)if(h==N.REAL_ID_AUTH){var O={mouldCode:"WORKFLOW",itemCode:"NODE_SUBMIT",requestid:l,workflowid:i,nodeid:a};window.doCheckSecondaryVerify4ec(O,function(e){if("-1"===e.status)return void n.setIsSubmitDirect(0);Q(t),n.setSecondAuthPop()})}else{if(n.setCallbackParam(t),n.setParams(c),1==v&&(h==N.CA_AUTH&&b==N.CA_AUTH||h==N.QYS&&b==N.QYS&&1==w)){var P=l+"_"+s+"_"+u+"_"+(new Date).getTime();return r.changeSubmitParam({isCAAuth:1,CAKey:P}),n.setCAAuthData({isProtectDialog:10}),n.saveDataToStorage(P),void Q(t)}if(h==N.QYS&&1==v&&b==N.QYS&&2==w){n.setCAAuthData({isProtectDialog:10})}n.setCallbackFunc(e),h==N.QYS&&1==w?window.QYSUKeyUtil.showSignWin(n):(0,D.showAuthDialog)(N.SECOND_AUTH_DIALOG)}else if(1==v){if(n.setCallbackParam(t),n.setParams(c),b==N.CA_AUTH||b==N.QYS&&1==w){var A=l+"_"+s+"_"+u+"_"+(new Date).getTime();return r.changeSubmitParam({isCAAuth:1,CAKey:A}),n.setCAAuthData({isProtectDialog:1}),n.saveDataToStorage(A),void Q(t)}if(b==N.QYS&&2==w){n.setCAAuthData({isProtectDialog:1})}n.setCallbackFunc(e),(0,D.showAuthDialog)(N.SECOND_AUTH_DIALOG)}else Q(t);else Q(t)})}},Q=function(e){var t=d.default.globalStore,r=d.default.layoutStore,n=t.btnDisabled,o=t.setBtnDisabled;if(n)return!1;o(!0),t.setLoading(!0),"function"==typeof startUploadAll&&startUploadAll();var i=setInterval(function(){var n=r.mainData,a=r.fieldAttrMap,l=new Array;n.forEach(function(e,t){var r=t.substring(5);if(a.has(r)){var n=a.get(r),o=e.variable;6===n.htmltype&&o.has("fileUploadStatus")&&l.push(o.get("fileUploadStatus"))}});var s=l.filter(function(e){return"uploaded"!==e}),u=l.filter(function(e){return"uploading"===e}),c=l.filter(function(e){return"error"===e});0===u.length&&c.length>0&&(clearInterval(i),o(!1),t.setLoading(!1)),0===s.length&&(J(e),clearInterval(i))},100)},K=function(e,t){return new s.default(function(r,n){var o=e.type,i=void 0===o?"":o,a=e.isaffirmance,l=void 0===a?"":a,s=e.src,u=void 0===s?"":s,c=e.isaffirmanceSrc,f=d.default.globalStore,p=f.commonParam,h=p.openNodeCheck,m=p.isremark,v=p.iscreate,g=f.setBtnDisabled,b=f.setLoading,y=d.default.conformRuleStore.hasCheckedConformRule;h&&"0"==m&&"reject"!=u&&("save"==u&&"1"==l&&"reject"!=c||"submit"==u&&!y&&5!=m||"save"!=i&&!y&&5!=m||"ensuresubmit"==i&&!y)||h&&"1"==v&&"save"!=i&&!y?((0,z.conformRule)(t),g(!1),b(!1),n()):r()})},J=t.doSubmitPost=function(e){R.verifyLinkageFinished(function(){var t=function(){var t=e.src,r=e.actiontype,n=e.isAddSign,o=void 0===n?0:n,i=e.saveCallFun,l=e.needwfback,s=e.saveType;delete e.saveCallFun,(0,E.setRemarkContent)({isAddSign:o});var u=d.default.globalStore,f=u.browserVersion,p=u.commonParam,m=u.submitParam,g=u.rightMenu,y=u.changeSubmitParam,w=p.signatureAttributesStr,_=p.signatureSecretKey,S=p.selectNextFlow,I=p.openDataVerify,k=p.requestid,O=(g.isFree,ce()),F=de(),R=null,T=I;"1"==T&&null==(R=me())&&(T="0");var D=(0,P.default)({},R,m,F,e,O,{src:t,signatureAttributesStr:w,signatureSecretKey:_,selectNextFlow:S},{openDataVerify:T});1==o&&(D.selectNextFlow=0),"-1"!==k&&(D.requestid=k),u.setLoading(!0);var j=(new Date).getTime();h.reqOperate(r,D).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={src:t,actiontype:r,result:n};u.controlDialogVisible(x.CONFORM_RULE,!1),(0,A.verifyCustomRegisterEvent)(B.default.OPER_APIRETURN,function(){var o=(new Date).getTime()-j;if(!p.belongTest)try{var g={url:window.location.href,moduleType:6,clientType:f,allTc:o,param:(0,a.default)(D)};h.writeDurationTimeInfo(g)}catch(e){}var w=n.data,_=n.errorInfo,S=void 0===_?"系统错误，请联系管理员！":_,E=n.errorType,I=void 0===E?"":E;if(w){var k=w.type,x=w.resultInfo,O=void 0===x?{}:x,P=w.testParams,F=void 0===P?{}:P,R=parseInt(m.requestid)<=0?O.requestid:m.requestid;if(e.continuationSwitchType&&"save"==t&&"SUCCESS"===k)return void b.switchRequest(e.continuationSwitchType);var T=function(){delete O.pcUrl,delete O.mobileUrl;var e={};e=3==O.isShowChart&&"intervenor"==t?(0,c.default)({},F,O,{saveType:s,isintervenor:1}):(0,c.default)({},F,O,{saveType:s}),e=(0,c.default)({},e,{isaffirmance:0}),"intervenor"==t&&"FAILD"===k?(0,M.getAntd)().Modal.warning({title:(0,M.getLabel)(15172,"系统提示"),content:React.createElement("div",{dangerouslySetInnerHTML:{__html:w.messageInfo?w.messageInfo.detail?w.messageInfo.detail:w.messageInfo.title:S}}),okText:(0,M.getLabel)(826,"确定"),onOk:function(){v.closeRequestPage(!1,{requestid:R})}}):"save"==t?(0,A.verifyCustomRegisterEvent)(B.default.OPER_SAVECOMPLETE,function(){v.reloadRequestPage(e,!1)},n):v.reloadRequestPage(e,!1)};if("requestOperation"==r&&"save"==t&&!0===e.closePage)return void v.closeRequestPage(!1,{requestid:R});if("requestOperation"==r&&"save"==t&&i)return void i();if(!0===F.belongTest)try{window.parent.window.workflowAutoTestUtil.returnStatus(k,R)}catch(e){window.console}if(y(w.submitParams),"FAILD"===k)T();else if("SUCCESS"===k){$();var L=function(e,r){var n={};n[C.HANDLE_REMIND]=!0,n[C.SUBMIT_TYPE]=t,n.callBackActions=r,u.updateCommonParam("requestid",e),u.batchControlVariableMap(n)},N=(O.isaffirmance,O.isNextNodeOperator),q=void 0!==N&&N,W=O.isShowChart,z=void 0===W?"0":W,U=O.isCAAuth,H=void 0===U?"0":U,G=O.needRemind,Q=void 0!==G&&G;"1"!=O.selectNextFlow||"save"==t&&"1"!=O.isaffirmance||"reject"==O.isaffirmanceSrc||"reject"==t?"1"!=O.isaffirmance&&"requestOperation"==r&&"save"==t||q||"1"==H?(q&&Q?L(R,function(){T()}):T(),q&&v.reloadListPage()):"1"==O.isaffirmance?(q&&Q?L(R,function(){X(w)}):X(w),q&&v.reloadListPage()):!0===F.belongTest?v.reloadRequestPage(F,!1):Q?(L(R,function(){"1"===z&&v.showChart({requestid:R,sessionkey:O.sessionkey}),"0"===z&&v.closeRequestPage(!1,{requestid:R,source:"submit"}),"3"===z&&T()}),v.reloadListPage()):"1"===z?(u.setCloseNeedPrompt(!1),v.reloadListPage(),v.showChart({requestid:R,sessionkey:O.sessionkey})):"3"===z?(u.setCloseNeedPrompt(!1),v.reloadListPage({needReloadList:!0}),T()):v.closeRequestPage(!1,{requestid:R,source:"submit"}):D.nodeid&&w.messageInfo&&(D.nodeid!=w.messageInfo.nodeIds||w.messageInfo.hasPassThisNode)&&!D.SubmitToNodeid?Y(w):V({src:"submit",actiontype:"requestOperation",selectNextFlow:"1",selectNodeFlowNodeCanFlowNextNode:!1})}else if("SEND_PAGE"===k){var K=w.sendPage;v.gotoPage(K,{requestid:R})}else if("WF_LINK_TIP"===k){var J=O.msgcontent||"";J=J.replace(/\\n/gi,"</br>");var Z=u.controlVariableMap,te=u.variableMap;Z("wflinkTipOkCount",0),(0,M.getAntd)().Modal.confirm({content:React.createElement("div",{dangerouslySetInnerHTML:{__html:J}}),title:(0,M.getLabel)(131329,"信息确认"),okText:(0,M.getLabel)(826,"确定"),cancelText:(0,M.getLabel)(201,"取消"),onOk:function(){0==te.get("wflinkTipOkCount")&&(Z("wflinkTipOkCount",1),y({isFirstSubmit:1,requestid:O.requestid}),V({src:t,actiontype:"requestOperation",needwfback:l}))},onCancel:function(){d.default.conformRuleStore.setHasCheckedConformRule(!1)}})}else if("R_CHROSE_OPERATOR"===k){var re=O.needChooseOperator,ne=O.ehnextnodeid;"y"==re&&ee(ne)}else"DELETE"===k?(v.reloadListPage(),(0,M.getAntd)().Modal.warning({content:O.label,okText:(0,M.getLabel)(826,"确定"),title:(0,M.getLabel)(131329,"信息确认"),cancelText:(0,M.getLabel)(201,"取消"),showClose:!1,onOk:function(){v.closeRequestPage(!1,{source:"delete"})}})):"ASYNC_SUBMIT"===k&&v.closeRequestPage(!1,{source:"submit"})}else if(""===I){var oe=(0,M.getAntd)(),ie=oe.Modal;ie.error({content:S,okText:(0,M.getLabel)(826,"确定"),title:(0,M.getLabel)(15172,"系統提示")})}u.setLoading(!1),u.setBtnDisabled(!1)},o)})};K(e,t).then(t)})},$=function(){(0,d.default.globalStore.controlDialogVisible)(x.FREE_WORKFLOW_SIMPLE,!1)},Y=function(e){var t=d.default.selectNextFlowStore,r=d.default.globalStore,n=r.changeSubmitParam,o=(e.testParams,(0,M.getAntd)()),i=o.message;t.setBaseParams(r.baseParam);var a=r.commonParam;-1==a.requestid&&(a.requestid=e.resultInfo.requestid),t.setCommonParams(a),t.setNextNodeIds(e.messageInfo.nodeIds),e.messageInfo.nodeIds&&t.setCanFlowNextNode(!0),t.setConfirmEvent(function(e){n(e),U({src:"submit",actiontype:"requestOperation",isSelectNextFlow:"1"}),r.controlDialogVisible(x.SELECT_NEXTFLOW,!1),i.destroy()}),t.setCancelEvent(function(){v.reloadRequestPage({requestid:e.resultInfo.requestid},!0),r.controlDialogVisible(x.SELECT_NEXTFLOW,!1)}),r.controlDialogVisible(x.SELECT_NEXTFLOW,!0)},X=function(e){var t=d.default.ensureSubmitStore,r=d.default.globalStore,n=d.default.smartGuessWfStore,o=r.setPromptInfo,i=r.controlDialogVisible,a=(0,M.getAntd)(),l=a.message;r.commonParam.requestid=e.submitParams.requestid;var s=r.commonParam,u=e.resultInfo&&e.resultInfo.isaffirmanceSrc||"submit";o(e.messageInfo),n.init((0,c.default)({},s,e.submitParams)),Z(function(){i(x.ENSURE_SUBMIT,!0),t.setConfirmEvent(function(){U({src:u,actiontype:"requestOperation",type:"ensuresubmit"}),r.controlDialogVisible(x.ENSURE_SUBMIT,!1),l.destroy()}),t.setCancelEvent(function(){d.default.conformRuleStore.setHasCheckedConformRule(!1),r.controlDialogVisible(x.ENSURE_SUBMIT,!1)})},e.insertDetailDatasInfo)},Z=function(e,t){var r=d.default.globalStore,n=d.default.layoutStore,o=r.commonParam,i=n.detailMap,a="";i.keys().map(function(e){a+=e+","}),""!==a&&(a=a.substring(0,a.length-1));var l="1"==o.iscreate;if(""===a||l||(l=a.split(",").some(function(e){var t=i.get(e),r=t.rowInfo;return t.indexnum>0&&r.keys().some(function(e){var t=r.get(e);return!t.get("keyid")||t.get("keyid")<=0})})),""!==a&&l){var s=function(e,t){return e.substring(4)-t.substring(4)};i.keys().map(function(e){var r=t[e],o=i.get(e),a=o.rowInfo,l=o.indexnum,u=[];l>0&&a.keys().sort(s).map(function(t,o){var i=mobx.toJS(a.get(t));i.keyid&&0!=i.keyid||-1!=u.indexOf(i.keyid)?u.push(i.keyid):n.detailMap.get(e).rowInfo.get(t).set("keyid",r[o-u.length])})}),e()}else e()},ee=function(e){var t=d.default.globalStore,r=d.default.ehOperatorStore,n=t.changeSubmitParam,o=t.commonParam,i=void 0===o?{}:o,a=t.secLevelInfo,l=void 0===a?{}:a;r.setBaseParams({ehnextnodeid:e,requestid:i.requestid,secLevel:l.secLevel}),r.setCallBackEvent(function(e){t.controlDialogVisible(C.CHOOSE_EXCEPTION_OPERATOR,!1),n(e),V({src:"submit",actiontype:"requestOperation"})}),t.controlDialogVisible(C.CHOOSE_EXCEPTION_OPERATOR,!0)};window.chooseExceptionOperator=ee;var te=t.verifyCustomFun=function(e,t){var r=!0;return"submit"!==e&&"1"!==t||"function"==typeof checkCustomize&&(r=checkCustomize()),r},re=function(e){var t=d.default.globalStore.conflictFieldInfo;for(var r in t)if(e.has(r)){if(e.get(r).hasConfirm)continue;return!1}return!0},ne=t.verifyIntervenorInfo=function(e){var t=e.submitNodeId,r=void 0===t?"":t,n=e.Intervenorid,o=void 0===n?"":n,i=e.Intervenorid_crm,a=void 0===i?"":i,l={type:1};return 0===k.trim(r).length&&(l.type=0,l.msg=(0,M.getLabel)(386188,'"流转至节点"未填写')),0===k.trim(o).length&&0===k.trim(a).length&&(l.type=0,l.msg=(0,M.getLabel)(386189,'"流转至节点操作者"未填写')),l},oe=t.verifyMustAddDetail=function(){var e="";return d.default.layoutStore.detailMap.forEach(function(t,r){var n=t.attr,o=t.rowInfoArr;if(1===n.isadd&&1===n.isneed&&0===o.length&&""===e){var i=parseInt(r.replace("detail_",""))-1,a=window.jQuery("#oTable"+i).closest(".wf-detail").closest("tr");if(a.length>0&&"none"!==a.css("display"))return e=r,!1}}),""===e||(v.showPrompt(e,3),!1)},ie=t.verifyRequiredEmptyField=function(){var e="",t=d.default.layoutStore,r=t.fieldAttrMap,n=t.cellInfo,o=(t.mainData,t.detailMap),i=t.variableMap,a=[],l=/^field\d+_viewAttr$/;i.forEach(function(e,t){if(l.test(t)){var r=t.match(/\d+/)[0];if(4===e)a.push(r);else if(5===e){var o=k.get(n,["fieldCellInfo",r,"rowMark"]);o&&o.split(",").forEach(function(e){var t=k.get(n,["mainRowFields",e])||[];a=a.concat(t)})}}});var s={};o.forEach(function(e,t){var r=e.attr,n=e.rowInfo,o="";n.forEach(function(e,t){var n=e.has("keyid")?parseInt(e.get("keyid")):-1;(n<=0||n>0&&1===r.isedit)&&(o+=t.substring(4)+",")}),""!==o&&(o=o.substring(0,o.length-1)),s[t]=o});var u=[],c="field-9999,",f=n.fieldCellInfo||{};k.forIn(f,function(e,t){var n=e.orderid||0;if(!r.has(t))return!0;var o=r.get(t),i=o.isDetail,l=o.tableMark,f=o.htmltype;o.detailtype;if(4===f||7===f||8===f||9===f||"-9"===t||!i&&k.indexOf(a,t)>-1)return"";if(6===f&&0===k.get(o,["fileattr","catelogType"])&&""===k.trim(k.get(o,["fileattr","docCategory"])))return"";if(!i&&jQuery(".field"+t+"_swapDiv").length>0){var d=jQuery(".field"+t+"_swapDiv");if(d.is(".filter_required")||d.closest("tr").is(".filter_required"))return""}var p=i?s[l]:"-1";!!p&&p.split(",").map(function(e){var r=i?"field"+t+"_"+e:"field"+t,a=w.getFieldObj(r,l),s=a.variable,f=!1;(f=s.has("viewAttr")&&s.get("viewAttr")>0?3===s.get("viewAttr"):3===o.viewattr)&&(u.push({fieldid:t,rowIndex:e,orderid:n+parseInt(i?e:0),fieldObj:a,fieldAttr:o}),c+=r+",")})}),u=u.sort(function(e,t){return e.orderid-t.orderid}),d.default.globalStore.changeSubmitParam({verifyRequiredRange:c});for(var p="",h="",m=0;m<u.length;m++){var v=u[m],g=v.fieldid,b=v.rowIndex,y=v.fieldObj,_=v.fieldAttr,E=_.htmltype,I=_.detailtype,C=_.isDetail,x=_.tableMark,O=C?"field"+g+"_"+b:"field"+g,P=y.value;if(-4==g?P=window.CK_REF.remark.getData()||"":-10==g?(P=(0,j.getSecAndValidity)(),P.includes("#")&&P.endsWith("#")&&(P="")):2===E&&2===I&&window.FORM_CK_REF&&window.FORM_CK_REF["field"+g]&&(P=window.FORM_CK_REF["field"+g].getData()||"",P=P.replace(/<p>/gi,"").replace(/<\/p>/gi,"").replace(/ /gi,"").replace(/&nbsp;/gi,"").replace(/<br \/>/gi,"")),""===(P=k.trim(P))){e=O,p=x,h=b;break}}if(p.indexOf("detail")>-1){S.getDetailObj(p).jumpPageByRowIndex(h)}return e},ae=t.verifyRequiredEmptyOtherParams=function(){var e=d.default.globalStore,t=e.commonParam,r=e.submitParam,n=t.showFreeWfSimpleCom,o={};if(0!=n){var i=d.default.freeWflowSimpleStore.conditionData,a=void 0===i?{}:i,l=!1,s=a.conditioninfo,u=void 0===s?[]:s;if(u[0]){var c=u[0].items;(void 0===c?[]:c).map(function(e){"nodeOperator"===e.domkey[0]&&3==e.viewAttr&&(l=!0)}),Number(r.isToNewAddSign)<2&&""==r.operatorids&&l&&(o.scrollDom=".wf-req-freeWorkflowSimple",o.msg=(0,M.getLabel)(512971,"请选择节点操作者"))}}return o},le=t.verifyRequestNameIsEmpty=function(){var e=d.default.layoutStore.mainData,t=e.has("field-1")?e.get("field-1").value:"";return""===k.trim(t)},se=t.verifySecLevelIsEmpty=function(){var e=d.default.globalStore.secLevelInfo,t=void 0===e?{}:e,r=t.secLevel,n=t.secValidity;return""===k.trim(r)||(1==r||2==r)&&""===k.trim(n)},ue=t.verifySecLevelIsFormat=function(){var e=d.default.layoutStore,t=e.fieldAttrMap,r=e.cellInfo,n=d.default.globalStore.secLevelInfo,o=void 0===n?{}:n,i=o.secLevel,a=o.secValidity,l=t.has("-10")&&t.get("-10").viewattr||0,s=o.canSecChange&&l>1?3:1;return!(!k.has(r,["fieldCellInfo","-10"])||!s||1!=i&&2!=i||!a||!/^\d*$/gi.test(a))},ce=t.generateFormData=function(){var e={},t=0,r=0,n=d.default.layoutStore,o=n.fieldAttrMap,i=n.mainData,a=n.detailMap,l=n.existChangeRange;e.existChangeRange=l.join(","),i.forEach(function(r,n){var i=n.substring(5),a=w.convertSystemFieldName(n);if(window.FORM_CK_REF&&window.FORM_CK_REF[a]?window.FORM_CK_REF[a]?e[a]=window.FORM_CK_REF[a].getData():e[a]=r.value:(fe(e,o,i,r,-1),e[a]=r.value),parseInt(i)>0&&""!=e[a]&&t++,o.has(n.substring(5))){var l=o.get(n.substring(5));if(3===l.htmltype&&17===l.detailtype){for(var s=w.buildMultiUserGroupInfo(r),u=s.groupnum,c=0;c<u;c++)"group_"+c in s&&(e[a+"group"+c]=s["group_"+c]);e[a+"groupnum"]=u}}}),e["field-10"]=(0,j.getSecAndValidity)();var s={};return a.forEach(function(t,n){var i=parseInt(n.substring(7))-1,a=t.indexnum,l=t.deldtlid,u=t.detailData,c=t.rowInfo,f=t.fieldInfo,d=new Array,p=0;c.forEach(function(t,n){p++;var a=n.substring(4);d.push(a),t.has("keyid")&&(e["dtl_id_"+i+"_"+a]=t.get("keyid")),k.forIn(f,function(e,t){var n="field"+t+"_"+a;if(u.has(n)){var i=u.get(n),l=i.value;s[n]=l,""!=l&&r++,fe(s,o,t,i,a)}})}),e["nodesnum"+i]=p,e["indexnum"+i]=a;var h="";d.sort(function(e,t){return parseInt(e)-parseInt(t)}).map(function(e){h+=e+","}),e["submitdtlid"+i]=h,e["deldtlid"+i]=l}),e.mainFieldUnEmptyCount=t,e.detailFieldUnEmptyCount=r,(0,c.default)({},e,s)},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=arguments[2],n=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,i=t.get(r);if(i&&3===i.htmltype&&(161===i.detailtype||162===i.detailtype)){var a=n.specialobj||[];if(a&&a.length>0){var l=[];a.forEach(function(e,t){l.push(e.name)});var s="field"+r+"name";o>-1&&(s="field"+r+"_"+o+"name"),e[s]=l.join("##~~@@~~##")}}},de=(t.generateFreeNodeData=function(e){var t={};return"1"==e&&jQuery(".freeNode").find("input").map(function(e,r){t[r.name]=r.value}),t},t.getRemarkQuoteData=function(){var e=d.default.globalStore,t=e.submitParam,r=e.variableMap,n=e.dialogVisible,o=t.remark||"",i=mobx.toJS(r.get("remark_list")||{});n.has(x.FREE_WORKFLOW_SIMPLE)&&n.get(x.FREE_WORKFLOW_SIMPLE)&&(i=mobx.toJS(r.get("remark_list_freeWorkflowSimple")||{}));var a=[];k.forIn(i,function(e,t){a.push(e)});var l=a.length>0?a.join("")+"\n"+o:o,s=o;return a&&a.length>0&&(s+="~~@#@$#$@#@~~"+a.join("~~~~@@@@~~~~@@@@@~~~~")),{remark:l,remarkquote:s}}),pe=function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],d.default.globalStore.changeSubmitParam);e({flowToNextFreeNode:"0"});var t=(0,M.getAntd)(),r=t.Radio,n=r.Group;return React.createElement("div",null,React.createElement("div",null,(0,M.getLabel)(507410,"请选择流转路径")+":"),React.createElement("div",{style:{marginTop:"10px"}},React.createElement(n,{ecId:"_RadioGroup@thusyj",onChange:function(t){return e({flowToNextFreeNode:t.target.value})},defaultValue:"0"},React.createElement(r,{ecId:"_Radio@1f0s3u",value:"0"},(0,M.getLabel)(507411,"流转至下一节点")),React.createElement(r,{ecId:"_Radio@o2uufy",value:"1"},(0,M.getLabel)(507412,"进入加签环节")))))},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("1"==arguments[2])return!1;if(!("submit"==e&&!t||"save"==e&&t))return!1;var r=d.default.globalStore,n=r.commonParam,o=r.variableMap,i=r.submitParam,a=n.isNeedFlowFreeNodeTips,l=void 0!==a&&a,s=i.SubmitToNodeid,u=void 0===s?"":s;return!(u>0||u<-1)&&(o.has("isNeedFlowFreeNodeTips")&&(l=o.get("isNeedFlowFreeNodeTips")),l&&o.has("wflinkTipOkCount")&&(l=0==o.get("wflinkTipOkCount")),l)},me=function(){var e={};try{for(var t=d.default.globalStore.commonParam.wfFormFieldChangeCfg,r=window.wfform,n=r.getGlobalStore().commonParam.modeid,o=[],i=0;i<t.length;i++){var l=r.getFieldInfo(t[i].fieldid),s=l.isDetail,u=(l.tableMark,l.viewattr),c=t[i].type;if(!s){var f=(0,T.getFieldStepInfo)(t[i].fieldid),p=(0,T.getLinkageInfo)([t[i].fieldid]),h=(0,T.getFirstStepData)(f,s),m=(0,T.getLastStepData)(f,s),v={};v.fieldId=parseInt(t[i].fieldid),v.linkageCfgInfo=p,v.firstStepData=h,v.lastStepData=m,v.stepInfo=f,v.dbViewAttr=u,v.isDetail=s,v.controlType=c,v.fieldCurAttr=r.getFieldCurViewAttr("field"+t[i].fieldid),o.push(v)}}return e.checkParamsStr=(0,a.default)({checkParamsArr:o}),e.checkSecret=__WEAVEREncrypt__.getKey(),e.checkParamsStr=__WEAVEREncrypt__.weaver_encrypt(e.checkParamsStr),e.modeId=n,e}catch(e){return null}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDynamicFieldValueSrc=t.buildCellAttr=t.getRowAttr=t.getMcCellAttr=t.getCellAttr=t.judgeDetailContainColHide=t.judgeCellBelRowSpan=t.parseLayoutImage=t.convertEcMap=t.convertColHeads=t.convertRowHeads=void 0;var o=r(7),i=n(o),a=r(35),l=n(a),s=r(26),u=n(s),c=r(1),f=n(c),d=r(10),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),h=r(25),m=n(h),v=r(39),g=n(v),b=(t.convertRowHeads=function(e){var t=[];return p.forIn(e,function(e,r){t.push({id:r.substring(4),height:e+"px"})}),t=t.sort(function(e,t){return parseInt(e.id)-parseInt(t.id)})},t.convertColHeads=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};"undefined"===typeof o&&(o=!1);var l=2===r,s=t.indexOf("detail_")>-1,u="main"===t,c=!1,f=!1,d=0,h=0;p.forIn(e,function(e,t){e=e.toString(),("0%"===e||e.indexOf("*")>-1)&&(e="*"),e.indexOf("*")>-1?f=!0:e.indexOf("%")>-1?(c=!0,h+=parseFloat(e.replace("%",""))):(s&&o&&a&&a[t]&&"y"===a[t].hide&&(e="0"),d+=parseFloat(e))});var v=!1;!f&&(t.indexOf("tab_")>-1||l&&u||s&&!o)&&(v=!0);var g=m.default.globalStore,b=g.urlParams,y=void 0===b?{}:b,w=g.baseParam;1===r&&u&&"true"===y.isBatchPrint&&(v=!0,!f&&!c&&d<=1e3&&window.jQuery("iframe#request_"+w.requestid,window.parent.document).width(d+20)),n.width=c||f||v?"100%":u||o?d+"px":"auto";var _=100;!s||o||i||(_=94);var S=[];return p.forIn(e,function(e,t){e=e.toString();var r="0%"===e||e.indexOf("*")>-1?"*":e;v&&-1===r.indexOf("%")&&(r=parseFloat(r)/d*(_-h),r=r.toFixed(2)+"%"),-1===r.indexOf("%")&&"*"!==r&&(r+="px"),S.push({id:t.substring(4),width:r})}),S=S.sort(function(e,t){return parseInt(e.id)-parseInt(t.id)})},t.convertEcMap=function(e){var t={};return e&&e.map(function(e){t[e.id]=e}),t},t.parseLayoutImage=function(e,t,r){e.backgroundImage&&(t["background-image"]="url("+b(e.backgroundImage)+")",t["background-repeat"]="no-repeat");var n=e.floatingObjectArray&&e.floatingObjectArray.floatingObjects;if(n){var o=new Array;n.map(function(e){var t={width:e.width,height:e.height,top:e.y,left:e.x};o.push(f.default.createElement("img",{src:b(e.src),className:"floatImg",style:t}))});var i=(0,u.default)(e.colheads).length;r.push(f.default.createElement("tr",{style:{height:"0px"}},[f.default.createElement("td",{colSpan:i,className:"floatImgTd"},o)]))}},function(e){if(!e)return e;var t=window.ecologyContentPath||"";return""!==t&&(e=e.replace(new RegExp("(?<!"+t+")/workflow/exceldesign/image/","ig"),t+"/workflow/exceldesign/image/")),e}),y={},w=(t.judgeCellBelRowSpan=function(e,t,r,n){var o=e+"_"+t+"_"+r;if(o in y)return y[o];for(var i=!1,a=r;a>=0&&!i;a--)for(var l=t-1;l>=0&&!i;l--){var s=n[l+","+a],u=s?s.rowspan||1:0,c=s?s.colspan||1:0;u>1&&u>=t-l+1&&c>=r-a+1&&(i=!0)}return y[o]=i,i},t.judgeDetailContainColHide=function(e){var t=!1;return p.forIn(e,function(e,r){if(e&&"y"===e.hide)return t=!0,!1}),t},t.getCellAttr=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={},i={},a={},s="",u=e&&e.financial;u&&u.indexOf("2-")>-1&&(i.height=r+"px",a.height="100%",a.padding="0px"),t&&"y"===t.hide&&(!n||n&&"1"!=t.isDetailCardShow)&&(s+=" detail_hide_col"),t&&t.class&&(s+=" "+t.class);var c=e&&e.attrs;c&&c.class&&(s+=" "+c.class+"_swap");var f=e&&e.font||{};return s+=" td_textalign_"+("object"===("undefined"===typeof f?"undefined":(0,l.default)(f))&&f["text-align"]||"left"),c&&w(o,c,a),o.tdStyle=i,o.tdClass=p.trim(s),o.divStyle=a,o},t.getMcCellAttr=function(e){var t={},r={},n=e&&e.attrs;return n&&w(t,n,r),t.spanStyle=r,t},t.getRowAttr=function(e,t){var r={};r.id=t?t.id:"",r.name=t?t.name:"",r.trClass=t?t.class:"";var n={};n.height=e,t&&"y"===t.hide&&(n.display="none"),t&&t.style&&_(n,t.style),r.trStyle=n;var o={};if(t&&"object"===("undefined"===typeof t?"undefined":(0,l.default)(t))){var a=(0,i.default)({},t);delete a.id,delete a.name,delete a.class,delete a.hide,delete a.style,o=(0,i.default)({},a)}return r.cusobj=o,r},function(e,t,r){!p.isEmpty(t)&&p.forIn(t,function(t,n){"hide"===n?"y"===t&&(r.display="none"):"id"===n||"name"===n||"class"===n||"title"===n?e["cus"+n]=t:"style"===n?_(r,t):e["data-"+n.toLowerCase()]=t})}),_=function(e,t){for(var r=t.split(";"),n=0;n<r.length;n++){var o=r[n],i=o.split(":");i.length>=2&&(e[i[0]]=i[1])}return e};t.buildCellAttr=function(e,t,r){var n={};if(t&&(n.className=t),r&&(n.style=r),!e)return n;for(var o in e){var i=e[o];"cusid"===o||"cusname"===o||"custitle"===o?n[o.replace("cus","")]=i:o.length>5&&"data-"===o.substring(0,5)&&(n[o]=i)}return n},t.getDynamicFieldValueSrc=function(e,t){var r=t;return p.forEach(e,function(e){var t="\\$\\["+e+"\\]\\$";r=r.replace(new RegExp(t,"gm"),g.default.getFieldValue(g.default.convertFieldNameToId(e)))}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!==typeof window,o=t.toLnglat=function(e){if(!e)return e;if("getLng"in e&&"getLat"in e)return e;var t=0,r=0;return"[object Array]"==={}.toString.call(e)?(t=e[0],r=e[1]):"lng"in e&&"lat"in e?(t=e.lng,r=e.lat):"longitude"in e&&"latitude"in e&&(t=e.longitude,r=e.latitude),n?new window.AMap.LngLat(t,r):null},i=t.toPixel=function(e){if(!e)return e;if("getX"in e&&"getY"in e)return e;var t=0,r=0;return"[object Array]"==={}.toString.call(e)?(t=e[0],r=e[1]):"x"in e&&"y"in e&&(t=e.x,r=e.y),n?new window.AMap.Pixel(t,r):null},a=t.toSize=function(e){return e?"getWidth"in e?e:n?new window.AMap.Size(e.width,e.height):null:e};t.default={toLnglat:o,toPixel:i,toSize:a}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){"use strict";var n=r(303)(!0);r(136)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(61);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(72),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){e.exports={default:r(149),__esModule:!0}},function(e,t,r){var n=r(334),o=r(155),i=r(341),a=r(342),l=r(343),s=r(64),u=r(205),c=u(n),f=u(o),d=u(i),p=u(a),h=u(l),m=s;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||l&&"[object WeakMap]"!=m(new l))&&(m=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,r){var n=r(43),o=n.Symbol;e.exports=o},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t,r){function n(e){return a(e)?o(e):i(e)}var o=r(217),i=r(152),a=r(54);e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLength=t.realLength=t.convertAmountChinese=t.convertFloatValue=t.judgeIsExponential=t.judgeIsNumber=void 0;var n=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=(r(10),t.judgeIsNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e||"undefined"===typeof e)return!1;e=e.toString().trim();var r=/^(-?\d+)(\.\d+)?$/,n=/^(-?)0\d+/,o=r.test(e);return o&&t&&n.test(e)&&(o=!1),a(e)&&(o=!0),o}),a=t.judgeIsExponential=function(e){return null!==e&&"string"===typeof e&&(-1!==e.indexOf("E")||-1!==e.indexOf("e"))&&/^-?\d+(\.\d+)?[E|e][+|-]\d+$/.test(e)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return a(e)?e.indexOf("+")>-1?Number(e).toString():Number(e).toFixed(t):e},s=t.convertFloatValue=function(e,t,r,n){if(i(e)||(e=e.trim()),!i(e))return e;e=e.toString(),e=l(e,t);var o="";if(0===t)o=Math.round(parseFloat(e)).toString();else{var a=e.indexOf("."),s=a>-1?e.substr(a+1).length:0;if(s>t?(o=u(e,t).toString(),o=l(o,t)):o=e,a=o.indexOf("."),s=a>-1?o.substr(a+1).length:0,t>s){-1==a&&(o+=".");for(var c=0;c<t-s;c++)o+="0"}}var f=o.indexOf("."),d=f>-1?o.substring(0,f):o;d=d.replace(/^(-?)(0+)(\d+)/,"$1$3");var p=f>-1?o.substring(f):"";if(!0===n&&(d=Math.abs(d).toString()),!0===r)for(var h=/(-?\d+)(\d{3})/;h.test(d);)d=d.replace(h,"$1,$2");return o=d+p};window.convertFloatValue=s;var u=function(e,t){if(t<=0||!i(e))return e;window.___Calculate&&(e=parseFloat(e).toString());var r=e.indexOf("."),n=r>-1?e.substr(r+1).length:0,o="";if(r>15)if(n>t){var a=r+1+t;o=e.substring(0,a)}else o=e;else{var l=Math.pow(10,t);o=0!=n?Number(e)>0?Math.round(parseFloat(e)*l+.5*Math.pow(10,-n))/l:-Math.round(parseFloat(Math.abs(e))*l+.5*Math.pow(10,-n))/l:Number(e).toFixed(t)}return o},c=t.convertAmountChinese=function(e){if(!i(e))return"";var t="元",r=o.default.globalStore.commonParam,n=o.default.layoutStore.propFileCfg;n&&"1"===n.amount_convert_unit&&(t="圆"),"string"===typeof e&&(e=parseFloat(e));var a="";if(e<0&&(a="负",e=Math.abs(e)),e>Math.pow(10,12))return"";for(var l="零壹贰叁肆伍陆柒捌玖",s=new Array("拾佰仟","分角"),u=["拾","佰","仟","万","亿"],c=new Array("9"==r.languageid?"萬億萬":"万亿万",""),f=e.toString().split("."),d=new Array(f[0].length-1,2),p=0;p<f.length;p++){for(var h="",m=0;4*m<f[p].length;m++){var v=f[p].length-4*(m+1),g=f[p].substring(v,v+4),d=p?2:g.length-1,b=function(e,t){var e=e.replace(/\d/g,function(e){return l.charAt(e)+s[t].charAt(d--%4?d%4:-1)});return e}(g,p);b=b.replace(/(零.)+/g,"零").replace(/零+$/,"");var y=b.charAt(b.length-1),w=s[0];1==m&&""!=h?h=-1!=w.indexOf(y)||""==b?"零"==h.charAt(0)?b+c[p].charAt(m-1)+h:u.indexOf(h.charAt(h.length-1))-u.indexOf(c[p].charAt(m-1))>1?b+c[p].charAt(m-1)+"零"+h:b+c[p].charAt(m-1)+h:b+c[p].charAt(m-1)+h:(2==m&&(h.indexOf("万")>-1&&"零"==h.charAt(0)?h=h.substring(1):"仟"==h.charAt(2)&&"零"!=h.charAt(1)&&(h=h.substring(0,1)+"零"+h.substring(1))),h=b+c[p].charAt(m-1)+h)}f[p]=h}f[1]=f[1]?f[1]:"",f[0]=f[0]?f[0]+t:f[0],f[1]=f[1].match(/分/)?f[1]:f[1]+"整";var _=f[0]+f[1];return _=_.replace(/(亿万)+/g,"亿"),_="整"==_?"零"+t+"整":a+_};window.convertAmountChinese=c;t.realLength=function(e){for(var t=0,r=0;r<=e.length-1;r++)t+=1,e.charCodeAt(r)>127&&(t+=2);return t},t.checkLength=function(e,t,r){if(t<=r)return e;for(var n=0,o=0;o<=e.length-1;o++){if(n+=1,e.charCodeAt(o)>127&&(n+=2),n>r)return e.substring(0,o);if(n==r)return e.substring(0,o+1)}return e}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_81__},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.doModifyForm=t.doModifyStyle=t.onDocCompare=t.doImportWorkflow=t.onCustomOpt=t.toExcel=t.doBack=t.openProductSuggest=t.doImportDetail=t.doEdit=t.doShare=t.doEncryptShare=t.doAffirmanceNoBack=t.doAffirmanceBack=t.triSubwf2=t.doFreeWorkflow=t.aboutVersion=t.onNewChats=t.onNewEmail=t.onNewSms=t.onNewRequest2=t.onNewRequest=t.doWithdraw=t.onNewOverTime=t.doTd253574=t.doReviewnoback3=t.doTakEnd=t.doTakForward_noBack=t.doTakForward_Back=t.doMultiTak=t.doReview2=t.doReview3=t.doReviewback3=t.doTakeBack=t.doReviewE9Back=t.doChuanyue=t.doReviewE9=t.controlForward=t.doSubmitDirect=t.doDelete=t.doViewModifyLog=t.sureReject=t.doReject_New=t.doCreateTask=t.openTaskList=t.doPrintViewLog=t.doDrawBack=t.doRetract=t.doRestart=t.doCancel=t.doStop=t.doPrintRequest=t.doRemark_nNoBack=t.doRemark_nBack=t.doIntervenor=t.doSupervise=t.doSubmit_Pre=t.doSave_nNew=t.doSubmitNoBack=t.doSubmitBack=t.openThPreview=void 0;var i=r(7),a=o(i),l=r(12),s=o(l),u=r(15),c=n(u),f=r(11),d=n(f),p=r(66),h=r(29),m=r(56),v=r(10),g=n(v),b=r(27),y=n(b),w=r(6),_=r(84),S=o(_),E=r(486),I=r(9),k=r(83),C=(t.openThPreview=function(){var e=s.default.globalStore,t=s.default.layoutStore,r=e.commonParam,n=(e.setLoading,(0,I.toJS)(r)),o=(n.requestid,n.workflowid,t.odocInfo);o=(0,I.toJS)(o);var i=o.docParam,a=i.showMouldId,l=void 0===a?-1:a,u=i.docid,c=void 0===u?-1:u,f=i.imagefileId,d=void 0===f?-1:f,p=i.wpsView,h=void 0!==p&&p,m=i.yozoView,v=void 0!==m&&m;return l<0?void k.message.error((0,w.getLabel)(23569,"套红模板没有设置，请和系统管理员联系！")):c<=0||d<=0?void k.message.error((0,w.getLabel)(515738,"获取正文失败")):void(h||v?oDocUtil.selectTemplate(!1,1):k.message.error((0,w.getLabel)(515745,"参数错误，请确认是否购买金山wps或者永中预览服务")))},t.doSubmitBack=function(){var e=s.default.globalStore,t=e.commonParam,r=e.rightMenu,n=e.submitParam,o=void 0===n?{}:n,i=t.iscreate,a=t.selectNextFlowPattern;"1"==r.isFree&&"1"==i&&(0==a&&""==o.operatorids||0!=a)?L():(e.setSubmitToNodeId(),(0,p.doSubmitForm)({actiontype:"requestOperation",src:"submit",needwfback:"1"}))}),x=t.doSubmitNoBack=function(){var e=s.default.globalStore,t=e.commonParam,r=e.rightMenu,n=e.submitParam,o=void 0===n?{}:n,i=t.iscreate,a=t.selectNextFlowPattern;"1"==r.isFree&&"1"==i&&(0==a&&""==o.operatorids||0!=a)?L():(e.setSubmitToNodeId(),(0,p.doSubmitForm)({actiontype:"requestOperation",src:"submit",needwfback:"0"}))},O=(t.doSave_nNew=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",closePage:e,type:"save"})},t.doSubmit_Pre=function(e){(0,p.doSubmitForm)({actiontype:"requestOperation",src:e||"submit"})},t.doSupervise=function(){s.default.globalStore.controlDialogVisible(y.DO_SUPERVISE,!0)},t.doIntervenor=function(){(0,p.doSubmitForm)({actiontype:"requestOperation",src:"intervenor"})},t.doRemark_nBack=function(){(0,p.doSubmitForm)({actiontype:"remarkOperation",src:"save",needwfback:"1",type:"save"})},t.doRemark_nNoBack=function(){(0,p.doSubmitForm)({actiontype:"remarkOperation",src:"save",needwfback:"0",type:"save"})},t.doPrintRequest=function(){(0,h.verifyCustomRegisterEvent)(WfForm.OPER_PRINT,function(){var e=s.default.globalStore,t=e.commonParam,r=e.urlParams,n=void 0===r?{}:r,o=t.requestid,i=t.wfmonitor,a=t.isurger,l=t.f_weaver_belongto_userid,u=t.f_weaver_belongto_usertype,c=t.wfTestStr,f=n.isrequest,d=void 0===f?"":f,p=n.isfromreport,h=void 0===p?"":p,m=n.reportid,v=void 0===m?"":m,g=n.isfromflowreport,b=void 0===g?"":g,y=n.isfromchatshare,w=void 0===y?"":y,_=n.fromModul,S=void 0===_?"":_,E=n.modulResourceId,I=void 0===E?"":E,k=n.desrequestid,C=void 0===k?"":k,x=n.fromCommunication,O=void 0===x?"":x,P=n.authSignatureStr,M=void 0===P?"":P,A=n.authStr,F=void 0===A?"":A;M||(M=t.authSignatureStr),F||(F=t.authStr);var R=i?"1":"0",T=a?"1":"0",D=(window.ecologyContentPath||"")+"/workflow/request/PrintRequestForward.jsp?",j="requestid="+o+"&ismonitor="+R+"&urger="+T+"&f_weaver_belongto_userid="+l+"&f_weaver_belongto_usertype="+u+"&wfTestStr="+c;M&&(j+="&authSignatureStr="+M),F&&(j+="&authStr="+F),d&&(j+="&isrequest="+d),h&&(j+="&isfromreport="+h),b&&(j+="&isfromflowreport="+b),w&&(j+="&isfromchatshare="+w),v&&(j+="&reportid="+v),S&&(j+="&fromModul="+S),I&&(j+="&modulResourceId="+I),C&&(j+="&desrequestid="+C),O&&(j+="&fromCommunication="+O),openFullWindowHaveBar(D+j)})},t.doStop=function(){O("stop")},t.doCancel=function(){O("cancel")},t.doRestart=function(){O("restart")},function(e){var t=s.default.globalStore,r=t.commonParam,n=t.submitParam,o=n.openByDefaultBrowser,i=r.requestid,a=r.f_weaver_belongto_userid,l=r.f_weaver_belongto_usertype,u="";switch(e){case"stop":u=(0,w.getLabel)(26156,"您确定要暂停当前流程吗？");break;case"cancel":u=(0,w.getLabel)(26157,"您确定要撤销当前流程吗 ？");break;case"restart":u=(0,w.getLabel)(26158,"您确定要启用当前流程吗？")}(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:u,okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){c.functionLink({flag:e,requestid:i,f_weaver_belongto_userid:a,f_weaver_belongto_usertype:l,openByDefaultBrowser:o}).then(function(e){d.closeRequestPage(!1)})}})}),P=(t.doRetract=function(){(0,h.verifyCustomRegisterEvent)(WfForm.OPER_TAKEBACK,function(){var e=s.default.globalStore,t=e.commonParam,r=e.submitParam,n=e.setPromptInfos,o=t.requestid,i=t.workflowid,a=t.f_weaver_belongto_userid,l=t.f_weaver_belongto_usertype,u=r.openByDefaultBrowser;c.functionLink({flag:"rb",requestid:o,workflowid:i,f_weaver_belongto_userid:a,f_weaver_belongto_usertype:l,openByDefaultBrowser:u}).then(function(e){if(e.success)d.reloadRequestPage({requestid:o,sessionkey:e.sessionkey});else{var t={bottom:"",detail:e.msg,prompttype:"errormsg",title:(0,w.getLabel)(529720,"流程强制收回失败")};n(t)}})})},t.doDrawBack=function(){var e=s.default.globalStore,t=e.commonParam,r=e.baseParam,n=(e.continuationProcessInfo,t.requestid),o=t.needconfirm,i=function(){(0,h.verifyCustomRegisterEvent)(WfForm.OPER_FORCEOVER,function(){if((0,m.verifyRemark)({src:"arichive"})){var o=(0,p.generateFormData)(),i=e.submitParam,l=(0,a.default)({},i,o,{flag:"ov",fromflow:1});e.setLoading(!0),c.functionLink(l).then(function(o){if(e.setLoading(!1),t.belongTest){d.reloadRequestPage({requestid:n});try{window.parent.window.workflowAutoTestUtil.returnStatus("SUCCESS",n)}catch(e){window.console}}else if(o.isShowChart&&"1"==o.isShowChart){e.setCloseNeedPrompt(!1);var a=(0,S.default)({},r,{isfromtab:i.isfromtab,showE9Pic:"1",isFromAutodirect:"1",isFromWfForm:!0});d.reloadListPage(),d.appendContinuationParams(a),d.gotoPage((window.ecologyContentPath||"")+"/workflow/request/WorkflowDirectionNew.jsp",a)}else d.closeRequestPage(!1)})}})};"1"==o?(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:(0,w.getLabel)(24703,"您确定将该流程强制归档吗？"),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){i()},onCancel:function(){}}):i()},t.doPrintViewLog=function(){var e=s.default.globalStore,t=s.default.printLogStore,r=e.baseParam,n=r.requestid,o=r.f_weaver_belongto_userid,i=r.f_weaver_belongto_usertype;t.setBaseParams({requestid:n,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:i}),t.setCloseEvent(function(){e.controlDialogVisible(y.PRINT_LOG,!1)}),e.controlDialogVisible(y.PRINT_LOG,!0)},t.openTaskList=function(){var e=s.default.globalStore.baseParam.requestid;P("/spa/workrelate/static/index.html#/main/workrelate/task/otherTastList?requestids="+e)},t.doCreateTask=function(){var e=s.default.globalStore.baseParam.requestid;P("/spa/workrelate/static/index.html#/main/workrelate/task/taskAdd?requestids="+e)},function(e,t,r){null!=t&&"undefined"!=typeof t||(t=900),null!=r&&"undefined"!=typeof r||(r=520);var n=e,o=window.screen.height,i=window.screen.width,a=(o-r)/2,l=(i-t)/2,s="top="+a+",";s+="left="+l+",",s+="width="+t+",",s+="height="+r+",",s+="directories=no,",s+="status=yes,",s+="menubar=no,",s+="scrollbars=yes,",s+="resizable=yes",window.open(n,"",s)}),M=(t.doReject_New=function(){if((0,m.verifyRemark)({src:"reject"})){var e=s.default.globalStore,t=s.default.rejectStore,r=e.commonParam,n=r.requestid,o=r.workflowid,i=r.nodeid,a=r.f_weaver_belongto_userid,l=r.f_weaver_belongto_usertype;c.judgeRejectWay({requestid:n,workflowid:o,nodeid:i,f_weaver_belongto_userid:a,f_weaver_belongto_usertype:l}).then(function(r){var n=r.rejecttype,o=r.params;if(0===n)M();else if(1===n){var i=o.RejectToNodeid,a=o.newRejectNodeIds,l=void 0===a?"":a;M({RejectToNodeid:i,newRejectNodeIds:l})}else if(2===n){t.setBaseParams(o),t.setChooseInfo(r.chooseInfo);var s=o.RejectToNodeid,u=o.newRejectNodeIds,c=void 0===u?"":u;t.setConfirmEvent(function(t){if(!g.isEmpty(t)){var r=t.rejectNodeKey,n=void 0===r?"":r,o=t.remindNodeid,i=void 0===o?"":o,a=t.isSubmitDirect,l=void 0===a?"":a,u={RejectNodes:i,isSubmitDirect:l};if(n){var f=n.split("_");u.RejectToNodeid=f[0],u.RejectToType=f[1]}s&&(u.RejectToNodeid=s),c&&(u.newRejectNodeIds=c),M(u)}e.controlDialogVisible(y.REJECT_CHOOSE,!1)}),t.setCancelEvent(function(){e.controlDialogVisible(y.REJECT_CHOOSE,!1)}),e.controlDialogVisible(y.REJECT_CHOOSE,!0)}})}},t.sureReject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.default.globalStore,r=t.commonParam,n=t.changeSubmitParam,o=r.needconfirm,i=(0,S.default)({},{src:"reject",actiontype:"requestOperation",isFirstSubmit:"0"},e);n({SubmitToNodeid:""}),"1"==o&&g.merge(i,{src:"save",isaffirmance:"1",isaffirmanceSrc:"reject",type:"save"}),(0,p.doSubmitReady)(i)}),A=(t.doViewModifyLog=function(){s.default.globalStore.controlDialogVisible(y.FORM_MODIFY_LOG,!0)},t.doDelete=function(){var e=(0,w.getEcCom)(),t=e.WeaTools,r=s.default.globalStore.baseParam.requestid,n={requestid:r,flag:"0"};t.callApi("/api/workflow/reqform/delRequestVerify","POST",n).then(function(e){(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:-1==e.mainrequestid?(0,w.getLabel)(16667," 你确定删除该工作流吗？ "):(0,w.getLabel)(533834,"当前流程为")+"：【"+e.requestname+"（"+e.mainrequestid+"）】,"+(0,w.getLabel)(533835,"触发的子流程，确定删除该工作流吗？"),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){(0,h.verifyCustomRegisterEvent)(WfForm.OPER_DELETE,function(){(0,p.doSubmitPost)({src:"delete",actiontype:"requestOperation"})})}})})},t.doSubmitDirect=function(e){var t=s.default.globalStore,r=s.default.secondAuthStore,n=t.submitParam,o=t.rightMenu,i=t.setSubmitToNodeId,a=n.ifchangstatus,l=o.hasback,u=o.hasnoback;o.lastnodeid;i(!0),r.setIsSubmitDirect(1),""!=a&&("1"==l||""==l&&""==u)?"Affirmance"==e?N():C():"Affirmance"==e?q():x()},t.controlForward=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forwardflag,r=WfForm.OPER_FORWARD;"2"==t?r=WfForm.OPER_ASKOPINION:"3"==t?r=WfForm.OPER_TURNHANDLE:"4"==t?r=WfForm.OPER_TURNREAD:"5"==t&&(r=WfForm.OPER_TAKFROWARD),(0,h.verifyCustomRegisterEvent)(r,function(){var t=s.default.globalStore,r=t.commonParam,n=t.submitParam,o=t.changeSubmitParam,i=t.setTabKey,a=t.batchControlVariableMap,l=t.controlDialogVisible,u=t.loadRightMenu,c=r.requestid,f=r.nodeid,p=r.f_weaver_belongto_userid,h=r.f_weaver_belongto_usertype,m=r.workflowid,v=n.agentType,g=n.agentorByAgentId;e.requestid=c,e.nodeid=f,e.workflowid=m,e.fromform=!0,e.f_weaver_belongto_userid=p,e.f_weaver_belongto_usertype=h,e.agentType=v,e.agentorByAgentId=g;var b={changeSubmitParam:o,setTabKey:i,batchControlVariableMap:a,controlDialogVisible:l,closeRequestPage:d.closeRequestPage,refreshRightMenu:u};a({forwardParams:e,callBackActions:b,isRelaodLogList:!1}),l("isShowForwardDialog",!0)})}),F=t.doReviewE9=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";A({showForward:!0,forwardflag:"1",forwardOperators:e})},R=t.doChuanyue=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];A({showForward:!0,forwardflag:"4"})},T=(t.doReviewE9Back=function(){var e=s.default.globalStore,t=e.commonParam,r=e.batchControlVariableMap,n=e.controlDialogVisible,o=(e.loadRightMenu,t.requestid);r({callBackActions:{refreshRightMenu:function(){d.reloadRequestPage({requestid:o})},controlDialogVisible:function(e){n(y.FORWARD_BACK,e)},batchControlVariableMap:null}}),n(y.FORWARD_BACK,!0)},t.doTakeBack=function(){var e=s.default.globalStore,t=e.commonParam,r=e.submitParam,n=t.requestid,o=t.f_weaver_belongto_userid,i=t.f_weaver_belongto_usertype,a=t.workflowid,l=r.agentType,u=r.takisremark,f=r.agentorByAgentId,p=r.openByDefaultBrowser;c.doTakeBack({workflowid:a,requestId:n,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:i,agentType:l,takisremark:u,agentorByAgentId:f,openByDefaultBrowser:p}).then(function(e){e.success?(0,w.getAntd)().message.success(e.msg):(0,w.getAntd)().message.error(e.msg),setTimeout(function(){d.reloadRequestPage({requestid:n})},1500)})},t.doReviewback3=function(e){A({showForward:!0,forwardflag:"3",needwfback:"1"})},t.doReview3=function(e){A({showForward:!0,forwardflag:"3"})}),D=t.doReview2=function(e){A({showForward:!0,forwardflag:"2"})},j=(t.doMultiTak=function(e){A({showForward:!0,forwardflag:"2",isMulitTak:!0})},t.doTakForward_Back=function(e){A({showForward:!0,forwardflag:"5",needwfback:"1"})},t.doTakForward_noBack=function(e){A({showForward:!0,forwardflag:"5",needwfback:"0"})},t.doTakEnd=function(){var e=s.default.globalStore,t=e.commonParam,r=e.submitParam,n=e.rightMenu,o=void 0===n?{}:n,i=o.rightMenuNames,a=void 0===i?{}:i,l=t.requestid,u=t.workflowid,f=r.agentType,p=r.agentorByAgentId,h=r.openByDefaultBrowser,m=r.f_weaver_belongto_userid,v=r.f_weaver_belongto_usertype,g=(0,w.getLabel)(510675,"确定要结束意见征询吗？");a.TAKEND_0&&(g=(0,w.getLabel)(519120,"确定要{1}吗？").replace("{1}",a.TAKEND_0)),(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),content:g,onOk:function(){c.doTakEnd({requestid:l,workflowid:u,agentType:f,agentorByAgentId:p,openByDefaultBrowser:h,f_weaver_belongto_userid:m,f_weaver_belongto_usertype:v}).then(function(e){!e.result&&e.msg?(0,w.getAntd)().Modal.warning({content:e.msg,okText:(0,w.getLabel)(83446,"确定"),showClose:!1,onOk:function(){d.reloadRequestPage({requestid:l})}}):d.reloadRequestPage({requestid:l})})}})},t.doReviewnoback3=function(e){A({showForward:!0,forwardflag:"3",needwfback:"0"})},t.doTd253574=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forwardOperators;A({showForward:!0,forwardflag:"1",forwardOperators:void 0===t?"":t,feedbacksign:"4"})},t.onNewOverTime=function(){var e=s.default.globalStore,t=s.default.overTimeStore,r=e.baseParam;t.setBaseParams(r),t.setCloseEvent(function(){e.controlDialogVisible(y.OVERTIME_SETTING,!1)}),e.controlDialogVisible(y.OVERTIME_SETTING,!0)}),L=(t.doWithdraw=function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],s.default.globalStore),t=s.default.requestWithdrawStore,r=e.baseParam;t.doInit(r),t.setCloseEvent(function(){e.controlDialogVisible(y.WORKFLOW_WITHDRAW,!1)}),e.controlDialogVisible(y.WORKFLOW_WITHDRAW,!0)},t.onNewRequest=function(e,t,r){var n=s.default.globalStore.belongUserStr,o="workflowid="+e+"&isagent="+r+"&reqid="+t+n;openFullWindowHaveBar((window.ecologyContentPath||"")+"/workflow/request/CreateRequestForward.jsp?"+o)},t.onNewRequest2=function(e,t,r,n,o){var i=function(){var o="workflowid="+e+"&reqid="+t+"&createFlowNodeid="+r+"&nodecustomid="+n;openFullWindowHaveBar((window.ecologyContentPath||"")+"/workflow/request/CreateRequestForward.jsp?"+o),d.reloadRequestPage({requestid:t})};0!=o&&(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",saveCallFun:i,type:"save"}),0==o&&i()},t.onNewSms=function(e,t,r,n,o){var i=s.default.globalStore,l=i.belongUserStr,u={};u=1==o?{src:"supervise",requestid:r}:(0,a.default)({},l,{workflowid:e,nodeid:t,requestid:r,menuid:n}),i.controlVariableMap(y.SEND_SMS_PARAMS,u),i.controlDialogVisible(y.SEND_SMS,!0)},t.onNewEmail=function(e){var t=s.default.globalStore;c.getSendEmailInfo({requestid:e}).then(function(e){if(e.result){var r=e.fwquery||{};t.controlVariableMap(y.SEND_MAIL_PARAMS,r),t.controlDialogVisible(y.SEND_MAIL,!0)}})},t.onNewChats=function(e,t,r,n){var o=s.default.globalStore.belongUserStr,i="workflowid="+e+"&nodeid="+t+"&reqid="+r+"&actionid=dialog&menuid="+n+o,a=new window.top.Dialog;a.currentWindow=window,a.Title=(0,w.getLabel)(32818,"新建微信 "),a.Width=1e3,a.Height=350,a.Drag=!0,a.maxiumnable=!0,a.URL=(window.ecologyContentPath||"")+"/wechat/sendWechat.jsp?"+i,a.show()},t.aboutVersion=function(e){(0,w.getAntd)().Modal.warning({title:(0,w.getLabel)(131329,"信息确认"),content:(0,w.getLabel)(386181,"当前是")+"V"+e+"  "+(0,w.getLabel)(567,"版本"),okText:(0,w.getLabel)(826,"确定"),onOk:function(){}})},t.doFreeWorkflow=function(){var e=s.default.globalStore,t=e.commonParam,r=e.rightMenu,n=e.variableMap,o=e.batchControlVariableMap,i=(e.controlDialogVisible,e.baseParam),l=t.iscreate,u=t.authSignatureStr,c=t.authStr,f=t.wfTestStr,h=t.belongTest,m=t.selectNextFlowPattern,v=(r.iscnodefree,r.isFree),g=(r.freeNode,r.isAllowNodeFreeFlow);if("1"==l&&0!=m)window.localStorage.setItem("WfFormIsDefaultOpenFreeFlowSetDialog","1"),(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",type:"save"});else if(0==m){var b=e.tabKey,y=e.setTabKey;"form"!==b?(y("form"),setTimeout(function(){d.scrollDom(".wf-req-freeWorkflowSimple",!0,(0,w.getLabel)(520577,"请确认流转设定设置"))},500)):d.scrollDom(".wf-req-freeWorkflowSimple",!0,(0,w.getLabel)(520577,"请确认流转设定设置"))}else{var _=(0,w.getEcCom)(),S=_.WeaTools,E=(0,a.default)({},(0,I.toJS)(i),{isAllowNodeFreeFlow:g,isFree:v,authSignatureStr:u,authStr:c,wfTestStr:f,isFlowModel:0,isReadOnlyModel:!1,showE9Pic:1,isFromWfForm:!0,belongTest:h?1:0});S.createDialog({title:(0,w.getLabel)(21781,"流转设定"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",moduleName:"workflow",url:(window.ecologyContentPath||"")+"/workflow/workflowDesign/readOnly-index.html?"+d.buildUrlStr(E),style:{width:.9*window.innerWidth,height:.9*window.innerHeight},maxHeight:1e4,callback:function(e,t){(0,w.getAntd)().message.destroy(),(0,w.getAntd)().message.success((0,w.getLabel)(83551,"保存成功！")),t&&t.hide();var r=e.isNeedFlowFreeNodeTips,n=void 0!==r&&r,i=e.canSubmitToRejectNode;o({isNeedFlowFreeNodeTips:n,canSubmitToRejectNode:void 0!==i&&i})},onCancel:function(e){var t=n.get("FREE_FLOW_SET_CLOSE_FUNC");t&&t()}},void 0,function(e){e&&e.show()})}}),N=(t.triSubwf2=function(e,t,r){var n=s.default.globalStore,o=n.commonParam;if(o.belongTest)return void(0,w.getAntd)().Modal.warning({title:(0,w.getLabel)(131329,"信息确认"),content:(0,w.getLabel)(386182,"流程测试状态不允许手动触发子流程"),okText:(0,w.getLabel)(83446,"确定")});t=t.replace(new RegExp(",","gm"),"\n"),(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),content:(0,w.getLabel)(25394,"确定触发")+":"+t+(0,w.getLabel)(386183,"流程吗?"),onOk:function(){var t=function(){n.setLoading(!0);var t=o.requestid,r=o.nodeid,i=o.f_weaver_belongto_userid,a=o.f_weaver_belongto_usertype,l={requestId:t,nodeId:r,paramSubwfSetId:e,f_weaver_belongto_userid:i,f_weaver_belongto_usertype:a};c.triggerSubWf(l).then(function(e){(0,w.getAntd)().Modal.warning({title:(0,w.getLabel)(131329,"信息确认"),content:e.msg,okText:(0,w.getLabel)(83446,"确定"),showClose:!1,onOk:function(){n.setLoading(!1),d.reloadRequestPage({requestid:t})}})})};0!=r&&(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",saveCallFun:t,type:"save"}),0==r&&t()}})},t.doAffirmanceBack=function(){s.default.globalStore.setSubmitToNodeId(),(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",needwfback:"1",isaffirmance:"1",type:"save"})}),q=t.doAffirmanceNoBack=function(){s.default.globalStore.setSubmitToNodeId(),(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",needwfback:"0",isaffirmance:"1",type:"save"})},W=(t.doEncryptShare=function(){var e=s.default.globalStore.commonParam,t=e.requestid;window.setShare4ec||alert("PC端加密分享出现异常，请联系管理员"),window.setShare4ec({mouldCode:"WORKFLOW",itemCode:"SHAREBASE",targetid:t,encrypt:"1"},function(e){"1"==e.status&&W({serialid:e.serialid})})},t.doShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.default.shareStore,r=s.default.globalStore;t.setMsgInfo(e),r.controlDialogVisible(y.SHARE_WORKFLOW,!0)}),B=(t.doEdit=function(){var e=s.default.globalStore.commonParam.requestid;d.reloadRequestPage({reEdit:"1",requestid:e})},t.doImportDetail=function(){var e=s.default.globalStore,t=e.commonParam,r=e.controlDialogVisible,n=t.requestid;t.workflowid,t.nodeid;"-1"==n?(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:(0,w.getLabel)(21798,"流程数据还未保存，现在保存吗? "),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",saveType:"doImportDetail",type:"save"})}}):r(y.IMPORT_WF_DETAIL_MODAL,!0)},t.openProductSuggest=function(){var e=(window.ecologyContentPath||"")+"/formmode/view/AddFormMode.jsp?mainid=0&modeId=125&formId=-290&type=1",t=new window.top.Dialog;t.currentWindow=window,t.Width=1200,t.Height=600,t.Modal=!0,t.Title=(0,w.getLabel)(128666,"改进建议"),t.URL=e,t.isIframe=!1,t.show();var r=!1,n=1;try{var o=setInterval(function(){var e=$(window.top.document).find("iframe[id^=_DialogFrame_]");if(e&&e.length>0){var t=$(e[0].contentWindow.document).find("iframe[name='tabcontentframe']");if(t&&t.length>0){var i=t[0].contentWindow.document;if(i){var a=$(i).find(".hbBox");a&&a.length>0&&(r=!0,a.css("padding","10px 40px"))}}}(r||n>20)&&clearInterval(o),n++},20)}catch(e){}},t.doBack=function(){s.default.globalStore.setCloseNeedPrompt(!0),window.location.href=(window.ecologyContentPath||"")+"/spa/workflow/index_mobx.jsp#/main/workflow/listDoing"},t.toExcel=function(){localStorage.setItem("fun",window.onbeforeunload),window.onbeforeunload=null,(0,E.getStyleJson)().then(function(e){c.getExportedExcel(e)}),window.onbeforeunload=localStorage.getItem("fun")},t.onCustomOpt=function(e,t,r,n){var o=s.default.globalStore,i=o.commonParam,a=(o.urlParams,i.requestid),l=i.wfmonitor,u=i.isurger,f=i.f_weaver_belongto_userid,h=i.f_weaver_belongto_usertype,m=i.isremark,v=l?"1":"0",g=u?"1":"0",b={requestId:e,nodeId:n,workflowId:t,setid:r,ismonitor:v,urger:g,f_weaver_belongto_userid:f,f_weaver_belongto_usertype:h};try{c.getCustomOperation(b).then(function(i){var l=i.ismustsave;if("-1"==a&&"1"===l)(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:(0,w.getLabel)(21798,"流程数据还未保存，现在保存吗? "),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){(0,p.doSubmitForm)({actiontype:"requestOperation",src:"save",type:"save"})}});else{var s=!1,u=i.CustomOperationFunList;e:for(var v in u){var g=function(){var i=u[v].cusopttype,a=u[v].actionname,l=u[v].actiontype,g=u[v].actionfrom,b=u[v].userid;if(s)return"break";if("0"===i){if(a=B(a,b),"0"===l)window.open(a,"divpage");else if("1"===l)window.openFullWindowForXtable(a);else if("2"===l)return(0,w.getAntd)().Modal.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:(0,w.getLabel)(18877,"流程还没保存，如果离开，将会丢失数据，真的要离开吗？ "),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){window.top.location.href=a}}),"break"}else if("1"===i){if(("2"===m||"4"===m)&&"0"!=l&&"3"!=l&&"10"!=l)return(0,w.getAntd)().message.error((0,w.getLabel)(132382,"没有权限，无法操作"),3),"continue";"0"===l?e>0?(o.setLoading(!1),d.reloadRequestPage({requestid:e})):window.location.reload():"1"===l?(0,p.doSubmitForm)({actiontype:"requestOperation",src:"submit",needwfback:"1"}):"2"===l?(void 0).doSubmitDirect("submit"):"3"===l?F():"4"===l?(void 0).doSave_nNew(!1):"5"===l?(void 0).doReject_New():"6"===l?T():"7"===l?D():"8"===l?j():"9"===l?(void 0).doDrawBack():"10"===l?(void 0).doRetract():"11"===l&&R()}else if("2"===i);else if("3"===i){var y={requestId:e,nodeId:n,workflowId:t,setid:r,actiontype:l,actionname:a,actionfrom:g,f_weaver_belongto_userid:f,f_weaver_belongto_usertype:h};c.runCustomOperationAction(y).then(function(e){var t=e.CustomOperationActionResult.returnflag,r=e.CustomOperationActionResult.returnmsg;"false"===t?((0,w.getAntd)().message.error(r,3),s=!0):(0,w.getAntd)().message.success(r,2)})}}();switch(g){case"break":break e;case"continue":continue}}}})}catch(e){window.console}},function(e,t){var r=s.default.globalStore.commonParam,n=r.requestid,o=r.workflowid,i=r.nodeid,a=r.formid,l=/\{[^\}]+\}/;try{for(;l.test(e);){var u=l.exec(e)[0],c="";if(""!=u&&"{}"!=u){var f=u.replace(new RegExp("\\{","g"),"").replace(new RegExp("\\}","g"),"");if("requestid"==f)c=n;else if("workflowid"==f)c=o;else if("nodeid"==f)c=i;else if("userid"==f)c=t;else if("formid"==f)c=a;else try{c=WfForm.getFieldValue("field"+f)}catch(c){c=""}try{e=e.replace(new RegExp("\\{"+f+"\\}","g"),c)}catch(c){}}}}catch(c){}return e});t.doImportWorkflow=function(){window.ImportWfBrowser&&window.ImportWfBrowser.openModal&&window.ImportWfBrowser.openModal()},t.onDocCompare=function(e,t,r,n){var o="undefined"==typeof e?"?docId":"?docId="+e,i="undefined"==typeof t?"&rightDocId":"&rightDocId="+t;openFullWindowHaveBar("/spa/compared/static/index.html#/main/compared/contractCompared"+o+i+"&authStr="+r+"&authSignatureStr="+n)},t.doModifyStyle=function(e){var t=s.default.globalStore;t.controlDialogVisible(y.FREE_FLOW_CHANGESTYLE,!0);var r={fromwhere:"init",layoutid:-1,layouttype:0,wfinitSetting:1,redirectUrl:"",wfid:t.submitParam.workflowid||"",nodeid:t.submitParam.nodeid||"",configid:t.submitParam.configid||"",dialogTitlename:e.formname||"",doModify:"1"};window.doBSExcelDesignAction&&window.doBSExcelDesignAction.openInitDialog(r)},t.doModifyForm=function(e){var t=s.default.globalStore,r={fromwhere:"init",layoutid:-1,layouttype:0,wfinitSetting:1,redirectUrl:"",wfid:t.submitParam.workflowid||"",nodeid:t.submitParam.nodeid||"",configid:t.submitParam.configid||"",dialogTitlename:"",doModify:"1"},n=s.default.globalStore;n.setFreeflowChangeformParm;(0,n.getFreeNodeBrowserItem)(r)}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_83__},function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,l,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(o){l=o(r);for(var f=0;f<l.length;f++)a.call(r,l[f])&&(s[l[f]]=r[l[f]])}}return s}},function(e,t,r){var n=r(86)("keys"),o=r(70);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(13),o=r(20),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(58)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(28),o=r(20).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(28);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(32).f,o=r(41),i=r(30)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){r(306);for(var n=r(20),o=r(42),i=r(89),a=r(30)("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<l.length;s++){var u=l[s],c=n[u],f=c&&c.prototype;f&&!f[a]&&o(f,a,u),i[u]=i.Array}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){e.exports={default:r(324),__esModule:!0}},function(e,t,r){var n=r(36),o=r(195),i=r(196),a=r(34),l=r(74),s=r(146),u={},c={},t=e.exports=function(e,t,r,f,d){var p,h,m,v,g=d?function(){return e}:s(e),b=n(r,f,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=l(e.length);p>y;y++)if((v=t?b(a(h=e[y])[0],h[1]):b(e[y]))===u||v===c)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=o(m,b,h.value,t))===u||v===c)return v};t.BREAK=u,t.RETURN=c},function(e,t,r){var n=r(344),o=r(45),i=Object.prototype,a=i.hasOwnProperty,l=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},function(e,t,r){(function(e){var n=r(43),o=r(345),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,l=a&&a.exports===i,s=l?n.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||o;e.exports=c}).call(t,r(109)(e))},function(e,t,r){function n(e){var t=o(e),r=t%1;return t===t?r?t-r:t:0}var o=r(399);e.exports=n},function(e,t,r){function n(e){return a(e)?o(e,!0):i(e)}var o=r(217),i=r(403),a=r(54);e.exports=n},function(e,t,r){function n(e,t,r,n){var a=!r;r||(r={});for(var l=-1,s=t.length;++l<s;){var u=t[l],c=n?n(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),a?i(r,u,c):o(r,u,c)}return r}var o=r(231),i=r(165);e.exports=n},function(e,t,r){"use strict";t.__esModule=!0;var n=r(123),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,o.default)(e)}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.filterRequest4Forward=t.filterRequestAction=t.closeAuthDetail=t.showAuthDetail=t.closeAuthDialog=t.showAuthDialog=void 0;var i=r(101),a=o(i),l=r(172),s=o(l),u=r(12),c=o(u),f=(r(6),r(111)),d=(o(f),r(47)),p=n(d),h=r(483),m=n(h);t.showAuthDialog=function(e){c.default.globalStore.controlDialogVisible(e,!0)},t.closeAuthDialog=function(e){c.default.globalStore.controlDialogVisible(e,!1)},t.showAuthDetail=function(){c.default.globalStore.controlDialogVisible(p.AUTH_DETAIL_DIALOG,!0)},t.closeAuthDetail=function(){globalStore.controlDialogVisible(p.AUTH_DETAIL_DIALOG,!1)},t.filterRequestAction=function(e,t,r){var n=!1,o=new s.default([].concat((0,a.default)(r))),i=e.src,l=e.actiontype,u=e.isaffirmance,f=void 0===u?"":u,d=c.default.secondAuthStore,p=d.isSecondAuthPop;if(void 0===p||!p)if("requestOperation"==l)if("submit"==i){var h=c.default.secondAuthStore,v=h.isSubmitDirect;1==v?o.has(m.REQUEST_SUBMIT_BACK_NODE)&&(n=!0):o.has(m.REQUEST_APPROVAL)&&(n=!0)}else"save"==i&&o.has(m.REQUEST_SAVE)&&"1"!=f?n=!0:"reject"==i&&o.has(m.REQUEST_REJECT)&&(n=!0);else if("remarkOperation"==l&&"save"==i){var g=t.isremark,b=t.takisremark;1==g?2==b?o.has(m.REQUEST_TPOSTIL)&&(n=!0):o.has(m.REQUEST_POSTIL)&&(n=!0):9==g&&o.has(m.REQUEST_RPOSTIL)&&(n=!0)}return n},t.filterRequest4Forward=function(e,t,r){var n=!1,o=new s.default([].concat((0,a.default)(r))),i=e.forwardflag;return"1"==i?o.has(m.REQUEST_FORWARD)&&(n=!0):"2"==i?o.has(m.REQUEST_TAKING_OPINIONS)&&(n=!0):"3"==i&&o.has(m.REQUEST_HANDLE_FORWARD)&&(n=!0),n}},function(e,t,r){"use strict";function n(e){return s.isTag(e)}function o(e){return"cdata"===e.type}function i(e){return"text"===e.type}function a(e){return"comment"===e.type}function l(e){return Object.prototype.hasOwnProperty.call(e,"children")}Object.defineProperty(t,"__esModule",{value:!0});var s=r(563);t.isTag=n,t.isCDATA=o,t.isText=i,t.isComment=a,t.hasChildren=l},function(e,t,r){e.exports=!r(22)&&!r(37)(function(){return 7!=Object.defineProperty(r(87)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(34),o=r(305),i=r(90),a=r(85)("IE_PROTO"),l=function(){},s=function(){var e,t=r(87)("iframe"),n=i.length;for(t.style.display="none",r(190).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[i[n]];return s()};e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=n(e),r=new l,l.prototype=null,r[a]=e):r=s(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(41),o=r(38),i=r(137)(!1),a=r(85)("IE_PROTO");e.exports=function(e,t){var r,l=o(e),s=0,u=[];for(r in l)r!=a&&n(l,r)&&u.push(r);for(;t.length>s;)n(l,r=t[s++])&&(~i(u,r)||u.push(r));return u}},function(e,t){},function(e,t){function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(346),o=r(157),i=r(158),a=i&&i.isTypedArray,l=a?o(a):n;e.exports=l},function(e,t,r){function n(e,t,r){if((e=u(e))&&(r||void 0===t))return e.replace(c,"");if(!e||!(t=o(t)))return e;var n=s(e),f=s(t),d=l(n,f),p=a(n,f)+1;return i(n,d,p).join("")}var o=r(206),i=r(347),a=r(348),l=r(351),s=r(352),u=r(210),c=/^\s+|\s+$/g;e.exports=n},function(e,t,r){function n(e){return"symbol"==typeof e||i(e)&&o(e)==a}var o=r(64),i=r(45),a="[object Symbol]";e.exports=n},function(e,t){function r(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}e.exports=r},function(e,t,r){function n(e,t,r){return t===t?a(e,t,r):o(e,i,r)}var o=r(208),i=r(349),a=r(350);e.exports=n},function(e,t,r){function n(e){var t=this.__data__=new o(e);this.size=t.size}var o=r(116),i=r(362),a=r(363),l=r(364),s=r(365),u=r(366);n.prototype.clear=i,n.prototype.delete=a,n.prototype.get=l,n.prototype.has=s,n.prototype.set=u,e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(357),i=r(358),a=r(359),l=r(360),s=r(361);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=l,n.prototype.set=s,e.exports=n},function(e,t,r){function n(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}var o=r(78);e.exports=n},function(e,t,r){var n=r(63),o=n(Object,"create");e.exports=o},function(e,t,r){function n(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}var o=r(375);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){function n(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var o=r(112),i=1/0;e.exports=n},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){e.exports={default:r(461),__esModule:!0}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.controlSecFieldOptions=t.getSecAndValidity=t.getSecLevelInfo=t.getSecLevel=t.loadManagerSecLevelInfo=t.changeSecLevelInfo=void 0;var i=r(1),a=(o(i),r(25)),l=o(a),s=r(18),u=n(s),c=r(23),f=(n(c),r(10)),d=n(f),p=(r(125),t.changeSecLevelInfo=function(e,t){var r=l.default.globalStore,n=r.setSecLevelInfo;n({secLevel:e});var o=u.getFieldObj("field-10","main");o&&o.changeValueObj({value:e}),"undefined"!==typeof t&&n({secValidity:t})});t.loadManagerSecLevelInfo=function(){var e=l.default.globalStore,t=e.commonParam,r=e.secLevelInfo,n=void 0===r?{}:r,o=e.controlVariableMap,i=n.isOpenSec,a=l.default.layoutStore,s=a.cellInfo,c=a.tableInfo;if(i){var f=c.main.fieldinfomap[-10].viewattr;if("1"==t.iscreate&&d.has(s,["fieldCellInfo","-10"])&&f>1)p("","");else{var h=n.secLevel,m=n.secValidity;n.secValidityMap[h]=m;var v=u.getFieldObj("field-10","main");v&&v.changeValueObj({value:n.secLevel}),""!==h&&o("miniWfSecLevel",h)}}},t.getSecLevel=function(){return l.default.globalStore.secLevelInfo&&l.default.globalStore.secLevelInfo.secLevel||""},t.getSecLevelInfo=function(){return l.default.globalStore.secLevelInfo&&l.default.globalStore.secLevelInfo||{}},t.getSecAndValidity=function(){var e=l.default.globalStore.secLevelInfo,t=void 0===e?{}:e,r=t.secLevel,n=t.secValidity;return r?r>2?r:r<=2?r+"#"+n:void 0:""},t.controlSecFieldOptions=function(){var e=l.default.globalStore,t=e.secLevelInfo,r=void 0===t?{}:t,n=e.setSecLevelInfo,o=r.secLevel;if(""!=o&&r.secLevelOption){n({secLevelOption:r.secLevelOption.filter(function(e){return e.key<=o})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=t.formatToDate=t.convertFormatValue_sum=t.convertFormatValue=void 0;var n=r(10),o=r(80),i=r(25),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=t.convertFormatValue=function(e,t){try{var r="",n=parseInt(t.numberType);if(1===n);else if(2===n){var i=1===parseInt(t.thousands||0),a="3"==t.formatPattern||"4"==t.formatPattern;if(parseInt(t.decimals)<0)return e;r=(0,o.convertFloatValue)(e,parseInt(t.decimals),i,a)}else 3===n?r=s(e,t.formatPattern):4===n?r=d(e,t.formatPattern):5===n?r=p(e,t.decimals):6===n?r=h(e,t.decimals):7===n||8===n&&(r=m(e,t.formatPattern));return""===r?e:r}catch(t){return window.console,e}},s=(t.convertFormatValue_sum=function(e,t){t=t.toString();var r=a.default.layoutStore,o=r.fieldCellMap,i=r.fieldAttrMap;if(!(t in o))return e;if(!i.has(t)||1!==i.get(t).htmltype||4===i.get(t).detailtype)return e;var s=e,u={},c=o[t],f=c.format,d=void 0===f?{}:f,p=c.financial;return"4"==(void 0===p?"":p)?u={numberType:2,decimals:2,formatPattern:2,thousands:1}:"2"!=d.numberType&&"5"!=d.numberType||(u=d),(0,n.isEmpty)(u)||(e=e.replace(/,/g,""),s=l(e,u)),s},t.formatToDate=function(e,t){if(!new RegExp("^\\d{2,4}-\\d{1,2}-\\d{1,2}$").test(e))return e;var r=e.split("-"),n=r[0],o=r[1],i=r[2];if(parseInt(o)>12||parseInt(i)>31||parseInt(n)<=0||parseInt(o)<=0||parseInt(i)<=0)return e;if(2==n.length&&(n="00"+n),3==n.length&&(n="0"+n),1==o.length&&(o="0"+o),1==i.length&&(i="0"+i),e=n+"-"+o+"-"+i,new Date(e).toString().indexOf("undefined")>-1)return e;switch(parseInt(t)){case 1:return u(new Date(e),"yyyy/MM/dd");case 2:return u(new Date(e),"yyyy-MM-dd");case 3:return u(new Date(e),"yyyy年MM月dd日");case 4:return u(new Date(e),"yyyy年MM月");case 5:return u(new Date(e),"MM月dd日");case 6:return u(new Date(e),"wwww");case 7:return c(new Date(e));case 8:return u(new Date(e),"yyyy/MM/dd 12:00 a");case 9:return u(new Date(e),"yyyy/MM/dd 00:00");default:return e}}),u=t.formatDate=function(e,t){t=t||"yyyy-MM-dd HH:mm:ss";var r={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:12,h:12,m:0,s:0,S:0,a:"AM"},n=["天","一","二","三","四","五","六"];for(var o in r)t=t.replace(new RegExp(o+"+","g"),function(e){var t=r[o]+"";if("a"==o)return t;if("w"==o)return(e.length>2?"星期":"周")+n[t];for(var i=0,a=t.length;i<e.length-a;i++)t="0"+t;return 1==e.length?t:t.substring(t.length-e.length)});return t},c=function(e){var t=["〇","一","二","三","四","五","六","七","八","九"],r=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();return(r.toString().split("").map(function(e){return t[parseInt(e)]}).toString()+"年"+f(n)+"月"+f(o)+"日").replace(/\,/g,"")},f=function(e){var t=["","","二","三"],r=["","一","二","三","四","五","六","七","八","九"];e=e<10?"0"+e.toString():e.toString();var n=parseInt(e.toString().split("")[0]),o=parseInt(e.toString().split("")[1]);return t[n]+(n>0?"十":"")+r[o]},d=function(e,t){if(!new RegExp("^(\\d{1,2}:\\d{1,2})(:\\d{1,2})?$").test(e))return e;var r=e.split(":"),n=r[0],o=r[1],i=parseInt(n)<12?" AM":" PM";switch(parseInt(t)){case 1:return n+":"+o+":00";case 2:return n+":"+o+":00"+i;case 3:return n+":"+o;case 4:return n+":"+o+i;case 5:return n+"时"+o+"分00秒";case 6:return n+"时"+o+"分";case 7:return n+"时"+o+"分00秒"+i;case 8:return n+"时"+o+"分"+i;default:return e}},p=function(e,t){return new RegExp("^(-?\\d+)(\\.\\d+)?$").test(e)?(0,o.convertFloatValue)(100*Number(e),parseInt(t),!1)+"%":e},h=function(e,t){if(!new RegExp("^(-?\\d+)(\\.\\d+)?$").test(e))return e;var r=Number(e).toExponential(t).toUpperCase();return r=r.replace(/E(\+|-)(\d){1}$/,"E$10$2")},m=function(e,t){if(!new RegExp("^(-?\\d{1,12})(\\.\\d+)?$").test(e))return e;if(1===parseInt(t)){return v(e,["〇","一","二","三","四","五","六","七","八","九"],[["","万","亿"],["","十","百","千"]])}return v(e,["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],[["","万","亿"],["","拾","佰","仟"]])},v=function(e,t,r){if(e=parseFloat(e).toString(),0===parseFloat(e))return t[0];var o="",i="",a="";parseFloat(e)<0&&(e=e.substring(1),o="-");for(var l=e.split("."),s=(0,n.trim)(l[0]);s.length>0&&0===parseInt(s[0]);)s=s.substr(1);var u=2===l.length?(0,n.trim)(l[1]):"",c=!1,f=s.length>0?s.toString().split(""):[],d=u.length>0?u.toString().split(""):[],p=0;a=u.length>0?".":a,d.map(function(e){a+=t[parseInt(e)]});for(var h=f.length-1;h>=0;h--,p++){var m=parseInt(f[h]),v=p%4;0===v&&(c=!1,i=r[0][p/4]+i),0===m?c&&i[0]!==t[0]&&(i=t[m]+i):(c=!0,i=t[m]+r[1][v]+i)}return i=i.replace("亿万","亿"),i=0===(0,n.trim)(i).length?t[0]:i,o+i+a}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_126__},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.switchRequest=t.showConProcessSwitchTip=t.getContinuationProcessParams=void 0;var o=r(26),i=n(o),a=r(31),l=n(a),s=r(7),u=n(s),c=r(12),f=n(c),d=r(6),p=(r(66),r(11)),h=r(15),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(h),v=t.getContinuationProcessParams=function(){var e={};if(window.opener&&window.opener.continuationProcessQueryParams&&(e=(0,u.default)({},e,window.opener.continuationProcessQueryParams)),window.opener&&window.opener.WorkflowListDoingUtil&&window.opener.WorkflowListDoingUtil.getTableSortParams){var t=[],r=window.opener.WorkflowListDoingUtil.getTableSortParams();r&&r.length>0&&(r.map(function(e){t.push(e)}),e.tableSortParams=(0,l.default)(t))}return(0,i.default)(e).map(function(t){void 0!=e[t]&&null!=e[t]||delete e[t]}),e};t.showConProcessSwitchTip=function(e){var t=(0,d.getAntd)(),r=t.message;if("1"==e.showConProcessSwitchTip){r.success((0,d.getLabel)(528806,"流程已处理，自动为您打开下一条"),3);var n=window.location.href.replace("&showConProcessSwitchTip=1","");window.history.pushState({},0,n)}},t.switchRequest=function(e,t){var r=f.default.globalStore.continuationProcessInfo,n=r.currentIndex,o=r.requestId,i="",a=v();m.getContinnuationProcessInfo((0,u.default)({viewScope:"doing",switchType:e,currentIndex:n,currentRequestId:o},a)).then(function(e){if(e.switchRequestId>0)i=e.switchRequestId,(0,p.reloadRequestPage)({requestid:i,isOpenContinuationProcess:"1",f_weaver_belongto_userid:e.userId,f_weaver_belongto_usertype:e.userType,showConProcessSwitchTip:t?"1":"0"});else try{window.top.close()}catch(e){window.close()}})}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.unbindOnMessage=t.bindOnMessage=t.getInvoiceFid=t.getInvoiceCloudToken=void 0;var o=r(75),i=n(o),a=r(94),l=n(a),s=r(25),u=n(s),c=t.getInvoiceCloudToken=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.default.API_REQ.getInvoiceCloudToken(e).then(function(e){var t=e.invoiceCloud,r=void 0!==t&&t,n=e.errorInfo,o=e.status,i=u.default.globalStore.setInvoiceCloudInfo;"-1"!==o&&r&&(n||i({token:e.token,invoiceCloud:r,jsUrl:e.jsUrl,baseUrl:e.baseUrl}))})},f=(t.getInvoiceFid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l.default(function(t){u.default.API_REQ.getFidOrEcid(e).then(function(e){t(e)})})},function(e){var t=u.default.layoutStore,r=t.changeSingleFieldValue,n=t.fieldAttrMap;if(u.default.isMobile){var o=e.originParams,i=void 0===o?{}:o,a=i.fieldMark;e.invoices;if(!a)return;if("INVOICE"===e.type){var l=e.invoices,s=a.substr(0,5);s.indexOf("_")>-1&&(s=s.split("_")[0],s.split("_")[1]);n.get(s);r(a,p(l),{}),window.historyRoute.go(-1)}else"ON_SCAN_QRCODE"===e.type?b(e):"ON_SELECT_INVOICE"===e.type?y(e):"ON_CHOOSE_IMAGE"===e.type?w({rid:e.rid}):"ERROR"===e.type&&"-2"==e.ret&&m("UPDATE_TOKEN")}else{var f=e.seq,d=void 0===f?{}:f,h=d.fieldMark;if("retData"===e.type&&h){var v=e.datas,g=h.substr(0,5);g.indexOf("_")>-1&&(g=g.split("_")[0],g.split("_")[1]);n.get(g);r(h,p(v),{}),window.invoiceBrowser.close(),window.invoiceBrowser=null}else"close"===e.type&&h&&(window.invoiceBrowser.close(),window.invoiceBrowser=null)}"ERROR"===e.type&&-2===e.ret&&c({tokenUnusual:1})}),d=(t.bindOnMessage=function(){window.top.addEventListener("message",d,!1)},t.unbindOnMessage=function(){window.top.removeEventListener("message",d,!1)},function(e){var t=e.data;f(t)}),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=[],n=[];return u.default.isMobile?e.map(function(e){t.push(e.oaid),e.data&&e.data.number?r.push(e.data.number):r.push(e.id),n.push({id:e.oaid,name:e.data&&e.data.number?e.data.number:e.id,prop:{cloudId:e.id}})}):e.map(function(e){t.push(e.oa.id),e.number?r.push(e.number):r.push(e.id),n.push({id:e.oa.id,name:e.number?e.number:e.id,prop:{cloudId:e.id}})}),{value:t.join(","),name:r.join(","),specialobj:n}},h=function(e){return!((!window.em||!window.em.checkJsApi(e))&&window.WeaverMobile&&window.WeaverMobile.Toast)||(window.WeaverMobile.Toast.fail(u.default.getLabel(525804,"对不起,暂不支持该应用")),!1)},m=function(e,t){var r=u.default.globalStore.invoiceCloudInfo;switch(e){case"UPDATE_TOKEN":c({tokenUnusual:1},function(){v({type:"UPDATE_TOKEN",token:r.token})});break;case"SCAN_QRCODE":case"SELECT_INVOICE":v(t)}},v=function(e){var t=u.default.globalStore.invoiceCloudInfo,r=document.getElementById("req_invoice_iframe"),n=t.jsUrl;r.contentWindow.postMessage(e,n)},g=function(){var e=window.navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,r=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=e.indexOf("E-Mobile")>-1,o=e.indexOf("DingTalk")>-1,i=/MicroMessenger/i,a=i.test(e);if(a){a=!("wxwork"==e.match(/WxWork/i))}else a="";var l=0;!0===a?l=6:!1===a?l=4:(t||r)&&(l=3);var s={isAndroid:t,isiOS:r,isEMobile:n,dev:l,isWx:a,isDT:o};return s},b=function(e){h("scanQRCode")&&window.em.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){var r={source:"ENTRY",type:"SCAN_QRCODE",rid:e.rid,result:t.resultStr};m("SCAN_QRCODE",r)},fail:function(e){window.WeaverMobile&&window.WeaverMobile.Toast&&window.WeaverMobile.Toast.fail(e)}})},y=function(e){h("chooseInvoice")&&window.em.chooseInvoice({type:e.invoiceType,success:function(t){var r={source:"ENTRY",type:"SELECT_INVOICE",invoiceType:e.invoiceType,rid:e.rid,list:t.setInvoiceList};if(!1===g().isWx){if(!h("getCpUser"))return;window.em.getCpUser({success:function(e){r=(0,i.default)(r,{appKey:e}),m("SELECT_INVOICE",r)},fail:function(e){r=(0,i.default)(r,{appKey:e}),m("SELECT_INVOICE",r)}})}else m("SELECT_INVOICE",r)},fail:function(e){window.WeaverMobile&&window.WeaverMobile.Toast&&window.WeaverMobile.Toast.fail(e)}})},w=function(e){if(h("chooseImage")){var t=[],r=0;window.em_ssoInit().then(function(){window.em.chooseImage({count:9,sourceType:["camera"],success:function(n){var o=n.localIds;o.forEach(function(n){window.em.getLocalImgData({localId:n,success:function(n){r++;var i=n.localData,a="data:image/jpeg;base64,"+i,l=o.length==r,s={base64:a,fileName:""};t.push(s),_(e,t,l)}})})}})}).catch(function(e){alert("连续拍照插件异常,使用原始插件")})}},_=function(e,t,r){if(r){var n={source:"ENTRY",type:"CHOOSE_IMAGE",rid:e.rid,list:t};v(n)}}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(101),c=o(u),f=r(3),d=o(f),p=r(0),h=o(p),m=r(2),v=o(m),g=r(4),b=o(g),y=r(5),w=o(y),_=r(1),S=o(_),E=r(8),I=r(531),k=o(I),C=r(184),x=o(C),O=r(629),P=o(O),M=r(630),A=o(M),F=r(631),R=o(F),T=r(11),D=n(T),j=r(29),L=n(j),N=r(67),q=n(N),W=(i=(0,E.inject)("globalStore","layoutStore"))(a=(0,E.observer)(a=function(e){function t(){var e,r,n,o;(0,h.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,b.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(a))),n.getDomArr=function(e,t){var r=n.props,o=r.symbol,i=r.globalStore,a=i.urlParams,l=void 0===a?{}:a,s=l.isBatchPrint,u=[].concat((0,c.default)(e)),f=[];if("main"===o&&t.length>0&&"true"!==s){t.sort(function(e,t){return e-t});var d=t[0];f.push({trArr_rowHeads:u.slice(0,t[0]),flag:"table"}),f.push({trArr_rowHeads:[u[d]],flag:"pagebreak"});for(var p=1;p<t.length;p++)d=t[p],f.push({trArr_rowHeads:u.slice(t[p-1]+1,d),flag:"table"}),f.push({trArr_rowHeads:[u[d]],flag:"pagebreak"});f.push({trArr_rowHeads:u.slice(t[t.length-1]+1),flag:"table"})}else f=[{trArr_rowHeads:u,flag:"table"}];return f},o=r,(0,b.default)(n,o)}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.symbol,r=e.globalStore,n="main"===t,o=(r.JSComplete,r.commonParam),i=r.urlParams,a=i.isBatchPrint;try{if(n){if("none"==jQuery(".wf-req-form-content").css("display"))return;var l=D.getPageTitle();document.title=l,window.top&&(window.top.location.pathname.indexOf("/spa/workflow/index_form.jsp")>-1||window.top.location.pathname.indexOf("/spa/workflow/static4form/index.html")>-1)&&(window.top.document.title=l),"true"===a&&(window.top.document.title="");var s=parseFloat(jQuery("table.excelMainTable").width()),u=jQuery("div.wf-req-form-main");s>u.width()&&u.width()>0&&(u.width(s+100),u.parent().css("overflow-x","auto")),1==o.workflowid&&errorNoticeUtil.handleResetBtn(),formImgLazyLoad(jQuery(".wea-new-top-req-content"))}}catch(e){window.console}}},{key:"render",value:function(){var e=this.props,t=e.symbol,r=e.globalStore,n=e.layoutStore,o="main"===t,i=r.isSourceLayout,a=r.urlParams,l=void 0===a?{}:a,u=l.isBatchPrint,c=n.variableMap,f=n.propFileCfg,d=void 0===f?{}:f,p=d.batch_print_control_width,h=c.has("promptBox")?c.get("promptBox"):{},m=[];o&&(m.push(S.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CustomContent@4gt3x5"})),m.push(S.default.createElement(A.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_HiddenArea@rsshkl"})),m.push(S.default.createElement(R.default,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_PromptBox@h72bxt"},h))));var v=null;v=i?S.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SourceLayout@yd276x"}):this.renderExcelLayout();var g=parseInt(p)>100,b=u&&g?{maxWidth:parseInt(p)+"px",margin:"0 auto"}:{};return S.default.createElement("div",{className:o?"excelTempDiv":"",style:b},v,m)}},{key:"renderExcelLayout",value:function(){var e=this,t=this.props,r=t.symbol,n=t.globalStore,o=t.layoutStore,i="main"===r,a=i?"emaintable":r,l=n.browserVersion,u=n.commonParam,c=n.urlParams,f=void 0===c?{}:c,d=u.layouttype,p=f.isBatchPrint,h=o.dataJson,m=o.cellInfo,v=m.printBreakRowInfo||[],g=h.etables,b=a in g?g[a]:null;if(null==b)return S.default.createElement("div",{style:{display:"none"}},"Layout error");var y=i?"excelMainTable":"excelTabTable",w=i?{margin:"0px auto"}:{};("1"==m.isFixed||L.judgeExistXScrollDetail())&&(w["table-layout"]="fixed"),i&&l.indexOf("IE")>-1&&!0===m.existTextArea&&(w["table-layout"]="fixed");var _=q.convertRowHeads(b.rowheads),E=q.convertColHeads(b.colheads,r,d,w),I=q.convertEcMap(b.ec),k=b.rowattrs,C=b.colattrs,O=this.getDomArr(_,v),P=[];return O.map(function(t,n){var o=t.trArr_rowHeads;if("table"==t.flag){var i=[];0===n&&q.parseLayoutImage(b,w,i),o.map(function(t){var n=t.id;if("true"!==p||!v.includes(parseInt(n)))for(var o=k?k["row_"+n]:null,a=e.calculateNodeSignProps(n),l=0;l<a.total;l++)i.push(S.default.createElement(x.default,{ecId:(e&&e.props&&e.props.ecId||"")+"_LayoutTr@ds2cqb@"+r+"_"+l,symbol:r,colNum:E.length,rowid:n,rowHeight:t.height,rowCusAttr:o,colattrs:C,ecMap:I,nodeSignProps:(0,s.default)({},a,{current:l})}))}),P.push(S.default.createElement("table",{className:y,style:(0,s.default)({},w)},S.default.createElement("colgroup",null,E.map(function(e){return S.default.createElement("col",{style:{width:e.width}})})),S.default.createElement("tbody",null,i)))}else P.push(S.default.createElement("div",{style:{height:o[o.length-1].height,pageBreakAfter:"always"}}))}),P}},{key:"calculateNodeSignProps",value:function(e){var t=this.props,r=t.symbol,n=t.layoutStore,o=n.cellInfo,i=o.nodeMarkGroup,a=o.nodeMarkContent,l=!1,s=1,u="";return i&&i.map(function(t){var n=t.symbol+"_"+t.rowid;r+"_"+e===n&&(l=!0,u=t.symbol+"_"+t.rowid+"_"+t.colid,s=u in a&&a[u]instanceof Array?a[u].length:0)}),{belong:l,total:s,cellKey:u}}}]),t}(S.default.Component))||a)||a;t.default=W},function(e,t){function r(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}e.exports=r},function(e,t){function r(e,t){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=r},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(591),E=o(S),I=r(595),k=o(I),C=r(597),x=o(C),O=r(598),P=o(O),M=r(599),A=o(M),F=r(625),R=o(F),T=r(626),D=o(T),j=r(627),L=o(j),N=r(270),q=o(N),W=r(6),B=r(273),z=r(23),U=n(z),V=r(125),H=n(V),G=r(10),Q=n(G),K=r(56),J=r(628),$=o(J),Y=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(){return(0,d.default)(this,t),(0,v.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=(0,W.getAntd)(),t=e.Checkbox,r=(0,W.getEcCom)(),n=r.WeaHelpfulTip,o=this.props,i=o.symbol,a=o.cellObj,l=o.detailProps,u=o.nodeSignProps,c=void 0===u?{}:u,f=a.id,d=i+"_"+f.replace(",","_"),p=parseInt(a.etype||0),h=a.evalue,m=this.props,v=m.globalStore,g=m.layoutStore,b=v.JSComplete,y=v.isSourceLayout,_=v.commonParam,S=v.commonApiParam,I=v.urlParams,C=S.iscreate,O=_.requestid,M=_.workflowid,F=g.cellInfo,T=g.detailMap,j=(g.variableMap,1!==parseInt(_.isviewonly||0)&&1!==parseInt(_.isaffirmance||0));if(!0===c.belong&&0!==p&&1!==p&&4!==p&&5!==p)return this.renderDomObj(w.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,W.getLabel)(528409,"无效单元格，意见分组所在行不支持此类型设置")}}));if(0===p||1===p||6===p||24===p)return 24===p&&(h=(0,W.getLabel)(15486,"序号")),""===h?this.renderDomObj(w.default.createElement("span",null," ")):this.renderDomObj(w.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.convertText(h,24===p)}}));if(2===p||3===p){var N=a.field.toString(),z=g.fieldAttrMap;if(!z.has(N))return this.renderDomObj(w.default.createElement("span",{style:{display:"none"}},"Field UnExist!"));var V=z.get(N),G=i.indexOf("detail_")>-1&&V.isDetail;if(2===p){var J=a.financial,Y=V.fieldlabel,X=Q.get(a,["font","font-size"])||"9pt";if(J&&J.indexOf("1-")>-1){var Z=parseInt(J.split("-")[1]||"3");return this.renderDomObj(w.default.createElement(q.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaWfFinancial@q1lval",type:1,finNum:Z,label:Y,className:"finarea_"+N,fontSize:X}),"",{height:"100%",width:"100%"})}return""===Y?this.renderDomObj(w.default.createElement("span",null)):this.renderDomObj(w.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.convertText(Y,24===p,!1)}}))}if(3===p){var ee=G?parseInt(l.rowIndex):-1,te=G?"field"+N+"_"+ee:"field"+N;return this.renderDomObj(w.default.createElement(A.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FieldContent@r045n3",symbol:i,cellObj:a,isDetail:G,rowIndex:ee}),te)}}else{if(4===p){var re=a.field.toString(),ne=F.nodeNameInfo,oe=F.nodeMarkContent,ie="";if(!0===c.belong){var ae=oe[c.cellKey];ie=ae&&ae[c.current].name||""}else ie=ne[re]||h;return""===ie?this.renderDomObj(w.default.createElement("span",null)):this.renderDomObj(w.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.convertText(ie)}}))}if(5===p){var le=F.nodeMarkContent,se="";if(!0===c.belong){var ue=le[c.cellKey];se=ue&&ue[c.current].content||""}else y?se=this.props.nodeMark||"":(se=le&&le[d]||"",i.indexOf("mc_")>-1&&Array.isArray(se)&&(se=(0,W.getLabel)(528410,"分组节点意见不能置于多文本布局中，请调整模板设置！")));var ce=v.commonParam,fe=ce.authStr,de=ce.authSignatureStr,pe=ce.docViewUrl,he=ce.isprint,me=ce.f_weaver_belongto_userid,ve=ce.f_weaver_belongto_usertype;return se=se.replace(new RegExp("/workflow/request/ViewRequest(ForwardSPA)?\\.jsp\\?","g"),"/workflow/request/ViewRequestForwardSPA.jsp?authStr="+fe+"&authSignatureStr="+de+"&f_weaver_belongto_userid="+me+"&f_weaver_belongto_usertype="+ve+"&"),se=se.replace(new RegExp("/docs/docs/DocDsp\\.jsp\\?","g"),pe+"?authStr="+fe+"&authSignatureStr="+de+"&"),"1"==he&&(se=(0,K.handWritingHander)(se)),this.renderHtmlText(se,5)}if(7===p)return this.renderDomObj(w.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_DetailLayout@ry4hmp",symbol:a.detail}));if(10===p)return this.renderDomObj(w.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_DetailButton@xyxazo",symbol:i}));if(11===p){var ge=a.fieldtype,be=a.field,ye="";return ye=1==ge?"http://":ye,ye=2==ge?"https://":ye,ye=3==ge?"ftp://":ye,ye=4==ge?"news://":ye,ye+=be,this.renderDomObj(w.default.createElement("a",{target:"_blank",href:ye,dangerouslySetInnerHTML:{__html:""===h?"":this.convertText(h)}}))}if(12===p){var we=f.replace(",","_"),_e=g.variableMap,Se=_e.get("tabarea_"+we+"_showid")||"";return this.renderDomObj(w.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_TabLayout@6udpjd",cellMark:we,tab:a.tab,showid:Se}))}if(13===p)return this.renderDomObj(w.default.createElement(x.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_McLayout@q0bqjd",mcMark:a.mcpoint}));if(15===p){var Ee=a.jsonparam||{},Ie=Ee.hpid||"";if(""!==Ie){var ke=Ee&&Ee.trifields||"",Ce={},xe=g.fieldAttrMap,Oe=g.mainData;return!!ke&&ke.split(",").map(function(e){var t="",r=e.substring(5);if(xe.has(r)){t=Oe.has(e)?Oe.get(e).value:"",t=t.toString();var n=xe.get(r);1===n.htmltype&&"5"===n.detailtype&&(t=t.replace(/,/g,""))}Ce[e]=t}),this.renderDomObj(w.default.createElement(B.Homepage,{ecId:(this&&this.props&&this.props.ecId||"")+"_Homepage@rdfggz",hpid:Ie,workflowid:M,requestid:O,formData:Ce}))}}else{if(16===p){var Pe=a.jsonparam||{};return b?w.default.createElement(L.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_InsertIframe@bcipl2",jsonparam:Pe}):w.default.createElement("span",null)}if(17===p){var Me=a.jsonparam||{},Ae={iscreate:C,isPreView:I.isPreView};return b?w.default.createElement(D.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_InsertScanCode@rk7cyq",jsonparam:Me,otherparam:Ae}):w.default.createElement("span",null)}if(18===p||19===p){var Fe=a.field||"",Re=g.fieldAttrMap,Te=g.linkageCfg,De=g.variableMap;if(18===p){var je=Re.get(Fe).fieldlabel||"";return this.renderDomObj(w.default.createElement("span",null,je+"("+(0,W.getLabel)(358,"合计")+")"))}var Le="";return Q.has(Te,["colCalCfg",Fe])&&(Le=De.has("sum"+Fe)?De.get("sum"+Fe):"0"),this.renderDomObj(w.default.createElement("span",null,H.convertFormatValue_sum(Le,Fe)))}if(20===p){var Ne=T.get(i)||{},qe=Ne.attr,We=Ne.currentPageRowArr,Be=Ne.dropBtnKey,ze=qe.isadd,Ue=qe.isdelete,Ve=!1,He=!1;j&&We.length>0&&(1===ze||1===Ue)&&We.map(function(e){if(He||1===Be&&1!==Ue&&parseInt(e.keyid||0)>0)return"";e.checked?Ve=!0:He=!0});var Ge=!(Ve||He);return this.renderDomObj(w.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Checkbox@mhglgu",onChange:function(e){U.setAllRowChecked(i,e.target.checked)},disabled:Ge,checked:Ve&&!He}))}if(21===p){var Qe=l.rowIndex,Ke=T.get(i)||{},Je=Ke.attr,$e=Ke.rowInfo,Ye=Ke.dropBtnKey,Xe=Je.isdelete,Ze=$e.get("row_"+Qe),et={checked:!!Ze.get("checked")};1===Ye&&(!j||1!==Xe&&parseInt(Ze.get("keyid")||0)>0)&&(et.disabled=!0),!0===Ze.get("disableCheck")&&(et.disabled=!0);var tt=parseInt(i.substring(7))-1;return this.renderDomObj(w.default.createElement("span",null,w.default.createElement(t,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Checkbox@hj96fz",onChange:function(e){U.setRowChecked(i,Qe,e.target.checked)}},et)),w.default.createElement("input",{type:"hidden",name:"check_node_"+tt,value:Qe})))}if(22===p)return this.renderDomObj(w.default.createElement("span",null,l.serialNum));if(23===p)return this.renderDomObj(w.default.createElement($.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FnaInvoiceIdentify@4eg3yf",symbol:i,commonParam:_,evalue:h}));if(25===p){var rt=a.jsonparam,nt=void 0===rt?{}:rt,ot=(nt.value||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(\r\n|\r|\n)/g,"<br/>").replace(/ /g,"&nbsp;");return b&&this.renderDomObj(w.default.createElement("span",null,w.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaHelpfulTip@tdrnso",title:ot,placement:"top"})))}if(26===p){var it=F.labelInfo,at=a.jsonparam||{},lt=at.labelid;return this.renderDomObj(w.default.createElement("span",{dangerouslySetInnerHTML:{__html:""+(it[lt]||"")}}))}if(28===p||29===p)return this.renderDomObj(w.default.createElement(R.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SystemField@mxnixm",cellObj:a}))}}return this.renderDomObj(w.default.createElement("span",null,h))}},{key:"convertText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||"undefined"===typeof e)return"";var n=e;return r&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;")),n=n.replace(/(\r\n|\r|\n)/g,"</br>"),t||(n=n.replace(/( {2,})/gi,function(e){return" "+e.substring(1).replace(/ /gi,"&nbsp;")})),n}},{key:"renderDomObj",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.props,o=n.symbol,i=n.cellAttr,a=n.cellObj,l=n.layoutStore,u=l.fieldAttrMap,c=l.variableMap,f=parseInt(a.etype)||0,d=i||{};if(d.className=(d.className||"")+" etype_"+f+"_swapDiv",d["data-cellmark"]=o+"_"+a.id.replace(",","_"),Q.isEmpty(r)||(d.style=(0,s.default)({},r,d.style||{})),2===f||3===f){var p=a.field||"";if(3===f){if(d["data-fieldmark"]=t,d.className=(d.className||"")+" "+t+"_swapDiv",u.has(p)){var h=u.get(p);d["data-fieldname"]=h.fieldname,4===h.htmltype&&(d.style=(0,s.default)({display:"inline-block"},d.style))}d.onClick=function(){WfForm.triggerFieldAction("onclick",t)},d.onDoubleClick=function(){WfForm.triggerFieldAction("ondbclick",t)},d.onMouseOver=function(){WfForm.triggerFieldAction("mouseover",t)},d.onMouseOut=function(){WfForm.triggerFieldAction("mouseout",t)}}else 2===f&&(d.style=(0,s.default)({display:"inline-block"},d.style));if(-1===o.indexOf("detail_")){var m=d.className||"";4===c.get("field"+p+"_viewAttr")?m+=" linkage_hide":m=m.replace(/linkage_hide/g,""),d.className=m}}return o.indexOf("mc_")>-1||20===f||21===f?w.default.createElement("span",d,e):w.default.createElement("div",d,e)}},{key:"renderHtmlText",value:function(e,t){var r=this.props,n=r.symbol,o=r.cellAttr,i=r.cellObj,a=5==t?{width:"100%",overflow:"auto hidden"}:{},l=o?{id:o.id,name:o.name,className:o.className,style:(0,s.default)({},a,o.style)}:(0,s.default)({},a);return e&&""!=e?(l.className=(l.className||"")+" etype_"+t+"_swapDiv",5===t&&(l.className=(l.className||"")+" node"+i.field+"_swapDiv"),n.indexOf("mc_")>-1?w.default.createElement("span",(0,s.default)({},l,{dangerouslySetInnerHTML:{__html:""===e?"":e}})):w.default.createElement("div",(0,s.default)({},l,{dangerouslySetInnerHTML:{__html:""===e?"":e}}))):(l.className=(""+(l.className||"")).replace("span_mc "," ").replace("span_mc_marginRight"," "),w.default.createElement("span",l))}}]),t}(w.default.Component))||a)||a;t.default=Y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return!!e&&"function"===typeof e};t.default=n},function(e,t,r){e.exports=r(291)()},function(e,t,r){var n=r(21),o=r(13),i=r(37);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},function(e,t,r){"use strict";var n=r(58),o=r(21),i=r(189),a=r(42),l=r(89),s=r(304),u=r(91),c=r(188),f=r(30)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,m,v,g){s(r,t,h);var b,y,w,_=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",E="values"==m,I=!1,k=e.prototype,C=k[f]||k["@@iterator"]||m&&k[m],x=C||_(m),O=m?E?_("entries"):x:void 0,P="Array"==t?k.entries||C:C;if(P&&(w=c(P.call(new e)))!==Object.prototype&&w.next&&(u(w,S,!0),n||"function"==typeof w[f]||a(w,f,p)),E&&C&&"values"!==C.name&&(I=!0,x=function(){return C.call(this)}),n&&!g||!d&&!I&&k[f]||a(k,f,x),l[t]=x,l[S]=p,m)if(b={values:E?x:_("values"),keys:v?x:_("keys"),entries:O},g)for(y in b)y in k||i(k,y,b[y]);else o(o.P+o.F*(d||I),t,b);return b}},function(e,t,r){var n=r(38),o=r(74),i=r(138);e.exports=function(e){return function(t,r,a){var l,s=n(t),u=o(s.length),c=i(a,u);if(e&&r!=r){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((e||c in s)&&s[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(72),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},function(e,t,r){t.f=r(30)},function(e,t,r){var n=r(70)("meta"),o=r(28),i=r(41),a=r(32).f,l=0,s=Object.isExtensible||function(){return!0},u=!r(37)(function(){return s(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++l,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[n].i},d=function(e,t){if(!i(e,n)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return u&&h.NEED&&s(e)&&!i(e,n)&&c(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,r){var n=r(20),o=r(13),i=r(58),a=r(139),l=r(32).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(62),o=r(60),i=r(38),a=r(88),l=r(41),s=r(104),u=Object.getOwnPropertyDescriptor;t.f=r(22)?u:function(e,t){if(e=i(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,g.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,s,u,c,f,d,p,h,m,v=r(16),g=o(v),b=r(53),y=o(b),w=r(0),_=o(w),S=r(2),E=o(S),I=r(9),k=(n(I),r(11)),C=n(k),x=r(18),O=n(x),P=r(10),M=n(P),A=r(55),F=n(A),R=(l=(0,I.action)("脱敏真实值存储"),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];(0,_.default)(this,e),this.fieldMark="",i(this,"value",u,this),i(this,"decryptValue",c,this),i(this,"specialobj",f,this),i(this,"variable",d,this),i(this,"changeValueObj",p,this),i(this,"changeVariable",h,this),i(this,"changeDecryptValue",m,this),this.fieldMark=t,this.changeValueObj(r),F.appendStepDetail(n,this.fieldMark,F.CHANGE_FIELD_VALUE,r)}return(0,E.default)(e,[{key:"numValue",get:function(){var e=this.value.replace(/,/g,"");return O.judgeIsNumber(e)?parseFloat(e):0}},{key:"valueObj",get:function(){return{value:this.value,specialobj:this.specialobj}}}]),e}(),u=a(s.prototype,"value",[I.observable],{enumerable:!0,initializer:function(){return""}}),c=a(s.prototype,"decryptValue",[I.observable],{enumerable:!0,initializer:function(){return""}}),f=a(s.prototype,"specialobj",[I.observable],{enumerable:!0,initializer:function(){return null}}),a(s.prototype,"numValue",[I.computed],(0,y.default)(s.prototype,"numValue"),s.prototype),a(s.prototype,"valueObj",[I.computed],(0,y.default)(s.prototype,"valueObj"),s.prototype),d=a(s.prototype,"variable",[I.observable],{enumerable:!0,initializer:function(){return I.observable.map?I.observable.map({}):(0,I.asMap)({})}}),p=a(s.prototype,"changeValueObj",[I.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];e.value=C.convertNull(t.value),e.specialobj=t.specialobj||null,F.appendStepDetail(r,e.fieldMark,F.CHANGE_FIELD_VALUE,t)}}}),h=a(s.prototype,"changeVariable",[I.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];!M.isEmpty(t)&&M.forIn(t,function(t,r){e.variable.set(r,t)}),F.appendStepDetail(r,e.fieldMark,F.CHANGE_FIELD_VARS,t)}}}),m=a(s.prototype,"changeDecryptValue",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){e.decryptValue=t}}}),s);t.default=R},function(e,t,r){var n=r(61),o=r(30)("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),o))?r:i?n(t):"Object"==(l=n(t))&&"function"==typeof t.callee?"Arguments":l}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(144),o=r(30)("iterator"),i=r(89);e.exports=r(13).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=o(t),this.reject=o(r)}var o=r(59);e.exports.f=function(e){return new n(e)}},function(e,t,r){var n=r(42);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},function(e,t,r){r(150),e.exports=r(13).Object.assign},function(e,t,r){var n=r(21);n(n.S+n.F,"Object",{assign:r(151)})},function(e,t,r){"use strict";var n=r(22),o=r(52),i=r(93),a=r(62),l=r(46),s=r(73),u=Object.assign;e.exports=!u||r(37)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=l(e),u=arguments.length,c=1,f=i.f,d=a.f;u>c;)for(var p,h=s(arguments[c++]),m=f?o(h).concat(f(h)):o(h),v=m.length,g=0;v>g;)p=m[g++],n&&!d.call(h,p)||(r[p]=h[p]);return r}:u},function(e,t,r){function n(e){if(!o(e))return i(e);var t=[];for(var r in Object(e))l.call(e,r)&&"constructor"!=r&&t.push(r);return t}var o=r(108),i=r(333),a=Object.prototype,l=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){if(!i(e))return!1;var t=o(e);return t==l||t==s||t==a||t==u}var o=r(64),i=r(44),a="[object AsyncFunction]",l="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=n},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(63),o=r(43),i=n(o,"Map");e.exports=i},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){(function(e){var n=r(204),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,l=a&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(e){}}();e.exports=s}).call(t,r(109)(e))},function(e,t,r){function n(e,t,r,a,l){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:o(e,t,r,a,n,l))}var o=r(356),i=r(45);e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(367),i=r(374),a=r(376),l=r(377),s=r(378);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=l,n.prototype.set=s,e.exports=n},function(e,t,r){var n=r(215),o=r(216),i=Object.prototype,a=i.propertyIsEnumerable,l=Object.getOwnPropertySymbols,s=l?function(e){return null==e?[]:(e=Object(e),n(l(e),function(t){return a.call(e,t)}))}:o;e.exports=s},function(e,t){function r(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t,r){function n(e,t){if(o(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(l.test(e)||!a.test(e)||null!=t&&e in Object(t))}var o=r(24),i=r(112),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=n},function(e,t,r){var n=r(402),o=n();e.exports=o},function(e,t,r){function n(e,t,r){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var o=r(226);e.exports=n},function(e,t,r){function n(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=r(212);e.exports=n},function(e,t){function r(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=r},function(e,t,r){var n=r(203),o=n(Object.getPrototypeOf,Object);e.exports=o},function(e,t,r){function n(e,t,r){if(!l(r))return!1;var n=typeof t;return!!("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r)&&o(r[t],e)}var o=r(78),i=r(54),a=r(162),l=r(44);e.exports=n},function(e,t,r){function n(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?l(e)?i(e[0],e[1]):o(e):s(e)}var o=r(439),i=r(442),a=r(122),l=r(24),s=r(445);e.exports=n},function(e,t,r){var n=r(28);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){e.exports={default:r(478),__esModule:!0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(496),i=r(498),a=r(502),l=r(503),s=r(504),u=r(505),c=r(506),f=r(507),d=r(508),p=r(509),h=r(510),m=r(511),v=n(m),g=r(512),b=r(513),y=r(514),w=r(515),_=n(w),S=r(516),E=r(517),I=r(518),k=r(519),C=r(520),x=n(C),O=r(521),P=n(O);e.exports={globalStore:new o.GlobalStore,layoutStore:new i.LayoutStore,statusStore:new a.StatusStore,ehOperatorStore:new l.EhOperatorStore,rejectStore:new s.RejectStore,shareStore:new u.ShareStore,overTimeStore:new c.OverTimeStore,printLogStore:new d.PrintLogStore,freeFlowStore:new p.FreeFlowStore,printReqStore:new h.PrintReqStore,secondAuthStore:new v.default,selectNextFlowStore:new g.SelectNextFlowStore,remindSetStore:new b.RemindSetStore,locationMapStore:new y.LocationMapStore,followSelectStore:new _.default,importFieldLinkageStore:new S.FieldLinkageCfg,freeWflowSimpleStore:new E.FreeWflowSimple,ensureSubmitStore:new k.ensureSubmit,smartGuessStore:new x.default,requestWithdrawStore:new f.RequestWithdrawStore,showContentStore:new P.default,conformRuleStore:new I.conformRules}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,h.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,s,u,c,f,d,p=r(16),h=n(p),m=r(53),v=n(m),g=r(26),b=n(g),y=r(0),w=n(y),_=r(2),S=n(_),E=r(9),I=(a=(0,E.action)("批量控制变量区"),l=(0,E.action)("控制变量区"),s=(0,E.action)("重置变量区"),u=function(){function e(){(0,w.default)(this,e),o(this,"variableMap",c,this),o(this,"batchControlVariableMap",f,this),o(this,"controlVariableMap",d,this),this.controlVariableMap=this.controlVariableMap,this.batchControlVariableMap=this.batchControlVariableMap}return(0,S.default)(e,[{key:"resetVariableMap",value:function(){this.variableMap=E.observable.map?E.observable.map({}):(0,E.asMap)({})}}]),e}(),c=i(u.prototype,"variableMap",[E.observable],{enumerable:!0,initializer:function(){return E.observable.map?E.observable.map({}):(0,E.asMap)({})}}),f=i(u.prototype,"batchControlVariableMap",[a],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,b.default)(t).forEach(function(r){e.controlVariableMap(r,t[r])})}}}),d=i(u.prototype,"controlVariableMap",[l],{enumerable:!0,initializer:function(){var e=this;return function(t,r){e.variableMap.set(t,r)}}}),i(u.prototype,"resetVariableMap",[s],(0,v.default)(u.prototype,"resetVariableMap"),u.prototype),u);t.default=I},function(e,t){e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){function n(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),a=n.pop();if(!o(a)){for(var l=0;l<e.length;){if("function"===typeof a[e[l]])return a[e[l]].apply(a,n);l+=1}if(i(a)){return t.apply(null,n)(a)}}return r.apply(this,arguments)}}var o=r(175),i=r(537);e.exports=n},function(e,t){e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},function(e,t,r){function n(e,t,r){for(var n=0,o=r.length;n<o;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}function o(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function i(e,t,r,n){return e["@@transducer/result"](r[n](u(e["@@transducer/step"],e),t))}function a(e,t,r){if("function"===typeof e&&(e=s(e)),l(r))return n(e,t,r);if("function"===typeof r["fantasy-land/reduce"])return i(e,t,r,"fantasy-land/reduce");if(null!=r[c])return o(e,t,r[c]());if("function"===typeof r.next)return o(e,t,r);if("function"===typeof r.reduce)return i(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var l=r(545),s=r(547),u=r(548),c="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";e.exports=a},function(e,t){function r(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,o){return t.apply(this,arguments)};case 5:return function(e,r,n,o,i){return t.apply(this,arguments)};case 6:return function(e,r,n,o,i,a){return t.apply(this,arguments)};case 7:return function(e,r,n,o,i,a,l){return t.apply(this,arguments)};case 8:return function(e,r,n,o,i,a,l,s){return t.apply(this,arguments)};case 9:return function(e,r,n,o,i,a,l,s,u){return t.apply(this,arguments)};case 10:return function(e,r,n,o,i,a,l,s,u,c){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}e.exports=r},function(e,t,r){var n=r(57),o=r(131),i=r(550),a=!{toString:null}.propertyIsEnumerable("toString"),l=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},c=n("function"!==typeof Object.keys||s?function(e){if(Object(e)!==e)return[];var t,r,n=[],c=s&&i(e);for(t in e)!o(t,e)||c&&"length"===t||(n[n.length]=t);if(a)for(r=l.length-1;r>=0;)t=l[r],o(t,e)&&!u(n,t)&&(n[n.length]=t),r-=1;return n}:function(e){return Object(e)!==e?[]:Object.keys(e)});e.exports=c},function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(560);t.Node=n.Node,t.Element=n.Element,t.DataNode=n.DataNode,t.NodeWithChildren=n.NodeWithChildren;var o=/\s+/g,i={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},a=function(){function e(e,t,r){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"===typeof t&&(r=t,t=i),"object"===typeof e&&(t=e,e=void 0),this._callback=e||null,this._options=t||i,this._elementCB=r||null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var r=new n.Element(e,t);this.addNode(r),this._tagStack.push(r)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,r=this._lastNode;if(r&&"text"===r.type)t?r.data=(r.data+e).replace(o," "):r.data+=e;else{t&&(e=e.replace(o," "));var i=new n.DataNode("text",e);this.addNode(i),this._lastNode=i}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)return void(this._lastNode.data+=e);var t=new n.DataNode("comment",e);this.addNode(t),this._lastNode=t},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new n.DataNode("text",""),t=new n.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new n.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"===typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],r=t?t.children:this.dom,n=r[r.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),r.push(e),n&&(e.prev=n,n.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();t.DomHandler=a,t.default=a},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(132),E=o(S),I=r(67),k=n(I),C=r(10),x=n(C),O=r(6),P=r(23),M=n(P),A=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(){return(0,d.default)(this,t),(0,v.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,h.default)(t,[{key:"shouldComponentUpdate",value:function(e){return!(this.props.symbol===e.symbol&&this.props.symbol.indexOf("detail")>-1)||(!x.isEqual(this.props.detailProps,e.detailProps)||!x.isEqual(this.props.rowMergeInfo,e.rowMergeInfo))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.symbol,r=e.detailProps,n=void 0===r?{}:r;if(t.indexOf("detail_")>-1){var o=parseInt(t.substring(7))-1,i=n.lockedFlag,a=n.isLastRow;2===i&&!0===a&&M.syncLockedForDidMount(o)}}},{key:"render",value:function(){for(var e=(this.props.globalStore.JSComplete,this.props),t=e.symbol,r=e.colNum,n=e.rowid,o=e.rowHeight,i=e.rowCusAttr,a=e.colattrs,l=e.ecMap,u=e.detailProps,c=void 0===u?{}:u,f=e.nodeSignProps,d=void 0===f?{}:f,p=e.dataRows,h=e.rowMergeInfo,m=c.rowType,v=c.addColType,g=c.rowIndex,b=void 0===g?"":g,y=c.serialNum,_=c.needHide,S=c.lockedFlag,I=void 0===S?0:S,C=c.lockedColumn,P=void 0===C?-1:C,M=t.indexOf("detail_")>-1,A=0,F=new Array,R=M&&4===v;A<r;){var T=M&&0===A&&v>0,D=k.judgeCellBelRowSpan(t,n,A,l),j=2===I&&A<=P,L=l[n+","+A];if(!D&&L||T||R){var N=("main"===t?"mainTd":t)+"_"+n+"_"+A;if(T){if(!D&&L||(L={id:n+",0",etype:"1"}),1===v)F.push(w.default.createElement("td",{className:N}));else if(2===v){var q=x.cloneDeep(L);q.etype="20",N+=" detailtitle_td_swap",F.push(w.default.createElement("td",{className:N},w.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CellType@z4ezjy@"+t+"_20",symbol:t,cellObj:q,detailProps:c}),w.default.createElement("span",null,(0,O.getLabel)(15486,"序号"))))}else if(3===v){var W=x.cloneDeep(L);W.etype="21",F.push(w.default.createElement("td",{className:N},w.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CellType@7zuihp@"+t+"_21",symbol:t,cellObj:W,detailProps:c}),w.default.createElement("span",{className:"detailSerial"},y)))}else 4===v&&F.push(w.default.createElement("td",{className:N},w.default.createElement("span",null,"合计")));if(D&&4!==v){A+=1;continue}}R&&(L=x.cloneDeep(l[n+2+","+A]),x.merge(L,{etype:"19",rowspan:"1",colspan:"1"}));var B=parseInt(L.rowspan||1),z=parseInt(L.colspan||1);if(B===p&&"3"==L.etype&&h){var U="field"+L.field.toString();if(U in h&&0===(B*=parseInt(h[U]))){A+=parseInt(z);continue}}var V=a?a["col_"+A]:null,H=k.getCellAttr(L,V,o);N+=" etype_"+L.etype,H.tdClass&&(N+=" "+H.tdClass),R&&(H.divStyle.color="#FF0000");var G=k.buildCellAttr(H,H.cusclass,H.divStyle);F.push(w.default.createElement("td",{rowSpan:B,colSpan:z,className:N,style:H.tdStyle},!j&&w.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CellType@27chqt@"+t+"_"+n+"_"+A,symbol:t,cellAttr:G,cellObj:L,detailProps:c,nodeSignProps:d}))),A+=parseInt(z)}else{if(!D){var Q=a?a["col_"+A]:null,K=k.getCellAttr(null,Q,o);F.push(w.default.createElement("td",{className:K.tdClass,style:K.tdStyle}))}A+=1}}var J=k.getRowAttr(o,i),$=J.trClass||"";M?(y&&($+=" "+(y%2===0?"detail_even_row detail_data_row":"detail_odd_row detail_data_row")),!0===_&&($+=" interface_hide")):(this.judgeNeedHideRow()&&($+=" linkage_hide"),this.judgePrintHideEmptyDetail()&&($+=" printEmptyDetail_hide"));var Y={id:J.id,name:J.name,className:$,style:J.trStyle};return M&&(2===m&&(Y["data-rowindex"]=b),I>0&&(Y["data-rowkey"]=2===m?b+"_"+n:(1===m?"headRow":"tailRow")+"_"+n,Y["data-rowheight"]=Y.style.height||"30px")),w.default.createElement("tr",(0,s.default)({},J.cusobj,Y),F)}},{key:"judgeNeedHideRow",value:function(){var e=this.props,t=e.symbol,r=e.rowid,n=e.layoutStore,o=n.cellInfo,i=n.variableMap,a=o.mainRowFields||{},l=t+"_row_"+r,s=!1;return l in a&&a[l].map(function(e){5===i.get("field"+e+"_viewAttr")&&(s=!0)}),s}},{key:"judgePrintHideEmptyDetail",value:function(){var e=!1,t=this.props,r=t.globalStore,n=t.layoutStore,o=r.commonParam;if(x.isEmpty(o)||1!=parseInt(o.isprint))return!1;var i=n.rowSubPanelMap,a=n.detailMap,l=this.props,s=l.symbol,u=l.rowid;if(x.has(i,s+"_"+u)){var c=i[s+"_"+u];if(c.indexOf("detail_")>-1){var f=a.get(c);f&&1!==f.attr.ishidenull&&0===f.indexnum&&(e=!0)}}return e}}]),t}(w.default.Component))||a)||a;t.default=A},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_185__},function(e,t,r){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e.default:e}function o(e){var t,r,n=e.name,o=e.resolve,i=e.autoResolveES2015Default,f=void 0===i||i,m=e.serverMode,v=void 0===m?"resolve":m,b=e.LoadingComponent,y=e.ErrorComponent;if(-1===g.indexOf(v))throw new Error("Invalid serverMode provided to asyncComponent");var w=["node","browser"].indexOf(e.env)>-1?e.env:"undefined"===typeof window?"node":"browser",_={id:null,module:null,error:null,resolver:null,resolving:!1,asyncComponents:null,asyncComponentsAncestor:null},S=function(){return null==_.module&&null==_.error&&!_.resolving&&"undefined"!==typeof window},E=function(e){return f&&null!=e&&("function"===typeof e||"object"===("undefined"===typeof e?"undefined":s(e)))&&e.default?e.default:e},I=function(){if(null==_.resolver){_.resolving=!0;try{_.resolver=Promise.resolve(o())}catch(e){_.resolver=Promise.reject(e)}}return _.resolver};return r=t=function(e){function t(){return u(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),c(t,[{key:"getChildContext",value:function(){return{asyncComponentsAncestor:null==_.asyncComponents?null:{isBoundary:"boundary"===v}}}},{key:"componentWillMount",value:function(){null!=this.context.asyncComponents&&(_.asyncComponents=this.context.asyncComponents,_.asyncComponentsAncestor=this.context.asyncComponentsAncestor,_.id||(_.id=this.context.asyncComponents.getNextId()))}},{key:"bootstrap",value:function(){var e=this,t=function(){return e.resolveModule().then(function(e){return void 0!==e&&void 0})};if("browser"===w){var r=_.asyncComponents,n=r.shouldRehydrate,o=r.getError,i=o(_.id);return i?(_.error=i,!1):!!n(_.id)&&t()}var a=null!=_.asyncComponentsAncestor&&_.asyncComponentsAncestor.isBoundary;return"defer"!==v&&!a&&t()}},{key:"componentDidMount",value:function(){S()&&this.resolveModule()}},{key:"resolveModule",value:function(){var e=this;return I().then(function(e){return null!=_.asyncComponents&&_.asyncComponents.resolved(_.id),_.module=e,_.error=null,_.resolving=!1,e}).catch(function(e){var t=e.message,r=e.stack,n={message:t,stack:r};null!=_.asyncComponents&&_.asyncComponents.failed(_.id,n),_.error=n,_.resolving=!1}).then(function(t){if(!e.unmounted)return e.context.reactAsyncBootstrapperRunning||"browser"!==w||e.forceUpdate(),t})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=_.module,t=_.error;if(t)return y?a.createElement(y,d({},this.props,{error:t})):null;var r=E(e);return r?a.createElement(r,this.props):b?a.createElement(b,this.props):null}}]),t}(a.Component),t.displayName=n||"AsyncComponent",t.contextTypes={asyncComponentsAncestor:l.shape({isBoundary:l.bool}),asyncComponents:l.shape({getNextId:l.func.isRequired,resolved:l.func.isRequired,shouldRehydrate:l.func.isRequired})},t.childContextTypes={asyncComponentsAncestor:l.shape({isBoundary:l.bool})},r}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=n(i),l=n(r(134)),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},m=function(){var e=0,t={},r={};return{getNextId:function(){return e+=1},resolved:function(e){t[e]=!0},failed:function(e,t){r[e]=t},getState:function(){return{resolved:Object.keys(t).reduce(function(e,t){return Object.assign(e,f({},t,!0))},{}),errors:r}}}},v=function(e){function t(){return u(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),c(t,[{key:"componentWillMount",value:function(){this.asyncContext=this.props.asyncContext||m(),this.rehydrateState=this.props.rehydrateState}},{key:"getChildContext",value:function(){var e=this;return{asyncComponents:{getNextId:this.asyncContext.getNextId,resolved:this.asyncContext.resolved,failed:this.asyncContext.failed,shouldRehydrate:function(t){var r=e.rehydrateState.resolved[t];return delete e.rehydrateState.resolved[t],r},getError:function(t){return e.rehydrateState.errors&&e.rehydrateState.errors[t]}}}}},{key:"render",value:function(){return a.Children.only(this.props.children)}}]),t}(i.Component);v.propTypes={children:l.node.isRequired,asyncContext:l.shape({getNextId:l.func.isRequired,resolved:l.func.isRequired,failed:l.func.isRequired,getState:l.func.isRequired}),rehydrateState:l.shape({resolved:l.object})},v.defaultProps={asyncContext:void 0,rehydrateState:{resolved:{}}},v.childContextTypes={asyncComponents:l.shape({getNextId:l.func.isRequired,resolved:l.func.isRequired,failed:l.func.isRequired,shouldRehydrate:l.func.isRequired,getError:l.func.isRequired}).isRequired};var g=["resolve","defer","boundary"];t.AsyncComponentProvider=v,t.createAsyncContext=m,t.asyncComponent=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(50),f=n(c),d=r(40),p=n(d),h=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__&&e.__poly__){var n=r;r.setterMap={active:function(e){n.toggleActive(e)}},r.map=e.__map__,r.poly=e.__poly__,r.editorActive=!1,r.createEditorInstance().then(function(){r.props.onInstanceCreated&&r.props.onInstanceCreated()})}else p.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),l(t,[{key:"toggleActive",value:function(e){e?this.editorActive||this.activeEditor():this.editorActive&&this.inactiveEditor()}},{key:"activeEditor",value:function(){this.polyEditor&&(this.editorActive=!0,this.polyEditor.open())}},{key:"inactiveEditor",value:function(){this.editorActive=!1,this.polyEditor&&this.polyEditor.close()}},{key:"createEditorInstance",value:function(){var e=this;return this.polyEditor?Promise.resolve(this.polyEditor):new Promise(function(t){e.map.plugin(["AMap.PolyEditor"],function(){e.polyEditor=new window.AMap.PolyEditor(e.map,e.poly),t(e.polyEditor)})})}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.polyEditor}}]),t}(u.default.Component);t.default=(0,f.default)(h)},function(e,t,r){var n=r(41),o=r(46),i=r(85)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){e.exports=r(42)},function(e,t,r){var n=r(20).document;e.exports=n&&n.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(61);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(106),o=r(90).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){e.exports={default:r(319),__esModule:!0}},function(e,t,r){var n=r(34);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(89),o=r(30)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(34),o=r(59),i=r(30)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n,o,i,a=r(36),l=r(326),s=r(190),u=r(87),c=r(20),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,v=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++v]=function(){l("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete g[e]},"process"==r(61)(f)?n=function(e){f.nextTick(a(b,e,1))}:m&&m.now?n=function(e){m.now(a(b,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=y,n=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):n="onreadystatechange"in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(34),o=r(28),i=r(147);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(20),o=r(13),i=r(32),a=r(22),l=r(30)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[l]&&i.f(t,l,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(30)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(154))},function(e,t){function r(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,o=n.toString;e.exports=r},function(e,t,r){function n(e){if("string"==typeof e)return e;if(a(e))return i(e,n)+"";if(l(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var o=r(77),i=r(207),a=r(24),l=r(112),s=1/0,u=o?o.prototype:void 0,c=u?u.toString:void 0;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},function(e,t){function r(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}e.exports=r},function(e,t){function r(e){return n.test(e)}var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=r},function(e,t,r){function n(e){return null==e?"":o(e)}var o=r(206);e.exports=n},function(e,t,r){function n(e,t,r,n,u,c){var f=r&l,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var m=-1,v=!0,g=r&s?new o:void 0;for(c.set(e,t),c.set(t,e);++m<d;){var b=e[m],y=t[m];if(n)var w=f?n(y,b,m,t,e,c):n(b,y,m,e,t,c);if(void 0!==w){if(w)continue;v=!1;break}if(g){if(!i(t,function(e,t){if(!a(g,t)&&(b===e||u(b,e,r,n,c)))return g.push(t)})){v=!1;break}}else if(b!==y&&!u(b,y,r,n,c)){v=!1;break}}return c.delete(e),c.delete(t),v}var o=r(379),i=r(382),a=r(383),l=1,s=2;e.exports=n},function(e,t,r){var n=r(43),o=n.Uint8Array;e.exports=o},function(e,t,r){function n(e){return o(e,a,i)}var o=r(214),i=r(161),a=r(79);e.exports=n},function(e,t,r){function n(e,t,r){var n=t(e);return i(e)?n:o(n,r(e))}var o=r(120),i=r(24);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}e.exports=r},function(e,t){function r(){return[]}e.exports=r},function(e,t,r){function n(e,t){var r=a(e),n=!r&&i(e),c=!r&&!n&&l(e),d=!r&&!n&&!c&&u(e),p=r||n||c||d,h=p?o(e.length,String):[],m=h.length;for(var v in e)!t&&!f.call(e,v)||p&&("length"==v||c&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}var o=r(388),i=r(96),a=r(24),l=r(97),s=r(162),u=r(110),c=Object.prototype,f=c.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t,r){t=o(t,e);for(var n=-1,c=t.length,f=!1;++n<c;){var d=u(t[n]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++n!=c?f:!!(c=null==e?0:e.length)&&s(c)&&l(d,c)&&(a(e)||i(e))}var o=r(219),i=r(96),a=r(24),l=r(162),s=r(156),u=r(121);e.exports=n},function(e,t,r){function n(e,t){return o(e)?e:i(e,t)?[e]:a(l(e))}var o=r(24),i=r(163),a=r(391),l=r(210);e.exports=n},function(e,t,r){function n(e,t,r){var n=null==e?void 0:o(e,t);return void 0===n?r:n}var o=r(221);e.exports=n},function(e,t,r){function n(e,t){t=o(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[i(t[r++])];return r&&r==n?e:void 0}var o=r(219),i=r(121);e.exports=n},function(e,t,r){function n(e){return"string"==typeof e||!i(e)&&a(e)&&o(e)==l}var o=r(64),i=r(24),a=r(45),l="[object String]";e.exports=n},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t,r){function n(e){return"function"==typeof e?e:o}var o=r(122);e.exports=n},function(e,t,r){function n(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||o(e,t,r)}var o=r(165),i=r(78);e.exports=n},function(e,t,r){var n=r(63),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,r){(function(e){function n(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}var o=r(43),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,l=a&&a.exports===i,s=l?o.Buffer:void 0,u=s?s.allocUnsafe:void 0;e.exports=n}).call(t,r(109)(e))},function(e,t,r){function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var o=r(166);e.exports=n},function(e,t,r){function n(e){return"function"!=typeof e.constructor||a(e)?{}:o(i(e))}var o=r(408),i=r(168),a=r(108);e.exports=n},function(e,t){function r(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=r},function(e,t,r){function n(e,t,r){var n=e[t];l.call(e,t)&&i(n,r)&&(void 0!==r||t in e)||o(e,t,r)}var o=r(165),i=r(78),a=Object.prototype,l=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return o(e,i|a)}var o=r(420),i=1,a=4;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}e.exports=r},function(e,t,r){var n=r(120),o=r(168),i=r(161),a=r(216),l=Object.getOwnPropertySymbols,s=l?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t,r){function n(e){return e===e&&!o(e)}var o=r(44);e.exports=n},function(e,t){function r(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}e.exports=r},function(e,t,r){var n=r(453),o=r(454),i=o(n);e.exports=i},function(e,t,r){e.exports={default:r(467),__esModule:!0}},function(e,t,r){"use strict";var n=r(32).f,o=r(105),i=r(148),a=r(36),l=r(145),s=r(95),u=r(136),c=r(191),f=r(201),d=r(22),p=r(140).fastKey,h=r(171),m=d?"_s":"size",v=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){l(e,c,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&s(n,r,e[u],e)});return i(c.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=h(this,t),n=v(r,e);if(n){var o=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==n&&(r._f=o),r._l==n&&(r._l=i),r[m]--}return!!n},forEach:function(e){h(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!v(h(this,t),e)}}),d&&n(c.prototype,"size",{get:function(){return h(this,t)[m]}}),c},def:function(e,t,r){var n,o,i=v(e,t);return i?i.v=r:(e._l=i={i:o=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:v,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?c(0,r.k):"values"==t?c(0,r.v):c(0,[r.k,r.v]):(e._t=void 0,c(1))},r?"entries":"values",!r,!0),f(t)}}},function(e,t,r){"use strict";var n=r(20),o=r(21),i=r(140),a=r(37),l=r(42),s=r(148),u=r(95),c=r(145),f=r(28),d=r(91),p=r(32).f,h=r(469)(0),m=r(22);e.exports=function(e,t,r,v,g,b){var y=n[e],w=y,_=g?"set":"add",S=w&&w.prototype,E={};return m&&"function"==typeof w&&(b||S.forEach&&!a(function(){(new w).entries().next()}))?(w=t(function(t,r){c(t,w,e,"_c"),t._c=new y,void 0!=r&&u(r,g,t[_],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in S&&(!b||"clear"!=e)&&l(w.prototype,e,function(r,n){if(c(this,w,e),!t&&b&&!f(r))return"get"==e&&void 0;var o=this._c[e](0===r?0:r,n);return t?this:o})}),b||p(w.prototype,"size",{get:function(){return this._c.size}})):(w=v.getConstructor(t,e,g,_),s(w.prototype,r),i.NEED=!0),d(w,e),E[e]=w,o(o.G+o.W+o.F,E),b||v.setStrong(w,e,g),w}},function(e,t,r){var n=r(144),o=r(473);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,r){"use strict";var n=r(21);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";var n=r(21),o=r(59),i=r(36),a=r(95);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,l,s=arguments[1];return o(this),t=void 0!==s,t&&o(s),void 0==e?new this:(r=[],t?(n=0,l=i(s,arguments[2],2),a(e,!1,function(e){r.push(l(e,n++))})):a(e,!1,r.push,r),new this(r))}})}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateDetailFormulaNew=exports.bindFormulaEvent=exports.registerFormula=void 0;var _common=__webpack_require__(10),_=_interopRequireWildcard(_common),_source=__webpack_require__(25),_source2=_interopRequireDefault(_source),registerFormula=exports.registerFormula=function(){if(2==_source2.default.globalStore.commonParam.ismode){var e=_source2.default.layoutStore.linkageCfg,t=e.formulaCfg||{},r=t.formulas,n=void 0===r?[]:r,o=t.systemdatas;bindFormulaEvent(n,void 0===o?{}:o),window.has_load_formula=!0}},bindFormulaEvent=exports.bindFormulaEvent=function bindFormulaEvent(datas,systemdata){var _src$layoutStore=_source2.default.layoutStore,dataJson=_src$layoutStore.dataJson,fieldAttrMap=_src$layoutStore.fieldAttrMap,mainData=_src$layoutStore.mainData,detailMap=_src$layoutStore.detailMap,_src$layoutStore$exis=_src$layoutStore.existChangeRange,existChangeRange=void 0===_src$layoutStore$exis?[]:_src$layoutStore$exis,importDetail=_source2.default.globalStore.urlParams.importDetail;datas&&datas.map(function(data){try{var triggers=data.triggers;if(triggers){var triggersArray=triggers.split("##");triggersArray&&triggersArray.map(function(trigger){var triggerArray=trigger.split("#");if(triggerArray&&triggerArray.length>0&&triggerArray[0]){var action=triggerArray[0],fieldid="",tableMark="",fieldMark="";triggerArray.length>1&&(fieldid=triggerArray[1],tableMark=fieldAttrMap.get(fieldid).tableMark,fieldMark="field"+fieldid);var triInfo={};data.formulatxt&&(triInfo.formulatxt=eval(data.formulatxt)),triInfo.formulakey=data.formulakey,data.destcell&&(triInfo.destcell=eval(data.destcell)),data.destfield&&(triInfo.destfield=eval(data.destfield)),data.cellrange&&(triInfo.cellrange=eval(data.cellrange));var triggerGroupid=void 0;tableMark&&tableMark.indexOf("_")>=0&&(triggerGroupid=tableMark.substring(tableMark.indexOf("_")+1)),triInfo.triggerGroupid=triggerGroupid,triInfo.systemdata=systemdata,triInfo.workflowid=_source2.default.globalStore.commonParam.workflowid,triInfo.formid=_source2.default.globalStore.commonParam.formid,triInfo.isbill=_source2.default.globalStore.commonParam.isbill,triInfo.requestid=_source2.default.globalStore.commonParam.requestid,1==action?(-1===tableMark.indexOf("detail")?window.WfForm.bindFieldChangeEvent(fieldMark,function(e,t,r){triInfo.newValue=r,triInfo.triggerFieldid=t,window.formulaTrigger(triInfo)}):(window.WfForm.bindDetailFieldChangeEvent(fieldMark,function(e,t,r){triInfo.newValue=r,triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}),"1"==importDetail&&(triInfo.triggerFieldid=fieldid,triInfo.importDetail="1",window.formulaTrigger(triInfo))),existChangeRange.map(function(e){var t=e.indexOf("_")>-1?e.substring(0,e.indexOf("_")):e;fieldMark==t&&window.WfForm.triggerFieldBindEvent(fieldMark,window.WfForm.getFieldValue(fieldMark))})):2==action?window.WfForm.bindFieldAction("onfocus",fieldMark,function(e,t){triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}):3==action?window.WfForm.bindFieldAction("onblur",fieldMark,function(e,t){triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}):4==action?window.WfForm.bindFieldAction("onclick",fieldMark,function(e,t){triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}):5==action?window.WfForm.bindFieldAction("ondbclick",fieldMark,function(e,t){triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}):6==action?window.WfForm.bindFieldAction("mouseover",fieldMark,function(e,t){triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}):7==action?window.WfForm.bindFieldAction("mouseout",fieldMark,function(e,t){triInfo.triggerFieldid=e,triInfo.triggerRowIndex=t,window.formulaTrigger(triInfo)}):21==action?window.formulaTrigger(triInfo):22==action?window.WfForm.bindScrollEvent(function(){window.formulaTrigger(triInfo)}):51==action?window.WfForm.registerCheckEvent(window.WfForm.OPER_SUBMIT,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()}):52==action?window.WfForm.registerCheckEvent(window.WfForm.OPER_SAVE,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()}):53==action?window.WfForm.registerCheckEvent(window.WfForm.OPER_REJECT,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()}):54==action?window.WfForm.registerCheckEvent(window.WfForm.OPER_TURNHANDLE,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()}):56==action?window.WfForm.registerCheckEvent(window.WfForm.OPER_FORWARD,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()}):57==action?window.WfForm.registerCheckEvent(window.WfForm.OPER_ASKOPINION,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()}):58==action&&window.WfForm.registerCheckEvent(window.WfForm.OPER_TURNREAD,function(e){var t=window.formulaTrigger(triInfo);t?window.WfForm.showMessage(t,1,5):e()})}})}}catch(e){window.console}})},calculateDetailFormulaNew=exports.calculateDetailFormulaNew=function calculateDetailFormulaNew(triggerTableMark,rowIndex){var _src$layoutStore2=_source2.default.layoutStore,dataJson=_src$layoutStore2.dataJson,fieldAttrMap=_src$layoutStore2.fieldAttrMap,mainData=_src$layoutStore2.mainData,detailMap=_src$layoutStore2.detailMap,linkageCfg=_src$layoutStore2.linkageCfg,_linkageCfg$formulaCf=linkageCfg.formulaCfg,formulas=_linkageCfg$formulaCf.formulas,systemdatas=_linkageCfg$formulaCf.systemdatas;formulas&&formulas.map(function(data){try{for(var newRowIndex=rowIndex.split(","),i=0;i<newRowIndex.length;i++){var oneRowIndex=newRowIndex[i],triggers=data.triggers;if(triggers){var triggersArray=triggers.split("##");triggersArray&&triggersArray.map(function(trigger){var triggerArray=trigger.split("#");if(triggerArray&&triggerArray.length>0&&triggerArray[0]){var action=triggerArray[0];if(1==action||2==action||3==action||4==action||5==action||6==action||7==action||21==action){var tableMark="";if(triggerArray.length>1&&(tableMark=fieldAttrMap.get(triggerArray[1]).tableMark),triggerTableMark==tableMark||data.formulatxt&&data.formulatxt.indexOf(triggerTableMark+".")>-1||data.formula&&data.formula.indexOf(triggerTableMark+".")>-1||data.destcell&&data.destcell.indexOf(triggerTableMark+".")>-1||data.destfield&&data.destfield.indexOf(triggerTableMark+".")>-1||data.cellrange&&data.cellrange.indexOf(triggerTableMark+".")>-1){var triInfo={};data.formulatxt&&(triInfo.formulatxt=eval(data.formulatxt)),triInfo.formulakey=data.formulakey,data.destcell&&(triInfo.destcell=eval(data.destcell)),data.destfield&&(triInfo.destfield=eval(data.destfield)),data.cellrange&&(triInfo.cellrange=eval(data.cellrange));var triggerGroupid=void 0;triggerTableMark&&triggerTableMark.indexOf("_")>=0&&(triggerGroupid=triggerTableMark.substring(triggerTableMark.indexOf("_")+1)),triInfo.triggerGroupid=triggerGroupid,triInfo.systemdata=systemdatas,triInfo.workflowid=_source2.default.globalStore.commonParam.workflowid,triInfo.formid=_source2.default.globalStore.commonParam.formid,triInfo.isbill=_source2.default.globalStore.commonParam.isbill,triInfo.requestid=_source2.default.globalStore.commonParam.requestid,triInfo.triggerRowIndex=oneRowIndex,window.formulaTrigger(triInfo)}}}})}}}catch(e){window.console}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyLinkageFinished=t.removeInvalidResponse=t.generateKeyOrder=void 0;var n=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i={},a=(t.generateKeyOrder=function(e,t){var r=[],n=t.linkageid.split(",");return n&&n.map(function(n){if(""!==n){var o=t["rowIndexStr_"+n]||"-1",i=e+"_"+n+"_"+o;r.push({keyid:i,linkageid:n,orderid:a(i)})}}),r},function(e){return e in i?i[e].index++:i[e]={index:0},i[e].time=(new Date).getTime(),i[e].finished=!1,i[e].index});t.removeInvalidResponse=function(e,t){return e.map(function(e){var r=e.keyid,n=e.linkageid;e.orderid>=i[r].index?i[r].finished=!0:"assignInfo_"+n in t&&delete t["assignInfo_"+n]}),t},t.verifyLinkageFinished=function(e){var t=function(e){var t=(new Date).getTime(),r=window.setInterval(function(){var n=(new Date).getTime();!0===window.Has_Trigger_Load_Linkage?function(){window.clearInterval(r),e()}():n-t>5e3&&!0!==window.Has_Trigger_Load_Linkage&&window.WfForm.showMessage("页面加载未正常触发联动，请联系管理员！",1,30)},500)},r=function(e){var r=o.default.globalStore.commonParam,n=r.ismode,i=o.default.layoutStore.linkageCfg,a=i.formulaCfg||{},l=a.files,s=void 0===l?[]:l;if(2==n&&s.length>0)var u=(new Date).getTime(),c=window.setInterval(function(){var r=(new Date).getTime();!0===window.has_load_formula?function(){window.clearInterval(c),t(e)}():r-u>5e3&&!0!==window.has_load_formula&&window.WfForm.showMessage("公式资源未加载完毕，流程提交可能存在数据异常风险，请检查！",1,30)},500);else t(e)};try{var n=!1,a=window.setInterval(function(){var t="",o="";for(var l in i)if(!i[l].finished){t=i[l].time,o=l;break}var s=(new Date).getTime();""===t||s-t>6e4?(window.clearInterval(a),window.wfform.appendSubmitParam({linkageUnFinishedKey:o}),r(e)):s-t>2e3&&!n&&(window.WfForm.showMessage("存在联动请求未返回，请耐心等待...",1,60),n=!0)},200)}catch(t){r(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveCAAuthResult=t.checkCAAuth=t.sendCAMessage=t.doSecondAuth=t.getDynamicPassword=t.getSecondAuthConfig=void 0;var n=r(6),o=(0,n.getEcCom)(),i=o.WeaTools;t.getSecondAuthConfig=function(e){return i.callApi("/api/workflow/secondauth/getSecondAuthConfig","POST",e)},t.getDynamicPassword=function(e){return i.callApi("/api/workflow/secondauth/getDynamicPassword","POST",e)},t.doSecondAuth=function(e){return i.callApi("/api/workflow/secondauth/doSecondAuth","POST",e)},t.sendCAMessage=function(e){return i.callApi("/api/workflow/secondauth/sendCAMessage","POST",e)},t.checkCAAuth=function(e){return i.callApi("/api/workflow/secondauth/checkCAAuth","POST",e)},t.saveCAAuthResult=function(e){return i.callApi("/api/workflow/secondauth/saveCAAuthResult","POST",e)}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformRule=void 0;var i=r(7),a=o(i),l=r(1),s=o(l),u=r(66),c=r(15),f=n(c),d=r(27),p=n(d),h=r(12),m=o(h),v=r(248),g=o(v),b=r(48),y=o(b),w=(t.conformRule=function(e){var t=(0,u.generateFormData)(),r=!0,n=!1,o=(0,a.default)({},t,m.default.globalStore.baseParam,{useThread:1});!function t(){r?(r=!1,o=(0,a.default)({},o,{isReset:1})):delete o.isReset,n||(m.default.globalStore.commonParam.freeNodeExtendNodeId&&m.default.globalStore.commonParam.freeNodeExtendNodeId>0&&(o.nodeid=m.default.globalStore.commonParam.freeNodeExtendNodeId),f.conformCheck(o).then(function(r){var o=r.result;if(o.end){if(o.allPass){var i=window;i.timer=setTimeout(function(){i.timer&&clearTimeout(i.timer),m.default.conformRuleStore.setHasCheckedConformRule(!0)},500),m.default.globalStore.changeSubmitParam({needConformCheck:"0"}),e()}}else{var a=window;a.timer=setTimeout(function(){if(a.timer&&clearTimeout(a.timer),n)return void m.default.globalStore.controlDialogVisible(p.CONFORM_RULE,!1);t()},1e3)}m.default.conformRuleStore.setHasCheckedConformRule(!1),m.default.conformRuleStore.setConformRuleInfo(r),!n&&m.default.globalStore.controlDialogVisible(p.CONFORM_RULE,!0),m.default.conformRuleStore.setConformRuleSubmitEvent(e,function(){n=!0,m.default.globalStore.controlDialogVisible(p.CONFORM_RULE,!1)})}))}()},function(){var e=(0,u.generateFormData)(),t=(0,a.default)({},e,m.default.globalStore.baseParam),r=null;document.getElementById("conform-rule-container")?r=document.getElementById("conform-rule-container"):(r=document.createElement("div"),r.setAttribute("id","conform-rule-container"),document.body.appendChild(r)),y.default.render(s.default.createElement(g.default,{conformRuleStore:m.default.conformRuleStore,isFromCheckResult:!0,formParams:t}),r)});window.showRuleCompareResult=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(48),_=n(w),S=r(51),E=r(6);r(27);r(484);var I=r(8),k=r(9),C=r(232),x=n(C),O=r(12),P=n(O),M=S.WeaLocaleProvider.getLabel,A=(o=(0,I.inject)("conformRuleStore"))(i=(0,I.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.varTemp={btns:[]},n.state={visible:!0},n.getHeader=function(){var e=n.props.conformRuleStore,t=e.status,r=e.title;n.props.isFromCheckResult;return y.default.createElement("p",{className:"top-word"},t?r:M(533549,"正在检测，请稍候")+"...")},n.reformData=function(e){var t=(0,x.default)((0,k.toJS)(e));return t.map(function(e){"status"==e.key&&(e.render=function(e,t,r){var n=[];switch(t.status){case 0:n=[y.default.createElement("div",{className:"content-wrap"},y.default.createElement("img",{src:"/images/ecology9/workflow/loading.gif"}))];break;case 1:n.push(y.default.createElement("div",{className:"content-wrap"},y.default.createElement("i",{className:"icon-coms02-icon-Completion pass",title:M(533550,"校验通过")})));break;case 2:n.push(y.default.createElement("div",{className:"content-wrap"},y.default.createElement("i",{className:"icon-coms-Clear failed",title:M(533551,"不满足规则时禁止提交流程")})));break;case 3:n.push(y.default.createElement("div",{className:"content-wrap"},y.default.createElement("i",{className:"icon-coms02-Warning-01 remind",title:M(533552,"不满足规则时仅提醒")})))}return n})}),t},n.getContent=function(){var e=(0,E.getEcCom)(),t=e.WeaTable,r=n.props.conformRuleStore.conformRuleInfo,o=r.columns,i=r.datas,a=[];return o&&(a=n.reformData((0,k.toJS)(o))),y.default.createElement(t,{columns:a,dataSource:(0,k.toJS)(i),pagination:!1,scroll:{y:360}})},n.onSubmit=function(){var e=n.props.conformRuleStore,t=e.conformRuleSubmitEvent,r=e.conformRuleCancelEvent,o=e.setHasCheckedConformRule;"function"==typeof t&&t(),P.default.globalStore.changeSubmitParam({needConformCheck:"0"}),r(),o(!0),n.setState({visible:!1})},n.onCancel=function(){(0,n.props.conformRuleStore.conformRuleCancelEvent)(),n.setState({visible:!1})},n.breakCheck=function(){var e=n.props.conformRuleStore,t=e.conformRuleStopRequestEvent;e.conformRuleCancelEvent;t(),n.onCancel()},n.getButtons=function(){var e=(0,E.getAntd)(),t=e.Button,r=n.props.conformRuleStore.conformRuleInfo.result,o=[];return n.props.isFromCheckResult?o=[y.default.createElement(t,{type:"primary",onClick:n.setDialogHidden},M(826,"确定"))]:r.end?r.allPass?o=[y.default.createElement(t,{onClick:n.breakCheck,disabled:!0},M(31129,"取消"))]:0==r.processType?o=[y.default.createElement(t,{type:"primary",onClick:n.onCancel},M(533553,"修改表单"))]:1==r.processType&&(o=[y.default.createElement(t,{type:"primary",onClick:n.onSubmit},M(533554,"继续提交流程")),y.default.createElement(t,{onClick:n.onCancel},M(31129,"取消"))]):o=[y.default.createElement(t,{onClick:n.breakCheck},M(31129,"取消"))],o},n.setDialogHidden=function(){_.default.unmountComponentAtNode(document.getElementById("conform-rule-container")),P.default.globalStore.changeSubmitParam({needConformCheck:"0"}),n.setState({visible:!1})},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isFromCheckResult,r=void 0!==t&&t,n=e.conformRuleStore.getCheckResult,o=P.default.globalStore.commonParam,i=o.nodeid,a=o.requestid;r&&n((0,l.default)({isReset:1,nodeid:i,requestid:a},this.props.formParams,{needConformCheck:0}))}},{key:"componentWillReceiveProps",value:function(e){this.setState({visible:!0})}},{key:"render",value:function(){var e=(0,E.getEcCom)(),t=e.WeaDialog,r=(this.props.conformRuleStore.conformDialogvisible,this.props.isFromCheckResult),n=void 0!==r&&r,o=this.state.visible;return this.varTemp.btns=this.getButtons(),y.default.createElement(t,{className:"conform-rule-prompt",title:n?M(533555,"节点字段校验结果"):M(513004,"信息确认"),icon:"icon-coms02-Warning",iconBgcolor:"#F2A945",buttons:this.varTemp.btns,visible:o,style:{width:"563px",height:"447px"},onCancel:n?this.setDialogHidden:this.breakCheck,layout:document.getElementById("container")||document.body},this.getHeader(),this.getContent())}}]),t}(y.default.Component))||i)||i;t.default=A},function(e,t,r){e.exports=r(487)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(94),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){function n(i,a){try{var l=t[i](a),s=l.value}catch(e){return void r(e)}if(!l.done)return o.default.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}},function(e,t,r){e.exports={default:r(493),__esModule:!0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.verifySecondAuth=t.verifyEncryptShare=t.judgeDecryptFormat=t.calculateEncryptFlag=void 0;var o=r(7),i=n(o),a=r(25),l=n(a);t.calculateEncryptFlag=function(e){var t=e.htmltype;if(1!==t&&2!==t)return 0;var r=l.default.globalStore,n=r.commonParam,o=r.urlParams,i=n.isSelfAuth,a=n.isprint,s=n.iscreate,u=o.isPreView,c=1===i||"1"==s||"1"==u,f=parseInt(n.isviewonly),d=e.encryptattr,p=void 0===d?{}:d,h=p.desensitization;if("1"===p.isEncrypt&&!c)return 1;if("1"===h){if("1"==a)return 3;if(1===f||0===f&&e.viewattr<=1)return 2}return 0},t.judgeDecryptFormat=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("desensitization__")&&59==e.length||e.startsWith("encryption__")&&54==e.length},t.verifyEncryptShare=function(e,t){if("1"==e.isfromchatshare&&e.serialid){var r=e.resourcetype,n=e.resourceid,o=e.sharer,i=e.serialid,a={mouldCode:"WORKFLOW",itemCode:"SHAREBASE",targetid:n,serialid:i,sharer:o,resourcetype:r,encrypt:"0"},s=l.default.isMobile?window.setShare4em:window.setShare4ec;if("function"!==typeof s)return void alert("分享打开识别解密方法出现异常，请联系管理员");var u=function(){s(a,function(e){"1"==e.status&&t()})};l.default.isMobile?u():l.default.globalStore.pushJSCompleteEvent(u)}else t()},t.verifySecondAuth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=arguments[2],n=(0,i.default)({},e),o="1"==n.iscreate;t(),l.default.API_REQ.loadBaseInfo(n).then(function(e){if(delete n.preloadkey,o||!0!==e.needSecondAuth)r(e);else{l.default.globalStore.setLoading(!1);var i=l.default.isMobile?window.doCheckSecondaryVerify4em:window.doCheckSecondaryVerify4ec,a=e.params,s=a.requestid,u=a.workflowid,c=a.nodeid,f={mouldCode:"WORKFLOW",itemCode:"NODE",requestid:s,workflowid:u,nodeid:c},d=function(){window.console,i(f,function(e){window.console,"1"==e.status&&(n.hasVerifyAuth=1,n.token=e.token||"",window.API_LOAD_BEGIN=(new Date).getTime(),t(),window.console,l.default.API_REQ.loadBaseInfo(n).then(function(e){r(e)}))})};l.default.isMobile?d():l.default.globalStore.pushJSCompleteEvent(d)}})}},function(e,t,r){(function(e,n){var o;(function(){function i(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function a(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(n,a,r(a),e)}return n}function l(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function s(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function u(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function c(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}function f(e,t){return!!(null==e?0:e.length)&&S(e,t,0)>-1}function d(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function p(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function h(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function m(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function v(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function g(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function b(e){return e.split("")}function y(e){return e.match(Lt)||[]}function w(e,t,r){var n;return r(e,function(e,r,o){if(t(e,r,o))return n=r,!1}),n}function _(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function S(e,t,r){return t===t?J(e,t,r):_(e,I,r)}function E(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function I(e){return e!==e}function k(e,t){var r=null==e?0:e.length;return r?M(e,t)/r:Re}function C(e){return function(t){return null==t?re:t[e]}}function x(e){return function(t){return null==e?re:e[t]}}function O(e,t,r,n,o){return o(e,function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)}),r}function P(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function M(e,t){for(var r,n=-1,o=e.length;++n<o;){var i=t(e[n]);i!==re&&(r=r===re?i:r+i)}return r}function A(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function F(e,t){return p(t,function(t){return[t,e[t]]})}function R(e){return function(t){return e(t)}}function T(e,t){return p(t,function(t){return e[t]})}function D(e,t){return e.has(t)}function j(e,t){for(var r=-1,n=e.length;++r<n&&S(t,e[r],0)>-1;);return r}function L(e,t){for(var r=e.length;r--&&S(t,e[r],0)>-1;);return r}function N(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}function q(e){return"\\"+Ir[e]}function W(e,t){return null==e?re:e[t]}function B(e){return mr.test(e)}function z(e){return vr.test(e)}function U(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function V(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function H(e,t){return function(r){return e(t(r))}}function G(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&a!==se||(e[r]=se,i[o++]=r)}return i}function Q(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function K(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function J(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function $(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}function Y(e){return B(e)?Z(e):Br(e)}function X(e){return B(e)?ee(e):b(e)}function Z(e){for(var t=pr.lastIndex=0;pr.test(e);)++t;return t}function ee(e){return e.match(pr)||[]}function te(e){return e.match(hr)||[]}var re,ne=200,oe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",ae="__lodash_hash_undefined__",le=500,se="__lodash_placeholder__",ue=1,ce=2,fe=4,de=1,pe=2,he=1,me=2,ve=4,ge=8,be=16,ye=32,we=64,_e=128,Se=256,Ee=512,Ie=30,ke="...",Ce=800,xe=16,Oe=1,Pe=2,Me=1/0,Ae=9007199254740991,Fe=1.7976931348623157e308,Re=NaN,Te=4294967295,De=Te-1,je=Te>>>1,Le=[["ary",_e],["bind",he],["bindKey",me],["curry",ge],["curryRight",be],["flip",Ee],["partial",ye],["partialRight",we],["rearg",Se]],Ne="[object Arguments]",qe="[object Array]",We="[object AsyncFunction]",Be="[object Boolean]",ze="[object Date]",Ue="[object DOMException]",Ve="[object Error]",He="[object Function]",Ge="[object GeneratorFunction]",Qe="[object Map]",Ke="[object Number]",Je="[object Null]",$e="[object Object]",Ye="[object Proxy]",Xe="[object RegExp]",Ze="[object Set]",et="[object String]",tt="[object Symbol]",rt="[object Undefined]",nt="[object WeakMap]",ot="[object WeakSet]",it="[object ArrayBuffer]",at="[object DataView]",lt="[object Float32Array]",st="[object Float64Array]",ut="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",dt="[object Uint8Array]",pt="[object Uint8ClampedArray]",ht="[object Uint16Array]",mt="[object Uint32Array]",vt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,_t=RegExp(yt.source),St=RegExp(wt.source),Et=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Mt=RegExp(Pt.source),At=/^\s+|\s+$/g,Ft=/^\s+/,Rt=/\s+$/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dt=/\{\n\/\* \[wrapped with (.+)\] \*/,jt=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Ht=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yt="["+$t+"]",Xt="["+Jt+"]",Zt="[a-z\\xdf-\\xf6\\xf8-\\xff]",er="[^\\ud800-\\udfff"+$t+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",tr="\\ud83c[\\udffb-\\udfff]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",nr="[\\ud800-\\udbff][\\udc00-\\udfff]",or="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ir="(?:"+Zt+"|"+er+")",ar="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",lr="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rr,nr].join("|")+")[\\ufe0e\\ufe0f]?"+ar+")*",sr="[\\ufe0e\\ufe0f]?"+ar+lr,ur="(?:"+["[\\u2700-\\u27bf]",rr,nr].join("|")+")"+sr,cr="(?:"+["[^\\ud800-\\udfff]"+Xt+"?",Xt,rr,nr,"[\\ud800-\\udfff]"].join("|")+")",fr=RegExp("['’]","g"),dr=RegExp(Xt,"g"),pr=RegExp(tr+"(?="+tr+")|"+cr+sr,"g"),hr=RegExp([or+"?"+Zt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Yt,or,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Yt,or+ir,"$"].join("|")+")",or+"?"+ir+"+(?:['’](?:d|ll|m|re|s|t|ve))?",or+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ur].join("|"),"g"),mr=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),vr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],br=-1,yr={};yr[lt]=yr[st]=yr[ut]=yr[ct]=yr[ft]=yr[dt]=yr[pt]=yr[ht]=yr[mt]=!0,yr[Ne]=yr[qe]=yr[it]=yr[Be]=yr[at]=yr[ze]=yr[Ve]=yr[He]=yr[Qe]=yr[Ke]=yr[$e]=yr[Xe]=yr[Ze]=yr[et]=yr[nt]=!1;var wr={};wr[Ne]=wr[qe]=wr[it]=wr[at]=wr[Be]=wr[ze]=wr[lt]=wr[st]=wr[ut]=wr[ct]=wr[ft]=wr[Qe]=wr[Ke]=wr[$e]=wr[Xe]=wr[Ze]=wr[et]=wr[tt]=wr[dt]=wr[pt]=wr[ht]=wr[mt]=!0,wr[Ve]=wr[He]=wr[nt]=!1;var _r={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Sr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Er={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ir={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kr=parseFloat,Cr=parseInt,xr="object"==typeof e&&e&&e.Object===Object&&e,Or="object"==typeof self&&self&&self.Object===Object&&self,Pr=xr||Or||Function("return this")(),Mr="object"==typeof t&&t&&!t.nodeType&&t,Ar=Mr&&"object"==typeof n&&n&&!n.nodeType&&n,Fr=Ar&&Ar.exports===Mr,Rr=Fr&&xr.process,Tr=function(){try{var e=Ar&&Ar.require&&Ar.require("util").types;return e||Rr&&Rr.binding&&Rr.binding("util")}catch(e){}}(),Dr=Tr&&Tr.isArrayBuffer,jr=Tr&&Tr.isDate,Lr=Tr&&Tr.isMap,Nr=Tr&&Tr.isRegExp,qr=Tr&&Tr.isSet,Wr=Tr&&Tr.isTypedArray,Br=C("length"),zr=x(_r),Ur=x(Sr),Vr=x(Er),Hr=function e(t){function r(e){if(ts(e)&&!pd(e)&&!(e instanceof b)){if(e instanceof o)return e;if(dc.call(e,"__wrapped__"))return Xi(e)}return new o(e)}function n(){}function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=re}function b(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Te,this.__views__=[]}function x(){var e=new b(this.__wrapped__);return e.__actions__=Ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ro(this.__views__),e}function J(){if(this.__filtered__){var e=new b(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Z(){var e=this.__wrapped__.value(),t=this.__dir__,r=pd(e),n=t<0,o=r?e.length:0,i=Si(0,o,this.__views__),a=i.start,l=i.end,s=l-a,u=n?l:a-1,c=this.__iteratees__,f=c.length,d=0,p=zc(s,this.__takeCount__);if(!r||!n&&o==s&&p==s)return vo(e,this.__actions__);var h=[];e:for(;s--&&d<p;){u+=t;for(var m=-1,v=e[u];++m<f;){var g=c[m],b=g.iteratee,y=g.type,w=b(v);if(y==Pe)v=w;else if(!w){if(y==Oe)continue e;break e}}h[d++]=v}return h}function ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Lt(){this.__data__=Xc?Xc(null):{},this.size=0}function Jt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function $t(e){var t=this.__data__;if(Xc){var r=t[e];return r===ae?re:r}return dc.call(t,e)?t[e]:re}function Yt(e){var t=this.__data__;return Xc?t[e]!==re:dc.call(t,e)}function Xt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xc&&t===re?ae:t,this}function Zt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function er(){this.__data__=[],this.size=0}function tr(e){var t=this.__data__,r=Gr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Cc.call(t,r,1),--this.size,!0)}function rr(e){var t=this.__data__,r=Gr(t,e);return r<0?re:t[r][1]}function nr(e){return Gr(this.__data__,e)>-1}function or(e,t){var r=this.__data__,n=Gr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ir(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ar(){this.size=0,this.__data__={hash:new ee,map:new(Kc||Zt),string:new ee}}function lr(e){var t=bi(this,e).delete(e);return this.size-=t?1:0,t}function sr(e){return bi(this,e).get(e)}function ur(e){return bi(this,e).has(e)}function cr(e,t){var r=bi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function pr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ir;++t<r;)this.add(e[t])}function hr(e){return this.__data__.set(e,ae),this}function mr(e){return this.__data__.has(e)}function vr(e){var t=this.__data__=new Zt(e);this.size=t.size}function _r(){this.__data__=new Zt,this.size=0}function Sr(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Er(e){return this.__data__.get(e)}function Ir(e){return this.__data__.has(e)}function xr(e,t){var r=this.__data__;if(r instanceof Zt){var n=r.__data__;if(!Kc||n.length<ne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ir(n)}return r.set(e,t),this.size=r.size,this}function Or(e,t){var r=pd(e),n=!r&&dd(e),o=!r&&!n&&md(e),i=!r&&!n&&!o&&wd(e),a=r||n||o||i,l=a?A(e.length,ic):[],s=l.length;for(var u in e)!t&&!dc.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Mi(u,s))||l.push(u);return l}function Mr(e){var t=e.length;return t?e[$n(0,t-1)]:re}function Ar(e,t){return Ki(Ro(e),Xr(t,0,e.length))}function Rr(e){return Ki(Ro(e))}function Tr(e,t,r){(r===re||Bl(e[t],r))&&(r!==re||t in e)||$r(e,t,r)}function Br(e,t,r){var n=e[t];dc.call(e,t)&&Bl(n,r)&&(r!==re||t in e)||$r(e,t,r)}function Gr(e,t){for(var r=e.length;r--;)if(Bl(e[r][0],t))return r;return-1}function Qr(e,t,r,n){return ff(e,function(e,o,i){t(n,e,r(e),i)}),n}function Kr(e,t){return e&&To(t,js(t),e)}function Jr(e,t){return e&&To(t,Ls(t),e)}function $r(e,t,r){"__proto__"==t&&Mc?Mc(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Yr(e,t){for(var r=-1,n=t.length,o=Xu(n),i=null==e;++r<n;)o[r]=i?re:Rs(e,t[r]);return o}function Xr(e,t,r){return e===e&&(r!==re&&(e=e<=r?e:r),t!==re&&(e=e>=t?e:t)),e}function Zr(e,t,r,n,o,i){var a,s=t&ue,u=t&ce,c=t&fe;if(r&&(a=o?r(e,n,o,i):r(e)),a!==re)return a;if(!es(e))return e;var f=pd(e);if(f){if(a=ki(e),!s)return Ro(e,a)}else{var d=Ef(e),p=d==He||d==Ge;if(md(e))return Eo(e,s);if(d==$e||d==Ne||p&&!o){if(a=u||p?{}:Ci(e),!s)return u?jo(e,Jr(a,e)):Do(e,Kr(a,e))}else{if(!wr[d])return o?e:{};a=xi(e,d,s)}}i||(i=new vr);var h=i.get(e);if(h)return h;i.set(e,a),yd(e)?e.forEach(function(n){a.add(Zr(n,t,r,n,e,i))}):gd(e)&&e.forEach(function(n,o){a.set(o,Zr(n,t,r,o,e,i))});var m=c?u?hi:pi:u?Ls:js,v=f?re:m(e);return l(v||e,function(n,o){v&&(o=n,n=e[o]),Br(a,o,Zr(n,t,r,o,e,i))}),a}function en(e){var t=js(e);return function(r){return tn(r,e,t)}}function tn(e,t,r){var n=r.length;if(null==e)return!n;for(e=nc(e);n--;){var o=r[n],i=t[o],a=e[o];if(a===re&&!(o in e)||!i(a))return!1}return!0}function rn(e,t,r){if("function"!=typeof e)throw new ac(ie);return Cf(function(){e.apply(re,r)},t)}function nn(e,t,r,n){var o=-1,i=f,a=!0,l=e.length,s=[],u=t.length;if(!l)return s;r&&(t=p(t,R(r))),n?(i=d,a=!1):t.length>=ne&&(i=D,a=!1,t=new pr(t));e:for(;++o<l;){var c=e[o],h=null==r?c:r(c);if(c=n||0!==c?c:0,a&&h===h){for(var m=u;m--;)if(t[m]===h)continue e;s.push(c)}else i(t,h,n)||s.push(c)}return s}function on(e,t){var r=!0;return ff(e,function(e,n,o){return r=!!t(e,n,o)}),r}function an(e,t,r){for(var n=-1,o=e.length;++n<o;){var i=e[n],a=t(i);if(null!=a&&(l===re?a===a&&!ds(a):r(a,l)))var l=a,s=i}return s}function ln(e,t,r,n){var o=e.length;for(r=bs(r),r<0&&(r=-r>o?0:o+r),n=n===re||n>o?o:bs(n),n<0&&(n+=o),n=r>n?0:ys(n);r<n;)e[r++]=t;return e}function sn(e,t){var r=[];return ff(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}function un(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=Pi),o||(o=[]);++i<a;){var l=e[i];t>0&&r(l)?t>1?un(l,t-1,r,n,o):h(o,l):n||(o[o.length]=l)}return o}function cn(e,t){return e&&pf(e,t,js)}function fn(e,t){return e&&hf(e,t,js)}function dn(e,t){return c(t,function(t){return Yl(e[t])})}function pn(e,t){t=_o(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[Ji(t[r++])];return r&&r==n?e:re}function hn(e,t,r){var n=t(e);return pd(e)?n:h(n,r(e))}function mn(e){return null==e?e===re?rt:Je:Pc&&Pc in nc(e)?_i(e):Bi(e)}function vn(e,t){return e>t}function gn(e,t){return null!=e&&dc.call(e,t)}function bn(e,t){return null!=e&&t in nc(e)}function yn(e,t,r){return e>=zc(t,r)&&e<Bc(t,r)}function wn(e,t,r){for(var n=r?d:f,o=e[0].length,i=e.length,a=i,l=Xu(i),s=1/0,u=[];a--;){var c=e[a];a&&t&&(c=p(c,R(t))),s=zc(c.length,s),l[a]=!r&&(t||o>=120&&c.length>=120)?new pr(a&&c):re}c=e[0];var h=-1,m=l[0];e:for(;++h<o&&u.length<s;){var v=c[h],g=t?t(v):v;if(v=r||0!==v?v:0,!(m?D(m,g):n(u,g,r))){for(a=i;--a;){var b=l[a];if(!(b?D(b,g):n(e[a],g,r)))continue e}m&&m.push(g),u.push(v)}}return u}function _n(e,t,r,n){return cn(e,function(e,o,i){t(n,r(e),o,i)}),n}function Sn(e,t,r){t=_o(t,e),e=Ui(e,t);var n=null==e?e:e[Ji(ga(t))];return null==n?re:i(n,e,r)}function En(e){return ts(e)&&mn(e)==Ne}function In(e){return ts(e)&&mn(e)==it}function kn(e){return ts(e)&&mn(e)==ze}function Cn(e,t,r,n,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:xn(e,t,r,n,Cn,o))}function xn(e,t,r,n,o,i){var a=pd(e),l=pd(t),s=a?qe:Ef(e),u=l?qe:Ef(t);s=s==Ne?$e:s,u=u==Ne?$e:u;var c=s==$e,f=u==$e,d=s==u;if(d&&md(e)){if(!md(t))return!1;a=!0,c=!1}if(d&&!c)return i||(i=new vr),a||wd(e)?ui(e,t,r,n,o,i):ci(e,t,s,r,n,o,i);if(!(r&de)){var p=c&&dc.call(e,"__wrapped__"),h=f&&dc.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,v=h?t.value():t;return i||(i=new vr),o(m,v,r,n,i)}}return!!d&&(i||(i=new vr),fi(e,t,r,n,o,i))}function On(e){return ts(e)&&Ef(e)==Qe}function Pn(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=nc(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){l=r[o];var s=l[0],u=e[s],c=l[1];if(a&&l[2]){if(u===re&&!(s in e))return!1}else{var f=new vr;if(n)var d=n(u,c,s,e,t,f);if(!(d===re?Cn(c,u,de|pe,n,f):d))return!1}}return!0}function Mn(e){return!(!es(e)||Di(e))&&(Yl(e)?bc:Ut).test($i(e))}function An(e){return ts(e)&&mn(e)==Xe}function Fn(e){return ts(e)&&Ef(e)==Ze}function Rn(e){return ts(e)&&Zl(e.length)&&!!yr[mn(e)]}function Tn(e){return"function"==typeof e?e:null==e?Cu:"object"==typeof e?pd(e)?Wn(e[0],e[1]):qn(e):Tu(e)}function Dn(e){if(!ji(e))return Wc(e);var t=[];for(var r in nc(e))dc.call(e,r)&&"constructor"!=r&&t.push(r);return t}function jn(e){if(!es(e))return Wi(e);var t=ji(e),r=[];for(var n in e)("constructor"!=n||!t&&dc.call(e,n))&&r.push(n);return r}function Ln(e,t){return e<t}function Nn(e,t){var r=-1,n=zl(e)?Xu(e.length):[];return ff(e,function(e,o,i){n[++r]=t(e,o,i)}),n}function qn(e){var t=yi(e);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(r){return r===e||Pn(r,e,t)}}function Wn(e,t){return Fi(e)&&Li(t)?Ni(Ji(e),t):function(r){var n=Rs(r,e);return n===re&&n===t?Ds(r,e):Cn(t,n,de|pe)}}function Bn(e,t,r,n,o){e!==t&&pf(t,function(i,a){if(o||(o=new vr),es(i))zn(e,t,a,r,Bn,n,o);else{var l=n?n(Hi(e,a),i,a+"",e,t,o):re;l===re&&(l=i),Tr(e,a,l)}},Ls)}function zn(e,t,r,n,o,i,a){var l=Hi(e,r),s=Hi(t,r),u=a.get(s);if(u)return void Tr(e,r,u);var c=i?i(l,s,r+"",e,t,a):re,f=c===re;if(f){var d=pd(s),p=!d&&md(s),h=!d&&!p&&wd(s);c=s,d||p||h?pd(l)?c=l:Ul(l)?c=Ro(l):p?(f=!1,c=Eo(s,!0)):h?(f=!1,c=Oo(s,!0)):c=[]:us(s)||dd(s)?(c=l,dd(l)?c=_s(l):es(l)&&!Yl(l)||(c=Ci(s))):f=!1}f&&(a.set(s,c),o(c,s,n,i,a),a.delete(s)),Tr(e,r,c)}function Un(e,t){var r=e.length;if(r)return t+=t<0?r:0,Mi(t,r)?e[t]:re}function Vn(e,t,r){var n=-1;return t=p(t.length?t:[Cu],R(gi())),P(Nn(e,function(e,r,o){return{criteria:p(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return Mo(e,t,r)})}function Hn(e,t){return Gn(e,t,function(t,r){return Ds(e,r)})}function Gn(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],l=pn(e,a);r(l,a)&&ro(i,_o(a,e),l)}return i}function Qn(e){return function(t){return pn(t,e)}}function Kn(e,t,r,n){var o=n?E:S,i=-1,a=t.length,l=e;for(e===t&&(t=Ro(t)),r&&(l=p(e,R(r)));++i<a;)for(var s=0,u=t[i],c=r?r(u):u;(s=o(l,c,s,n))>-1;)l!==e&&Cc.call(l,s,1),Cc.call(e,s,1);return e}function Jn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;Mi(o)?Cc.call(e,o,1):po(e,o)}}return e}function $n(e,t){return e+Dc(Hc()*(t-e+1))}function Yn(e,t,r,n){for(var o=-1,i=Bc(Tc((t-e)/(r||1)),0),a=Xu(i);i--;)a[n?i:++o]=e,e+=r;return a}function Xn(e,t){var r="";if(!e||t<1||t>Ae)return r;do{t%2&&(r+=e),(t=Dc(t/2))&&(e+=e)}while(t);return r}function Zn(e,t){return xf(zi(e,t,Cu),e+"")}function eo(e){return Mr(Js(e))}function to(e,t){var r=Js(e);return Ki(r,Xr(t,0,r.length))}function ro(e,t,r,n){if(!es(e))return e;t=_o(t,e);for(var o=-1,i=t.length,a=i-1,l=e;null!=l&&++o<i;){var s=Ji(t[o]),u=r;if(o!=a){var c=l[s];u=n?n(c,s,l):re,u===re&&(u=es(c)?c:Mi(t[o+1])?[]:{})}Br(l,s,u),l=l[s]}return e}function no(e){return Ki(Js(e))}function oo(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Xu(o);++n<o;)i[n]=e[n+t];return i}function io(e,t){var r;return ff(e,function(e,n,o){return!(r=t(e,n,o))}),!!r}function ao(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t===t&&o<=je){for(;n<o;){var i=n+o>>>1,a=e[i];null!==a&&!ds(a)&&(r?a<=t:a<t)?n=i+1:o=i}return o}return lo(e,t,Cu,r)}function lo(e,t,r,n){t=r(t);for(var o=0,i=null==e?0:e.length,a=t!==t,l=null===t,s=ds(t),u=t===re;o<i;){var c=Dc((o+i)/2),f=r(e[c]),d=f!==re,p=null===f,h=f===f,m=ds(f);if(a)var v=n||h;else v=u?h&&(n||d):l?h&&d&&(n||!p):s?h&&d&&!p&&(n||!m):!p&&!m&&(n?f<=t:f<t);v?o=c+1:i=c}return zc(i,De)}function so(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r],l=t?t(a):a;if(!r||!Bl(l,s)){var s=l;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:ds(e)?Re:+e}function co(e){if("string"==typeof e)return e;if(pd(e))return p(e,co)+"";if(ds(e))return uf?uf.call(e):"";var t=e+"";return"0"==t&&1/e==-Me?"-0":t}function fo(e,t,r){var n=-1,o=f,i=e.length,a=!0,l=[],s=l;if(r)a=!1,o=d;else if(i>=ne){var u=t?null:yf(e);if(u)return Q(u);a=!1,o=D,s=new pr}else s=t?[]:l;e:for(;++n<i;){var c=e[n],p=t?t(c):c;if(c=r||0!==c?c:0,a&&p===p){for(var h=s.length;h--;)if(s[h]===p)continue e;t&&s.push(p),l.push(c)}else o(s,p,r)||(s!==l&&s.push(p),l.push(c))}return l}function po(e,t){return t=_o(t,e),null==(e=Ui(e,t))||delete e[Ji(ga(t))]}function ho(e,t,r,n){return ro(e,t,r(pn(e,t)),n)}function mo(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?oo(e,n?0:i,n?i+1:o):oo(e,n?i+1:0,n?o:i)}function vo(e,t){var r=e;return r instanceof b&&(r=r.value()),m(t,function(e,t){return t.func.apply(t.thisArg,h([e],t.args))},r)}function go(e,t,r){var n=e.length;if(n<2)return n?fo(e[0]):[];for(var o=-1,i=Xu(n);++o<n;)for(var a=e[o],l=-1;++l<n;)l!=o&&(i[o]=nn(i[o]||a,e[l],t,r));return fo(un(i,1),t,r)}function bo(e,t,r){for(var n=-1,o=e.length,i=t.length,a={};++n<o;){var l=n<i?t[n]:re;r(a,e[n],l)}return a}function yo(e){return Ul(e)?e:[]}function wo(e){return"function"==typeof e?e:Cu}function _o(e,t){return pd(e)?e:Fi(e,t)?[e]:Of(Es(e))}function So(e,t,r){var n=e.length;return r=r===re?n:r,!t&&r>=n?e:oo(e,t,r)}function Eo(e,t){if(t)return e.slice();var r=e.length,n=Sc?Sc(r):new e.constructor(r);return e.copy(n),n}function Io(e){var t=new e.constructor(e.byteLength);return new _c(t).set(new _c(e)),t}function ko(e,t){var r=t?Io(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Co(e){var t=new e.constructor(e.source,Wt.exec(e));return t.lastIndex=e.lastIndex,t}function xo(e){return sf?nc(sf.call(e)):{}}function Oo(e,t){var r=t?Io(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Po(e,t){if(e!==t){var r=e!==re,n=null===e,o=e===e,i=ds(e),a=t!==re,l=null===t,s=t===t,u=ds(t);if(!l&&!u&&!i&&e>t||i&&a&&s&&!l&&!u||n&&a&&s||!r&&s||!o)return 1;if(!n&&!i&&!u&&e<t||u&&r&&o&&!n&&!i||l&&r&&o||!a&&o||!s)return-1}return 0}function Mo(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,a=o.length,l=r.length;++n<a;){var s=Po(o[n],i[n]);if(s){if(n>=l)return s;return s*("desc"==r[n]?-1:1)}}return e.index-t.index}function Ao(e,t,r,n){for(var o=-1,i=e.length,a=r.length,l=-1,s=t.length,u=Bc(i-a,0),c=Xu(s+u),f=!n;++l<s;)c[l]=t[l];for(;++o<a;)(f||o<i)&&(c[r[o]]=e[o]);for(;u--;)c[l++]=e[o++];return c}function Fo(e,t,r,n){for(var o=-1,i=e.length,a=-1,l=r.length,s=-1,u=t.length,c=Bc(i-l,0),f=Xu(c+u),d=!n;++o<c;)f[o]=e[o];for(var p=o;++s<u;)f[p+s]=t[s];for(;++a<l;)(d||o<i)&&(f[p+r[a]]=e[o++]);return f}function Ro(e,t){var r=-1,n=e.length;for(t||(t=Xu(n));++r<n;)t[r]=e[r];return t}function To(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=n?n(r[l],e[l],l,r,e):re;s===re&&(s=e[l]),o?$r(r,l,s):Br(r,l,s)}return r}function Do(e,t){return To(e,_f(e),t)}function jo(e,t){return To(e,Sf(e),t)}function Lo(e,t){return function(r,n){var o=pd(r)?a:Qr,i=t?t():{};return o(r,e,gi(n,2),i)}}function No(e){return Zn(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:re,a=o>2?r[2]:re;for(i=e.length>3&&"function"==typeof i?(o--,i):re,a&&Ai(r[0],r[1],a)&&(i=o<3?re:i,o=1),t=nc(t);++n<o;){var l=r[n];l&&e(t,l,n,i)}return t})}function qo(e,t){return function(r,n){if(null==r)return r;if(!zl(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=nc(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}function Wo(e){return function(t,r,n){for(var o=-1,i=nc(t),a=n(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===r(i[s],s,i))break}return t}}function Bo(e,t,r){function n(){return(this&&this!==Pr&&this instanceof n?i:e).apply(o?r:this,arguments)}var o=t&he,i=Vo(e);return n}function zo(e){return function(t){t=Es(t);var r=B(t)?X(t):re,n=r?r[0]:t.charAt(0),o=r?So(r,1).join(""):t.slice(1);return n[e]()+o}}function Uo(e){return function(t){return m(_u(tu(t).replace(fr,"")),e,"")}}function Vo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=cf(e.prototype),n=e.apply(r,t);return es(n)?n:r}}function Ho(e,t,r){function n(){for(var a=arguments.length,l=Xu(a),s=a,u=vi(n);s--;)l[s]=arguments[s];var c=a<3&&l[0]!==u&&l[a-1]!==u?[]:G(l,u);return(a-=c.length)<r?ri(e,t,Ko,n.placeholder,re,l,c,re,re,r-a):i(this&&this!==Pr&&this instanceof n?o:e,this,l)}var o=Vo(e);return n}function Go(e){return function(t,r,n){var o=nc(t);if(!zl(t)){var i=gi(r,3);t=js(t),r=function(e){return i(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[i?t[a]:a]:re}}function Qo(e){return di(function(t){var r=t.length,n=r,i=o.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new ac(ie);if(i&&!l&&"wrapper"==mi(a))var l=new o([],!0)}for(n=l?n:r;++n<r;){a=t[n];var s=mi(a),u="wrapper"==s?wf(a):re;l=u&&Ti(u[0])&&u[1]==(_e|ge|ye|Se)&&!u[4].length&&1==u[9]?l[mi(u[0])].apply(l,u[3]):1==a.length&&Ti(a)?l[s]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&pd(n))return l.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}})}function Ko(e,t,r,n,o,i,a,l,s,u){function c(){for(var g=arguments.length,b=Xu(g),y=g;y--;)b[y]=arguments[y];if(h)var w=vi(c),_=N(b,w);if(n&&(b=Ao(b,n,o,h)),i&&(b=Fo(b,i,a,h)),g-=_,h&&g<u){var S=G(b,w);return ri(e,t,Ko,c.placeholder,r,b,S,l,s,u-g)}var E=d?r:this,I=p?E[e]:e;return g=b.length,l?b=Vi(b,l):m&&g>1&&b.reverse(),f&&s<g&&(b.length=s),this&&this!==Pr&&this instanceof c&&(I=v||Vo(I)),I.apply(E,b)}var f=t&_e,d=t&he,p=t&me,h=t&(ge|be),m=t&Ee,v=p?re:Vo(e);return c}function Jo(e,t){return function(r,n){return _n(r,e,t(n),{})}}function $o(e,t){return function(r,n){var o;if(r===re&&n===re)return t;if(r!==re&&(o=r),n!==re){if(o===re)return n;"string"==typeof r||"string"==typeof n?(r=co(r),n=co(n)):(r=uo(r),n=uo(n)),o=e(r,n)}return o}}function Yo(e){return di(function(t){return t=p(t,R(gi())),Zn(function(r){var n=this;return e(t,function(e){return i(e,n,r)})})})}function Xo(e,t){t=t===re?" ":co(t);var r=t.length;if(r<2)return r?Xn(t,e):t;var n=Xn(t,Tc(e/Y(t)));return B(t)?So(X(n),0,e).join(""):n.slice(0,e)}function Zo(e,t,r,n){function o(){for(var t=-1,s=arguments.length,u=-1,c=n.length,f=Xu(c+s),d=this&&this!==Pr&&this instanceof o?l:e;++u<c;)f[u]=n[u];for(;s--;)f[u++]=arguments[++t];return i(d,a?r:this,f)}var a=t&he,l=Vo(e);return o}function ei(e){return function(t,r,n){return n&&"number"!=typeof n&&Ai(t,r,n)&&(r=n=re),t=gs(t),r===re?(r=t,t=0):r=gs(r),n=n===re?t<r?1:-1:gs(n),Yn(t,r,n,e)}}function ti(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ws(t),r=ws(r)),e(t,r)}}function ri(e,t,r,n,o,i,a,l,s,u){var c=t&ge,f=c?a:re,d=c?re:a,p=c?i:re,h=c?re:i;t|=c?ye:we,(t&=~(c?we:ye))&ve||(t&=~(he|me));var m=[e,t,o,p,f,h,d,l,s,u],v=r.apply(re,m);return Ti(e)&&kf(v,m),v.placeholder=n,Gi(v,e,t)}function ni(e){var t=rc[e];return function(e,r){if(e=ws(e),(r=null==r?0:zc(bs(r),292))&&Nc(e)){var n=(Es(e)+"e").split("e");return n=(Es(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return t(e)}}function oi(e){return function(t){var r=Ef(t);return r==Qe?V(t):r==Ze?K(t):F(t,e(t))}}function ii(e,t,r,n,o,i,a,l){var s=t&me;if(!s&&"function"!=typeof e)throw new ac(ie);var u=n?n.length:0;if(u||(t&=~(ye|we),n=o=re),a=a===re?a:Bc(bs(a),0),l=l===re?l:bs(l),u-=o?o.length:0,t&we){var c=n,f=o;n=o=re}var d=s?re:wf(e),p=[e,t,r,n,o,c,f,i,a,l];if(d&&qi(p,d),e=p[0],t=p[1],r=p[2],n=p[3],o=p[4],l=p[9]=p[9]===re?s?0:e.length:Bc(p[9]-u,0),!l&&t&(ge|be)&&(t&=~(ge|be)),t&&t!=he)h=t==ge||t==be?Ho(e,t,l):t!=ye&&t!=(he|ye)||o.length?Ko.apply(re,p):Zo(e,t,r,n);else var h=Bo(e,t,r);return Gi((d?mf:kf)(h,p),e,t)}function ai(e,t,r,n){return e===re||Bl(e,uc[r])&&!dc.call(n,r)?t:e}function li(e,t,r,n,o,i){return es(e)&&es(t)&&(i.set(t,e),Bn(e,t,re,li,i),i.delete(t)),e}function si(e){return us(e)?re:e}function ui(e,t,r,n,o,i){var a=r&de,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var c=-1,f=!0,d=r&pe?new pr:re;for(i.set(e,t),i.set(t,e);++c<l;){var p=e[c],h=t[c];if(n)var m=a?n(h,p,c,t,e,i):n(p,h,c,e,t,i);if(m!==re){if(m)continue;f=!1;break}if(d){if(!g(t,function(e,t){if(!D(d,t)&&(p===e||o(p,e,r,n,i)))return d.push(t)})){f=!1;break}}else if(p!==h&&!o(p,h,r,n,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function ci(e,t,r,n,o,i,a){switch(r){case at:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case it:return!(e.byteLength!=t.byteLength||!i(new _c(e),new _c(t)));case Be:case ze:case Ke:return Bl(+e,+t);case Ve:return e.name==t.name&&e.message==t.message;case Xe:case et:return e==t+"";case Qe:var l=V;case Ze:var s=n&de;if(l||(l=Q),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=pe,a.set(e,t);var c=ui(l(e),l(t),n,o,i,a);return a.delete(e),c;case tt:if(sf)return sf.call(e)==sf.call(t)}return!1}function fi(e,t,r,n,o,i){var a=r&de,l=pi(e),s=l.length;if(s!=pi(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:dc.call(t,c)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var d=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<s;){c=l[u];var h=e[c],m=t[c];if(n)var v=a?n(m,h,c,t,e,i):n(h,m,c,e,t,i);if(!(v===re?h===m||o(h,m,r,n,i):v)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var g=e.constructor,b=t.constructor;g!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(d=!1)}return i.delete(e),i.delete(t),d}function di(e){return xf(zi(e,re,ua),e+"")}function pi(e){return hn(e,js,_f)}function hi(e){return hn(e,Ls,Sf)}function mi(e){for(var t=e.name+"",r=ef[t],n=dc.call(ef,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function vi(e){return(dc.call(r,"placeholder")?r:e).placeholder}function gi(){var e=r.iteratee||xu;return e=e===xu?Tn:e,arguments.length?e(arguments[0],arguments[1]):e}function bi(e,t){var r=e.__data__;return Ri(t)?r["string"==typeof t?"string":"hash"]:r.map}function yi(e){for(var t=js(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Li(o)]}return t}function wi(e,t){var r=W(e,t);return Mn(r)?r:re}function _i(e){var t=dc.call(e,Pc),r=e[Pc];try{e[Pc]=re;var n=!0}catch(e){}var o=mc.call(e);return n&&(t?e[Pc]=r:delete e[Pc]),o}function Si(e,t,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=zc(t,e+a);break;case"takeRight":e=Bc(e,t-a)}}return{start:e,end:t}}function Ei(e){var t=e.match(Dt);return t?t[1].split(jt):[]}function Ii(e,t,r){t=_o(t,e);for(var n=-1,o=t.length,i=!1;++n<o;){var a=Ji(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Zl(o)&&Mi(a,o)&&(pd(e)||dd(e))}function ki(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&dc.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Ci(e){return"function"!=typeof e.constructor||ji(e)?{}:cf(Ec(e))}function xi(e,t,r){var n=e.constructor;switch(t){case it:return Io(e);case Be:case ze:return new n(+e);case at:return ko(e,r);case lt:case st:case ut:case ct:case ft:case dt:case pt:case ht:case mt:return Oo(e,r);case Qe:return new n;case Ke:case et:return new n(e);case Xe:return Co(e);case Ze:return new n;case tt:return xo(e)}}function Oi(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Tt,"{\n/* [wrapped with "+t+"] */\n")}function Pi(e){return pd(e)||dd(e)||!!(xc&&e&&e[xc])}function Mi(e,t){var r=typeof e;return!!(t=null==t?Ae:t)&&("number"==r||"symbol"!=r&&Ht.test(e))&&e>-1&&e%1==0&&e<t}function Ai(e,t,r){if(!es(r))return!1;var n=typeof t;return!!("number"==n?zl(r)&&Mi(t,r.length):"string"==n&&t in r)&&Bl(r[t],e)}function Fi(e,t){if(pd(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ds(e))||(xt.test(e)||!Ct.test(e)||null!=t&&e in nc(t))}function Ri(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ti(e){var t=mi(e),n=r[t];if("function"!=typeof n||!(t in b.prototype))return!1;if(e===n)return!0;var o=wf(n);return!!o&&e===o[0]}function Di(e){return!!hc&&hc in e}function ji(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||uc)}function Li(e){return e===e&&!es(e)}function Ni(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==re||e in nc(r)))}}function qi(e,t){var r=e[1],n=t[1],o=r|n,i=o<(he|me|_e),a=n==_e&&r==ge||n==_e&&r==Se&&e[7].length<=t[8]||n==(_e|Se)&&t[7].length<=t[8]&&r==ge;if(!i&&!a)return e;n&he&&(e[2]=t[2],o|=r&he?0:ve);var l=t[3];if(l){var s=e[3];e[3]=s?Ao(s,l,t[4]):l,e[4]=s?G(e[3],se):t[4]}return l=t[5],l&&(s=e[5],e[5]=s?Fo(s,l,t[6]):l,e[6]=s?G(e[5],se):t[6]),l=t[7],l&&(e[7]=l),n&_e&&(e[8]=null==e[8]?t[8]:zc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Wi(e){var t=[];if(null!=e)for(var r in nc(e))t.push(r);return t}function Bi(e){return mc.call(e)}function zi(e,t,r){return t=Bc(t===re?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=Bc(n.length-t,0),l=Xu(a);++o<a;)l[o]=n[t+o];o=-1;for(var s=Xu(t+1);++o<t;)s[o]=n[o];return s[t]=r(l),i(e,this,s)}}function Ui(e,t){return t.length<2?e:pn(e,oo(t,0,-1))}function Vi(e,t){for(var r=e.length,n=zc(t.length,r),o=Ro(e);n--;){var i=t[n];e[n]=Mi(i,r)?o[i]:re}return e}function Hi(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}function Gi(e,t,r){var n=t+"";return xf(e,Oi(n,Yi(Ei(n),r)))}function Qi(e){var t=0,r=0;return function(){var n=Uc(),o=xe-(n-r);if(r=n,o>0){if(++t>=Ce)return arguments[0]}else t=0;return e.apply(re,arguments)}}function Ki(e,t){var r=-1,n=e.length,o=n-1;for(t=t===re?n:t;++r<t;){var i=$n(r,o),a=e[i];e[i]=e[r],e[r]=a}return e.length=t,e}function Ji(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-Me?"-0":t}function $i(e){if(null!=e){try{return fc.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Yi(e,t){return l(Le,function(r){var n="_."+r[0];t&r[1]&&!f(e,n)&&e.push(n)}),e.sort()}function Xi(e){if(e instanceof b)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=Ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Zi(e,t,r){t=(r?Ai(e,t,r):t===re)?1:Bc(bs(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var o=0,i=0,a=Xu(Tc(n/t));o<n;)a[i++]=oo(e,o,o+=t);return a}function ea(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o}function ta(){var e=arguments.length;if(!e)return[];for(var t=Xu(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return h(pd(r)?Ro(r):[r],un(t,1))}function ra(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===re?1:bs(t),oo(e,t<0?0:t,n)):[]}function na(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===re?1:bs(t),t=n-t,oo(e,0,t<0?0:t)):[]}function oa(e,t){return e&&e.length?mo(e,gi(t,3),!0,!0):[]}function ia(e,t){return e&&e.length?mo(e,gi(t,3),!0):[]}function aa(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&Ai(e,t,r)&&(r=0,n=o),ln(e,t,r,n)):[]}function la(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:bs(r);return o<0&&(o=Bc(n+o,0)),_(e,gi(t,3),o)}function sa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==re&&(o=bs(r),o=r<0?Bc(n+o,0):zc(o,n-1)),_(e,gi(t,3),o,!0)}function ua(e){return(null==e?0:e.length)?un(e,1):[]}function ca(e){return(null==e?0:e.length)?un(e,Me):[]}function fa(e,t){return(null==e?0:e.length)?(t=t===re?1:bs(t),un(e,t)):[]}function da(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n}function pa(e){return e&&e.length?e[0]:re}function ha(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:bs(r);return o<0&&(o=Bc(n+o,0)),S(e,t,o)}function ma(e){return(null==e?0:e.length)?oo(e,0,-1):[]}function va(e,t){return null==e?"":qc.call(e,t)}function ga(e){var t=null==e?0:e.length;return t?e[t-1]:re}function ba(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==re&&(o=bs(r),o=o<0?Bc(n+o,0):zc(o,n-1)),t===t?$(e,t,o):_(e,I,o,!0)}function ya(e,t){return e&&e.length?Un(e,bs(t)):re}function wa(e,t){return e&&e.length&&t&&t.length?Kn(e,t):e}function _a(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,gi(r,2)):e}function Sa(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,re,r):e}function Ea(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=gi(t,3);++n<i;){var a=e[n];t(a,n,e)&&(r.push(a),o.push(n))}return Jn(e,o),r}function Ia(e){return null==e?e:Gc.call(e)}function ka(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Ai(e,t,r)?(t=0,r=n):(t=null==t?0:bs(t),r=r===re?n:bs(r)),oo(e,t,r)):[]}function Ca(e,t){return ao(e,t)}function xa(e,t,r){return lo(e,t,gi(r,2))}function Oa(e,t){var r=null==e?0:e.length;if(r){var n=ao(e,t);if(n<r&&Bl(e[n],t))return n}return-1}function Pa(e,t){return ao(e,t,!0)}function Ma(e,t,r){return lo(e,t,gi(r,2),!0)}function Aa(e,t){if(null==e?0:e.length){var r=ao(e,t,!0)-1;if(Bl(e[r],t))return r}return-1}function Fa(e){return e&&e.length?so(e):[]}function Ra(e,t){return e&&e.length?so(e,gi(t,2)):[]}function Ta(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]}function Da(e,t,r){return e&&e.length?(t=r||t===re?1:bs(t),oo(e,0,t<0?0:t)):[]}function ja(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===re?1:bs(t),t=n-t,oo(e,t<0?0:t,n)):[]}function La(e,t){return e&&e.length?mo(e,gi(t,3),!1,!0):[]}function Na(e,t){return e&&e.length?mo(e,gi(t,3)):[]}function qa(e){return e&&e.length?fo(e):[]}function Wa(e,t){return e&&e.length?fo(e,gi(t,2)):[]}function Ba(e,t){return t="function"==typeof t?t:re,e&&e.length?fo(e,re,t):[]}function za(e){if(!e||!e.length)return[];var t=0;return e=c(e,function(e){if(Ul(e))return t=Bc(e.length,t),!0}),A(t,function(t){return p(e,C(t))})}function Ua(e,t){if(!e||!e.length)return[];var r=za(e);return null==t?r:p(r,function(e){return i(t,re,e)})}function Va(e,t){return bo(e||[],t||[],Br)}function Ha(e,t){return bo(e||[],t||[],ro)}function Ga(e){var t=r(e);return t.__chain__=!0,t}function Qa(e,t){return t(e),e}function Ka(e,t){return t(e)}function Ja(){return Ga(this)}function $a(){return new o(this.value(),this.__chain__)}function Ya(){this.__values__===re&&(this.__values__=vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?re:this.__values__[this.__index__++]}}function Xa(){return this}function Za(e){for(var t,r=this;r instanceof n;){var o=Xi(r);o.__index__=0,o.__values__=re,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t}function el(){var e=this.__wrapped__;if(e instanceof b){var t=e;return this.__actions__.length&&(t=new b(this)),t=t.reverse(),t.__actions__.push({func:Ka,args:[Ia],thisArg:re}),new o(t,this.__chain__)}return this.thru(Ia)}function tl(){return vo(this.__wrapped__,this.__actions__)}function rl(e,t,r){var n=pd(e)?u:on;return r&&Ai(e,t,r)&&(t=re),n(e,gi(t,3))}function nl(e,t){return(pd(e)?c:sn)(e,gi(t,3))}function ol(e,t){return un(cl(e,t),1)}function il(e,t){return un(cl(e,t),Me)}function al(e,t,r){return r=r===re?1:bs(r),un(cl(e,t),r)}function ll(e,t){return(pd(e)?l:ff)(e,gi(t,3))}function sl(e,t){return(pd(e)?s:df)(e,gi(t,3))}function ul(e,t,r,n){e=zl(e)?e:Js(e),r=r&&!n?bs(r):0;var o=e.length;return r<0&&(r=Bc(o+r,0)),fs(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&S(e,t,r)>-1}function cl(e,t){return(pd(e)?p:Nn)(e,gi(t,3))}function fl(e,t,r,n){return null==e?[]:(pd(t)||(t=null==t?[]:[t]),r=n?re:r,pd(r)||(r=null==r?[]:[r]),Vn(e,t,r))}function dl(e,t,r){var n=pd(e)?m:O,o=arguments.length<3;return n(e,gi(t,4),r,o,ff)}function pl(e,t,r){var n=pd(e)?v:O,o=arguments.length<3;return n(e,gi(t,4),r,o,df)}function hl(e,t){return(pd(e)?c:sn)(e,Ol(gi(t,3)))}function ml(e){return(pd(e)?Mr:eo)(e)}function vl(e,t,r){return t=(r?Ai(e,t,r):t===re)?1:bs(t),(pd(e)?Ar:to)(e,t)}function gl(e){return(pd(e)?Rr:no)(e)}function bl(e){if(null==e)return 0;if(zl(e))return fs(e)?Y(e):e.length;var t=Ef(e);return t==Qe||t==Ze?e.size:Dn(e).length}function yl(e,t,r){var n=pd(e)?g:io;return r&&Ai(e,t,r)&&(t=re),n(e,gi(t,3))}function wl(e,t){if("function"!=typeof t)throw new ac(ie);return e=bs(e),function(){if(--e<1)return t.apply(this,arguments)}}function _l(e,t,r){return t=r?re:t,t=e&&null==t?e.length:t,ii(e,_e,re,re,re,re,t)}function Sl(e,t){var r;if("function"!=typeof t)throw new ac(ie);return e=bs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=re),r}}function El(e,t,r){t=r?re:t;var n=ii(e,ge,re,re,re,re,re,t);return n.placeholder=El.placeholder,n}function Il(e,t,r){t=r?re:t;var n=ii(e,be,re,re,re,re,re,t);return n.placeholder=Il.placeholder,n}function kl(e,t,r){function n(t){var r=d,n=p;return d=p=re,b=t,m=e.apply(n,r)}function o(e){return b=e,v=Cf(l,t),y?n(e):m}function i(e){var r=e-g,n=e-b,o=t-r;return w?zc(o,h-n):o}function a(e){var r=e-g,n=e-b;return g===re||r>=t||r<0||w&&n>=h}function l(){var e=td();if(a(e))return s(e);v=Cf(l,i(e))}function s(e){return v=re,_&&d?n(e):(d=p=re,m)}function u(){v!==re&&bf(v),b=0,d=g=p=v=re}function c(){return v===re?m:s(td())}function f(){var e=td(),r=a(e);if(d=arguments,p=this,g=e,r){if(v===re)return o(g);if(w)return bf(v),v=Cf(l,t),n(g)}return v===re&&(v=Cf(l,t)),m}var d,p,h,m,v,g,b=0,y=!1,w=!1,_=!0;if("function"!=typeof e)throw new ac(ie);return t=ws(t)||0,es(r)&&(y=!!r.leading,w="maxWait"in r,h=w?Bc(ws(r.maxWait)||0,t):h,_="trailing"in r?!!r.trailing:_),f.cancel=u,f.flush=c,f}function Cl(e){return ii(e,Ee)}function xl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ac(ie);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(xl.Cache||ir),r}function Ol(e){if("function"!=typeof e)throw new ac(ie);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Pl(e){return Sl(2,e)}function Ml(e,t){if("function"!=typeof e)throw new ac(ie);return t=t===re?t:bs(t),Zn(e,t)}function Al(e,t){if("function"!=typeof e)throw new ac(ie);return t=null==t?0:Bc(bs(t),0),Zn(function(r){var n=r[t],o=So(r,0,t);return n&&h(o,n),i(e,this,o)})}function Fl(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new ac(ie);return es(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),kl(e,t,{leading:n,maxWait:t,trailing:o})}function Rl(e){return _l(e,1)}function Tl(e,t){return ld(wo(t),e)}function Dl(){if(!arguments.length)return[];var e=arguments[0];return pd(e)?e:[e]}function jl(e){return Zr(e,fe)}function Ll(e,t){return t="function"==typeof t?t:re,Zr(e,fe,t)}function Nl(e){return Zr(e,ue|fe)}function ql(e,t){return t="function"==typeof t?t:re,Zr(e,ue|fe,t)}function Wl(e,t){return null==t||tn(e,t,js(t))}function Bl(e,t){return e===t||e!==e&&t!==t}function zl(e){return null!=e&&Zl(e.length)&&!Yl(e)}function Ul(e){return ts(e)&&zl(e)}function Vl(e){return!0===e||!1===e||ts(e)&&mn(e)==Be}function Hl(e){return ts(e)&&1===e.nodeType&&!us(e)}function Gl(e){if(null==e)return!0;if(zl(e)&&(pd(e)||"string"==typeof e||"function"==typeof e.splice||md(e)||wd(e)||dd(e)))return!e.length;var t=Ef(e);if(t==Qe||t==Ze)return!e.size;if(ji(e))return!Dn(e).length;for(var r in e)if(dc.call(e,r))return!1;return!0}function Ql(e,t){return Cn(e,t)}function Kl(e,t,r){r="function"==typeof r?r:re;var n=r?r(e,t):re;return n===re?Cn(e,t,re,r):!!n}function Jl(e){if(!ts(e))return!1;var t=mn(e);return t==Ve||t==Ue||"string"==typeof e.message&&"string"==typeof e.name&&!us(e)}function $l(e){return"number"==typeof e&&Nc(e)}function Yl(e){if(!es(e))return!1;var t=mn(e);return t==He||t==Ge||t==We||t==Ye}function Xl(e){return"number"==typeof e&&e==bs(e)}function Zl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ae}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}function rs(e,t){return e===t||Pn(e,t,yi(t))}function ns(e,t,r){return r="function"==typeof r?r:re,Pn(e,t,yi(t),r)}function os(e){return ss(e)&&e!=+e}function is(e){if(If(e))throw new ec(oe);return Mn(e)}function as(e){return null===e}function ls(e){return null==e}function ss(e){return"number"==typeof e||ts(e)&&mn(e)==Ke}function us(e){if(!ts(e)||mn(e)!=$e)return!1;var t=Ec(e);if(null===t)return!0;var r=dc.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&fc.call(r)==vc}function cs(e){return Xl(e)&&e>=-Ae&&e<=Ae}function fs(e){return"string"==typeof e||!pd(e)&&ts(e)&&mn(e)==et}function ds(e){return"symbol"==typeof e||ts(e)&&mn(e)==tt}function ps(e){return e===re}function hs(e){return ts(e)&&Ef(e)==nt}function ms(e){return ts(e)&&mn(e)==ot}function vs(e){if(!e)return[];if(zl(e))return fs(e)?X(e):Ro(e);if(Oc&&e[Oc])return U(e[Oc]());var t=Ef(e);return(t==Qe?V:t==Ze?Q:Js)(e)}function gs(e){if(!e)return 0===e?e:0;if((e=ws(e))===Me||e===-Me){return(e<0?-1:1)*Fe}return e===e?e:0}function bs(e){var t=gs(e),r=t%1;return t===t?r?t-r:t:0}function ys(e){return e?Xr(bs(e),0,Te):0}function ws(e){if("number"==typeof e)return e;if(ds(e))return Re;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(At,"");var r=zt.test(e);return r||Vt.test(e)?Cr(e.slice(2),r?2:8):Bt.test(e)?Re:+e}function _s(e){return To(e,Ls(e))}function Ss(e){return e?Xr(bs(e),-Ae,Ae):0===e?e:0}function Es(e){return null==e?"":co(e)}function Is(e,t){var r=cf(e);return null==t?r:Kr(r,t)}function ks(e,t){return w(e,gi(t,3),cn)}function Cs(e,t){return w(e,gi(t,3),fn)}function xs(e,t){return null==e?e:pf(e,gi(t,3),Ls)}function Os(e,t){return null==e?e:hf(e,gi(t,3),Ls)}function Ps(e,t){return e&&cn(e,gi(t,3))}function Ms(e,t){return e&&fn(e,gi(t,3))}function As(e){return null==e?[]:dn(e,js(e))}function Fs(e){return null==e?[]:dn(e,Ls(e))}function Rs(e,t,r){var n=null==e?re:pn(e,t);return n===re?r:n}function Ts(e,t){return null!=e&&Ii(e,t,gn)}function Ds(e,t){return null!=e&&Ii(e,t,bn)}function js(e){return zl(e)?Or(e):Dn(e)}function Ls(e){return zl(e)?Or(e,!0):jn(e)}function Ns(e,t){var r={};return t=gi(t,3),cn(e,function(e,n,o){$r(r,t(e,n,o),e)}),r}function qs(e,t){var r={};return t=gi(t,3),cn(e,function(e,n,o){$r(r,n,t(e,n,o))}),r}function Ws(e,t){return Bs(e,Ol(gi(t)))}function Bs(e,t){if(null==e)return{};var r=p(hi(e),function(e){return[e]});return t=gi(t),Gn(e,r,function(e,r){return t(e,r[0])})}function zs(e,t,r){t=_o(t,e);var n=-1,o=t.length;for(o||(o=1,e=re);++n<o;){var i=null==e?re:e[Ji(t[n])];i===re&&(n=o,i=r),e=Yl(i)?i.call(e):i}return e}function Us(e,t,r){return null==e?e:ro(e,t,r)}function Vs(e,t,r,n){return n="function"==typeof n?n:re,null==e?e:ro(e,t,r,n)}function Hs(e,t,r){var n=pd(e),o=n||md(e)||wd(e);if(t=gi(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:es(e)&&Yl(i)?cf(Ec(e)):{}}return(o?l:cn)(e,function(e,n,o){return t(r,e,n,o)}),r}function Gs(e,t){return null==e||po(e,t)}function Qs(e,t,r){return null==e?e:ho(e,t,wo(r))}function Ks(e,t,r,n){return n="function"==typeof n?n:re,null==e?e:ho(e,t,wo(r),n)}function Js(e){return null==e?[]:T(e,js(e))}function $s(e){return null==e?[]:T(e,Ls(e))}function Ys(e,t,r){return r===re&&(r=t,t=re),r!==re&&(r=ws(r),r=r===r?r:0),t!==re&&(t=ws(t),t=t===t?t:0),Xr(ws(e),t,r)}function Xs(e,t,r){return t=gs(t),r===re?(r=t,t=0):r=gs(r),e=ws(e),yn(e,t,r)}function Zs(e,t,r){if(r&&"boolean"!=typeof r&&Ai(e,t,r)&&(t=r=re),r===re&&("boolean"==typeof t?(r=t,t=re):"boolean"==typeof e&&(r=e,e=re)),e===re&&t===re?(e=0,t=1):(e=gs(e),t===re?(t=e,e=0):t=gs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Hc();return zc(e+o*(t-e+kr("1e-"+((o+"").length-1))),t)}return $n(e,t)}function eu(e){return Gd(Es(e).toLowerCase())}function tu(e){return(e=Es(e))&&e.replace(Gt,zr).replace(dr,"")}function ru(e,t,r){e=Es(e),t=co(t);var n=e.length;r=r===re?n:Xr(bs(r),0,n);var o=r;return(r-=t.length)>=0&&e.slice(r,o)==t}function nu(e){return e=Es(e),e&&St.test(e)?e.replace(wt,Ur):e}function ou(e){return e=Es(e),e&&Mt.test(e)?e.replace(Pt,"\\$&"):e}function iu(e,t,r){e=Es(e),t=bs(t);var n=t?Y(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Xo(Dc(o),r)+e+Xo(Tc(o),r)}function au(e,t,r){e=Es(e),t=bs(t);var n=t?Y(e):0;return t&&n<t?e+Xo(t-n,r):e}function lu(e,t,r){e=Es(e),t=bs(t);var n=t?Y(e):0;return t&&n<t?Xo(t-n,r)+e:e}function su(e,t,r){return r||null==t?t=0:t&&(t=+t),Vc(Es(e).replace(Ft,""),t||0)}function uu(e,t,r){return t=(r?Ai(e,t,r):t===re)?1:bs(t),Xn(Es(e),t)}function cu(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function fu(e,t,r){return r&&"number"!=typeof r&&Ai(e,t,r)&&(t=r=re),(r=r===re?Te:r>>>0)?(e=Es(e),e&&("string"==typeof t||null!=t&&!bd(t))&&!(t=co(t))&&B(e)?So(X(e),0,r):e.split(t,r)):[]}function du(e,t,r){return e=Es(e),r=null==r?0:Xr(bs(r),0,e.length),t=co(t),e.slice(r,r+t.length)==t}function pu(e,t,n){var o=r.templateSettings;n&&Ai(e,t,n)&&(t=re),e=Es(e),t=kd({},t,o,ai);var i,a,l=kd({},t.imports,o.imports,ai),s=js(l),u=T(l,s),c=0,f=t.interpolate||Qt,d="__p += '",p=oc((t.escape||Qt).source+"|"+f.source+"|"+(f===kt?qt:Qt).source+"|"+(t.evaluate||Qt).source+"|$","g"),h="//# sourceURL="+(dc.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++br+"]")+"\n";e.replace(p,function(t,r,n,o,l,s){return n||(n=o),d+=e.slice(c,s).replace(Kt,q),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),l&&(a=!0,d+="';\n"+l+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),d+="';\n";var m=dc.call(t,"variable")&&t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(vt,""):d).replace(gt,"$1").replace(bt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Qd(function(){return tc(s,h+"return "+d).apply(re,u)});if(v.source=d,Jl(v))throw v;return v}function hu(e){return Es(e).toLowerCase()}function mu(e){return Es(e).toUpperCase()}function vu(e,t,r){if((e=Es(e))&&(r||t===re))return e.replace(At,"");if(!e||!(t=co(t)))return e;var n=X(e),o=X(t);return So(n,j(n,o),L(n,o)+1).join("")}function gu(e,t,r){if((e=Es(e))&&(r||t===re))return e.replace(Rt,"");if(!e||!(t=co(t)))return e;var n=X(e);return So(n,0,L(n,X(t))+1).join("")}function bu(e,t,r){if((e=Es(e))&&(r||t===re))return e.replace(Ft,"");if(!e||!(t=co(t)))return e;var n=X(e);return So(n,j(n,X(t))).join("")}function yu(e,t){var r=Ie,n=ke;if(es(t)){var o="separator"in t?t.separator:o;r="length"in t?bs(t.length):r,n="omission"in t?co(t.omission):n}e=Es(e);var i=e.length;if(B(e)){var a=X(e);i=a.length}if(r>=i)return e;var l=r-Y(n);if(l<1)return n;var s=a?So(a,0,l).join(""):e.slice(0,l);if(o===re)return s+n;if(a&&(l+=s.length-l),bd(o)){if(e.slice(l).search(o)){var u,c=s;for(o.global||(o=oc(o.source,Es(Wt.exec(o))+"g")),o.lastIndex=0;u=o.exec(c);)var f=u.index;s=s.slice(0,f===re?l:f)}}else if(e.indexOf(co(o),l)!=l){var d=s.lastIndexOf(o);d>-1&&(s=s.slice(0,d))}return s+n}function wu(e){return e=Es(e),e&&_t.test(e)?e.replace(yt,Vr):e}function _u(e,t,r){return e=Es(e),t=r?re:t,t===re?z(e)?te(e):y(e):e.match(t)||[]}function Su(e){var t=null==e?0:e.length,r=gi();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new ac(ie);return[r(e[0]),e[1]]}):[],Zn(function(r){for(var n=-1;++n<t;){var o=e[n];if(i(o[0],this,r))return i(o[1],this,r)}})}function Eu(e){return en(Zr(e,ue))}function Iu(e){return function(){return e}}function ku(e,t){return null==e||e!==e?t:e}function Cu(e){return e}function xu(e){return Tn("function"==typeof e?e:Zr(e,ue))}function Ou(e){return qn(Zr(e,ue))}function Pu(e,t){return Wn(e,Zr(t,ue))}function Mu(e,t,r){var n=js(t),o=dn(t,n);null!=r||es(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=dn(t,js(t)));var i=!(es(r)&&"chain"in r)||!!r.chain,a=Yl(e);return l(o,function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=Ro(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,h([this.value()],arguments))})}),e}function Au(){return Pr._===this&&(Pr._=gc),this}function Fu(){}function Ru(e){return e=bs(e),Zn(function(t){return Un(t,e)})}function Tu(e){return Fi(e)?C(Ji(e)):Qn(e)}function Du(e){return function(t){return null==e?re:pn(e,t)}}function ju(){return[]}function Lu(){return!1}function Nu(){return{}}function qu(){return""}function Wu(){return!0}function Bu(e,t){if((e=bs(e))<1||e>Ae)return[];var r=Te,n=zc(e,Te);t=gi(t),e-=Te;for(var o=A(n,t);++r<e;)t(r);return o}function zu(e){return pd(e)?p(e,Ji):ds(e)?[e]:Ro(Of(Es(e)))}function Uu(e){var t=++pc;return Es(e)+t}function Vu(e){return e&&e.length?an(e,Cu,vn):re}function Hu(e,t){return e&&e.length?an(e,gi(t,2),vn):re}function Gu(e){return k(e,Cu)}function Qu(e,t){return k(e,gi(t,2))}function Ku(e){return e&&e.length?an(e,Cu,Ln):re}function Ju(e,t){return e&&e.length?an(e,gi(t,2),Ln):re}function $u(e){return e&&e.length?M(e,Cu):0}function Yu(e,t){return e&&e.length?M(e,gi(t,2)):0}t=null==t?Pr:Hr.defaults(Pr.Object(),t,Hr.pick(Pr,gr));var Xu=t.Array,Zu=t.Date,ec=t.Error,tc=t.Function,rc=t.Math,nc=t.Object,oc=t.RegExp,ic=t.String,ac=t.TypeError,lc=Xu.prototype,sc=tc.prototype,uc=nc.prototype,cc=t["__core-js_shared__"],fc=sc.toString,dc=uc.hasOwnProperty,pc=0,hc=function(){var e=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mc=uc.toString,vc=fc.call(nc),gc=Pr._,bc=oc("^"+fc.call(dc).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yc=Fr?t.Buffer:re,wc=t.Symbol,_c=t.Uint8Array,Sc=yc?yc.allocUnsafe:re,Ec=H(nc.getPrototypeOf,nc),Ic=nc.create,kc=uc.propertyIsEnumerable,Cc=lc.splice,xc=wc?wc.isConcatSpreadable:re,Oc=wc?wc.iterator:re,Pc=wc?wc.toStringTag:re,Mc=function(){try{var e=wi(nc,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ac=t.clearTimeout!==Pr.clearTimeout&&t.clearTimeout,Fc=Zu&&Zu.now!==Pr.Date.now&&Zu.now,Rc=t.setTimeout!==Pr.setTimeout&&t.setTimeout,Tc=rc.ceil,Dc=rc.floor,jc=nc.getOwnPropertySymbols,Lc=yc?yc.isBuffer:re,Nc=t.isFinite,qc=lc.join,Wc=H(nc.keys,nc),Bc=rc.max,zc=rc.min,Uc=Zu.now,Vc=t.parseInt,Hc=rc.random,Gc=lc.reverse,Qc=wi(t,"DataView"),Kc=wi(t,"Map"),Jc=wi(t,"Promise"),$c=wi(t,"Set"),Yc=wi(t,"WeakMap"),Xc=wi(nc,"create"),Zc=Yc&&new Yc,ef={},tf=$i(Qc),rf=$i(Kc),nf=$i(Jc),of=$i($c),af=$i(Yc),lf=wc?wc.prototype:re,sf=lf?lf.valueOf:re,uf=lf?lf.toString:re,cf=function(){function e(){}return function(t){if(!es(t))return{};if(Ic)return Ic(t);e.prototype=t;var r=new e;return e.prototype=re,r}}();r.templateSettings={escape:Et,evaluate:It,interpolate:kt,variable:"",imports:{_:r}},r.prototype=n.prototype,r.prototype.constructor=r,o.prototype=cf(n.prototype),o.prototype.constructor=o,b.prototype=cf(n.prototype),b.prototype.constructor=b,ee.prototype.clear=Lt,ee.prototype.delete=Jt,ee.prototype.get=$t,ee.prototype.has=Yt,ee.prototype.set=Xt,Zt.prototype.clear=er,Zt.prototype.delete=tr,Zt.prototype.get=rr,Zt.prototype.has=nr,Zt.prototype.set=or,ir.prototype.clear=ar,ir.prototype.delete=lr,ir.prototype.get=sr,ir.prototype.has=ur,ir.prototype.set=cr,pr.prototype.add=pr.prototype.push=hr,pr.prototype.has=mr,vr.prototype.clear=_r,vr.prototype.delete=Sr,vr.prototype.get=Er,vr.prototype.has=Ir,vr.prototype.set=xr;var ff=qo(cn),df=qo(fn,!0),pf=Wo(),hf=Wo(!0),mf=Zc?function(e,t){return Zc.set(e,t),e}:Cu,vf=Mc?function(e,t){return Mc(e,"toString",{configurable:!0,enumerable:!1,value:Iu(t),writable:!0})}:Cu,gf=Zn,bf=Ac||function(e){return Pr.clearTimeout(e)},yf=$c&&1/Q(new $c([,-0]))[1]==Me?function(e){return new $c(e)}:Fu,wf=Zc?function(e){return Zc.get(e)}:Fu,_f=jc?function(e){return null==e?[]:(e=nc(e),c(jc(e),function(t){return kc.call(e,t)}))}:ju,Sf=jc?function(e){for(var t=[];e;)h(t,_f(e)),e=Ec(e);return t}:ju,Ef=mn;(Qc&&Ef(new Qc(new ArrayBuffer(1)))!=at||Kc&&Ef(new Kc)!=Qe||Jc&&"[object Promise]"!=Ef(Jc.resolve())||$c&&Ef(new $c)!=Ze||Yc&&Ef(new Yc)!=nt)&&(Ef=function(e){var t=mn(e),r=t==$e?e.constructor:re,n=r?$i(r):"";if(n)switch(n){case tf:return at;case rf:return Qe;case nf:return"[object Promise]";case of:return Ze;case af:return nt}return t});var If=cc?Yl:Lu,kf=Qi(mf),Cf=Rc||function(e,t){return Pr.setTimeout(e,t)},xf=Qi(vf),Of=function(e){var t=xl(e,function(e){return r.size===le&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ot,function(e,r,n,o){t.push(n?o.replace(Nt,"$1"):r||e)}),t}),Pf=Zn(function(e,t){return Ul(e)?nn(e,un(t,1,Ul,!0)):[]}),Mf=Zn(function(e,t){var r=ga(t);return Ul(r)&&(r=re),Ul(e)?nn(e,un(t,1,Ul,!0),gi(r,2)):[]}),Af=Zn(function(e,t){var r=ga(t);return Ul(r)&&(r=re),Ul(e)?nn(e,un(t,1,Ul,!0),re,r):[]}),Ff=Zn(function(e){var t=p(e,yo);return t.length&&t[0]===e[0]?wn(t):[]}),Rf=Zn(function(e){var t=ga(e),r=p(e,yo);return t===ga(r)?t=re:r.pop(),r.length&&r[0]===e[0]?wn(r,gi(t,2)):[]}),Tf=Zn(function(e){var t=ga(e),r=p(e,yo);return t="function"==typeof t?t:re,t&&r.pop(),r.length&&r[0]===e[0]?wn(r,re,t):[]}),Df=Zn(wa),jf=di(function(e,t){var r=null==e?0:e.length,n=Yr(e,t);return Jn(e,p(t,function(e){return Mi(e,r)?+e:e}).sort(Po)),n}),Lf=Zn(function(e){return fo(un(e,1,Ul,!0))}),Nf=Zn(function(e){var t=ga(e);return Ul(t)&&(t=re),fo(un(e,1,Ul,!0),gi(t,2))}),qf=Zn(function(e){var t=ga(e);return t="function"==typeof t?t:re,fo(un(e,1,Ul,!0),re,t)}),Wf=Zn(function(e,t){return Ul(e)?nn(e,t):[]}),Bf=Zn(function(e){return go(c(e,Ul))}),zf=Zn(function(e){var t=ga(e);return Ul(t)&&(t=re),go(c(e,Ul),gi(t,2))}),Uf=Zn(function(e){var t=ga(e);return t="function"==typeof t?t:re,go(c(e,Ul),re,t)}),Vf=Zn(za),Hf=Zn(function(e){var t=e.length,r=t>1?e[t-1]:re;return r="function"==typeof r?(e.pop(),r):re,Ua(e,r)}),Gf=di(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Yr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof b&&Mi(r)?(n=n.slice(r,+r+(t?1:0)),n.__actions__.push({func:Ka,args:[i],thisArg:re}),new o(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(re),e})):this.thru(i)}),Qf=Lo(function(e,t,r){dc.call(e,r)?++e[r]:$r(e,r,1)}),Kf=Go(la),Jf=Go(sa),$f=Lo(function(e,t,r){dc.call(e,r)?e[r].push(t):$r(e,r,[t])}),Yf=Zn(function(e,t,r){var n=-1,o="function"==typeof t,a=zl(e)?Xu(e.length):[];return ff(e,function(e){a[++n]=o?i(t,e,r):Sn(e,t,r)}),a}),Xf=Lo(function(e,t,r){$r(e,r,t)}),Zf=Lo(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),ed=Zn(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ai(e,t[0],t[1])?t=[]:r>2&&Ai(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,un(t,1),[])}),td=Fc||function(){return Pr.Date.now()},rd=Zn(function(e,t,r){var n=he;if(r.length){var o=G(r,vi(rd));n|=ye}return ii(e,n,t,r,o)}),nd=Zn(function(e,t,r){var n=he|me;if(r.length){var o=G(r,vi(nd));n|=ye}return ii(t,n,e,r,o)}),od=Zn(function(e,t){return rn(e,1,t)}),id=Zn(function(e,t,r){return rn(e,ws(t)||0,r)});xl.Cache=ir;var ad=gf(function(e,t){t=1==t.length&&pd(t[0])?p(t[0],R(gi())):p(un(t,1),R(gi()));var r=t.length;return Zn(function(n){for(var o=-1,a=zc(n.length,r);++o<a;)n[o]=t[o].call(this,n[o]);return i(e,this,n)})}),ld=Zn(function(e,t){var r=G(t,vi(ld));return ii(e,ye,re,t,r)}),sd=Zn(function(e,t){var r=G(t,vi(sd));return ii(e,we,re,t,r)}),ud=di(function(e,t){return ii(e,Se,re,re,re,t)}),cd=ti(vn),fd=ti(function(e,t){return e>=t}),dd=En(function(){return arguments}())?En:function(e){return ts(e)&&dc.call(e,"callee")&&!kc.call(e,"callee")},pd=Xu.isArray,hd=Dr?R(Dr):In,md=Lc||Lu,vd=jr?R(jr):kn,gd=Lr?R(Lr):On,bd=Nr?R(Nr):An,yd=qr?R(qr):Fn,wd=Wr?R(Wr):Rn,_d=ti(Ln),Sd=ti(function(e,t){return e<=t}),Ed=No(function(e,t){if(ji(t)||zl(t))return void To(t,js(t),e);for(var r in t)dc.call(t,r)&&Br(e,r,t[r])}),Id=No(function(e,t){To(t,Ls(t),e)}),kd=No(function(e,t,r,n){To(t,Ls(t),e,n)}),Cd=No(function(e,t,r,n){To(t,js(t),e,n)}),xd=di(Yr),Od=Zn(function(e,t){e=nc(e);var r=-1,n=t.length,o=n>2?t[2]:re;for(o&&Ai(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],a=Ls(i),l=-1,s=a.length;++l<s;){var u=a[l],c=e[u];(c===re||Bl(c,uc[u])&&!dc.call(e,u))&&(e[u]=i[u])}return e}),Pd=Zn(function(e){return e.push(re,li),i(Td,re,e)}),Md=Jo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=mc.call(t)),e[t]=r},Iu(Cu)),Ad=Jo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=mc.call(t)),dc.call(e,t)?e[t].push(r):e[t]=[r]},gi),Fd=Zn(Sn),Rd=No(function(e,t,r){Bn(e,t,r)}),Td=No(function(e,t,r,n){Bn(e,t,r,n)}),Dd=di(function(e,t){var r={};if(null==e)return r;var n=!1;t=p(t,function(t){return t=_o(t,e),n||(n=t.length>1),t}),To(e,hi(e),r),n&&(r=Zr(r,ue|ce|fe,si));for(var o=t.length;o--;)po(r,t[o]);return r}),jd=di(function(e,t){return null==e?{}:Hn(e,t)}),Ld=oi(js),Nd=oi(Ls),qd=Uo(function(e,t,r){return t=t.toLowerCase(),e+(r?eu(t):t)}),Wd=Uo(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Bd=Uo(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),zd=zo("toLowerCase"),Ud=Uo(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Vd=Uo(function(e,t,r){return e+(r?" ":"")+Gd(t)}),Hd=Uo(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Gd=zo("toUpperCase"),Qd=Zn(function(e,t){try{return i(e,re,t)}catch(e){return Jl(e)?e:new ec(e)}}),Kd=di(function(e,t){return l(t,function(t){t=Ji(t),$r(e,t,rd(e[t],e))}),e}),Jd=Qo(),$d=Qo(!0),Yd=Zn(function(e,t){return function(r){return Sn(r,e,t)}}),Xd=Zn(function(e,t){return function(r){return Sn(e,r,t)}}),Zd=Yo(p),ep=Yo(u),tp=Yo(g),rp=ei(),np=ei(!0),op=$o(function(e,t){return e+t},0),ip=ni("ceil"),ap=$o(function(e,t){return e/t},1),lp=ni("floor"),sp=$o(function(e,t){return e*t},1),up=ni("round"),cp=$o(function(e,t){return e-t},0);return r.after=wl,r.ary=_l,r.assign=Ed,r.assignIn=Id,r.assignInWith=kd,r.assignWith=Cd,r.at=xd,r.before=Sl,r.bind=rd,r.bindAll=Kd,r.bindKey=nd,r.castArray=Dl,r.chain=Ga,r.chunk=Zi,r.compact=ea,r.concat=ta,r.cond=Su,r.conforms=Eu,r.constant=Iu,r.countBy=Qf,r.create=Is,r.curry=El,r.curryRight=Il,r.debounce=kl,r.defaults=Od,r.defaultsDeep=Pd,r.defer=od,r.delay=id,r.difference=Pf,r.differenceBy=Mf,r.differenceWith=Af,r.drop=ra,r.dropRight=na,r.dropRightWhile=oa,r.dropWhile=ia,r.fill=aa,r.filter=nl,r.flatMap=ol,r.flatMapDeep=il,r.flatMapDepth=al,r.flatten=ua,r.flattenDeep=ca,r.flattenDepth=fa,r.flip=Cl,r.flow=Jd,r.flowRight=$d,r.fromPairs=da,r.functions=As,r.functionsIn=Fs,r.groupBy=$f,r.initial=ma,r.intersection=Ff,r.intersectionBy=Rf,r.intersectionWith=Tf,r.invert=Md,r.invertBy=Ad,r.invokeMap=Yf,r.iteratee=xu,r.keyBy=Xf,r.keys=js,r.keysIn=Ls,r.map=cl,r.mapKeys=Ns,r.mapValues=qs,r.matches=Ou,r.matchesProperty=Pu,r.memoize=xl,r.merge=Rd,r.mergeWith=Td,r.method=Yd,r.methodOf=Xd,r.mixin=Mu,r.negate=Ol,r.nthArg=Ru,r.omit=Dd,r.omitBy=Ws,r.once=Pl,r.orderBy=fl,r.over=Zd,r.overArgs=ad,r.overEvery=ep,r.overSome=tp,r.partial=ld,r.partialRight=sd,r.partition=Zf,r.pick=jd,r.pickBy=Bs,r.property=Tu,r.propertyOf=Du,r.pull=Df,r.pullAll=wa,r.pullAllBy=_a,r.pullAllWith=Sa,r.pullAt=jf,r.range=rp,r.rangeRight=np,r.rearg=ud,r.reject=hl,r.remove=Ea,r.rest=Ml,r.reverse=Ia,r.sampleSize=vl,r.set=Us,r.setWith=Vs,r.shuffle=gl,r.slice=ka,r.sortBy=ed,r.sortedUniq=Fa,r.sortedUniqBy=Ra,r.split=fu,r.spread=Al,r.tail=Ta,r.take=Da,r.takeRight=ja,r.takeRightWhile=La,r.takeWhile=Na,r.tap=Qa,r.throttle=Fl,r.thru=Ka,r.toArray=vs,r.toPairs=Ld,r.toPairsIn=Nd,r.toPath=zu,r.toPlainObject=_s,r.transform=Hs,r.unary=Rl,r.union=Lf,r.unionBy=Nf,r.unionWith=qf,r.uniq=qa,r.uniqBy=Wa,r.uniqWith=Ba,r.unset=Gs,r.unzip=za,r.unzipWith=Ua,r.update=Qs,r.updateWith=Ks,r.values=Js,r.valuesIn=$s,r.without=Wf,r.words=_u,r.wrap=Tl,r.xor=Bf,r.xorBy=zf,r.xorWith=Uf,r.zip=Vf,r.zipObject=Va,r.zipObjectDeep=Ha,r.zipWith=Hf,r.entries=Ld,r.entriesIn=Nd,r.extend=Id,r.extendWith=kd,Mu(r,r),r.add=op,r.attempt=Qd,r.camelCase=qd,r.capitalize=eu,r.ceil=ip,r.clamp=Ys,r.clone=jl,r.cloneDeep=Nl,r.cloneDeepWith=ql,r.cloneWith=Ll,r.conformsTo=Wl,r.deburr=tu,r.defaultTo=ku,r.divide=ap,r.endsWith=ru,r.eq=Bl,r.escape=nu,r.escapeRegExp=ou,r.every=rl,r.find=Kf,r.findIndex=la,r.findKey=ks,r.findLast=Jf,r.findLastIndex=sa,r.findLastKey=Cs,r.floor=lp,r.forEach=ll,r.forEachRight=sl,r.forIn=xs,r.forInRight=Os,r.forOwn=Ps,r.forOwnRight=Ms,r.get=Rs,r.gt=cd,r.gte=fd,r.has=Ts,r.hasIn=Ds,r.head=pa,r.identity=Cu,r.includes=ul,r.indexOf=ha,r.inRange=Xs,r.invoke=Fd,r.isArguments=dd,r.isArray=pd,r.isArrayBuffer=hd,r.isArrayLike=zl,r.isArrayLikeObject=Ul,r.isBoolean=Vl,r.isBuffer=md,r.isDate=vd,r.isElement=Hl,r.isEmpty=Gl,r.isEqual=Ql,r.isEqualWith=Kl,r.isError=Jl,r.isFinite=$l,r.isFunction=Yl,r.isInteger=Xl,r.isLength=Zl,r.isMap=gd,r.isMatch=rs,r.isMatchWith=ns,r.isNaN=os,r.isNative=is,r.isNil=ls,r.isNull=as,r.isNumber=ss,r.isObject=es,r.isObjectLike=ts,r.isPlainObject=us,r.isRegExp=bd,r.isSafeInteger=cs,r.isSet=yd,r.isString=fs,r.isSymbol=ds,r.isTypedArray=wd,r.isUndefined=ps,r.isWeakMap=hs,r.isWeakSet=ms,r.join=va,r.kebabCase=Wd,r.last=ga,r.lastIndexOf=ba,r.lowerCase=Bd,r.lowerFirst=zd,r.lt=_d,r.lte=Sd,r.max=Vu,r.maxBy=Hu,r.mean=Gu,r.meanBy=Qu,r.min=Ku,r.minBy=Ju,r.stubArray=ju,r.stubFalse=Lu,r.stubObject=Nu,r.stubString=qu,r.stubTrue=Wu,r.multiply=sp,r.nth=ya,r.noConflict=Au,r.noop=Fu,r.now=td,r.pad=iu,r.padEnd=au,r.padStart=lu,r.parseInt=su,r.random=Zs,r.reduce=dl,r.reduceRight=pl,r.repeat=uu,r.replace=cu,r.result=zs,r.round=up,r.runInContext=e,r.sample=ml,r.size=bl,r.snakeCase=Ud,r.some=yl,r.sortedIndex=Ca,r.sortedIndexBy=xa,r.sortedIndexOf=Oa,r.sortedLastIndex=Pa,r.sortedLastIndexBy=Ma,r.sortedLastIndexOf=Aa,r.startCase=Vd,r.startsWith=du,r.subtract=cp,r.sum=$u,r.sumBy=Yu,r.template=pu,r.times=Bu,r.toFinite=gs,r.toInteger=bs,r.toLength=ys,r.toLower=hu,r.toNumber=ws,r.toSafeInteger=Ss,r.toString=Es,r.toUpper=mu,r.trim=vu,r.trimEnd=gu,r.trimStart=bu,r.truncate=yu,r.unescape=wu,r.uniqueId=Uu,r.upperCase=Hd,r.upperFirst=Gd,r.each=ll,r.eachRight=sl,r.first=pa,Mu(r,function(){var e={};return cn(r,function(t,n){dc.call(r.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),r.VERSION="4.17.15",l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){r[e].placeholder=r}),l(["drop","take"],function(e,t){b.prototype[e]=function(r){r=r===re?1:Bc(bs(r),0);var n=this.__filtered__&&!t?new b(this):this.clone();return n.__filtered__?n.__takeCount__=zc(r,n.__takeCount__):n.__views__.push({size:zc(r,Te),type:e+(n.__dir__<0?"Right":"")}),n},b.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),l(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==Oe||3==r;b.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:gi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),l(["head","last"],function(e,t){var r="take"+(t?"Right":"");b.prototype[e]=function(){return this[r](1).value()[0]}}),l(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");b.prototype[e]=function(){return this.__filtered__?new b(this):this[r](1)}}),b.prototype.compact=function(){return this.filter(Cu)},b.prototype.find=function(e){return this.filter(e).head()},b.prototype.findLast=function(e){return this.reverse().find(e)},b.prototype.invokeMap=Zn(function(e,t){return"function"==typeof e?new b(this):this.map(function(r){return Sn(r,e,t)})}),b.prototype.reject=function(e){return this.filter(Ol(gi(e)))},b.prototype.slice=function(e,t){e=bs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new b(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==re&&(t=bs(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},b.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},b.prototype.toArray=function(){return this.take(Te)},cn(b.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=r[i?"take"+("last"==t?"Right":""):t],l=i||/^find/.test(t);a&&(r.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof b,c=s[0],f=u||pd(t),d=function(e){var t=a.apply(r,h([e],s));return i&&p?t[0]:t};f&&n&&"function"==typeof c&&1!=c.length&&(u=f=!1);var p=this.__chain__,m=!!this.__actions__.length,v=l&&!p,g=u&&!m;if(!l&&f){t=g?t:new b(this);var y=e.apply(t,s);return y.__actions__.push({func:Ka,args:[d],thisArg:re}),new o(y,p)}return v&&g?e.apply(this,s):(y=this.thru(d),v?i?y.value()[0]:y.value():y)})}),l(["pop","push","shift","sort","splice","unshift"],function(e){var t=lc[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);r.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var r=this.value();return t.apply(pd(r)?r:[],e)}return this[n](function(r){return t.apply(pd(r)?r:[],e)})}}),cn(b.prototype,function(e,t){var n=r[t];if(n){var o=n.name+"";dc.call(ef,o)||(ef[o]=[]),ef[o].push({name:t,func:n})}}),ef[Ko(re,me).name]=[{name:"wrapper",func:re}],b.prototype.clone=x,b.prototype.reverse=J,b.prototype.value=Z,r.prototype.at=Gf,r.prototype.chain=Ja,r.prototype.commit=$a,r.prototype.next=Ya,r.prototype.plant=Za,r.prototype.reverse=el,r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=tl,r.prototype.first=r.prototype.head,Oc&&(r.prototype[Oc]=Xa),r}();Pr._=Hr,(o=function(){return Hr}.call(t,r,t,n))!==re&&(n.exports=o)}).call(this)}).call(t,r(154),r(109)(e))},function(e,t,r){"use strict";r(523),r(524),r(525),r(526),r(527),r(528),r(529),r(530)},function(e,t,r){var n=r(179),o=r(57),i=r(33),a=r(553),l=i(function(e,t){return 1===e?o(t):n(e,a(e,[],t))});e.exports=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(257)),a=r(559),l=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),u={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,select:l,input:l,output:l,button:l,datalist:l,textarea:l,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:s,article:s,aside:s,blockquote:s,details:s,div:s,dl:s,fieldset:s,figcaption:s,figure:s,footer:s,form:s,header:s,hr:s,main:s,nav:s,ol:s,pre:s,section:s,table:s,ul:s,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=/\s|\//,h=function(e){function t(r,n){var o=e.call(this)||this;return o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o.parseChunk=t.prototype.write,o.done=t.prototype.end,o._options=n||{},o._cbs=r||{},o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o._lowerCaseTagNames="lowerCaseTags"in o._options?!!o._options.lowerCaseTags:!o._options.xmlMode,o._lowerCaseAttributeNames="lowerCaseAttributeNames"in o._options?!!o._options.lowerCaseAttributeNames:!o._options.xmlMode,o._tokenizer=new(o._options.Tokenizer||i.default)(o._options,o),o._cbs.onparserinit&&o._cbs.onparserinit(o),o}return n(t,e),t.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},t.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(u,e))for(var t=void 0;u[e].has(t=this._stack[this._stack.length-1]);this.onclosetag(t));!this._options.xmlMode&&c.has(e)||(this._stack.push(e),f.has(e)?this._foreignContext.push(!0):d.has(e)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},t.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&c.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},t.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(f.has(e)||d.has(e))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&c.has(e))this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},t.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},t.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},t.prototype.onattribdata=function(e){this._attribvalue+=e},t.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},t.prototype._getInstructionName=function(e){var t=e.search(p),r=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(r=r.toLowerCase()),r},t.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},t.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},t.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},t.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},t.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},t.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},t.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.write=function(e){this._tokenizer.write(e)},t.prototype.end=function(e){this._tokenizer.end(e)},t.prototype.pause=function(){this._tokenizer.pause()},t.prototype.resume=function(){this._tokenizer.resume()},t}(a.EventEmitter);t.Parser=h},function(e,t,r){"use strict";function n(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function o(e,t,r){var n=e.toLowerCase();return e===n?function(e,o){o===n?e._state=t:(e._state=r,e._index--)}:function(o,i){i===n||i===e?o._state=t:(o._state=r,o._index--)}}function i(e,t){var r=e.toLowerCase();return function(n,o){o===r||o===e?n._state=t:(n._state=3,n._index--)}}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(r(258)),s=a(r(181)),u=a(r(259)),c=a(r(182)),f=o("C",23,16),d=o("D",24,16),p=o("A",25,16),h=o("T",26,16),m=o("A",27,16),v=i("R",34),g=i("I",35),b=i("P",36),y=i("T",37),w=o("R",39,1),_=o("I",40,1),S=o("P",41,1),E=o("T",42,1),I=i("Y",44),k=i("L",45),C=i("E",46),x=o("Y",48,1),O=o("L",49,1),P=o("E",50,1),M=o("#",52,53),A=o("X",55,54),F=function(){function e(e,t){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=t,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}return e.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},e.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||1!==this._special||n(e)?this._state=1:"!"===e?(this._state=15,this._sectionStart=this._index+1):"?"===e?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?3:31,this._sectionStart=this._index)},e.prototype._stateInTagName=function(e){("/"===e||">"===e||n(e))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},e.prototype._stateBeforeClosingTagName=function(e){n(e)||(">"===e?this._state=1:1!==this._special?"s"===e||"S"===e?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},e.prototype._stateInClosingTagName=function(e){(">"===e||n(e))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},e.prototype._stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===e?this._state=4:n(e)||(this._state=9,this._sectionStart=this._index)},e.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):n(e)||(this._state=8,this._index--)},e.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||n(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},e.prototype._stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this._cbs.onattribend(),this._state=8,this._index--):n(e)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},e.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this._sectionStart=this._index+1):"'"===e?(this._state=13,this._sectionStart=this._index+1):n(e)||(this._state=14,this._sectionStart=this._index,this._index--)},e.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueNoQuotes=function(e){n(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeDeclaration=function(e){this._state="["===e?22:"-"===e?18:16},e.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeComment=function(e){"-"===e?(this._state=19,this._sectionStart=this._index+1):this._state=16},e.prototype._stateInComment=function(e){"-"===e&&(this._state=20)},e.prototype._stateAfterComment1=function(e){this._state="-"===e?21:19},e.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype._stateInCdata=function(e){"]"===e&&(this._state=29)},e.prototype._stateAfterCdata1=function(e){this._state="]"===e?30:28},e.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==e&&(this._state=28)},e.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=33:"t"===e||"T"===e?this._state=43:(this._state=3,this._index--)},e.prototype._stateBeforeSpecialEnd=function(e){2!==this._special||"c"!==e&&"C"!==e?3!==this._special||"t"!==e&&"T"!==e?this._state=1:this._state=47:this._state=38},e.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||n(e))&&(this._special=2),this._state=3,this._index--},e.prototype._stateAfterScript5=function(e){">"===e||n(e)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},e.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||n(e))&&(this._special=3),this._state=3,this._index--},e.prototype._stateAfterStyle4=function(e){">"===e||n(e)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},e.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?c.default:s.default;Object.prototype.hasOwnProperty.call(t,e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},e.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var r=this._buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(u.default,r))return this._emitPartial(u.default[r]),void(this._sectionStart+=t+1);t--}},e.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},e.prototype._decodeNumericEntity=function(e,t){var r=this._sectionStart+e;if(r!==this._index){var n=this._buffer.substring(r,this._index),o=parseInt(n,t);this._emitPartial(l.default(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},e.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},e.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},e.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},e.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},e.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);1===this._state?this._stateText(e):12===this._state?this._stateInAttributeValueDoubleQuotes(e):9===this._state?this._stateInAttributeName(e):19===this._state?this._stateInComment(e):8===this._state?this._stateBeforeAttributeName(e):3===this._state?this._stateInTagName(e):6===this._state?this._stateInClosingTagName(e):2===this._state?this._stateBeforeTagName(e):10===this._state?this._stateAfterAttributeName(e):13===this._state?this._stateInAttributeValueSingleQuotes(e):11===this._state?this._stateBeforeAttributeValue(e):5===this._state?this._stateBeforeClosingTagName(e):7===this._state?this._stateAfterClosingTagName(e):31===this._state?this._stateBeforeSpecial(e):20===this._state?this._stateAfterComment1(e):14===this._state?this._stateInAttributeValueNoQuotes(e):4===this._state?this._stateInSelfClosingTag(e):16===this._state?this._stateInDeclaration(e):15===this._state?this._stateBeforeDeclaration(e):21===this._state?this._stateAfterComment2(e):18===this._state?this._stateBeforeComment(e):32===this._state?this._stateBeforeSpecialEnd(e):38===this._state?w(this,e):39===this._state?_(this,e):40===this._state?S(this,e):33===this._state?v(this,e):34===this._state?g(this,e):35===this._state?b(this,e):36===this._state?y(this,e):37===this._state?this._stateBeforeScript5(e):41===this._state?E(this,e):42===this._state?this._stateAfterScript5(e):43===this._state?I(this,e):28===this._state?this._stateInCdata(e):44===this._state?k(this,e):45===this._state?C(this,e):46===this._state?this._stateBeforeStyle4(e):47===this._state?x(this,e):48===this._state?O(this,e):49===this._state?P(this,e):50===this._state?this._stateAfterStyle4(e):17===this._state?this._stateInProcessingInstruction(e):53===this._state?this._stateInNamedEntity(e):22===this._state?f(this,e):51===this._state?M(this,e):23===this._state?d(this,e):24===this._state?p(this,e):29===this._state?this._stateAfterCdata1(e):30===this._state?this._stateAfterCdata2(e):25===this._state?h(this,e):26===this._state?m(this,e):27===this._state?this._stateBeforeCdata6(e):55===this._state?this._stateInHexEntity(e):54===this._state?this._stateInNumericEntity(e):52===this._state?A(this,e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},e.prototype.pause=function(){this._running=!1},e.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},e.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},e.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},e.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(e):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(e):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},e.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},e.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},e.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},e.prototype._emitPartial=function(e){1!==this._baseState?this._cbs.onattribdata(e):this._cbs.ontext(e)},e}();t.default=F},function(e,t,r){"use strict";function n(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in i.default&&(e=i.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(558));t.default=n},function(e,t){e.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(e,t,r){"use strict";function n(e,t){return h.getElementsByTagName(e,t,!0)}function o(e,t){return h.getElementsByTagName(e,t,!0,1)[0]}function i(e,t,r){return void 0===r&&(r=!1),h.getText(h.getElementsByTagName(e,t,r,1)).trim()}function a(e,t){return t?t.attribs[e]:null}function l(e,t,r,n,o){void 0===o&&(o=!1);var a=i(r,n,o);a&&(e[t]=a)}function s(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}function u(e,t){void 0===t&&(t=g);var r=new v(t);return new m.Parser(r,t).end(e),r.feed}var c=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var p=f(r(183)),h=d(r(261)),m=r(256),v=function(e){function t(t,r){return"object"===typeof t&&null!==t&&(t=void 0,r=t),e.call(this,t,r)||this}return c(t,e),t.prototype.onend=function(){var e={},t=o(s,this.dom);if(t)if("feed"===t.name){var r=t.children;e.type="atom",l(e,"id","id",r),l(e,"title","title",r);var u=a("href",o("link",r));u&&(e.link=u),l(e,"description","subtitle",r);var c=i("updated",r);c&&(e.updated=new Date(c)),l(e,"author","email",r,!0),e.items=n("entry",r).map(function(e){var t={},r=e.children;l(t,"id","id",r),l(t,"title","title",r);var n=a("href",o("link",r));n&&(t.link=n);var s=i("summary",r)||i("content",r);s&&(t.description=s);var u=i("updated",r);return u&&(t.pubDate=new Date(u)),t})}else{var r=o("channel",t.children).children;e.type=t.name.substr(0,3),e.id="",l(e,"title","title",r),l(e,"link","link",r),l(e,"description","description",r);var c=i("lastBuildDate",r);c&&(e.updated=new Date(c)),l(e,"author","managingEditor",r,!0),e.items=n("item",t.children).map(function(e){var t={},r=e.children;l(t,"id","guid",r),l(t,"title","title",r),l(t,"link","link",r),l(t,"description","description",r);var n=i("pubDate",r);return n&&(t.pubDate=new Date(n)),t})}this.feed=e,this.handleCallback(t?null:Error("couldn't find root of feed"))},t}(p.default);t.FeedHandler=v;var g={xmlMode:!0};t.parseFeed=u},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(562)),n(r(568)),n(r(569)),n(r(264)),n(r(570)),n(r(571)),n(r(103))},function(e,t,r){"use strict";function n(e){var t=Object.keys(e).join("|"),r=o(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var n=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(n,r)}}function o(e){return function(t){if("#"===t.charAt(1)){var r=t.charAt(2);return"X"===r||"x"===r?u.default(parseInt(t.substr(3),16)):u.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]}}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var a=i(r(181)),l=i(r(259)),s=i(r(182)),u=i(r(258));t.decodeXML=n(s.default),t.decodeHTMLStrict=n(a.default);var c=function(e,t){return e<t?1:-1};t.decodeHTML=function(){function e(e){return";"!==e.substr(-1)&&(e+=";"),u(e)}for(var t=Object.keys(l.default).sort(c),r=Object.keys(a.default).sort(c),n=0,i=0;n<r.length;n++)t[i]===r[n]?(r[n]+=";?",i++):r[n]+=";";var s=new RegExp("&(?:"+r.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),u=o(a.default);return function(t){return String(t).replace(s,e)}}()},function(e,t,r){"use strict";function n(e){return Object.keys(e).sort().reduce(function(t,r){return t[e[r]]="&"+r+";",t},{})}function o(e){for(var t=[],r=[],n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];1===i.length?t.push("\\"+i):r.push(i)}t.sort();for(var a=0;a<t.length-1;a++){for(var l=a;l<t.length-1&&t[l].charCodeAt(1)+1===t[l+1].charCodeAt(1);)l+=1;var s=1+l-a;s<3||t.splice(a,s,t[a]+"-"+t[l])}return r.unshift("["+t.join("")+"]"),new RegExp(r.join("|"),"g")}function i(e){return"&#x"+e.codePointAt(0).toString(16).toUpperCase()+";"}function a(e,t){return function(r){return r.replace(t,function(t){return e[t]}).replace(m,i)}}function l(e){return e.replace(v,i).replace(m,i)}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escape=t.encodeHTML=t.encodeXML=void 0;var u=s(r(182)),c=n(u.default),f=o(c);t.encodeXML=a(c,f);var d=s(r(181)),p=n(d.default),h=o(p);t.encodeHTML=a(p,h);var m=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,v=o(c);t.escape=l},function(e,t,r){"use strict";function n(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),Array.isArray(t)||(t=[t]),o(e,t,r,n)}function o(e,t,r,n){for(var i=[],a=0,l=t;a<l.length;a++){var s=l[a];if(e(s)&&(i.push(s),--n<=0))break;if(r&&u.hasChildren(s)&&s.children.length>0){var c=o(e,s.children,r,n);if(i.push.apply(i,c),(n-=c.length)<=0)break}}return i}function i(e,t){return t.find(e)}function a(e,t,r){void 0===r&&(r=!0);for(var n=null,o=0;o<t.length&&!n;o++){var i=t[o];u.isTag(i)&&(e(i)?n=i:r&&i.children.length>0&&(n=a(e,i.children)))}return n}function l(e,t){return t.some(function(t){return u.isTag(t)&&(e(t)||t.children.length>0&&l(e,t.children))})}function s(e,t){for(var r,n,o=[],i=t.filter(u.isTag);n=i.shift();){var a=null===(r=n.children)||void 0===r?void 0:r.filter(u.isTag);a&&a.length>0&&i.unshift.apply(i,a),e(n)&&o.push(n)}return o}Object.defineProperty(t,"__esModule",{value:!0});var u=r(103);t.filter=n,t.find=o,t.findOneChild=i,t.findOne=a,t.existsOne=l,t.findAll=s},function(e,t,r){"use strict";function n(){var e=new i;return{defaultProcessingInstructions:[{shouldProcessNode:o.shouldProcessEveryNode,processNode:e.processDefaultNode}]}}var o=r(575),i=r(266);e.exports=n},function(e,t,r){"use strict";function n(){function e(e,t,r){return"text"===e.type?e.data:"comment"!==e.type&&(i.indexOf(e.name)>-1?o.createElement(e,r):o.createElement(e,r,e.data,t))}return{processDefaultNode:e}}var o=r(267),i=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","menuitem","textarea"];e.exports=n},function(e,t,r){"use strict";function n(e){e=e||"";for(var t,r,n,o=e.split(/;(?!base64)/),a={},l=0;l<o.length;++l)t=o[l].split(":"),t.length>2&&(t[1]=t.slice(1).join(":")),r=t[0],n=t[1],"string"===typeof n&&(n=n.trim()),null!=r&&null!=n&&r.length>0&&n.length>0&&(a[i(r)]=n);return a}function o(e,t,r,o){var i={key:t};e.attribs&&(i=l(function(e,t){var r=t[0],o=t[1];return r=c[r.replace(/[-:]/,"")]||r,"style"===r?o=n(o):"class"===r?r="className":"for"===r&&(r="htmlFor"),u(r,f)&&""===(o||"")&&(o=r),e[r]=o,e},i,a(e.attribs))),o=o||[];var d=null!=r?[r].concat(o):o;return s.createElement.apply(null,[e.name,i].concat(d))}var i=r(576),a=r(577),l=r(578),s=r(1),u=r(580),c=r(590),f=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","truespeed"];e.exports={createElement:o}},function(e,t,r){"use strict";function n(){return!0}e.exports={alwaysValid:n}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),a=o(i),l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(6),b=r(270),y=o(b),w=r(10),_=r(18),S=r(125);r(604);var E=r(80),I=n(E),k=r(11),C=n(k),x=(0,g.getAntd)(),O=x.message,P=function(e){function t(e){(0,c.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));r.setInputText=function(e){var t=r.props,n=t.detailtype,o=t.length,i=t.fieldlabel,a=e.target.value;if(1===n){var l=I.realLength(a);o&&l>o&&(O.warning(""+i+(0,g.getLabel)(20246,"文本长度不能超过")+o+"("+(0,g.getLabel)(124962,"1个中文字符等于3个长度")+")"),a=I.checkLength(a,l,o))}r.setState({value:a})},r.doKeyPressCheckInteger=function(e){var t=C.convertKeyCode(e),n=r.state.value,o=r.props.length,i=t>=48&&t<=57||45===t,a=(0,w.trim)(r.getSelectionText(e).toString()).length;if((0,w.trim)(n).length>0&&45===n.charCodeAt(0)&&(o+=1),45===t&&(0,w.trim)(n).length===o){0===r.getCursortPosition()&&(o+=1)}(!i||(0,w.trim)(n).length-a>=o)&&e.preventDefault()},r.doKeyDown=function(e){var t=r.props,n=t.enableInput,o=t.onDisablePrompt;if(!1===n)return"function"===typeof o&&o(),void e.preventDefault();13===C.convertKeyCode(e)&&e.preventDefault(),e.stopPropagation()},r.doKeyPressCheckFloat=function(e){var t=r.props,n=t.length,o=t.qfws,i=t.detailtype,a=C.convertKeyCode(e),l=r.state.value;1!==i&&(l=(0,w.trim)(l).length>0?l.replace(/\,/g,""):"");var s=r.getSelectionText(e).toString();if(s.length>0&&(0,w.trim)(l).length>0){var u=r.getCursortPosition();l=l.substr(0,u)+l.substr(u+s.length)}if(8!=a){0===(0,w.trim)(l).length&&46==a&&e.preventDefault();for(var c=0,f=0,d=0,p=!1,h=(0,w.trim)(l).length,m=0;m<h;m++)"."==l.charAt(m)?(c++,p=!0):p?d++:f++;46!=a||!p&&0!==o||e.preventDefault();var v=a>=48&&a<=57;v||46==a||45==a||46==a&&1==c||e.preventDefault();f>=n-o&&0==p&&v&&e.preventDefault();if(d>=o&&f>=n-o&&e.preventDefault(),p){r.getCursortPosition()<=(0,w.trim)(l).indexOf(".")?f>=n-o&&e.preventDefault():d>=o&&e.preventDefault()}}};var n=r.transFormatValue(e.value,e);return r.state={value:e.value?e.value:"",formatvalue:n,isonfocus:!1,location:-1},r}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(this.state.value!==e.value||this.props.format!==e.format||e.defaultFocus){var t=this.transFormatValue(e.value,e),r={value:e.value,formatvalue:t};e.defaultFocus!==this.props.defaultFocus&&e.defaultFocus&&(r.isonfocus=!0),this.setState(r)}}},{key:"shouldComponentUpdate",value:function(e,t){return(!this.props.defaultFocus||this.props.defaultFocus===e.defaultFocus)&&(e.value!==this.props.value||e.viewAttr!==this.props.viewAttr||t.value!==this.state.value||t.isonfocus!==this.state.isonfocus||t.formatvalue!==this.state.formatvalue||e.format!==this.props.format||e.showhtml!==this.props.showhtml||e.emptyShowContent!==this.props.emptyShowContent||e.fieldName!==this.props.fieldName||e.closeAutoComplete!==this.props.closeAutoComplete)}},{key:"componentDidUpdate",value:function(e,t){!0===this.state.isonfocus&&!1===t.isonfocus&&this.setLocation()}},{key:"render",value:function(){var e=this.state,t=e.isonfocus,r=e.formatvalue,n=this.props,o=n.viewAttr,i=n.fieldid,l=n.fieldName,s=n.detailtype,u=(n.qfws,n.format),c=n.isDetail,f=n.emptyShowContent,d=n.showhtml,p=n.closeAutoComplete,h=(0,a.default)({},this.props.style),m=this.state.value;1!==s&&(m=(0,w.trim)(m).length>0?m.replace(/\,/g,""):"");var v=parseInt(u.numberType)||0;if(!t&&100===v)return React.createElement(y.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaWfFinancial@gfss8j",type:2,finNum:u.finaNum,className:"finarea_"+i,viewAttr:o,value:m,clickEvent:this.doFocusEvent.bind(this,!0)});2!==v||"1"!=u.formatPattern&&"4"!=u.formatPattern||(h.color=!t&&I.judgeIsNumber(m)&&parseFloat(m)<0?"#FF0000":"inherit");var g=4===s?I.convertAmountChinese(m):"",b=new Array;if(1===o)return 4===s?(c||(b.push(React.createElement("span",{style:h},r)),b.push(React.createElement("br",null))),b.push(React.createElement("span",{id:l+"span",style:h},g))):(d&&(r=d),b.push(React.createElement("span",{id:l+"span",style:h,dangerouslySetInnerHTML:{__html:r}}))),React.createElement("span",null,b,React.createElement("input",{autocomplete:1==p?"off":"on",type:"hidden",id:l,name:l,value:m}));var _="wf-input wf-input-"+s+" "+(c?"wf-input-detail":"wf-input-main")+" wf-input-field"+i,S="";2===s?S=this.doKeyPressCheckInteger:3!==s&&4!==s&&5!==s||(S=this.doKeyPressCheckFloat),4===s?(b.push(React.createElement("input",{ref:"inputEle",type:"text",className:_,id:l,name:l,value:t?m:c?g:r,onChange:this.setInputText,onKeyDown:this.doKeyDown,onKeyPress:S,onFocus:this.doFocusEvent.bind(this,!0),onBlur:this.doFocusEvent.bind(this,!1),autocomplete:1==p?"off":"on",style:h})),c||(b.push(React.createElement("br",null)),b.push(React.createElement("input",{autocomplete:1==p?"off":"on",type:"text",disabled:!0,value:g,className:_+" wf-input-chinese",style:h})))):(f=f||"",t||""===f||""!==r.toString()?!1 in h&&(h.color="inherit"):(h.color="#A5A5A5",r=f),b.push(React.createElement("input",{ref:"inputEle",type:"text",className:_,id:l,name:l,value:t?m:r,onChange:this.setInputText,onKeyDown:this.doKeyDown,onKeyPress:S,onFocus:this.doFocusEvent.bind(this,!0),onBlur:this.doFocusEvent.bind(this,!1),autocomplete:1==p?"off":"on",style:h})));var E=3===o&&0===(0,w.trim)(m).length;return b.push(React.createElement("span",{id:l+"span",className:"wf-input-required"},E?React.createElement("img",{src:(window.ecologyContentPath||"")+"/images/BacoError_wev9.png",align:"absmiddle"}):"")),React.createElement("div",{className:"wf-form-input"},b)}},{key:"doFocusEvent",value:function(e,t){var r=this.props,n=r.fieldName;if(1!==r.viewAttr)if(e)this.setState({isonfocus:e,location:this.getLocation()}),WfForm.triggerFieldAction("onfocus",n);else{var o=this.checkLen(t.target.value),i=this.transRealValue(o),a=this.transFormatValue(o,this.props);this.setState({value:i,formatvalue:a,isonfocus:e}),WfForm.triggerFieldAction("onblur",n)}}},{key:"transRealValue",value:function(e){var t=this.props,r=t.detailtype,n=t.qfws,o=e;if(1!==r){var i=5===r;o=(0,_.convertFloatValue)(e,n,i)}return this.props.onChange&&this.props.onChange(o),o}},{key:"transFormatValue",value:function(e,t){var r=t.detailtype,n=t.qfws,o=t.format;1!==r&&(e=(0,w.trim)(e).length>0?e.replace(/\,/g,""):"");var i=e,a=parseInt(o.numberType)||0;if(a>0)100===a||(i=101===a?I.convertAmountChinese(e):(0,S.convertFormatValue)(e,o));else if(1!==r){var l=!1;4!==r&&5!==r||(l=!0),i=(0,_.convertFloatValue)(e,n,l)}return i}},{key:"checkLen",value:function(e){var t=this.props,r=t.detailtype,n=t.length,o=t.qfws,i=t.fieldlabel;if(1===r){var a=I.realLength(e);return n&&a>n&&(O.warning(""+i+(0,g.getLabel)(20246,"文本长度不能超过")+n+",("+(0,g.getLabel)(124962,"1个中文字符等于3个长度")+")"),e=I.checkLength(e,a,n)),e}if(0===(0,w.trim)(e).length)return"";if(1===(0,w.trim)(e).length&&45===e.charCodeAt(0))return e;if(!I.judgeIsNumber(e))return"";45===e.charCodeAt(0)&&(n+=1);var l=e.toString().split(".");return(0,w.trim)(l[0]).length>n-o?(O.warning(""+(0,g.getLabel)(385128,"整数位数长度不能超过")+(n-o)+(0,g.getLabel)(386375,"位，请重新输入！"),5),""):e}},{key:"getSelectionText",value:function(e){if(document.selection)return document.selection.createRange().text;if(window.getSelection().toString())return window.getSelection().toString();if(void 0!=e.selectionStart&&void 0!=e.selectionEnd){var t=e.selectionStart,r=e.selectionEnd;return e.value.substring(t,r)}return""}},{key:"getCursortPosition",value:function(){var e=this.refs.inputEle,t=0;if(e.selection){e.focus();var r=e.selection.createRange();r.text.length<1&&(r.moveStart("character",-e.value.length),t=r.text.length)}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}},{key:"getLocation",value:function(){try{var e=this.refs.inputEle;if(e.createTextRange){var t=document.selection.createRange();return t.setEndPoint("StartToStart",e.createTextRange()),t.text.length}if("number"===typeof e.selectionStart)return e.selectionStart}catch(e){return-1}}},{key:"setLocation",value:function(){var e=this.refs.inputEle,t=this.state.location;if((t<0||t>e.value.length)&&(t=e.value.length),e.createTextRange){var r=e.createTextRange();r.moveStart("character",t),r.collapse(),r.select()}else e.setSelectionRange&&(e.setSelectionRange(t,t),e.focus())}}]),t}(React.Component);t.default=P},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d);r(603);var h=(r(6),function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.type!==e.type||this.props.className!==e.className||this.props.viewAttr!==e.viewAttr||this.props.value!==e.value}},{key:"render",value:function(){var e=this.props,t=e.type,r=e.finNum,n=e.className,o=new Array;if(1===t){var i=this.props,a=i.fontSize,l=i.label;a||(a="9pt");for(var s=["分","角","元","十","百","千","万","十","百","千","亿","十"],u=r-1;u>=0;u--){var c="fborder1";0===u?c="":2===u?c="fborder2":(u-2)%3===0&&(c="fborder3"),c="finborder "+c,o.push(React.createElement("td",{className:c},s[u]))}return React.createElement("div",{className:"wf-findiv"},React.createElement("div",{className:"fintop"},l),React.createElement("div",{className:"finbottom"},React.createElement("table",{className:"fintable "+n},React.createElement("tr",null,o))),React.createElement("style",null,"."+n+" td{width:"+2*parseInt(a.replace("pt",""))+"px;}"))}if(2===t){for(var f=this.props,d=(f.viewAttr,f.value),p=f.clickEvent,h=this.transFinancialArr(d),m=r-1;m>=0;m--){var v="fborder1";0===m?v="":2===m?v="fborder2":(m-2)%3===0&&(v="fborder3"),v="finborder "+v,o.push(React.createElement("td",{className:v},h[m]||""))}return React.createElement("div",{className:"wf-findiv",onClick:p},React.createElement("table",{className:"fintable "+n},React.createElement("tr",null,o)))}return React.createElement("span",null)}},{key:"transFinancialArr",value:function(e){var t=new Array;if(""===e||null===e)return 3===this.props.viewAttr&&t.push(React.createElement("span",{style:{color:"red !important",fontSize:"14px !important"}},"*")),t;e=e.replace(/,/g,"");var r=/^(-?\d+)(\.\d+)?$/,n=/^(-?\d*)(\.\d+)$/;if(r.test(e)||n.test(e)){e=parseFloat(e).toFixed(2),(e.length>2&&"0."==e.substring(0,2)||e.length>3&&"-0."==e.substring(0,3))&&(e=e.replace("0.","."));for(var o=e.length-1;o>=0;o--){var i=e.charAt(o);"."!=i&&t.push(i)}}return t}}]),t}(React.Component));t.default=h},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(14),S=n(_),E=r(17),I=r(10),k=n(I),C=r(9),x=r(49),O=r(19),P=o(O),M=r(6),A=r(56),F=r(18),R=n(F),T=r(126),D=o(T);r(605);var j=(i=(0,x.inject)("globalStore","layoutStore"))(a=(0,x.observer)(a=function(e){function t(){(0,d.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.contentUtil=function(e){var t=e.substr(0,e.indexOf("<div _quotoContent='true'"));e=e.slice(e.indexOf("<div _quotoContent='true'"));var r="["+(0,M.getLabel)(528760,"图片")+"]";return e=e.replace(/<img.*?>/g,r),e=e.replace(/<[^>]*>|<\/[^>]*>/gm,""),e=e.replace(/\r|\n|\\s/gm,""),e="<div class='remark-quote'>"+e+"</div>",e=t+e+"</div>"},e.deleteItem=function(t,r){var n=e.props.src,o=e.props.globalStore.variableMap,i="freeWorkflowSimple"==n?"remark_list_freeWorkflowSimple":"remark_list";o.get(i).delete(t)},e.getRemarkDom=function(t){var r=(0,M.getAntd)(),n=r.Icon,o=e.props.globalStore.variableMap,i=e.props.src,a="freeWorkflowSimple"==i?"remark_list_freeWorkflowSimple":"remark_list",l=o.get(a)||(C.observable.map?C.observable.map({}):asMap({})),s=[];return l.forEach(function(r,o,i){var a=w.default.createElement("div",{className:"remark_list_dom",style:{position:"relative",marginLeft:t?"10px":"0"}},w.default.createElement("div",{style:{width:"100%"},dangerouslySetInnerHTML:{__html:e.contentUtil(r)}}),w.default.createElement(n,{ecId:(e&&e.props&&e.props.ecId||"")+"_Icon@f6g057@"+o,type:"cross",title:"删除",style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer",color:"#333"},onClick:e.deleteItem.bind(e,o)}));""!==(0,C.toJS)(r)&&s.push(a)}),s},e.initRemark=function(){(0,e.props.globalStore.batchControlVariableMap)({isShowSignInput:!0,isEditorFocus:!0})},e.changeRemarkInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.props.src,n=e.props.globalStore,o=n.changeSubmitParam,i=n.controlVariableMap;"freeWorkflowSimple"==r?i("freeWorkflowSimple_submitData",t):o(t)},e.onSingInputLoadReady=function(){var t=e.props,r=t.globalStore,n=(t.layoutStore,r.commonParam),o=void 0===n?{}:n,i=o.belongTest,a=void 0!==i&&i,l=o.requestid;if(a)try{window.parent.window.workflowAutoTestUtil.returnStatus("signInputReady",l)}catch(e){window.console}r.setBtnDisabled(!1)},e.state={hasLoad:!1,width:0},e}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})},r=(0,D.default)("table tbody tr:nth-child(2) td:first-child").width();this.setState({width:(0,D.default)("table").width()-r-20}),S.asyncLoadModule("workflowPublic",E.workflowPublicFiles,t)}},{key:"componentDidUpdate",value:function(){if(this.state.hasLoad&&"undefined"===typeof window.REMARK_CK_REF){window.REMARK_CK_REF=this.refs.remarkCK;var e=(0,D.default)("table tbody tr:nth-child(2) td:first-child").width();this.setState({width:(0,D.default)("table").width()-e-20})}}},{key:"render",value:function(){var e=(0,M.getEcCom)(),t=e.WeaPopoverHrm;if(this.state.hasLoad){var r=window.weaWorkflowPublic.WfSignInput,n=this.props,o=n.globalStore,i=n.layoutStore,a=o.commonParam,l=o.markInfo,u=void 0===l?{}:l,c=o.variableMap,f=o.controlVariableMap,d=o.loadMarkInfo,p=o.secLevelInfo,h=void 0===p?{}:p,m=(i.containSignInput,i.propFileCfg),v=this.props,g=v.onChangeEvent,b=v.onAutographBlur,y=v.isInForm,_=void 0!==y&&y,S=v.isPropOpenSignInput,E=void 0!==S&&S,I=v.src,C=void 0===I?"":I,x=c.get("isShowSignInput"),O="freeWorkflowSimple"==C?"remark_list_freeWorkflowSimple":"remark_list",F=c.get("isEditorFocus"),T=c.get(O),D=a.requestid,j=a.requestType,L=a.intervenorright,N=a.belongTest,q=u.remarkInfo,W=void 0===q?{}:q,B=u.isHideInput,z=u.tempbeagenter,U=u.fileuserid,V=u.tempbeagentername,H=(u.use_textarea_signinput,u.workflowRequestLogId),G=W.remark,Q=(j>0||L>0)&&"0"==B,K=Q&&k.trim(G).length>0||T&&T.size>1,J=z!=U,$=w.default.createElement("span",{style:{lineHeight:"36px",paddingLeft:"10px"}},(0,M.getLabel)(388045,"您当前正在代理"),w.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaPopoverHrm@lvs1ya"}),w.default.createElement("a",{href:"javaScript:openhrm("+z+");",onClick:function(e){return window.pointerXY(e)},title:V},w.default.createElement("span",{style:{color:"#4D7AD8",cursor:"pointer"}},V)),(0,M.getLabel)(84398,"进行操作")),Y=(0,A.needMustInputDot)(),X=void 0===x?K:x;E&&(X=E),m&&"1"===m.always_show_signinput&&(X=!0);var Z="wf-req-signInput";X&&(Z+=" wf-req-signInput-isOpen"),Y&&(Z+=" wf-req-signInput-mustInput");var ee=R.getRelateFieldValue(-10,-1)||"",te=R.getSecLevelName(ee),re=!(D&&D>0);return _?w.default.createElement("div",{id:"remark_div"},w.default.createElement("div",{className:"wf-req-sign-input",onClick:this.initRemark},J&&$,this.getRemarkDom(_)),w.default.createElement(r,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@dnyipz",ref:"remarkCK",isInForm:_,markInfo:u,requestType:j,requestid:D,isShowSignInput:!0,editorId:"remark",workflowRequestLogId:H},W,{loadReady:this.onSingInputLoadReady,onChange:g,onAutographBlur:b,isEditorFocus:F,controlVariableMap:f,changeRemarkInfo:this.changeRemarkInfo,saveCallBack:function(){return d(!1)},layout:window,belongTest:N,secLevelInfo:(0,s.default)({},h,{secLevel:ee,secLevelName:te,allowEditFileSec:re})}))):w.default.createElement("div",{id:"remark_div",className:Z},w.default.createElement("div",{className:"wf-req-sign-input",style:{background:X?"#F9F8F7":"#ffffff",cursor:X?"default":"pointer"},onClick:C?function(){}:this.initRemark},w.default.createElement("i",{className:"icon-coms-Need-feedback",style:{marginRight:"10px",fontSize:"15px",color:"#AFAFAF ",lineHeight:"40px",display:"inline-block",verticalAlign:"bottom"}}),w.default.createElement("span",{className:"sign-label",style:{color:"#A0A0A0"}},(0,M.getLabel)(17614,"签字意见")),Y&&X&&w.default.createElement("span",{style:{color:"red",marginLeft:"10px"}},"(",(0,M.getLabel)(30036,"必填").trim(),")"),w.default.createElement("span",{style:{marginLeft:"15px"}},J&&$),this.getRemarkDom()),w.default.createElement(r,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@4xn04t",ref:"remarkCK",markInfo:u,requestType:j,requestid:D,isInForm:_,isShowSignInput:X,editorId:C||"remark"},W,{remark:this.props.remark?this.props.remark:G,workflowRequestLogId:H,loadReady:this.onSingInputLoadReady,isEditorFocus:F,controlVariableMap:f,changeRemarkInfo:this.changeRemarkInfo,saveCallBack:function(){return d(!1)},layout:window,visible:this.props.visible,belongTest:N,secLevelInfo:(0,s.default)({},h,{secLevel:ee,secLevelName:te,allowEditFileSec:re})})))}return w.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@1bk8be"})}}]),t}(w.default.Component))||a)||a;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDoc=t.showDoc=t.getoDocTopButtons=void 0;var n=r(12),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(6);t.getoDocTopButtons=function(e){var t=o.default.globalStore.btnDisabled,r=(0,i.getAntd)(),n=r.Button,a=[];return e&&e.buttons&&e.buttons.map(function(e){!0===e.isshow&&a.push(React.createElement(n,{ecId:"_Button@lvg4jk@odocbtn",type:"primary",disabled:t,onClick:function(){window.oDocUtil.odocBtnEvent(e.key)}},e.title))}),a};window.addDocReadTag=function(e){};t.showDoc=function(e){workflow_form_doc_operation.showDoc(e)},t.createDoc=function(e,t){var r=(0,i.getAntd)(),n=r.message,o=t.workflowid,a=t.f_weaver_belongto_userid,l=t.f_weaver_belongto_usertype,s=t.newdocpath,u=t.secretLevel,c=t.secLevelInfo,f=void 0===c?{}:c;if(f.isOpenSec&&""==u)return void n.error(f.tip);var d={};d.wfid=o,d.f_weaver_belongto_userid=a,d.f_weaver_belongto_usertype=l,d.docfileid=e.substring(5),d.secid=s,d._secretLevel=u,workflow_form_doc_operation.createDoc(d)};if(window.location.hash&&0==window.location.hash.indexOf("#/main/workflow/req")&&window.location.hash.indexOf("isOdocChangeType=1")>0)try{var a=document.createElement("style"),l=".wea-right-menu{display: none !important;}.wea-new-top-req-wapper{padding-top: 0;}.wea-new-top-req-wapper .wea-new-top-req{display:none;}.wf-req-form-wrapper>div{display:none;}.wf-req-form-wrapper>div.wf-req-form{display:block;}#odocmask{position: absolute;left: 0;top: 0;width: 100%;height: 100%;z-index: 999;}}";a.type="text/css",a.styleSheet?a.styleSheet.cssText=l:a.innerHTML=l,document.getElementsByTagName("head")[0].appendChild(a);var s=0,u=setInterval(function(){if(window.WfForm&&WfForm.getGlobalStore&&1==WfForm.getGlobalStore().JSComplete&&window.jQuery){if(jQuery("#odocmask").length<=0&&jQuery(".wf-req-form").length>0){var e=jQuery(".wf-req-form").eq(0).height();jQuery(".wf-req-form").eq(0).append("<div id='odocmask' style='height:"+(e+100)+"px'></div>")}else if(jQuery("#odocmask").length>0){var t=jQuery(".wf-req-form").eq(0).height(),r=parseInt(jQuery(".wf-req-form-wrapper").eq(0).css("marginTop"))+10;jQuery("#odocmask").css({height:t+r+"px"})}s++,10==s&&clearInterval(u)}},1e3)}catch(e){window.console}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Homepage=t.Synergy=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(14),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),w=r(17),_=r(19),S=n(_),E=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};y.asyncLoadModule("portal",w.portalFiles,t,!1)}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaPortal.Synergy;return g.default.createElement(e,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Synergy@q03t9g"},this.props))}return g.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@hxddjz"})}}]),t}(g.default.Component),I=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};y.asyncLoadModule("portal",w.portalFiles,t,!1)}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaPortal.Homepage;return g.default.createElement(e,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Homepage@6uptr1"},this.props))}return g.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@cmj7an"})}}]),t}(g.default.Component);t.Synergy=E,t.Homepage=I},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(7),a=o(i),l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(14),w=n(y),_=r(17),S=r(19),E=o(S),I=r(82),k=n(I),C=r(102),x=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.state={hasLoad:!1,store:null,store1:null},e}return(0,v.default)(t,e),(0,d.default)(t,[{key:"getUrlParams",value:function(e){var t={},r=e.lastIndexOf("?");if(r>0)for(var n=e.substring(r+1).split("&"),o=0;o<n.length;o++)(r=n[o].indexOf("="))>0&&(t[n[o].substring(0,r)]=n[o].substring(r+1));return t}},{key:"componentDidMount",value:function(){var e=this,t=function(){var t=e.props.commonParam,r=window.weaWorkflowPublic,n=r.SecondAuthStore,o=r.WfFormLogListStore,i=new o,l=e.getUrlParams(window.location.href);l.hasOwnProperty("fromCommunication")?i.initLog((0,a.default)({},t,{fromCommunication:l.fromCommunication})):i.initLog((0,a.default)({},t)),e.setState({hasLoad:!0,store:i,store1:n}),window.formLoglistStore=i};w.asyncLoadModule("workflowPublic",_.workflowPublicFiles,t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isRelaodLogList,r=void 0!==t&&t,n=e.reloadLogListParams,o=void 0===n?{}:n;if(r){this.state.store.updateLogParams(o,!0)}}},{key:"render",value:function(){var e=this.props.setTabKey,t=this.state,r=t.hasLoad,n=t.store,o=t.store1;if(r){var i=window.weaWorkflowPublic.WfFormLogListCom,a=this.props,l=a.forward,s=a.controlVariableMap,u=a.commonParam,c=a.variableMap,f=u.isOpenCommunication;return u.belongTest&&(l="0"),o.setCommonParam(u),b.default.createElement(i,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfFormLogListCom@o3006d",isOpenCommunication:f,setTabKey:e,logListStore:n,controlVariableMap:s,variableMap:c,forward:l,forwardEvent:k.doReviewE9,showAuthDetail:C.showAuthDetail,closeAuthDetail:C.closeAuthDetail,secondAuthStore:o})}return b.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@iy0jv7"})}}]),t}(b.default.Component);t.default=x},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(6);r(636);var m=function(e){function t(e){(0,l.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.state={showGroup:!0},r}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=(0,h.getAntd)(),r=t.Row,n=t.Col,o=(t.Icon,this.props),i=o.title,a=(o.items,o.needTigger),l=void 0===a||a,s=(o.col,o.customComponent),u=void 0===s?"":s,c=o.groupBodyComponent,f=void 0===c?"":c,d=this.state.showGroup,p=void 0!==d&&d;return React.createElement("div",{className:"wea-group"},React.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@7l4naa",className:"wea-title-row"},React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@vv2yyx",span:"19"},React.createElement("div",{className:"wea-title"},i)),u&&React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@k2w91x",span:4,style:{textAlign:"right",paddingRight:10,fontSize:12}},u),l&&React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@6me260",span:u?1:5,style:{textAlign:"right",paddingRight:10,fontSize:12}},React.createElement("i",{className:p?"icon-coms-up":"icon-coms-down",onClick:function(){return e.setState({showGroup:!p})}}))),React.createElement("div",{className:"wea-group-content",style:{display:p?"block":"none"}},f))}},{key:"setShowGroup",value:function(e){this.setState({showGroup:e})}}]),t}(React.Component);t.default=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};window.weaOdoc||g.asyncLoadModule("f_odoc",b.odocComsFiles,t)}},{key:"render",value:function(){if(this.state.hasLoad||window.weaOdoc){var e=this.props,t=e.commonParam,r=e.odocInfo,n=e.tabKey,o=window.weaOdoc.components||{},i=o.OdocModelAndSensitiveCom,a=window.weaOdoc.store||{},l=a.odocModelAndSensitiveStore;return m.default.createElement(i,{odocModelAndSensitiveStore:l,commonParam:t,odocInfo:r,tabKey:n})}return m.default.createElement(w.default,null)}}]),t}(m.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=(r(8),r(9)),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),w=r(639),_=n(w),S=r(640),E=(n(S),r(641)),I=n(E),k=r(642),C=n(k),x=r(643),O=n(x),P=r(644),M=n(P),A=r(278),F=n(A),R=r(645),T=n(R),D=r(646),j=n(D);r(83);r(647);var L=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.promptInfos,n=void 0===r?[]:r,o=t.secondAuthInfo,a=[];return o&&a.push(g.default.createElement(F.default,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_SecondAuthInfo@gufzb3@c1"},y.toJS(o)))),n.map(function(t){var r=t.prompttype;"errormsg"===r&&a.push(g.default.createElement(_.default,(0,i.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_ErrorMsg@w7f7d4@c2"},t))),"editlock"===r&&a.push(g.default.createElement(I.default,(0,i.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_EditLock@hx8ss9@c3"},t))),"submitinfo"===r&&a.push(g.default.createElement(C.default,(0,i.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_SubmitInfo@z123uj@c4"},t))),"rejectinfo"===r&&a.push(g.default.createElement(O.default,(0,i.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_RejectInfo@h8irmr@c5"},t))),"agentinfo"===r&&a.push(g.default.createElement(M.default,(0,i.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_AgentInfo@amke2a@c6"},t))),"showContent"===r&&a.push(g.default.createElement(T.default,t)),"freeWorkflowSimpleInfo"===r&&a.push(g.default.createElement(j.default,(0,i.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_FreeWorkflowSimpleInfo@ugnx8b@c7"},t)))}),a}}]),t}(g.default.Component);t.default=L},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p),m=r(1),v=o(m),g=(r(8),r(9)),b=(n(g),r(6)),y=r(102),w=r(47),_=n(w),S=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"openAuthDetail",value:function(){(0,y.showAuthDialog)(_.AUTH_DETAIL_DIALOG)}},{key:"getMsgContent",value:function(){var e=v.default.createElement("span",null),t=this.props,r=t.msgtype,n=t.detail;return"0"==r?e=v.default.createElement("span",null,n):"2"==r&&(e=v.default.createElement("div",null,v.default.createElement("span",null,(0,b.getLabel)(514319,"保护数据被篡改"),"！"),v.default.createElement("a",{href:"javascript:void(0);",onClick:this.openAuthDetail},(0,b.getLabel)(512307,"查看详情")))),e}},{key:"render",value:function(){var e=this.props,t=e.msgtype;e.detail;return"0"!=t&&"2"!=t?v.default.createElement("div",null):v.default.createElement("div",{className:"wf-error-msg"},v.default.createElement("div",{className:"wf-error-msg-left"},v.default.createElement("i",{className:"icon-coms-Prompt icon-coms02-Warning-01"})),v.default.createElement("div",{className:"wf-error-msg-right"},this.getMsgContent()))}}]),t}(v.default.Component);t.default=S},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(_),r(6)),E=r(688),I=n(E),k=(o=(0,w.inject)("selectNextFlowStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.selectNextFlowStore.nodeInfoCancelEvent()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaDialog,r=this.props,n=r.visible,o=r.selectNextFlowStore;o.baseParams,o.showNodeInfo;return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@hest5d",visible:n,loadCss:!0,initLoadCss:!0,title:(0,S.getLabel)(390987,"选择下一节点"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"720px",height:"500px"}},y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_NodeInfoContent@8p636d"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderMarkerComponent=t.getPropValue=t.MarkerAllProps=t.MarkerConfigurableProps=void 0;var o=r(68),i=r(1),a=n(i),l=r(48),s=r(133),u=n(s),c=t.MarkerConfigurableProps=["position","offset","icon","content","draggable","visible","zIndex","angle","animation","shadow","title","clickable","extData","label"],f=t.MarkerAllProps=c.concat(["topWhenClick","bubble","raiseOnDrag","cursor","autoRotation","shape"]);t.getPropValue=function(e,t){return-1===f.indexOf(e)?null:"position"===e?(0,o.toLnglat)(t):"offset"===e?(0,o.toPixel)(t):t},t.renderMarkerComponent=function(e,t){var r=e;if((0,u.default)(e)){r=e(t.getExtData())}r&&(0,l.render)(a.default.createElement("div",null,r),t.getContent())}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(26),a=n(i),l=r(3),s=n(l),u=r(0),c=n(u),f=r(2),d=n(f),p=r(4),h=n(p),m=r(5),v=n(m),g=r(1),b=n(g),y=r(8),w=r(6),_=r(127),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(_),E=r(66);r(707);var I=r(12),k=n(I),C=(0,y.observer)(o=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.switchRequestNeedConfirm=function(t){var r=k.default.layoutStore.existChangeFormDataByUser,n=k.default.globalStore,o=n.commonParam,i=n.closeNeedPrompt,a=(0,w.getAntd)(),l=a.Modal,s=(0,w.getEcCom)(),u=s.WeaCheckbox,c=e;r&&i&&0!==o.requestType?l.confirm({title:(0,w.getLabel)(131329,"信息确认"),content:b.default.createElement("div",null,b.default.createElement("div",null,(0,w.getLabel)(528822,"流程表单信息已被手动或系统自动修改，确定要离开当前页面吗？")),0==o.isviewonly&&b.default.createElement(u,{id:"saveData",content:(0,w.getLabel)(528821,"离开时保存当前数据"),style:{paddingTop:"20px"},value:e.state.saveData,onChange:function(t){e.setState({saveData:t})}})),okText:(0,w.getLabel)(826,"确定"),cancelText:(0,w.getLabel)(201,"取消"),onOk:function(){1==c.state.saveData&&0==o.isviewonly?(0,E.doSubmitForm)({actiontype:"requestOperation",src:"save",closePage:!1,continuationSwitchType:t}):S.switchRequest(t)},onCancel:function(){}}):S.switchRequest(t)},e.getIframeUrl=function(){var t=e.props.location,r=void 0===t?{}:t,n=r.query,o=void 0===n?{}:n,i=o.url,l="?";return(0,a.default)(o).map(function(e){"url"!=e&&(l+=e+"="+o[e]+"&")}),l.length>1&&(l=l.substring(0,l.length-1)),i+l},e.state={continuationProcessInfo:{},saveData:1},e}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=void 0===e?{}:e,r=t.query,n=void 0===r?{}:r;if(n.isSingle){var o={isSingle:"1",currentIndex:n.currentIndex,counts:n.counts,requestId:n.requestId};k.default.globalStore.continuationProcessInfo=o,this.setState({continuationProcessInfo:o})}}},{key:"render",value:function(){var e=this,t=this.props.location,r=void 0===t?{}:t,n=r.query,o=void 0===n?{}:n,i=o.isSingle?this.state.continuationProcessInfo:this.props.continuationProcessInfo,a=i.currentIndex,l=void 0===a?0:a,s=i.counts,u=void 0===s?0:s,c=(0,w.getLabel)(517273,"第{current}条（共{counts}条）");return c=c.replace(/{current}/,parseInt(l)+1),c=c.replace(/{counts}/,u),b.default.createElement("div",{className:"wf-continuationProcess-div"},b.default.createElement("div",{className:"wf-continuationProcess-title"},b.default.createElement("span",null,c),b.default.createElement("div",{className:"wf-continuationProcess-title-pageSwitch"},b.default.createElement("span",{className:0!=l?"icon-coms02-backward first":"icon-coms02-backward first disabled",onClick:function(){0!=l&&e.switchRequestNeedConfirm("first")}}),b.default.createElement("span",{className:0!=l?"prePage":"pre-disabled",onClick:function(){0!=l&&e.switchRequestNeedConfirm("pre")}},(0,w.getLabel)(515115,"上一条")),b.default.createElement("span",{className:l!=u-1?"nextPage":"disabled",onClick:function(){l!=u-1&&e.switchRequestNeedConfirm("next")}},(0,w.getLabel)(515116,"下一条")),b.default.createElement("span",{className:l!=u-1?"icon-coms02-Forward-1 last":"icon-coms02-Forward-1 last disabled",onClick:function(){l!=u-1&&e.switchRequestNeedConfirm("last")}}))),o.isSingle&&b.default.createElement("iframe",{className:"wf-continuationProcess-iframe",src:this.getIframeUrl()}))}}]),t}(b.default.Component))||o;t.default=C},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(101),a=n(i),l=r(3),s=n(l),u=r(0),c=n(u),f=r(2),d=n(f),p=r(4),h=n(p),m=r(5),v=n(m),g=r(1),b=n(g),y=(r(83),r(51)),w=r(650),_=n(w),S=r(8),E=r(9),I=y.WeaLocaleProvider.getLabel,k=(0,S.observer)(o=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.adjustWrapHeight(),this.adjustWrapWidth(),window.location.href.indexOf("isFromMobile")>-1&&window.parent&&window.parent.cancelLodingMask&&window.parent.cancelLodingMask("none")}},{key:"componentDidUpdate",value:function(){this.adjustWrapWidth(),this.adjustWrapHeight()}},{key:"adjustWrapHeight",value:function(){var e=this.props,t=e.islastArr,r=e.wrapBoxCount;if(window.location.href.indexOf("isFromMobile")>-1&&t){var n=147*(r-1)+72,o=document.getElementById("container"),i=o.offsetHeight,a=document.getElementById("smartGuessPicBox"),l=a.parentNode.parentNode;l.onscroll=function(){var e=document.getElementById("wfFrontOperator-container");e&&(e.style.visibility="hidden")},i>n?(l.setAttribute("class","smart-wrap-div"),l.style.overflowY="auto",l.style.backgroundColor="#f4f4f4",a.style.height=i+10+"px"):(l.setAttribute("class","smart-wrap-div"),l.style.overflowY="auto",l.style.backgroundColor="#f4f4f4",a.style.height=n+10+"px")}}},{key:"adjustWrapWidth",value:function(){var e=this.props.islastArr,t=this.props,r=t.cellCount,n=t.smartGuessStore,o=n.smartGuessStatus,i=n.allMapshow,a=document.body.clientWidth,l=document.getElementById("smartGuessPicBox"),s=156*r+75*(r-1)+40,u=document.getElementsByClassName("wf-map-header")[0],c=document.getElementById("smart-map-wrap");if(u&&c){var f=u.offsetHeight+30,d="calc(100% - "+f+"px)";c.style.height=d,c.style.overflow="auto"}l.offsetWidth!=s&&o&&!i&&(l.style.width=s+"px",l.style.minWidth=s+"px",l.style.marginLeft="60px"),window.location.href.indexOf("isFromMobile")>-1&&e&&(l.style.width=s+"px",l.style.minWidth=s+"px",a>400&&(l.style.marginLeft="40px"))}},{key:"optionItemClick",value:function(e,t){var r=this.props.smartGuessStore,n=r.setOptionItem,o=r.setLoadingWrap;window.parent.cancelLodingMask?(window.parent.cancelLodingMask("flex",!0),n(e,t,window.parent.cancelLodingMask.bind(this,"none"))):(o(!0),n(e,t))}},{key:"setOptions",value:function(e,t,r){for(var n=this,o=this.props.smartGuessStore,i=(o.setLoadingWrap,[]),a=1;a<=t;a++){var l=I(528194,"第{num}条");l=l.replace(/{num}/,a);var s={key:a+"",selected:!1,showname:l};i.push(s)}return i.map(function(t,o){return b.default.createElement("li",{key:"option"+o,onClick:e.optionItemClick.bind(n,r,o)},t.showname)})}},{key:"setinfoPanel",value:function(e,t){var r=(document.body.clientWidth,this.props.smartGuessStore),n=r.getOperator,o=r.clearOperatorArr,i=r.setHiddenSelectPanel,a=!1;if(window.location.href.indexOf("isFromMobile")>-1&&(a=!0),o(),i(),""!=e.nodeOperatorName){var l=e.nodeOperatorName&&e.nodeOperatorName.slice(0,1);"1"!=l&&n(e.nodeid,{cnodeid:e.nodeid,nodeType:e.nodeType}),t.stopPropagation();var s=e||{},u=null;document.getElementById("wfFrontOperator-container")?(u=document.getElementById("wfFrontOperator-container"),u.style.visibility="visible"):(u=document.createElement("div"),u.setAttribute("id","wfFrontOperator-container"),document.body.appendChild(u)),"1"==l?ReactDOM.render(b.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Panel@99moe8",clickposX:t.pageX,clickposY:t.pageY,isForOperator:!0,info:s,isGroup:!0,setoperator:this.setoperator,isFromMobile:a,store:this.props.smartGuessStore}),u):ReactDOM.render(b.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Panel@mmbz0m",clickposX:t.pageX,clickposY:t.pageY,isForOperator:!0,info:s,isGroup:!1,isFromMobile:a,setoperator:this.setoperator,store:this.props.smartGuessStore}),u)}}},{key:"checkClick",value:function(e,t){var r=this.props.smartGuessStore,n=r.setShowSelectPanel,o=(r.isloading,document.getElementById("wfFrontOperator-container"));t.stopPropagation(),n(e.nodeRemark),o&&(o.style.visibility="hidden")}},{key:"getIcon",value:function(e){return"1"==e.nodeattribute?b.default.createElement("i",{className:"icon-coms02-coms-right-branch"}):e.nodeattribute>="3"?b.default.createElement("i",{className:"icon-coms02-coms-left-branch"}):"0"==e.ntype?b.default.createElement("i",{className:"icon-coms-organization-right",style:{fontSize:"20px"}}):"1"==e.ntype?b.default.createElement("i",{className:"icon-coms02-coms-node"}):"2"==e.ntype?b.default.createElement("i",{className:"icon-coms-Update-synchronization",style:{fontSize:"15px"}}):"3"==e.ntype?b.default.createElement("i",{className:"icon-coms-Tile-o"}):"5"==e.ntype?b.default.createElement("i",{className:"Icon-coms03-Robot-node"}):"6"==e.ntype?b.default.createElement("i",{className:"icon-coms02-coms-node"}):void 0}},{key:"drawRectangel",value:function(e,t,r){var n=this,o=this.props,i=o.isFromMobile,a=o.smartGuessStore,l=a.isEnd,s=I(528191,"共{branchnumber}条分支，当前第{totalnum}条");switch(s=s.toLowerCase(),s=s.replace(/{branchnumber}/,parseInt(e.branchNumber)),s=s.replace(/{totalnum}/,r),e.nodeid){case-1:return b.default.createElement("div",{className:"rectangle",style:{border:"1px solid "+e.strokeColor}},b.default.createElement("div",{className:"content-wrap"},b.default.createElement("div",{className:"area left-area",style:{backgroundColor:e.nodeColor,borderRight:"1px solid "+e.strokeColor}},b.default.createElement("img",{src:(window.ecologyContentPath||"")+"/images/ecology9/workflow/loading.gif"})),b.default.createElement("div",{className:"area right-area loading-word"},b.default.createElement("div",{className:"info-content"},b.default.createElement("span",null,I(513959,"智能预测中"))))));case-2:return b.default.createElement("div",{className:"rectangle  unKnownNode"},b.default.createElement("span",null),b.default.createElement("span",null),b.default.createElement("span",null));default:return b.default.createElement("div",{className:"rectangle",style:{border:"1px solid "+e.strokeColor}},b.default.createElement("div",{className:"content-wrap",onClick:function(t){n.setinfoPanel(e,t)}},b.default.createElement("div",{className:"area left-area",style:{backgroundColor:e.nodeColor,borderRight:"1px solid "+e.strokeColor}},this.getIcon(e)),b.default.createElement("div",{className:"area right-area"},b.default.createElement("div",{className:"info-content"},b.default.createElement("span",{title:e.nodeName},e.nodeName),"5"!=e.ntype&&"6"!=e.ntype&&b.default.createElement("span",{title:this.setoperator(e.nodeOperatorName)},this.setoperator(e.nodeOperatorName)),"5"==e.ntype&&b.default.createElement("i",{className:"icon-coms-overtime icon-span"}),"6"==e.ntype&&b.default.createElement("i",{className:"Icon-coms03-Release-preparation icon-span"})))),l&&e.branchNumber>1&&b.default.createElement("div",{className:"select-node "+i},b.default.createElement("span",{className:"current-wf",title:s},s),b.default.createElement("a",{className:"check-others",onClick:function(t){n.checkClick(e,t)}},I(528167,"查看其他分支")),b.default.createElement("div",{className:t?"select-box show-panel":"select-box"},b.default.createElement("ul",{className:"select-content"},this.setOptions(this,e.branchNumber,e)))))}}},{key:"getLinkColor",value:function(e){var t=this.props.smartGuessStore.data,r=t.forecastLinkColor,n=t.passedLinkColor;switch(e.nodeType){case 0:return n;default:return r}}},{key:"drawFlowPoint",value:function(e,t,r,n){var o=this.props,i=o.arrowPoint,a=o.arrowTurn,l=o.islastArr,s=o.isFromMobile;return b.default.createElement(b.default.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_undefined@pa0uvw"},t!==r&&b.default.createElement("div",{className:"arrow-box  "+s},b.default.createElement("div",{className:"line",style:{borderBottom:"1px solid "+n}}),b.default.createElement("div",{className:"arrow arrow-point-"+i},b.default.createElement("i",{className:"jiantou icon-coms-organization-right",style:{color:n}}))),t!=r||l?null:b.default.createElement("div",{className:"arrow-last-box  "+s},b.default.createElement("div",{className:"turn-arrow arrow-turn-"+a,style:{border:"2px solid "+n}},b.default.createElement("i",{className:"jiantou icon-coms-organization-right",style:{color:n}}))))}},{key:"setoperator",value:function(e){var t=[],r="";if(!e)return" ";if(e.indexOf("->")>-1){var n=e.indexOf("->"),o=e.slice(0,n),i=e.slice(n+2);t=[].concat((0,a.default)(t),[o,i])}else t=[e];return 0!==t.length&&t.map(function(e,n){var o=[];o=e.split("_#WFSPSTR_OPTTP#_"),n!==t.length-1?r+=o[o.length-1]+"->":r+=o[o.length-1]}),r}},{key:"render",value:function(){var e=this,t=this.props,r=t.cellInfo,n=void 0===r?[]:r,o=t.prefixCls,i=void 0===o?"":o,a=t.isFromMobile,l=this.props.smartGuessStore,s=(l.setShowSelectPanel,l.divideNodeArr),u=void 0===s?[]:s;return b.default.createElement("div",{class:"outer-wrap-box  "+i+" "+a},n.map(function(t,r){var o=!1,i=1;0!==(0,E.toJS)(u).length&&(0,E.toJS)(u).filter(function(e){e.remark===t.nodeRemark&&(o=e.showStatus,i=e.checkItem)});var a=e.getLinkColor(t);return b.default.createElement(b.default.Fragment,{ecId:(e&&e.props&&e.props.ecId||"")+"_undefined@l3241b@"+r},e.drawRectangel(t,o,i),e.drawFlowPoint(t,r,n.length-1,a))}))}}]),t}(b.default.Component))||o;t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(26),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(283),_=n(w),S=r(9),E=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(S),r(8)),I=r(12),k=(n(I),(o=(0,E.inject)("smartGuessStore"))(i=(0,E.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.setPanelVisible=function(){(0,n.props.smartGuessStore.setHiddenSelectPanel)();var e=document.getElementById("wfFrontOperator-container");e&&(e.style.visibility="hidden")},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=(e.commonParam,e.smartGuessStore),r=t.getCellArr,n=t.setState,o=t.init,i=this.props.location,a=void 0===i?{}:i;if(a.query&&(0,l.default)(a.query).length>0&&window.location.href.indexOf("isFromMobile")>-1){var s=document.body.clientWidth,u=window.parent.changeBtnStatus;o(a.query),r({},u),n({clientWidth:s})}}},{key:"componentDidMount",value:function(){var e=this.props.smartGuessStore,t=(e.getCellArr,e.stopResetFlag),r=e.setState,n=e.getResetForecast;window.getForecast=function(){if(!t){var e=window.parent&&window.parent.changeBtnStatus||null;n(e),r({stopResetFlag:!0})}}}},{key:"componentDidUpdate",value:function(){var e=this.props.smartGuessStore,t=(e.getCellArr,e.stopGetArrFlag),r=e.isloading,n=this;r||t||(this.Timer=setTimeout(function(){n.Timer&&clearTimeout(n.Timer),n.getArr({})},1e3))}},{key:"getArr",value:function(){var e=window.parent.changeBtnStatus;(0,this.props.smartGuessStore.getCellArr)({},e)}},{key:"componentWillUnmount",value:function(){(0,this.props.smartGuessStore.clearStore)()}},{key:"insertCell",value:function(e){var t=this,r=this.props.smartGuessStore,n=r.clientWidth,o=0;o=window.location.href.indexOf("isFromMobile")>-1?n:document.body.clientWidth;var i=!1;o<400&&(i=!0);for(var a=Math.floor(o/232),l=Math.min(a,6),s=Math.ceil(e.length/l),u=[],c=e;c.length>l;){var f=c.slice(0,l);c.splice(0,l),c=c,u.push(f)}return u.push(c),i?u.map(function(e,n){return n!==u.length-1?y.default.createElement(_.default,{ecId:(t&&t.props&&t.props.ecId||"")+"_Cell@rd3y9o@"+n,isFromMobile:"isFromMobile",wrapBoxCount:s,smartGuessStore:r,cellCount:l,islastArr:!1,arrowPoint:"down",arrowTurn:"down",cellInfo:e,prefixCls:"wrap-box-flex-down"}):y.default.createElement(_.default,{ecId:(t&&t.props&&t.props.ecId||"")+"_Cell@ydktcr@"+n,isFromMobile:"isFromMobile",wrapBoxCount:s,smartGuessStore:r,cellCount:1,islastArr:!0,arrowPoint:"down",arrowTurn:"down",cellInfo:e,prefixCls:"wrap-box-flex-down"})}):u.map(function(e,n){return n%2==0?n!==u.length-1?y.default.createElement(_.default,{ecId:(t&&t.props&&t.props.ecId||"")+"_Cell@yn3elt@"+n,isFromMobile:"notFromMobile",smartGuessStore:r,cellCount:l,islastArr:!1,arrowPoint:"right",arrowTurn:"left",cellInfo:e,prefixCls:"wrap-box-flex-left"}):y.default.createElement(_.default,{ecId:(t&&t.props&&t.props.ecId||"")+"_Cell@gw3jyj@"+n,isFromMobile:"notFromMobile",smartGuessStore:r,cellCount:l,islastArr:!0,arrowPoint:"right",cellInfo:e,prefixCls:"wrap-box-flex-left"}):n!==u.length-1?y.default.createElement(_.default,{ecId:(t&&t.props&&t.props.ecId||"")+"_Cell@5ikwyb@"+n,isFromMobile:"notFromMobile",smartGuessStore:r,cellCount:l,islastArr:!1,arrowPoint:"left",arrowTurn:"right",cellInfo:e,prefixCls:"wrap-box-flex-right"}):y.default.createElement(_.default,{ecId:(t&&t.props&&t.props.ecId||"")+"_Cell@kb9qw3@"+n,isFromMobile:"notFromMobile",smartGuessStore:r,cellCount:l,islastArr:!0,arrowPoint:"left",cellInfo:e,prefixCls:"wrap-box-flex-right"})})}},{key:"render",value:function(){var e=this.props.smartGuessStore,t=(e.smartGuessStatus,e.allMapshow,e.nodeArr),r=void 0===t?[]:t;return y.default.createElement("div",{id:"smart-map-wrap",onClick:this.setPanelVisible},y.default.createElement("div",{id:"smartGuessPicBox",style:{paddingBottom:"10px"}},r&&0!==r.length&&this.insertCell((0,S.toJS)(r))))}}]),t}(y.default.Component))||i)||i);t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(286),i=n(o),a=r(296),l=n(a),s=r(321),u=n(s),c=r(708),f=n(c),d=r(709),p=n(d),h=r(713),m=n(h),v=r(284),g=n(v),b=r(282),y=n(b),w=r(173),_=n(w),S=r(12),E=n(S);r(714),E.default.init(_.default),r(720);var I=React.createElement(i.default,{ecId:"_Route@t2zh74",breadcrumbName:"流程表单",path:"workflow",component:l.default},React.createElement(i.default,{ecId:"_Route@vmt0lk",breadcrumbName:"流程表单详情",path:"req",component:u.default}),React.createElement(i.default,{ecId:"_Route@4puh9a",breadcrumbName:"表单无权限",path:"reqNoRight",component:f.default}),React.createElement(i.default,{ecId:"_Route@zf1bp2",breadcrumbName:"打印表单",path:"printReq",component:p.default}),React.createElement(i.default,{ecId:"_Route@vtxpfv",breadcrumbName:"智能分析",path:"analyze",component:m.default}),React.createElement(i.default,{ecId:"_Route@w84bkx",breadcrumbName:"流程图智能预测",path:"smartGuess",component:g.default}),React.createElement(i.default,{breadcrumbName:"流程连续处理",path:"ContinuationProcess",component:y.default}));e.exports={Route:I,store:_.default};var k={};window.doWorkflowFormAction=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(287),i=n(o),a=r(134),l=r(293),s=n(l),u=r(294),c=r(295),f=(0,i.default)({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:a.string,component:c.component,components:c.components,getComponent:a.func,getComponents:a.func},render:function(){(0,s.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,r){"use strict";var n=r(1),o=r(288);if("undefined"===typeof n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new n.Component).updater;e.exports=o(n.Component,n.isValidElement,i)},function(e,t,r){"use strict";function n(e){return e}function o(e,t,r){function o(e,t){var r=b.hasOwnProperty(t)?b[t]:null;E.hasOwnProperty(t)&&l("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,r){if(r){l("function"!==typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,i=n.__reactAutoBindPairs;r.hasOwnProperty(s)&&w.mixins(e,r.mixins);for(var a in r)if(r.hasOwnProperty(a)&&a!==s){var u=r[a],c=n.hasOwnProperty(a);if(o(c,a),w.hasOwnProperty(a))w[a](e,u);else{var f=b.hasOwnProperty(a),h="function"===typeof u,m=h&&!f&&!c&&!1!==r.autobind;if(m)i.push(a,u),n[a]=u;else if(c){var v=b[a];l(f&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,a),"DEFINE_MANY_MERGED"===v?n[a]=d(n[a],u):"DEFINE_MANY"===v&&(n[a]=p(n[a],u))}else n[a]=u}}}else;}function c(e,t){if(t)for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){var o=r in w;l(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r);var i=r in e;if(i){var a=y.hasOwnProperty(r)?y[r]:null;return l("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(e[r]=d(e[r],n))}e[r]=n}}}function f(e,t){l(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var r in t)t.hasOwnProperty(r)&&(l(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function d(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var o={};return f(o,r),f(o,n),o}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var r=t.bind(e);return r}function m(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[n]=h(e,o)}}function v(e){var t=n(function(e,n,o){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=n,this.refs=a,this.updater=o||r,this.state=null;var i=this.getInitialState?this.getInitialState():null;l("object"===typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=i});t.prototype=new I,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],g.forEach(u.bind(null,t)),u(t,_),u(t,e),u(t,S),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in b)t.prototype[o]||(t.prototype[o]=null);return t}var g=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},y={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},w={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)u(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},_={componentDidMount:function(){this.__isMounted=!0}},S={componentWillUnmount:function(){this.__isMounted=!1}},E={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},I=function(){};return i(I.prototype,e.prototype,E),v}var i=r(84),a=r(289),l=r(290),s="mixins";e.exports=o},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i,a,l,s){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,a,l,s],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var o=function(e){};e.exports=n},function(e,t,r){"use strict";function n(){}function o(){}var i=r(292);o.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,o,a){if(a!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=function(e,t,r,n,o,i,a,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,l],c=0;s=new Error(t.replace(/%s/g,function(){return u[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=n},function(e,t,r){"use strict";function n(e){return null==e||f.default.isValidElement(e)}function o(e){return n(e)||Array.isArray(e)&&e.every(n)}function i(e,t){return u({},e,t)}function a(e){var t=e.type,r=i(t.defaultProps,e.props);if(r.children){var n=l(r.children,r);n.length&&(r.childRoutes=n),delete r.children}return r}function l(e,t){var r=[];return f.default.Children.forEach(e,function(e){if(f.default.isValidElement(e))if(e.type.createRouteFromReactElement){var n=e.type.createRouteFromReactElement(e,t);n&&r.push(n)}else r.push(a(e))}),r}function s(e){return o(e)?e=l(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.isReactChildren=o,t.createRouteFromReactElement=a,t.createRoutesFromReactChildren=l,t.createRoutes=s;var c=r(1),f=function(e){return e&&e.__esModule?e:{default:e}}(c)},function(e,t,r){"use strict";function n(e,t,r){if(e[t])return new Error("<"+r+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=n;var o=r(134),i=(t.history=(0,o.shape)({listen:o.func.isRequired,push:o.func.isRequired,replace:o.func.isRequired,go:o.func.isRequired,goBack:o.func.isRequired,goForward:o.func.isRequired}),t.component=(0,o.oneOfType)([o.func,o.string])),a=(t.components=(0,o.oneOfType)([i,o.object]),t.route=(0,o.oneOfType)([o.object,o.element]));t.routes=(0,o.oneOfType)([a,(0,o.arrayOf)(a)])},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(6),m=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={loadedLocaleProvider:!1},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this;(0,h.getEcCom)().WeaLocaleProvider.getLocaleLabel("workflowForm",null,null,function(){e.setState({loadedLocaleProvider:!0})})}},{key:"render",value:function(){var e=(0,h.getEcCom)(),t=e.WeaLocaleProvider,r=this.state.loadedLocaleProvider;return React.createElement("div",{style:{height:"100%"}},r&&React.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLocaleProvider@uf3vn2"},this.props.children))}}]),t}(React.Component);t.default=m},function(e,t,r){r(298),e.exports=r(13).Object.getPrototypeOf},function(e,t,r){var n=r(46),o=r(188);r(135)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,t,r){r(300);var n=r(13).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(21);n(n.S+n.F*!r(22),"Object",{defineProperty:r(32).f})},function(e,t,r){e.exports={default:r(302),__esModule:!0}},function(e,t,r){r(71),r(92),e.exports=r(139).f("iterator")},function(e,t,r){var n=r(72),o=r(69);e.exports=function(e){return function(t,r){var i,a,l=String(o(t)),s=n(r),u=l.length;return s<0||s>=u?e?"":void 0:(i=l.charCodeAt(s),i<55296||i>56319||s+1===u||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):i:e?l.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,r){"use strict";var n=r(105),o=r(60),i=r(91),a={};r(42)(a,r(30)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(32),o=r(34),i=r(52);e.exports=r(22)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),l=a.length,s=0;l>s;)n.f(e,r=a[s++],t[r]);return e}},function(e,t,r){"use strict";var n=r(307),o=r(191),i=r(89),a=r(38);e.exports=r(136)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t,r){e.exports={default:r(309),__esModule:!0}},function(e,t,r){r(310),r(107),r(313),r(314),e.exports=r(13).Symbol},function(e,t,r){"use strict";var n=r(20),o=r(41),i=r(22),a=r(21),l=r(189),s=r(140).KEY,u=r(37),c=r(86),f=r(91),d=r(70),p=r(30),h=r(139),m=r(141),v=r(311),g=r(192),b=r(34),y=r(28),w=r(46),_=r(38),S=r(88),E=r(60),I=r(105),k=r(312),C=r(142),x=r(93),O=r(32),P=r(52),M=C.f,A=O.f,F=k.f,R=n.Symbol,T=n.JSON,D=T&&T.stringify,j=p("_hidden"),L=p("toPrimitive"),N={}.propertyIsEnumerable,q=c("symbol-registry"),W=c("symbols"),B=c("op-symbols"),z=Object.prototype,U="function"==typeof R&&!!x.f,V=n.QObject,H=!V||!V.prototype||!V.prototype.findChild,G=i&&u(function(){return 7!=I(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=M(z,t);n&&delete z[t],A(e,t,r),n&&e!==z&&A(z,t,n)}:A,Q=function(e){var t=W[e]=I(R.prototype);return t._k=e,t},K=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},J=function(e,t,r){return e===z&&J(B,t,r),b(e),t=S(t,!0),b(r),o(W,t)?(r.enumerable?(o(e,j)&&e[j][t]&&(e[j][t]=!1),r=I(r,{enumerable:E(0,!1)})):(o(e,j)||A(e,j,E(1,{})),e[j][t]=!0),G(e,t,r)):A(e,t,r)},$=function(e,t){b(e);for(var r,n=v(t=_(t)),o=0,i=n.length;i>o;)J(e,r=n[o++],t[r]);return e},Y=function(e,t){return void 0===t?I(e):$(I(e),t)},X=function(e){var t=N.call(this,e=S(e,!0));return!(this===z&&o(W,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(W,e)||o(this,j)&&this[j][e])||t)},Z=function(e,t){if(e=_(e),t=S(t,!0),e!==z||!o(W,t)||o(B,t)){var r=M(e,t);return!r||!o(W,t)||o(e,j)&&e[j][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=F(_(e)),n=[],i=0;r.length>i;)o(W,t=r[i++])||t==j||t==s||n.push(t);return n},te=function(e){for(var t,r=e===z,n=F(r?B:_(e)),i=[],a=0;n.length>a;)!o(W,t=n[a++])||r&&!o(z,t)||i.push(W[t]);return i};U||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call(B,r),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),G(this,e,E(1,r))};return i&&H&&G(z,e,{configurable:!0,set:t}),Q(e)},l(R.prototype,"toString",function(){return this._k}),C.f=Z,O.f=J,r(193).f=k.f=ee,r(62).f=X,x.f=te,i&&!r(58)&&l(z,"propertyIsEnumerable",X,!0),h.f=function(e){return Q(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:R});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)p(re[ne++]);for(var oe=P(p.store),ie=0;oe.length>ie;)m(oe[ie++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(q,e+="")?q[e]:q[e]=R(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in q)if(q[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!U,"Object",{create:Y,defineProperty:J,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=u(function(){x.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return x.f(w(e))}}),T&&a(a.S+a.F*(!U||u(function(){var e=R();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(y(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,D.apply(T,n)}}),R.prototype[L]||r(42)(R.prototype,L,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){var n=r(52),o=r(93),i=r(62);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,l=r(e),s=i.f,u=0;l.length>u;)s.call(e,a=l[u++])&&t.push(a);return t}},function(e,t,r){var n=r(38),o=r(193).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?l(e):o(n(e))}},function(e,t,r){r(141)("asyncIterator")},function(e,t,r){r(141)("observable")},function(e,t,r){e.exports={default:r(316),__esModule:!0}},function(e,t,r){r(317),e.exports=r(13).Object.setPrototypeOf},function(e,t,r){var n=r(21);n(n.S,"Object",{setPrototypeOf:r(318).set})},function(e,t,r){var n=r(28),o=r(34),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(36)(Function.call,r(142).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){r(320);var n=r(13).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(21);n(n.S,"Object",{create:r(105)})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=r(14),w=(o=(0,b.inject)("globalStore"))(i=(0,b.observer)(i=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){window.JS_LOAD_DURATION=window.JS_LOAD_END-window.JS_LOAD_START,window.Route_DURATION=(new Date).getTime()-window.JS_LOAD_END;var e=this.props,t=e.location,r=e.globalStore,n=t.query||{};r.loadBaseInfo(n);var o=n.calLoadTime||"1";("Chrome"===r.browserVersion||"Chrome"!==r.browserVersion&&"1"!==o)&&(0,y.loadFullResource)()}},{key:"render",value:function(){var e=this.props.location||{},t=e.query&&"1"==e.query.isprint,n=e.query&&"1"==e.query.isPreView,o=null;return o=n?r(522).default:t?r(632).default:r(633).default,g.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Comp@upn4fo",location:this.props.location})}}]),t}(g.default.Component))||i)||i;t.default=w},function(e,t,r){r(323);var n=r(13).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var n=r(38),o=r(142).f;r(135)("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},function(e,t,r){r(107),r(71),r(92),r(325),r(329),r(330),e.exports=r(13).Promise},function(e,t,r){"use strict";var n,o,i,a,l=r(58),s=r(20),u=r(36),c=r(144),f=r(21),d=r(28),p=r(59),h=r(145),m=r(95),v=r(197),g=r(198).set,b=r(327)(),y=r(147),w=r(199),_=r(328),S=r(200),E=s.TypeError,I=s.process,k=I&&I.versions,C=k&&k.v8||"",x=s.Promise,O="process"==c(I),P=function(){},M=o=y.f,A=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[r(30)("species")]=function(e){e(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==C.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),F=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;b(function(){for(var n=e._v,o=1==e._s,i=0;r.length>i;)!function(t){var r,i,a,l=o?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{l?(o||(2==e._h&&j(e),e._h=1),!0===l?r=n:(c&&c.enter(),r=l(n),c&&(c.exit(),a=!0)),r===t.promise?u(E("Promise-chain cycle")):(i=F(r))?i.call(r,s,u):s(r)):u(n)}catch(e){c&&!a&&c.exit(),u(e)}}(r[i++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){g.call(s,function(){var t,r,n,o=e._v,i=D(e);if(i&&(t=w(function(){O?I.emit("unhandledRejection",o,e):(r=s.onunhandledrejection)?r({promise:e,reason:o}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=O||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){g.call(s,function(){var t;O?I.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw E("Promise can't be resolved itself");(t=F(e))?b(function(){var n={_w:r,_d:!1};try{t.call(e,u(N,n,1),u(L,n,1))}catch(e){L.call(n,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){L.call({_w:r,_d:!1},e)}}};A||(x=function(e){h(this,x,"Promise","_h"),p(e),n.call(this);try{e(u(N,this,1),u(L,this,1))}catch(e){L.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(148)(x.prototype,{then:function(e,t){var r=M(v(this,x));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O?I.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(N,e,1),this.reject=u(L,e,1)},y.f=M=function(e){return e===x||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!A,{Promise:x}),r(91)(x,"Promise"),r(201)("Promise"),a=r(13).Promise,f(f.S+f.F*!A,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(l||!A),"Promise",{resolve:function(e){return S(l&&this===a?x:this,e)}}),f(f.S+f.F*!(A&&r(202)(function(e){x.all(e).catch(P)})),"Promise",{all:function(e){var t=this,r=M(t),n=r.resolve,o=r.reject,i=w(function(){var r=[],i=0,a=1;m(e,!1,function(e){var l=i++,s=!1;r.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,r[l]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=M(t),n=r.reject,o=w(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(20),o=r(198).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,l=n.Promise,s="process"==r(61)(a);e.exports=function(){var e,t,r,u=function(){var n,o;for(s&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(s)r=function(){a.nextTick(u)};else if(!i||n.navigator&&n.navigator.standalone)if(l&&l.resolve){var c=l.resolve(void 0);r=function(){c.then(u)}}else r=function(){o.call(n,u)};else{var f=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},function(e,t,r){var n=r(20),o=n.navigator;e.exports=o&&o.userAgent||""},function(e,t,r){"use strict";var n=r(21),o=r(13),i=r(20),a=r(197),l=r(200);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then(function(){return r})}:e,r?function(r){return l(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(21),o=r(147),i=r(199);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){var n=r(13),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,r){function n(e){if(null==e)return!0;if(s(e)&&(l(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||f(e)||a(e)))return!e.length;var t=i(e);if(t==d||t==p)return!e.size;if(c(e))return!o(e).length;for(var r in e)if(m.call(e,r))return!1;return!0}var o=r(152),i=r(76),a=r(96),l=r(24),s=r(54),u=r(97),c=r(108),f=r(110),d="[object Map]",p="[object Set]",h=Object.prototype,m=h.hasOwnProperty;e.exports=n},function(e,t,r){var n=r(203),o=n(Object.keys,Object);e.exports=o},function(e,t,r){var n=r(63),o=r(43),i=n(o,"DataView");e.exports=i},function(e,t,r){function n(e){return!(!a(e)||i(e))&&(o(e)?h:u).test(l(e))}var o=r(153),i=r(338),a=r(44),l=r(205),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,d=c.toString,p=f.hasOwnProperty,h=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=l.call(e);return n&&(t?e[s]=r:delete e[s]),o}var o=r(77),i=Object.prototype,a=i.hasOwnProperty,l=i.toString,s=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t,r){function n(e){return!!i&&i in e}var o=r(339),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t,r){var n=r(43),o=n["__core-js_shared__"];e.exports=o},function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},function(e,t,r){var n=r(63),o=r(43),i=n(o,"Promise");e.exports=i},function(e,t,r){var n=r(63),o=r(43),i=n(o,"Set");e.exports=i},function(e,t,r){var n=r(63),o=r(43),i=n(o,"WeakMap");e.exports=i},function(e,t,r){function n(e){return i(e)&&o(e)==a}var o=r(64),i=r(45),a="[object Arguments]";e.exports=n},function(e,t){function r(){return!1}e.exports=r},function(e,t,r){function n(e){return a(e)&&i(e.length)&&!!l[o(e)]}var o=r(64),i=r(156),a=r(45),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=n},function(e,t,r){function n(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:o(e,t,r)}var o=r(113);e.exports=n},function(e,t,r){function n(e,t){for(var r=e.length;r--&&o(t,e[r],0)>-1;);return r}var o=r(114);e.exports=n},function(e,t){function r(e){return e!==e}e.exports=r},function(e,t){function r(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}e.exports=r},function(e,t,r){function n(e,t){for(var r=-1,n=e.length;++r<n&&o(t,e[r],0)>-1;);return r}var o=r(114);e.exports=n},function(e,t,r){function n(e){return i(e)?a(e):o(e)}var o=r(353),i=r(209),a=r(354);e.exports=n},function(e,t){function r(e){return e.split("")}e.exports=r},function(e,t){function r(e){return e.match(f)||[]}var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",s="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",i,a].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*",u="[\\ufe0e\\ufe0f]?"+l+s,c="(?:"+["[^\\ud800-\\udfff]"+n+"?",n,i,a,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(o+"(?="+o+")|"+c+u,"g");e.exports=r},function(e,t,r){function n(e,t){return o(e,t)}var o=r(159);e.exports=n},function(e,t,r){function n(e,t,r,n,v,b){var y=u(e),w=u(t),_=y?h:s(e),S=w?h:s(t);_=_==p?m:_,S=S==p?m:S;var E=_==m,I=S==m,k=_==S;if(k&&c(e)){if(!c(t))return!1;y=!0,E=!1}if(k&&!E)return b||(b=new o),y||f(e)?i(e,t,r,n,v,b):a(e,t,_,r,n,v,b);if(!(r&d)){var C=E&&g.call(e,"__wrapped__"),x=I&&g.call(t,"__wrapped__");if(C||x){var O=C?e.value():e,P=x?t.value():t;return b||(b=new o),v(O,P,r,n,b)}}return!!k&&(b||(b=new o),l(e,t,r,n,v,b))}var o=r(115),i=r(211),a=r(384),l=r(387),s=r(76),u=r(24),c=r(97),f=r(110),d=1,p="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,g=v.hasOwnProperty;e.exports=n},function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}var o=r(117),i=Array.prototype,a=i.splice;e.exports=n},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}var o=r(117);e.exports=n},function(e,t,r){function n(e){return o(this.__data__,e)>-1}var o=r(117);e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var o=r(117);e.exports=n},function(e,t,r){function n(){this.__data__=new o,this.size=0}var o=r(116);e.exports=n},function(e,t){function r(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=r},function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t,r){function n(e,t){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<l-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(e,t),this.size=r.size,this}var o=r(116),i=r(155),a=r(160),l=200;e.exports=n},function(e,t,r){function n(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=r(368),i=r(116),a=r(155);e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(369),i=r(370),a=r(371),l=r(372),s=r(373);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=l,n.prototype.set=s,e.exports=n},function(e,t,r){function n(){this.__data__=o?o(null):{},this.size=0}var o=r(118);e.exports=n},function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},function(e,t,r){function n(e){var t=this.__data__;if(o){var r=t[e];return r===i?void 0:r}return l.call(t,e)?t[e]:void 0}var o=r(118),i="__lodash_hash_undefined__",a=Object.prototype,l=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){var t=this.__data__;return o?void 0!==t[e]:a.call(t,e)}var o=r(118),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?i:t,this}var o=r(118),i="__lodash_hash_undefined__";e.exports=n},function(e,t,r){function n(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=r(119);e.exports=n},function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},function(e,t,r){function n(e){return o(this,e).get(e)}var o=r(119);e.exports=n},function(e,t,r){function n(e){return o(this,e).has(e)}var o=r(119);e.exports=n},function(e,t,r){function n(e,t){var r=o(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var o=r(119);e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new o;++t<r;)this.add(e[t])}var o=r(160),i=r(380),a=r(381);n.prototype.add=n.prototype.push=i,n.prototype.has=a,e.exports=n},function(e,t){function r(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=r},function(e,t){function r(e,t){return e.has(t)}e.exports=r},function(e,t,r){function n(e,t,r,n,o,E,k){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!E(new i(e),new i(t)));case d:case p:case v:return a(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case m:var C=s;case b:var x=n&c;if(C||(C=u),e.size!=t.size&&!x)return!1;var O=k.get(e);if(O)return O==t;n|=f,k.set(e,t);var P=l(C(e),C(t),n,o,E,k);return k.delete(e),P;case w:if(I)return I.call(e)==I.call(t)}return!1}var o=r(77),i=r(212),a=r(78),l=r(211),s=r(385),u=r(386),c=1,f=2,d="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",g="[object RegExp]",b="[object Set]",y="[object String]",w="[object Symbol]",_="[object ArrayBuffer]",S="[object DataView]",E=o?o.prototype:void 0,I=E?E.valueOf:void 0;e.exports=n},function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}e.exports=r},function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}e.exports=r},function(e,t,r){function n(e,t,r,n,a,s){var u=r&i,c=o(e),f=c.length;if(f!=o(t).length&&!u)return!1;for(var d=f;d--;){var p=c[d];if(!(u?p in t:l.call(t,p)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var m=!0;s.set(e,t),s.set(t,e);for(var v=u;++d<f;){p=c[d];var g=e[p],b=t[p];if(n)var y=u?n(b,g,p,t,e,s):n(g,b,p,e,t,s);if(!(void 0===y?g===b||a(g,b,r,n,s):y)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=e.constructor,_=t.constructor;w!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return s.delete(e),s.delete(t),m}var o=r(213),i=1,a=Object.prototype,l=a.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e,t){return null!=e&&i(e,t,o)}var o=r(390),i=r(218);e.exports=n},function(e,t){function r(e,t){return null!=e&&o.call(e,t)}var n=Object.prototype,o=n.hasOwnProperty;e.exports=r},function(e,t,r){var n=r(392),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)}),t});e.exports=a},function(e,t,r){function n(e){var t=o(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}var o=r(393),i=500;e.exports=n},function(e,t,r){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(n.Cache||o),r}var o=r(160),i="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){function n(e){if(null==e)return 0;if(a(e))return l(e)?s(e):e.length;var t=i(e);return t==u||t==c?e.size:o(e).length}var o=r(152),i=r(76),a=r(54),l=r(222),s=r(395),u="[object Map]",c="[object Set]";e.exports=n},function(e,t,r){function n(e){return i(e)?a(e):o(e)}var o=r(396),i=r(209),a=r(397);e.exports=n},function(e,t,r){var n=r(223),o=n("length");e.exports=o},function(e,t){function r(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",s="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",i,a].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*",u="[\\ufe0e\\ufe0f]?"+l+s,c="(?:"+["[^\\ud800-\\udfff]"+n+"?",n,i,a,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(o+"(?="+o+")|"+c+u,"g");e.exports=r},function(e,t,r){function n(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var l=null==r?0:i(r);return l<0&&(l=a(n+l,0)),o(e,t,l)}var o=r(114),i=r(98),a=Math.max;e.exports=n},function(e,t,r){function n(e){if(!e)return 0===e?e:0;if((e=o(e))===i||e===-i){return(e<0?-1:1)*a}return e===e?e:0}var o=r(400),i=1/0,a=1.7976931348623157e308;e.exports=n},function(e,t,r){function n(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var r=u.test(e);return r||c.test(e)?f(e.slice(2),r?2:8):s.test(e)?a:+e}var o=r(44),i=r(112),a=NaN,l=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=n},function(e,t,r){function n(e,t){return null==e?e:o(e,i(t),a)}var o=r(164),i=r(224),a=r(99);e.exports=n},function(e,t){function r(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===r(i[s],s,i))break}return t}}e.exports=r},function(e,t,r){function n(e){if(!o(e))return a(e);var t=i(e),r=[];for(var n in e)("constructor"!=n||!t&&s.call(e,n))&&r.push(n);return r}var o=r(44),i=r(108),a=r(404),l=Object.prototype,s=l.hasOwnProperty;e.exports=n},function(e,t){function r(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=r},function(e,t,r){var n=r(406),o=r(412),i=o(function(e,t,r){n(e,t,r)});e.exports=i},function(e,t,r){function n(e,t,r,f,d){e!==t&&a(t,function(a,u){if(d||(d=new o),s(a))l(e,t,u,r,n,f,d);else{var p=f?f(c(e,u),a,u+"",e,t,d):void 0;void 0===p&&(p=a),i(e,u,p)}},u)}var o=r(115),i=r(225),a=r(164),l=r(407),s=r(44),u=r(99),c=r(230);e.exports=n},function(e,t,r){function n(e,t,r,n,y,w,_){var S=g(e,r),E=g(t,r),I=_.get(E);if(I)return void o(e,r,I);var k=w?w(S,E,r+"",e,t,_):void 0,C=void 0===k;if(C){var x=c(E),O=!x&&d(E),P=!x&&!O&&v(E);k=E,x||O||P?c(S)?k=S:f(S)?k=l(S):O?(C=!1,k=i(E,!0)):P?(C=!1,k=a(E,!0)):k=[]:m(E)||u(E)?(k=S,u(S)?k=b(S):h(S)&&!p(S)||(k=s(E))):C=!1}C&&(_.set(E,k),y(k,E,n,w,_),_.delete(E)),o(e,r,k)}var o=r(225),i=r(227),a=r(228),l=r(167),s=r(229),u=r(96),c=r(24),f=r(409),d=r(97),p=r(153),h=r(44),m=r(410),v=r(110),g=r(230),b=r(411);e.exports=n},function(e,t,r){var n=r(44),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t,r){function n(e){return i(e)&&o(e)}var o=r(54),i=r(45);e.exports=n},function(e,t,r){function n(e){if(!a(e)||o(e)!=l)return!1;var t=i(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d}var o=r(64),i=r(168),a=r(45),l="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=n},function(e,t,r){function n(e){return o(e,i(e))}var o=r(100),i=r(99);e.exports=n},function(e,t,r){function n(e){return o(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,l=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,l&&i(r[0],r[1],l)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t})}var o=r(413),i=r(169);e.exports=n},function(e,t,r){function n(e,t){return a(i(e,t,o),e+"")}var o=r(122),i=r(414),a=r(416);e.exports=n},function(e,t,r){function n(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,l=i(n.length-t,0),s=Array(l);++a<l;)s[a]=n[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=n[a];return u[t]=r(s),o(e,this,u)}}var o=r(415),i=Math.max;e.exports=n},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){var n=r(417),o=r(419),i=o(n);e.exports=i},function(e,t,r){var n=r(418),o=r(226),i=r(122),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=a},function(e,t){function r(e){return function(){return e}}e.exports=r},function(e,t){function r(e){var t=0,r=0;return function(){var a=i(),l=o-(a-r);if(r=a,l>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,o=16,i=Date.now;e.exports=r},function(e,t,r){function n(e,t,r,R,T,D){var j,L=t&k,N=t&C,q=t&x;if(r&&(j=T?r(e,R,T,D):r(e)),void 0!==j)return j;if(!S(e))return e;var W=y(e);if(W){if(j=v(e),!L)return c(e,j)}else{var B=m(e),z=B==P||B==M;if(w(e))return u(e,L);if(B==A||B==O||z&&!T){if(j=N||z?{}:b(e),!L)return N?d(e,s(j,e)):f(e,l(j,e))}else{if(!F[B])return T?e:{};j=g(e,B,L)}}D||(D=new o);var U=D.get(e);if(U)return U;D.set(e,j),E(e)?e.forEach(function(o){j.add(n(o,t,r,o,e,D))}):_(e)&&e.forEach(function(o,i){j.set(i,n(o,t,r,i,e,D))});var V=q?N?h:p:N?keysIn:I,H=W?void 0:V(e);return i(H||e,function(o,i){H&&(i=o,o=e[i]),a(j,i,n(o,t,r,i,e,D))}),j}var o=r(115),i=r(233),a=r(231),l=r(421),s=r(422),u=r(227),c=r(167),f=r(423),d=r(424),p=r(213),h=r(425),m=r(76),v=r(426),g=r(427),b=r(229),y=r(24),w=r(97),_=r(431),S=r(44),E=r(433),I=r(79),k=1,C=2,x=4,O="[object Arguments]",P="[object Function]",M="[object GeneratorFunction]",A="[object Object]",F={};F[O]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[A]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[P]=F["[object WeakMap]"]=!1,e.exports=n},function(e,t,r){function n(e,t){return e&&o(t,i(t),e)}var o=r(100),i=r(79);e.exports=n},function(e,t,r){function n(e,t){return e&&o(t,i(t),e)}var o=r(100),i=r(99);e.exports=n},function(e,t,r){function n(e,t){return o(e,i(e),t)}var o=r(100),i=r(161);e.exports=n},function(e,t,r){function n(e,t){return o(e,i(e),t)}var o=r(100),i=r(234);e.exports=n},function(e,t,r){function n(e){return o(e,a,i)}var o=r(214),i=r(234),a=r(99);e.exports=n},function(e,t){function r(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var n=Object.prototype,o=n.hasOwnProperty;e.exports=r},function(e,t,r){function n(e,t,r){var n=e.constructor;switch(t){case g:return o(e);case u:case c:return new n(+e);case b:return i(e,r);case y:case w:case _:case S:case E:case I:case k:case C:case x:return s(e,r);case f:return new n;case d:case m:return new n(e);case p:return a(e);case h:return new n;case v:return l(e)}}var o=r(166),i=r(428),a=r(429),l=r(430),s=r(228),u="[object Boolean]",c="[object Date]",f="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",m="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",x="[object Uint32Array]";e.exports=n},function(e,t,r){function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var o=r(166);e.exports=n},function(e,t){function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=r},function(e,t,r){function n(e){return a?Object(a.call(e)):{}}var o=r(77),i=o?o.prototype:void 0,a=i?i.valueOf:void 0;e.exports=n},function(e,t,r){var n=r(432),o=r(157),i=r(158),a=i&&i.isMap,l=a?o(a):n;e.exports=l},function(e,t,r){function n(e){return i(e)&&o(e)==a}var o=r(76),i=r(45),a="[object Map]";e.exports=n},function(e,t,r){var n=r(434),o=r(157),i=r(158),a=i&&i.isSet,l=a?o(a):n;e.exports=l},function(e,t,r){function n(e){return i(e)&&o(e)==a}var o=r(76),i=r(45),a="[object Set]";e.exports=n},function(e,t,r){function n(e,t,r,n){e=i(e)?e:s(e),r=r&&!n?l(r):0;var c=e.length;return r<0&&(r=u(c+r,0)),a(e)?r<=c&&e.indexOf(t,r)>-1:!!c&&o(e,t,r)>-1}var o=r(114),i=r(54),a=r(222),l=r(98),s=r(436),u=Math.max;e.exports=n},function(e,t,r){function n(e){return null==e?[]:o(e,i(e))}var o=r(437),i=r(79);e.exports=n},function(e,t,r){function n(e,t){return o(t,function(t){return e[t]})}var o=r(207);e.exports=n},function(e,t,r){function n(e,t){return e&&e.length?i(e,o(t,3),!0):[]}var o=r(170),i=r(447);e.exports=n},function(e,t,r){function n(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||o(r,e,t)}}var o=r(440),i=r(441),a=r(236);e.exports=n},function(e,t,r){function n(e,t,r,n){var s=r.length,u=s,c=!n;if(null==e)return!u;for(e=Object(e);s--;){var f=r[s];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++s<u;){f=r[s];var d=f[0],p=e[d],h=f[1];if(c&&f[2]){if(void 0===p&&!(d in e))return!1}else{var m=new o;if(n)var v=n(p,h,d,e,t,m);if(!(void 0===v?i(h,p,a|l,n,m):v))return!1}}return!0}var o=r(115),i=r(159),a=1,l=2;e.exports=n},function(e,t,r){function n(e){for(var t=i(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,o(a)]}return t}var o=r(235),i=r(79);e.exports=n},function(e,t,r){function n(e,t){return l(e)&&s(t)?u(c(e),t):function(r){var n=i(r,e);return void 0===n&&n===t?a(r,e):o(t,n,f|d)}}var o=r(159),i=r(220),a=r(443),l=r(163),s=r(235),u=r(236),c=r(121),f=1,d=2;e.exports=n},function(e,t,r){function n(e,t){return null!=e&&i(e,t,o)}var o=r(444),i=r(218);e.exports=n},function(e,t){function r(e,t){return null!=e&&t in Object(e)}e.exports=r},function(e,t,r){function n(e){return a(e)?o(l(e)):i(e)}var o=r(223),i=r(446),a=r(163),l=r(121);e.exports=n},function(e,t,r){function n(e){return function(t){return o(t,e)}}var o=r(221);e.exports=n},function(e,t,r){function n(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?o(e,n?0:a,n?a+1:i):o(e,n?a+1:0,n?i:a)}var o=r(113);e.exports=n},function(e,t,r){function n(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var s=null==r?0:a(r);return s<0&&(s=l(n+s,0)),o(e,i(t,3),s)}var o=r(208),i=r(170),a=r(98),l=Math.max;e.exports=n},function(e,t,r){function n(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return o(l(r)?a(r):[r],i(t,1))}var o=r(120),i=r(450),a=r(167),l=r(24);e.exports=n},function(e,t,r){function n(e,t,r,a,l){var s=-1,u=e.length;for(r||(r=i),l||(l=[]);++s<u;){var c=e[s];t>0&&r(c)?t>1?n(c,t-1,r,a,l):o(l,c):a||(l[l.length]=c)}return l}var o=r(120),i=r(451);e.exports=n},function(e,t,r){function n(e){return a(e)||i(e)||!!(l&&e&&e[l])}var o=r(77),i=r(96),a=r(24),l=o?o.isConcatSpreadable:void 0;e.exports=n},function(e,t,r){function n(e,t){return(l(e)?o:i)(e,a(t))}var o=r(233),i=r(237),a=r(224),l=r(24);e.exports=n},function(e,t,r){function n(e,t){return e&&o(e,t,i)}var o=r(164),i=r(79);e.exports=n},function(e,t,r){function n(e,t){return function(r,n){if(null==r)return r;if(!o(r))return e(r,n);for(var i=r.length,a=t?i:-1,l=Object(r);(t?a--:++a<i)&&!1!==n(l[a],a,l););return r}}var o=r(54);e.exports=n},function(e,t,r){function n(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&i(e,t,r)?(t=0,r=n):(t=null==t?0:a(t),r=void 0===r?n:a(r)),o(e,t,r)):[]}var o=r(113),i=r(169),a=r(98);e.exports=n},function(e,t,r){function n(e,t){return(l(e)?o:i)(e,a(t,3))}var o=r(215),i=r(457),a=r(170),l=r(24);e.exports=n},function(e,t,r){function n(e,t){var r=[];return o(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}var o=r(237);e.exports=n},function(e,t,r){function n(e){return e&&e.length?o(e):[]}var o=r(459);e.exports=n},function(e,t,r){function n(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var l=e[r],s=t?t(l):l;if(!r||!o(s,u)){var u=s;a[i++]=0===l?0:l}}return a}var o=r(78);e.exports=n},function(e,t,r){function n(e,t,r){t=(r?i(e,t,r):void 0===t)?1:s(a(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var u=0,c=0,f=Array(l(n/t));u<n;)f[c++]=o(e,u,u+=t);return f}var o=r(113),i=r(169),a=r(98),l=Math.ceil,s=Math.max;e.exports=n},function(e,t,r){r(71),r(462),e.exports=r(13).Array.from},function(e,t,r){"use strict";var n=r(36),o=r(21),i=r(46),a=r(195),l=r(196),s=r(74),u=r(463),c=r(146);o(o.S+o.F*!r(202)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,f,d=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,b=c(d);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&l(b))for(t=s(d.length),r=new p(t);t>g;g++)u(r,g,v?m(d[g],g):d[g]);else for(f=b.call(d),r=new p;!(o=f.next()).done;g++)u(r,g,v?a(f,m,[o.value,g],!0):o.value);return r.length=g,r}})},function(e,t,r){"use strict";var n=r(32),o=r(60);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){"use strict";var n=r(10),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),i=r(126),a=(function(e){e&&e.__esModule}(i),window.document);window.cus_judgeDateRange=function(e,t,r){var n=window.WfForm.getFieldValue(e);if(!n)return!1;t=""===t?-99999:parseInt(t),r=""===r?99999:parseInt(r);var o=new Date,i=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),a=(new Date(n.replace(/-/g,"/")).getTime()-new Date(i.replace(/-/g,"/")).getTime())/864e5;return(a=Math.ceil(a))>=t&&a<=r},window.cus_CalTimeDiff=function(e,t,r,n){if(!e||!t)return"ParamsError";var o=window.cus_GetTimeDiffMillSecond(e,t),i=o/1e3;r=r?parseInt(r):1,n=n||0==n?parseInt(n):2;var a=0;return 1===r?a=i/86400:2===r?a=i/3600:3===r?a=i/60:4===r&&(a=i),a=0===n?Math.floor(a):a.toFixed(n)},window.cus_CompareTime=function(e,t){return window.cus_GetTimeDiffMillSecond(e,t)>0},window.cus_GetTimeDiffMillSecond=function(e,t){var r=window.cus_getTimeValueByField(e),n=window.cus_getTimeValueByField(t);return new Date(n.replace(/-/g,"/")).getTime()-new Date(r.replace(/-/g,"/")).getTime()},window.cus_getTimeValueByField=function(e){var t=void 0,r=e.split(",");1===r.length?t=window.WfForm.getFieldValue(r[0]):r.length>1&&(t=window.WfForm.getFieldValue(r[0])+" "+window.WfForm.getFieldValue(r[1]));var n=new Date,o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();return-1==t.indexOf("-")&&(t=o+" "+t),t},window.cus_ShowAreaByName=function(e){var t=e.split(",");t&&t.map(function(e){window.jQuery("[name="+e+"]").show().removeClass("filter_required")})},window.cus_HideAreaByName=function(e){var t=e.split(",");t&&t.map(function(e){window.jQuery("[name="+e+"]").hide().addClass("filter_required")})},window.cus_ControlDetailColumnByClass=function(e,t){1===t?window.jQuery("td."+e).show():2===t&&window.jQuery("td."+e).hide()},window.cus_verifyExistNullField=function(e,t){var r=!1,n=e.split(",");return n&&n.map(function(e){var t=window.WfForm.getFieldInfo(e.substring(5));return!(!o.isEmpty(t)&&4!==t.htmltype)||(""===window.WfForm.getFieldValue(e)?(r=!0,!1):void 0)}),r&&t&&alert(t),r},window.cus_getFieldValue=function(e){return window.WfForm.getFieldValue(e)},window.cus_setInputFieldValue=function(e,t){window.WfForm.changeFieldValue(e,{value:t})},window.$G=function(e,t){return window.$GetEle(e,t)},window.$GetEle=function(e,t){var r=null;return void 0!=t&&null!=t||(t=a),r=t.getElementById(e),void 0!=r&&null!=r||(r=t.getElementsByName(e),r=r.length>0?r[0]:null),r},window.$GetEles=function(e){var t=null;return t=a.getElementsByName(e),1==t.length?t[0]:0==t.length?a.getElementById(e):t}},function(e,t,r){r(466),e.exports=r(13).Object.keys},function(e,t,r){var n=r(46),o=r(52);r(135)("keys",function(){return function(e){return o(n(e))}})},function(e,t,r){r(107),r(71),r(92),r(468),r(472),r(474),r(475),e.exports=r(13).Map},function(e,t,r){"use strict";var n=r(239),o=r(171);e.exports=r(240)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){var n=r(36),o=r(73),i=r(46),a=r(74),l=r(470);e.exports=function(e,t){var r=1==e,s=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,p=t||l;return function(t,l,h){for(var m,v,g=i(t),b=o(g),y=n(l,h,3),w=a(b.length),_=0,S=r?p(t,w):s?p(t,0):void 0;w>_;_++)if((d||_ in b)&&(m=b[_],v=y(m,_,g),e))if(r)S[_]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:S.push(m)}else if(c)return!1;return f?-1:u||c?c:S}}},function(e,t,r){var n=r(471);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(28),o=r(192),i=r(30)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(21);n(n.P+n.R,"Map",{toJSON:r(241)("Map")})},function(e,t,r){var n=r(95);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t,r){r(242)("Map")},function(e,t,r){r(243)("Map")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.conver2name=function(e,t){return"main"===e?"主表":t?"明细"+e.toString().substring(7)+"【行号:"+(parseInt(t)+1)+"】":"明细"+e.toString().substring(7)},o=t.singleConvert=function(e,t,r,o){var i="";if(r)i=e;else if(-1==e.indexOf("_")){var a=t.get(e);i=a&&a.tableMark?n(a.tableMark,o)+"."+a.fieldlabel:"field"+e}else{e=e&&e.substring(0,e.indexOf("_"));var l=t.get(e);i=l&&l.tableMark?n(l.tableMark,o)+"."+l.fieldlabel:"field"+e}return i};t.multiConvert=function(e,t,r,n){var i=[];return e&&e.map(function(e,n){i.push(React.createElement("span",{className:n%2==1?"wf-heightLight":""},o(e,t,r)))}),i},t.getRowIndex=function(e){return-1==e.indexOf("_")?"/":parseInt(e.substring(e.indexOf("_")+1))+1},t.getStepType=function(e){var t="";switch(e){case"1":t="初始加载";break;case"2":t="添加明细行";break;case"3":t="手动变更";break;case"4":t="同步联动";break;case"5":t="异步联动";break;case"7":t="公式修改";break;default:t="接口修改"}return t},t.getTriType=function(e){var t="";switch(e){case 1:t="字段值变化";break;case 2:t="页面加载触发";break;case 3:t="新增行触发";break;case 4:t="删除行触发";break;case"c_value":t="字段值变更";break;case"c_vars":t="字段属性变更"}return t},t.getLinkageType=function(e){return"fieldsql"==e?"SQL联动":"datainput"==e?"字段联动":"时间日期计算"},t.getFieldid=function(e){return-1==e.indexOf("_")?e.substring(5):e.substring(5,e.indexOf("_"))},t.doDuplicate=function(e){return e.filter(function(e,t,r){var n=[],o=[];return r.forEach(function(e,t){n.push(e.trgField),o.push(e.assignField)}),n.indexOf(e.trgField)===t&&o.indexOf(e.assignField)===t})},t.getTriFieldWithFormula=function(e){var t=[];if("undefined"!=typeof e&&null!=e){for(var r=e.split("##"),n=0;n<r.length;n++)r[n].indexOf("#")>0&&t.push(r[n].split("#")[1]);return t}return t},t.getAssignFieldWithFormula=function(e){var t="";return"string"==typeof e&&e.length>4?t=e.substring(e.indexOf(".")+1,e.indexOf("]")-1):t},t.getTriTiming=function(e){var t="";switch(e=parseInt(e)){case 1:t="值改变时";break;case 2:t="获取输入焦点时";break;case 3:t="失去输入焦点时";break;case 4:t="鼠标单击时";break;case 5:t="鼠标双击时";break;case 6:t="鼠标移入时";break;case 7:t="鼠标移出时";break;case 21:t="载入时";break;case 22:t="窗口滚动时";break;case 51:t="提交/批准时";break;case 52:t="保存时";break;case 53:t="退回时";break;case 54:t="转办时";break;case 56:t="转发时";break;case 57:t="意见征询时";break;case 58:t="传阅时"}return t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLockParams=t.closeUnLock=t.verifyEffictive=t.doActivate=t.doUnLock=t.judgeOpenLock=t.bindLockEvent=void 0;var o=r(7),i=n(o),a=r(15),l=r(12),s=n(l),u=r(82),c=r(11),f=r(6),d=(t.bindLockEvent=function(){},t.judgeOpenLock=function(){var e=s.default.globalStore.promptInfo;return e&&"editlock"===e.prompttype}),p=t.doUnLock=function(){var e=(0,f.getAntd)(),t=e.Modal,r=e.message;if(s.default.globalStore.commonParam.belongTest)return void r.warning((0,f.getLabel)(386177,"流程测试不允许解除锁定操作"));t.confirm({title:(0,f.getLabel)(131329,"信息确认"),content:(0,f.getLabel)(128824,"是否保存当前流程数据？"),okText:(0,f.getLabel)(83446,"确定"),cancelText:(0,f.getLabel)(31129,"取消"),onOk:function(){m(function(){(0,u.doSave_nNew)(!0)})},onCancel:function(){(0,c.closeRequestPage)(!1)}})},h=t.doActivate=function(){(0,a.editLockOper)(v("doActivate")).then(function(e){var t=s.default.globalStore.urlParams;delete t.timestamp,(0,c.reloadRequestPage)(t,!1)})},m=(t.verifyEffictive=function(e){d()&&(0,a.editLockOper)(v("verifyEffictive")).then(function(t){"function"===typeof e&&"true"==t.flag&&e()})},t.closeUnLock=function(e){d()&&(0,a.editLockOper)(v("unlock")).then(function(t){"function"===typeof e&&e()})}),v=t.getLockParams=function(e){var t=s.default.globalStore,r=t.urlParams,n=t.baseParam;return(0,i.default)({opertype:e},r,n)};window.lockUtil={doUnLock:p,doActivate:h}},function(e,t,r){r(107),r(71),r(92),r(479),r(480),r(481),r(482),e.exports=r(13).Set},function(e,t,r){"use strict";var n=r(239),o=r(171);e.exports=r(240)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){var n=r(21);n(n.P+n.R,"Set",{toJSON:r(241)("Set")})},function(e,t,r){r(242)("Set")},function(e,t,r){r(243)("Set")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUEST_APPROVAL="viewtype_approve",t.REQUEST_SUBMIT_BACK_NODE="viewtype_submitbacknode",t.REQUEST_SAVE="viewtype_save",t.REQUEST_FORWARD="viewtype_forward",t.REQUEST_POSTIL="viewtype_postil",t.REQUEST_HANDLE_FORWARD="view_handleForward",t.REQUEST_TAKING_OPINIONS="view_takingOpinions",t.REQUEST_TPOSTIL="viewtype_tpostil",t.REQUEST_RPOSTIL="viewtype_rpostil",t.REQUEST_REJECT="viewtype_reject"},function(e,t){},function(e,t){e.exports=function(e){var t="undefined"!==typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!==typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n="",o="0",i=void 0;if(e){if(i=$(e),!(r=i.find("[data-fieldmark*=field]").attr("data-fieldmark"))&&(e.className.includes("etype_13")||e.className.includes("etype_17"))){var a=[];for(var l in N.cellInfo)a.push(l);var u=!0,c=!1,f=void 0;try{for(var d,p=(0,w.default)(a);!(u=(d=p.next()).done);u=!0){var h=d.value;/mc_\d_\d_\d_nodemark/.test(h)&&(n+=N.cellInfo[h])}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}if(i.find("img").size()>0){var m=(0,S.default)(i.find("img")),v=!0,g=!1,b=void 0;try{for(var y,_=(0,w.default)(m);!(v=(y=_.next()).done);v=!0){n+=s(y.value)+"&&"}}catch(e){g=!0,b=e}finally{try{!v&&_.return&&_.return()}finally{if(g)throw b}}}return void t.set("text",n.replace(/\n/g,""))}if(void 0===r)return n+=i[0].innerText,void t.set("text",n);if(!i.find("[data-fieldmark*=field]").is(":visible"))return}o=/field\d+_\d+/.test(r)?r.substring(5,r.indexOf("_")):r.substring(5);var E=x.default.getFieldInfo(o),I=E.htmltype,k=E.detailtype,C=x.default.getFieldValue(r);if(o<0)"-1"===o||"-9"===o?n=C:"-2"===o?n+="0"===C?"正常":"1"===C?"重要":"紧急":n="";else if(1===I)if(4===k)n+=C,n+="<br>",n+=P.convertAmountChinese(C);else if(i&&i.find("table[class*=fintable]").size()>0){var O=(0,S.default)(i.find("td.finborder")),M=!0,A=!1,F=void 0;try{for(var R,T=(0,w.default)(O);!(M=(R=T.next()).done);M=!0){var D=R.value;""===$(D).text()&&(n+=" "),n+=$(D).text()+"|"}}catch(e){A=!0,F=e}finally{try{!M&&T.return&&T.return()}finally{if(A)throw F}}n=n.substring(0,n.lastIndexOf("|"))}else n+=C;else if(2===I){var j=[];if(i&&i.find("img").size()>0){var L=(0,S.default)(i.find("img")),W=!0,B=!1,z=void 0;try{for(var U,V=(0,w.default)(L);!(W=(U=V.next()).done);W=!0){var H=U.value,G=s(H);j.push(G)}}catch(e){B=!0,z=e}finally{try{!W&&V.return&&V.return()}finally{if(B)throw z}}}for(var Q=q.getFieldValue(r).split(/<img.[^<]+>/),K=0;K<Q.length;K++)n+=Q[K],K<j.length&&(n+=j[K])}else if(3===I)2===k||19===k?n+=q.getFieldValue(r):(n+=q.getBrowserShowName(r),n=n.replace(/,/g," "));else if(4===I){var J=q.getFieldValue(r);J=""===J?"-1":J,n+=1===Number(J)?"☑":"☐"}else if(5===I){var Y=q.getFieldValue(r);if(Y=""===Y?"-1":Y,1===k)n+=q.getSelectShowName(r);else if(2===k){var X=q.getFieldInfo(o).selectattr.selectitemlist,Z=!0,ee=!1,te=void 0;try{for(var re,ne=(0,w.default)(X);!(Z=(re=ne.next()).done);Z=!0){var oe=re.value;n+=Y.indexOf(oe.selectvalue)>-1?"☑":"☐",n+=oe.selectname}}catch(e){ee=!0,te=e}finally{try{!Z&&ne.return&&ne.return()}finally{if(ee)throw te}}}else if(3===k){var ie=q.getFieldInfo(o).selectattr.selectitemlist,ae=!0,le=!1,se=void 0;try{for(var ue,ce=(0,w.default)(ie);!(ae=(ue=ce.next()).done);ae=!0){var fe=ue.value;n+=Number(Y)===fe.selectvalue?"●":"○",n+=fe.selectname}}catch(e){le=!0,se=e}finally{try{!ae&&ce.return&&ce.return()}finally{if(le)throw se}}}}else if(6===I){if(1===k){if(mobx.toJS(q.getFieldObj(r)).specialobj){var de=mobx.toJS(q.getFieldObj(r)).specialobj.filedatas,pe=!0,he=!1,me=void 0;try{for(var ve,ge=(0,w.default)(de);!(pe=(ve=ge.next()).done);pe=!0){var be=ve.value;n+=be.filename+"<br/>"}}catch(e){he=!0,me=e}finally{try{!pe&&ge.return&&ge.return()}finally{if(he)throw me}}}}else if(2===k&&i){var ye=(0,S.default)(i.find("img")),we=!0,_e=!1,Se=void 0;try{for(var Ee,Ie=(0,w.default)(ye);!(we=(Ee=Ie.next()).done);we=!0){var ke=Ee.value,Ce=s(ke);n+=Ce+"&&"}}catch(e){_e=!0,Se=e}finally{try{!we&&Ie.return&&Ie.return()}finally{if(_e)throw Se}}}}else if(7===I)1===k?""!==q.getFieldInfo(o).specialattr.linkaddress&&(n+=q.getFieldInfo(o).specialattr.displayname+"@HYPERLINK@"+q.getFieldInfo(o).specialattr.linkaddress):2===k&&(n+=q.getFieldInfo(o).specialattr.descriptivetext);else if(9===I&&1===k){var xe=(0,S.default)(N.mainData.get(r).specialobj),Oe=!0,Pe=!1,Me=void 0;try{for(var Ae,Fe=(0,w.default)(xe);!(Oe=(Ae=Fe.next()).done);Oe=!0){var Re=Ae.value;n+=Re.flowNum+"    ";var Te=(0,S.default)(Re.locationList),De=!0,je=!1,Le=void 0;try{for(var Ne,qe=(0,w.default)(Te);!(De=(Ne=qe.next()).done);De=!0){var We=Ne.value;n+=We.nodeName+"    ",n+=We.userName+"    ",n+=We.time+"    ",n+=We.address+"    "}}catch(e){je=!0,Le=e}finally{try{!De&&qe.return&&qe.return()}finally{if(je)throw Le}}n+="\n"}}catch(e){Pe=!0,Me=e}finally{try{!Oe&&Fe.return&&Fe.return()}finally{if(Pe)throw Me}}}n.endsWith("<br>")&&(n=n.substring(0,n.lastIndexOf("<br>"))),t.set("text",n)}function i(e,t){for(var r=q.getDetailRowCount("detail_"+t),n=new I.default((0,b.default)(x.default.getLayoutStore().detailMap.get("detail_"+t).fieldInfo)),i=n.size,a=Array(i+1),l=jQuery(e).find("tr.detailControlWidth"),s=1;s<=i+1;s++)a[s]=l.find("td:eq("+s+")").width();for(var u=L.get("rowheads").size,c=Number(N.dataJson.etables["detail_"+t].edtitleinrow),f=!0,d=0;d<c;d++){for(var p=new I.default,h=1;h<=i+1;h++){var m=new I.default,v=d+","+h,g=d+",0";try{m=new I.default((0,b.default)(L.get(v))),m.set("width",a[h]),m.set("height",L.get("rowheads").get("row_"+d))}catch(e){}L.get(g)&&10==L.get(g).etype&&(f=!1),L.get(v)&&(10==L.get(v).etype&&(f=!1),m.set("text",L.get(v).evalue)),p.set(""+(h-1),m)}f?(F.set(""+R,p),R++):f=!0}for(var y=c+1,w=c;w<c+r;w++){for(var _=new I.default,S=1;S<=i+1;S++){var E=new I.default,k=y+","+S;try{E=new I.default((0,b.default)(L.get(k))),E.set("width",a[S]),E.set("height",L.get("rowheads").get("row_"+y))}catch(e){}1==S?E.set("text",w-c+1+""):L.get(y+","+S)&&o(!1,E,"field"+L.get(y+","+S).field+"_"+(w-c)),_.set(""+(S-1),E)}F.set(""+R,_),R++}for(var C=Number(N.dataJson.etables["detail_"+t].edtailinrow),O=C+1;O<u;O++){for(var P=new I.default,M="",A=1;A<=i+1;A++){var T=new I.default,D=O+","+A;try{T=new I.default((0,b.default)(L.get(D))),T.set("width",a[A]),T.set("height",L.get("rowheads").get("row_"+O));var j=Number(L.get(D).colspan);0==A&&j>1&&T.set("colspan",j-1)}catch(e){}if(L.get(D))if(1==A&&(M=L.get(D).evalue),19==L.get(D).etype){var W="detail_"+t+"_"+O+"_"+A,B=jQuery(e).find("td."+W).find("span").text();T.set("text",B)}else T.set("text",L.get(D).evalue);P.set(""+(A-1),T)}var z=O+",0",U=new I.default;try{var V=L.get(z),H=Number(V.colspan);H>1&&(V.colspan=H-1),V.id=C+1+",1",U=new I.default((0,b.default)(V)),U=new I.default(Object.set("width",a[0])),U.set("height",L.get("rowheads").get("row_"+(C+1)))}catch(e){}var G="";L.get(z)&&(19==L.get(z).etype||(L.get(z).evalue&&""!=L.get(z).evalue&&(G=L.get(z).evalue),""!=M&&""!=G&&(M=" | "+M),U.set("text",G+""+M))),""!=G&&P.set("0",U),F.set(""+R,P),R++}}function a(e){if("TABLE"===e.tagName&&"excelDetailTable"===e.className&&$(e).is(":visible")){if(/oTable\d+_head/.test(e.id))return;F=new I.default;var t=Number(e.id.replace("oTable",""))+1;if(isNaN(t))return;M.set("detail_"+t,F),R=0;var r=!0,n=!1,l=void 0;try{for(var s,u=(0,w.default)(N.dataJson.etables["detail_"+t].ec);!(r=(s=u.next()).done);r=!0){var c=s.value;L.set(c.id,c)}}catch(e){n=!0,l=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw l}}var f=new I.default((0,b.default)(N.dataJson.etables["detail_"+t].rowheads));return L.set("rowheads",f),void i(e,t)}if("TR"===e.tagName&&$(e).is(":visible")){for(var d=new I.default,p=null,h=0;h<e.children.length;h++){var m=e.children[h];if("TD"===m.tagName&&$(m).is(":visible")&&!m.className.includes("_hide_")&&!m.className.includes("tab_")){var v=new I.default,g=$(m),y="";if(void 0!==g.attr("class")&&null!==g.attr("class")&&g.attr("class").includes("etype")&&(y=g.attr("class").substring(0,g.attr("class").indexOf("etype")-1)),""===y){if(g.children().length>0)continue;if(v.set("colspan",g.attr("colspan")),v.set("rowspan",g.attr("rowspan")),v.set("height",g.css("height").substring(0,g.css("height").indexOf("px"))),0===d.size)d.set(h+"",v),v.set("width",j.get("colheads").get("col_"+h));else{var _=Number((0,S.default)(d.keys()).pop());v.set("width",g.css("width").replace("px","")),v.set("height",g.css("height").replace("px","")),void 0===d.get(_+"").get("colspan")?d.set(_+1+"",v):d.set(_+Number(d.get(_+"").get("colspan"))+"",v)}continue}p=y.substring(7).split("_");var E=p[0]+","+p[1];try{v=new I.default((0,b.default)(j.get(E))),v.set("width",g.css("width").replace("px","")),v.set("height",g.css("height").replace("px","")),v.set("colspan",g.attr("colspan")),v.set("rowspan",g.attr("rowspan"))}catch(e){}void 0!==j.get(E)&&void 0!==j.get(E).mcpoint&&v.set("mcpoint",N.dataJson.etables[j.get(E).mcpoint].ec),o(m,v,"");var k=g.find("table[class=excelDetailTable]");if(k.size()>0){for(var C=0,x=0;x<k.size();x++)if(/oTable\d+$/.test(k[x].id)){C=Number(k[x].id.replace("oTable",""))+1;break}v.set("text","明细表"+C),v.set("font-weight","400"),v.set("link","'明细表"+C+"'!A1"),v.set("height","40"),d.set(p[1],v);continue}g.find("table[class*=ViewForm]").size()>0&&g.find("table[class*=ViewForm]").size()===g.find("table").size()&&(v.set("text","内部或外部链接"),v.set("font-weight","400"),v.set("height","40")),g.attr("class").includes("etype_12")&&(T=g.find("table.excelDetailTable").size(),D=Number(p[0])),d.set(p[1],v)}}null!==p&&(0!==D&&Number(p[0])>D&&(p[0]=T-1+Number(p[0])),A.set(p[0],d))}for(var O=0;O<e.children.length;O++)a(e.children[O])}function l(e){var t=(0,v.default)(null);return e.forEach(function(e,r){e instanceof I.default?t[r]=l(e):t[r]=e}),t}function s(e){var t=document.createElement("canvas");return t.width=e.naturalWidth,t.height=e.naturalHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL()}Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleJson=void 0;var u=r(31),c=n(u),f=r(249),d=n(f),p=r(250),h=n(p),m=r(194),v=n(m),g=r(489),b=n(g),y=r(251),w=n(y),_=r(123),S=n(_),E=r(238),I=n(E),k=function(){var e=(0,h.default)(d.default.mark(function e(){var t,r,n,o,i,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M=new I.default,A=new I.default,F=new I.default,R=0,T=0,D=0,M.set("maintable",A),0===$("#reqIframe").size()?(q=x.default,N=q.getLayoutStore()):(q=document.getElementById("reqIframe").contentWindow.WfForm,N=q.getLayoutStore()),void 0!==N.dataJson){e.next=10;break}return e.abrupt("return");case 10:for(t=!0,r=!1,n=void 0,e.prev=13,o=(0,w.default)(N.dataJson.etables.emaintable.ec);!(t=(i=o.next()).done);t=!0)a=i.value,j.set(a.id,a);e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),r=!0,n=e.t0;case 21:e.prev=21,e.prev=22,!t&&o.return&&o.return();case 24:if(e.prev=24,!r){e.next=27;break}throw n;case 27:return e.finish(24);case 28:return e.finish(21);case 29:j.set("colheads",new I.default((0,b.default)(N.dataJson.etables.emaintable.colheads))),j.set("rowheads",new I.default((0,b.default)(N.dataJson.etables.emaintable.rowheads)));case 31:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}(),C=r(39),x=n(C),O=r(80),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(O),M="",A="",F="",R="",T="",D="",j=new I.default,L=new I.default,N="",q="";t.getStyleJson=function(){var e=(0,h.default)(d.default.mark(function e(){var t,r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:for(t="",t=0===$("#reqIframe").size()?$(".wf-req-form")[0]:document.getElementById("reqIframe").contentWindow.document.getElementsByClassName("wf-req-form")[0],a(t),r=1;r<T;r++)n=new I.default(M.get("maintable").get(""+D)),M.get("maintable").set(""+(D+r),n);return e.abrupt("return",(0,c.default)(l(M)));case 7:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(488),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),l=new p(n||[]);return a._invoke=u(e,r,l),a}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(r,o,i,a){var l=n(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"===typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){s.value=e,i(s)},a)}a(l.arg)}function r(e,r){function n(){return new Promise(function(n,o){t(e,r,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=r}function u(e,t,r){var o=k;return function(i,a){if(o===x)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return m()}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=c(l,r);if(s){if(s===P)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===k)throw o=O,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=x;var u=n(e,t,r);if("normal"===u.type){if(o=r.done?O:C,u.arg===P)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=O,r.method="throw",r.arg=u.arg)}}}function c(e,t){var r=e.iterator[t.method];if(r===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,P;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,P):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[w];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(b.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:v,done:!0}}var v,g=Object.prototype,b=g.hasOwnProperty,y="function"===typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",_=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag",E="object"===typeof e,I=t.regeneratorRuntime;if(I)return void(E&&(e.exports=I));I=t.regeneratorRuntime=E?e.exports:{},I.wrap=r;var k="suspendedStart",C="suspendedYield",x="executing",O="completed",P={},M={};M[w]=function(){return this};var A=Object.getPrototypeOf,F=A&&A(A(h([])));F&&F!==g&&b.call(F,w)&&(M=F);var R=a.prototype=o.prototype=Object.create(M);i.prototype=R.constructor=a,a.constructor=i,a[S]=i.displayName="GeneratorFunction",I.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},I.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,S in e||(e[S]="GeneratorFunction")),e.prototype=Object.create(R),e},I.awrap=function(e){return{__await:e}},l(s.prototype),s.prototype[_]=function(){return this},I.AsyncIterator=s,I.async=function(e,t,n,o){var i=new s(r(e,t,n,o));return I.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},l(R),R[S]="Generator",R[w]=function(){return this},R.toString=function(){return"[object Generator]"},I.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},I.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=v),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),l=b.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,P):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;d(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:h(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=v),P}}}(function(){return this}()||Function("return this")())},function(e,t,r){e.exports={default:r(490),__esModule:!0}},function(e,t,r){r(491),e.exports=r(13).Object.entries},function(e,t,r){var n=r(21),o=r(492)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},function(e,t,r){var n=r(22),o=r(52),i=r(38),a=r(62).f;e.exports=function(e){return function(t){for(var r,l=i(t),s=o(l),u=s.length,c=0,f=[];u>c;)r=s[c++],n&&!a.call(l,r)||f.push(e?[r,l[r]]:l[r]);return f}}},function(e,t,r){r(92),r(71),e.exports=r(494)},function(e,t,r){var n=r(34),o=r(146);e.exports=r(13).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text||"",r="font-family:"+(e.familyname||"微软雅黑")+";font-size:"+(e.fontsize||14)+"px;color:"+(e.color||"#000")+";",n="";return t.split("\n").forEach(function(e){return n+='<p style="'+r+'">'+e+"</p>"}),t=n}Object.defineProperty(t,"__esModule",{value:!0});var i,a,l,s=r(7),u=n(s),c=r(0),f=n(c),d=null,p=(a=i=function e(t,r){(0,f.default)(this,e),l.call(this),this.setOptions(t,r),this.update()},l=function(){var e=this;this.doc=window.top.document,this.type="text",this.len=0,this.html="",this.timer=null,this.options={text:"WATERMARK",fontStyle:"font-size:18px;color:#000;",src:"",width:200,height:150,rotate:-15,alpha:.15,interval:2e3,intervalCheck:!0,clickCheck:!0},this.handleClick=function(){e.checkChange()&&e.update()},this.des=function(){clearInterval(e.timer),window.top.onresize=void 0,e.doc.removeEventListener("click",e.handleClick);var t=e.doc.getElementById("wf_watremark_wrap");t&&e.doc.body.removeChild(t)},this.checkChange=function(){var t=e.doc.getElementById("wf_watremark_wrap");return!t||t.innerHTML!==e.html},this.setOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];r&&(e.doc=r),e.options=(0,u.default)({},e.options,t);var n=e.options,o=n.intervalCheck,i=n.interval,a=n.clickCheck;e.timer&&clearInterval(e.timer),o&&(e.timer=setInterval(function(){return e.handleClick()},i)),a?e.doc.addEventListener("click",e.handleClick):e.doc.removeEventListener("click",e.handleClick),window.top.onresize=function(){e.update(t)}},this.isUpdate=function(t){var r=e.options,n=r.alpha,o=r.rotate;return!t||0===t.length||(t.length!=e.len||(t[0].style.transform!=="rotate("+o+"deg)"||t[0].style.opacity!==n))},this.update=function(t){var r=e.options,n=r.src,o=r.alpha,i=r.rotate,a=r.text,l=r.fontStyle,s=e.options,u=s.width,c=s.height;u=u>0?u:200,c=c>0?c:150;var f=e.doc.getElementById("wf_watremark_wrap");f||(f=e.doc.createElement("div"),f.id="wf_watremark_wrap",e.doc.body.appendChild(f));var d=e.doc.getElementById("wf_watremark");if(d||(d=e.doc.createElement("div"),d.id="wf_watremark",d.style.display="block",d.style.pointerEvents="none",d.style.position="fixed",d.style.width="100%",d.style.height="100%",d.style.zIndex=999999,d.style.top=0,d.style.left=0,d.style.textAlign="center",d.style.overflow="hidden",f.appendChild(d)),n&&"text"!==t){e.type="img";var p=e.doc.getElementById("wf_watremark_img_test");p||(p=e.doc.createElement("img"),p.id="wf_watremark_img_test",p.style.display="none",p.onerror=function(){e.type="text",e.update(e.type)},e.doc.body.appendChild(p)),p.src=n}else e.type="text";var h=e.doc.documentElement.clientWidth,m=e.doc.documentElement.clientHeight,v=Math.ceil(h/u),g=Math.ceil(m/c);e.len=v*g+2;var b=e.doc.querySelectorAll(".wf-watremark-mark");if(e.isUpdate(b)){d.innerHTML="";for(var y=0;y<e.len;y++){var w=e.doc.createElement("div");w.className="wf-watremark-mark",w.style.width=u+"px",w.style.height=c+"px",w.style.pointerEvents="none",w.style.zIndex=-1,w.style.float="left",w.style.overflow="visible",w.style.opacity=o,w.style.transform="rotate("+i+"deg)",w.style["-ms-transform"]="rotate("+i+"deg)",w.style.position="relative",d.appendChild(w)}b=e.doc.querySelectorAll(".wf-watremark-mark")}Array.prototype.forEach.call(b,function(t,r){t.style.marginRight=1!==v&&(r+1)%v===0?"-"+u+"px":"0","text"===e.type?t.innerHTML='<div style="width:100%;position:absolute;top:50%;transform:translateY(-50%);"><p style="pointer-events:none;'+l+'">'+a+"</p></div>":t.innerHTML='<img alt="" src="'+n+'" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;max-width:100%;max-height:100%;"></img>'}),e.html=f.innerHTML}},a),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];d?(d.setOptions(e,t),d.update()):d=new p(e,t)};h.destory=function(){d&&(d.des(),d=null)};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=-Number(e.rotate),n=Number(e.opacity)/100;return{src:"2"==e.watermarktype?"/weaver/weaver.file.FileDownload?fileid="+e.imageid:"",text:"1"==e.watermarktype?t&&t.document?o(e):e.wmcontent:"",width:e.wmwidth>0?e.wmwidth:200,height:e.wmheight>0?e.wmheight:150,rotate:r,alpha:n}},v=function(e){var t=window.location.pathname||"",r=window.location.hash||"",n=r.indexOf("?");n=-1!==n?n:r.length-1;var o=t+r.substring(0,n);if(e){var i=e.isopen,a=e.whitelist,l=e.blacklist;-1!==((1===i||"1"===i?l:a)||[]).findIndex(function(e){return new RegExp(e).test(o)})?1===i||"1"===i?h.destory():h(m(e)):1===i||"1"===i?h(m(e)):h.destory()}},g=function(){v(h.wmSetting)};"onhashchange"in window&&(window.addEventListener?(window.removeEventListener("hashchange",g),window.addEventListener("hashchange",g)):window.attachEvent?(window.detachEvent("onhashchange",g),window.attachEvent("onhashchange",g)):window.onhashchange=g),h.handleHashChange=g,h.handleWMSetting=m,h.handleSettingByHash=v,h.formatContent=o,t.default=h},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,Qe.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalStore=void 0;var l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I,k,C,x,O,P,M,A,F,R,T,D,j,L,N,q,W,B,z,U,V,H,G,Q,K,J,$,Y,X,Z,ee,te,re,ne,oe,ie,ae,le,se,ue,ce,fe,de,pe,he,me,ve,ge,be,ye,we,_e,Se,Ee,Ie,ke,Ce,xe,Oe,Pe,Me,Ae,Fe,Re,Te,De,je,Le,Ne,qe,We,Be,ze,Ue,Ve,He,Ge=r(16),Qe=o(Ge),Ke=r(26),Je=o(Ke),$e=r(7),Ye=o($e),Xe=r(35),Ze=o(Xe),et=r(53),tt=o(et),rt=r(3),nt=o(rt),ot=r(0),it=o(ot),at=r(4),lt=o(at),st=r(2),ut=o(st),ct=r(5),ft=o(ct),dt=r(9),pt=(n(dt),r(174)),ht=o(pt),mt=r(15),vt=n(mt),gt=r(12),bt=o(gt),yt=r(11),wt=n(yt),_t=r(127),St=n(_t),Et=r(10),It=n(Et),kt=r(29),Ct=n(kt),xt=r(128),Ot=r(252),Pt=n(Ot),Mt=r(81),At=o(Mt),Ft=r(84),Rt=(o(Ft),r(6)),Tt=r(47),Dt=n(Tt),jt=r(66),Lt=r(82),Nt=r(497),qt=r(253),Wt=r(27),Bt=n(Wt),zt=(r(247),(0,Rt.getEcCom)()),Ut=zt.WeaTools;zt.WeaLocaleProvider,Ut.ls,t.GlobalStore=(l=(0,dt.action)("控制JS是否异步加载完成"),s=(0,dt.action)("添加全量组件库加载完后才能执行的事件"),u=(0,dt.action)("执行加载完事件，仅触发一次，触发完立即清除"),c=(0,dt.action)("控制加载条"),f=(0,dt.action)("控制按钮置灰"),d=(0,dt.action)("API控制按钮置灰"),p=(0,dt.action)("控制发票云参数"),h=(0,dt.action)("控制当前显示tab"),m=(0,dt.action)("发送接口加载数据"),v=(0,dt.action)("加载表单信息"),g=(0,dt.action)("模板预览加载数据"),b=(0,dt.action)("加载右键菜单"),y=(0,dt.action)("加载流程连续处理信息"),w=(0,dt.action)("设置右键菜单"),_=(0,dt.action)("改变提交参数"),S=(0,dt.action)("设置提交到指定节点"),E=(0,dt.action)("设置关闭是否需要提示"),I=(0,dt.action)("控制右键弹窗"),k=(0,dt.action)("加载签字意见输入信息"),C=(0,dt.action)("加载流程干预信息"),x=(0,dt.action)("流程干预切换节点"),O=(0,dt.action)("流程干预切换节点"),P=(0,dt.action)("重置状态"),M=(0,dt.action)("获取扩展Tab"),A=(0,dt.action)("修改表单密级信息"),F=(0,dt.action)("更新commonParam值"),R=(0,dt.action)("更新remindInfo"),T=(0,dt.action)("请求当前流程拥有的关注标签"),D=(0,dt.action)("获取手写签批内容并放入变量区"),j=(0,dt.action)("设置流程二次确认提示信息"),L=(0,dt.action)("冲突字段值记录"),N=function(e){function t(){(0,it.default)(this,t);var e=(0,lt.default)(this,(t.__proto__||(0,nt.default)(t)).call(this));return i(e,"JSComplete",q,e),e.JSCompleteEvent=[],e.browserVersion="",e.urlParams={},i(e,"loading",W,e),i(e,"tabKey",B,e),i(e,"btnDisabled",z,e),i(e,"apiBtnDisabled",U,e),e.commonParam={},e.invalidParam={},i(e,"submitParam",V,e),i(e,"markInfo",H,e),e.closeNeedPrompt=!0,i(e,"rightMenu",G,e),i(e,"dialogVisible",Q,e),i(e,"invertionInfo",K,e),i(e,"promptInfo",J,e),i(e,"remindInfo",$,e),i(e,"secondAuthInfo",Y,e),i(e,"secLevelInfo",X,e),i(e,"continuationProcessInfo",Z,e),i(e,"conflictFieldMap",ee,e),i(e,"odocIframeUrl",te,e),i(e,"btnLabelName",re,e),i(e,"markJSComplete",ne,e),i(e,"pushJSCompleteEvent",oe,e),i(e,"triggerJSCompleteEvent",ie,e),i(e,"setLoading",ae,e),i(e,"setBtnDisabled",le,e),i(e,"setApiBtnDisabled",se,e),i(e,"setInvoiceCloudInfo",ue,e),i(e,"setTabKey",ce,e),i(e,"loadBaseInfo",fe,e),i(e,"doInit",de,e),i(e,"loadPreViewInfo",pe,e),e.showCAAuthDialog=function(t){var r=e.urlParams.isCAAuth,n=e.urlParams.CAKey;if("1"==r){var o=bt.default.secondAuthStore,i=t.secondAuthConfig,a=i.qysSignWay,l=void 0===a?2:a,s=i.protectType;o.setCallbackFunc(jt.doFileUpload),n&&o.readDataFromStorage(n),o.setParams(i),s==Dt.QYS&&1==l?window.QYSUKeyUtil.showSignWin(o):s==Dt.CA_AUTH&&e.controlDialogVisible(Dt.SECOND_AUTH_DIALOG,!0)}},i(e,"loadRightMenu",he,e),i(e,"loadContinuationProcessInfo",me,e),e.checkShareBtn=function(t){var r=function(){ecCom.WeaTools.checkJoin().then(function(r){var n=r.dingTalkShareSwitch,o=void 0===n?0:n,i=r.emSwitch,a=void 0===i?0:i,l=r.joinStatus,s=void 0!==l&&l,u=(r.msgShowType,r.status,r.webSwitch,r.wxWorkShareSwitch),c=void 0===u?0:u,f=r.shareWorkflow,d=void 0===f?0:f,p=window.navigator.userAgent;d=1==s&&1==d,/.*E-Mobile7.*/.test(p)||/.*E-Mobile\/7.*/.test(p)?d=d&&1==a:/.*MicroMessenger.*/.test(p)?d=d&&1==c:/.*DingTalk.*/.test(p)&&(d=d&&1==o),e.setRightMenu(t,d)})};e.pushJSCompleteEvent(r)},i(e,"setRightMenu",ve,e),i(e,"changeSubmitParam",ge,e),i(e,"setSubmitToNodeId",be,e),i(e,"setCloseNeedPrompt",ye,e),i(e,"controlDialogVisible",we,e),i(e,"loadMarkInfo",_e,e),i(e,"setMarkInfo",Se,e),i(e,"loadInterventionInfo",Ee,e),i(e,"setInvertionInfo",Ie,e),i(e,"getInterventionUser",ke,e),i(e,"setInterventionUserReplacedata",Ce,e),i(e,"resetStore",xe,e),i(e,"loadCustomTab",Oe,e),i(e,"setSecLevelInfo",Pe,e),i(e,"updateCommonParam",Me,e),i(e,"updateRemindInfo",Ae,e),i(e,"getFormAttentionTag",Fe,e),i(e,"changeHandWritingData",Re,e),i(e,"setPromptInfo",Te,e),i(e,"setPromptInfos",De,e),i(e,"jumpTab",je,e),i(e,"changeConflictFieldMap",Le,e),i(e,"addInnerChangeBtn",Ne,e),i(e,"innerChangeDialog",qe,e),i(e,"setInnerChangeDialog",We,e),i(e,"FreeflowChangeformParm",Be,e),i(e,"freeflowChangeformParmfixedForm",ze,e),i(e,"FreeflowChangeformParmconditions",Ue,e),i(e,"setFreeflowChangeformParm",Ve,e),i(e,"getFreeNodeBrowserItem",He,e),e.browserVersion=wt.getBrowserVersion(),e}return(0,ft.default)(t,e),(0,ut.default)(t,[{key:"baseParam",get:function(){var e=this,t={};return Ct.baseParamRange.map(function(r){t[r]=e.commonParam[r]}),t}},{key:"commonApiParam",get:function(){var e=this,t={};return Ct.commonApiParamRange.map(function(r){t[r]=e.commonParam[r]}),t}},{key:"belongUserStr",get:function(){var e=this.commonParam;return"&f_weaver_belongto_userid="+e.f_weaver_belongto_userid+"&f_weaver_belongto_usertype="+e.f_weaver_belongto_usertype}},{key:"isSourceLayout",get:function(){var e=this.commonParam.layoutversion;return 0===e||1===e}}]),t}(ht.default),q=a(N.prototype,"JSComplete",[dt.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(N.prototype,"loading",[dt.observable],{enumerable:!0,initializer:function(){return!1}}),B=a(N.prototype,"tabKey",[dt.observable],{enumerable:!0,initializer:function(){return"form"}}),z=a(N.prototype,"btnDisabled",[dt.observable],{enumerable:!0,initializer:function(){return!0}}),U=a(N.prototype,"apiBtnDisabled",[dt.observable],{enumerable:!0,initializer:function(){return!1}}),a(N.prototype,"baseParam",[dt.computed],(0,tt.default)(N.prototype,"baseParam"),N.prototype),a(N.prototype,"commonApiParam",[dt.computed],(0,tt.default)(N.prototype,"commonApiParam"),N.prototype),a(N.prototype,"belongUserStr",[dt.computed],(0,tt.default)(N.prototype,"belongUserStr"),N.prototype),a(N.prototype,"isSourceLayout",[dt.computed],(0,tt.default)(N.prototype,"isSourceLayout"),N.prototype),V=a(N.prototype,"submitParam",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),H=a(N.prototype,"markInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),G=a(N.prototype,"rightMenu",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),Q=a(N.prototype,"dialogVisible",[dt.observable],{enumerable:!0,initializer:function(){return dt.observable.map?dt.observable.map({}):(0,dt.asMap)({})}}),K=a(N.prototype,"invertionInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),J=a(N.prototype,"promptInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),$=a(N.prototype,"remindInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),Y=a(N.prototype,"secondAuthInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),X=a(N.prototype,"secLevelInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),Z=a(N.prototype,"continuationProcessInfo",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),ee=a(N.prototype,"conflictFieldMap",[dt.observable],{enumerable:!0,initializer:function(){return dt.observable.map?dt.observable.map({}):(0,dt.asMap)({})}}),te=a(N.prototype,"odocIframeUrl",[dt.observable],{enumerable:!0,initializer:function(){return""}}),re=a(N.prototype,"btnLabelName",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),ne=a(N.prototype,"markJSComplete",[l],{enumerable:!0,initializer:function(){var e=this;return function(){e.JSComplete=!0}}}),oe=a(N.prototype,"pushJSCompleteEvent",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){"function"===typeof t&&(e.JSCompleteEvent instanceof Array?e.JSCompleteEvent.push(t):t())}}}),ie=a(N.prototype,"triggerJSCompleteEvent",[u],{enumerable:!0,initializer:function(){var e=this;return function(){!0===e.JSComplete&&e.JSCompleteEvent instanceof Array&&(e.JSCompleteEvent.map(function(e){e()}),e.JSCompleteEvent=null)}}}),ae=a(N.prototype,"setLoading",[c],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.loading=t}}}),le=a(N.prototype,"setBtnDisabled",[f],{enumerable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.btnDisabled=t}}}),se=a(N.prototype,"setApiBtnDisabled",[d],{enumerable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.apiBtnDisabled=t}}}),ue=a(N.prototype,"setInvoiceCloudInfo",[p],{enumerable:!0,initializer:function(){var e=this;return function(t){e.invoiceCloudInfo=t}}}),ce=a(N.prototype,"setTabKey",[h],{enumerable:!0,initializer:function(){var e=this;return function(t){if(!It.isEmpty(e.commonParam)){e.signReplyFlag=!1,e.signReplyInfo={},e.tabKey=t;var r="haveClick_"+t;!e.variableMap.has(r)&&e.controlVariableMap(r,!0)}}}}),fe=a(N.prototype,"loadBaseInfo",[m],{enumerable:!0,initializer:function(){var e=this;return function(t){if(delete t._key,e.urlParams=t,"1"===e.urlParams.isPreView)return e.loadPreViewInfo();var r=function(){e.pushJSCompleteEvent(function(){St.showConProcessSwitchTip(t)}),e.setLoading(!0),window.API_LOAD_BEGIN=(new Date).getTime()},n=function(r){window.API_LOAD_END=(new Date).getTime(),window.API_DURATION=window.API_LOAD_END-window.API_LOAD_BEGIN,window.SERVER_DURATION=r.durationTime,e.doInit(t,r),r.conflictFieldInfo&&"object"==(0,Ze.default)(r.conflictFieldInfo)&&e.changeConflictFieldMap(r.conflictFieldInfo)};Pt.verifyEncryptShare(e.urlParams,function(){Pt.verifySecondAuth(e.urlParams,r,n)})}}}),de=a(N.prototype,"doInit",[v],{enumerable:!0,initializer:function(){var e=this;return function(t,r){e.setLoading(!1);var n=r.params;if(!1===n.verifyRight)return void(weaWfFormHistory&&weaWfFormHistory.push("/main/workflow/ReqNoRight?isSecNoRight="+n.isSecNoRight+"&isDelete="+n.requestIsDelete+"&isTest="+n.isTest));Ct.commonParamRange.map(function(t){t in n&&(e.commonParam[t]=n[t],delete n[t])}),e.invalidParam=n,Ct.loadCustomFiles("css"),e.submitParam=r.submitParams,e.secLevelInfo=r.secLevelInfo,bt.default.layoutStore.doInitLayout(r),wt.printDuration(e.commonParam,!0);var o=function(){var t=e.commonParam,n=t.requestid,o=t.iscreate,i=t.nodetype,a=t.wfmonitor,l=t.isurger,s=t.isprint;if("1"!=o&&"1"!=s){var u=r.submitParams,c=void 0===u?{}:u,f=(0,Ye.default)({},c,{requestid:n,currentnodetype:i,wfmonitor:a,isurger:l},Ct.getUpdateReqInfoFieldValue());vt.updateReqInfo(f).then(function(t){e.pushJSCompleteEvent(function(){wt.reloadListPage({from:"openReq",needReloadList:e.commonParam.needReloadList})})})}};e.loadContinuationProcessInfo(t,o),e.promptInfos=r.promptInfos,e.remindInfo=r.remindInfo,e.secondAuthInfo=r.secondAuthInfo,e.loadRightMenu(t),e.loadMarkInfo(),e.loadInterventionInfo(),e.loadCustomTab(),e.showCAAuthDialog(r),e.getFormAttentionTag(),e.pushJSCompleteEvent(wt.loadWaterMark),1==e.commonParam.useInvoiceCloud&&(0,xt.getInvoiceCloudToken)();var i=!1;(r.odocInfo.docFlag&&r.odocInfo.docParam.docid<0&&r.odocInfo.docParam.editmouldCount>1||r.odocInfo.docFlag&&r.odocInfo.docParam.docid>0&&r.odocInfo.docParam.reSelectMould)&&(i=!0),r.odocInfo.docFlag&&r.odocInfo.opentextdefaultnode&&!r.odocInfo.docParam.isUseTempletNode&&!i&&r.odocInfo.docParam.docid>0&&!r.odocInfo.docParam.isTextInFormCanEdit&&1!=r.odocInfo.docParam.isEdit&&((0,Nt.setDocParam)(WfForm.getOdocConfig()),e.tabKey="odoc")}}}),pe=a(N.prototype,"loadPreViewInfo",[g],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.urlParams.preViewKey;if(window.sessionStorage.getItem(t)){var r=JSON.parse(window.sessionStorage.getItem(t));vt.loadPreViewInfo(r).then(function(t){e.commonParam=t.params,bt.default.layoutStore.doInitLayout(t)})}else alert("loadPreViewInfo Catch Exception: "+t)}}}),he=a(N.prototype,"loadRightMenu",[b],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=(0,Ye.default)({},e.commonApiParam);r.isaffirmanceSrc=t.isaffirmanceSrc||"",r.isaffirmance=t.isaffirmance||"",r.reEdit=t.reEdit||"",vt.getRightMenu(r).then(function(t){t.rightMenus&&t.rightMenus.sort(function(e,t){return e.order-t.order});var r=(0,qt.cloneDeep)(t);e.checkShareBtn(r),e.setRightMenu(t,!1)})}}}),me=a(N.prototype,"loadContinuationProcessInfo",[y],{enumerable:!0,initializer:function(){var e=this;return function(t,r){if("1"==t.isOpenContinuationProcess&&"1"==!t.isRefresh){var n=St.getContinuationProcessParams();vt.getContinnuationProcessInfo((0,Ye.default)({viewScope:"doing",currentRequestId:t.requestid},n)).then(function(n){n.isOpenContinuationProcess&&n.currentIndex>=0?e.continuationProcessInfo={loaded:!0,showSwitchBar:n.showSwitchBar,currentIndex:n.currentIndex,counts:n.count,requestId:t.requestid}:e.urlParams.isOpenContinuationProcess="0",window.setTimeout(function(){r()},3e3)})}else r();"1"==t.isOpenContinuationProcess&&"1"==t.isRefresh&&(e.continuationProcessInfo={loaded:!0,isRefresh:"1",currentIndex:t.currentIndex,counts:t.counts,requestId:t.requestid,showSwitchBar:t.showSwitchBar})}}}),ve=a(N.prototype,"setRightMenu",[w],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]||t.rightMenus&&t.rightMenus.length>0&&(t.rightMenus=t.rightMenus.filter(function(e){return"BTN_SHARE"!==e.type}));var r={};t.rightMenus&&t.rightMenus.length>0&&t.rightMenus.map(function(e){var t=e.systemMenuType,n=void 0===t?"":t,o=e.systemSmallType,i=void 0===o?0:o,a=e.menuName,l=void 0===a?"":a;n.length>0&&l.length>0&&(r[n+"_"+i]=l)}),t.rightMenuNames=r,e.rightMenu=t,t.isImportDetail&&"doImportDetail"===e.urlParams.saveType&&e.controlDialogVisible(Bt.IMPORT_WF_DETAIL_MODAL,!0);var n=e.commonParam.requestid,o=void 0===n?-1:n,i=t.isAllowNodeFreeFlow,a=t.isFree,l=window.localStorage.getItem("WfFormIsDefaultOpenFreeFlowSetDialog");o>0&&"1"==l&&("1"==i||"1"==a)&&(window.localStorage.removeItem("WfFormIsDefaultOpenFreeFlowSetDialog"),e.JSComplete?(0,Lt.doFreeWorkflow)():e.JSCompleteEvent.push(Lt.doFreeWorkflow))}}}),ge=a(N.prototype,"changeSubmitParam",[_],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.submitParam=(0,Ye.default)({},e.submitParam,t)}}}),be=a(N.prototype,"setSubmitToNodeId",[S],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.rightMenu,n=r.isSubmitDirectNode,o=r.lastnodeid,i=e.commonParam.canSubmitToRejectNode,a=void 0===i||i;e.variableMap.has("canSubmitToRejectNode")&&(a=e.variableMap.get("canSubmitToRejectNode")),("1"==n||t)&&a&&e.changeSubmitParam({SubmitToNodeid:o})}}}),ye=a(N.prototype,"setCloseNeedPrompt",[E],{enumerable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.closeNeedPrompt=t}}}),we=a(N.prototype,"controlDialogVisible",[I],{enumerable:!0,initializer:function(){var e=this;return function(t,r){e.dialogVisible.set(t,r)}}}),_e=a(N.prototype,"loadMarkInfo",[k],{enumerable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=e.commonParam,n=r.isHideInput,o=void 0===n?"0":n,i=r.wfTestStr,a=r.requestType,l=r.intervenorright,s=(0,Ye.default)({},e.baseParam);s.wfTestStr=i,"1"!=o&&(a>0||l>0)?(e.setBtnDisabled(!0),vt.getSignInput(s).then(function(r){r.hasLoadMarkInfo=!0;var n=r.remarkquote,o=void 0===n?[]:n;if(e.setMarkInfo(r),t){var i=r.remarkInfo,a=void 0===i?{}:i,l={remark:a.remark,"field-annexupload":a["field-annexupload"],signdocids:a.signdocids,signworkflowids:a.signworkflowids,remarkLocation:a.remarkLocation};e.changeSubmitParam(l);var s=dt.observable.map?dt.observable.map({}):(0,dt.asMap)({});o.forEach(function(e,t){s.set("key_"+t,e)}),e.controlVariableMap("remark_list",s),e.controlVariableMap("remark_list_index",o.length),e.btnLabelName=r.btnLabelName}e.setBtnDisabled(!1)})):(vt.getNodeSignSet(s).then(function(t){e.setMarkInfo(t)}),e.setBtnDisabled(!1))}}}),Se=a(N.prototype,"setMarkInfo",[dt.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.markInfo=t}}}),Ee=a(N.prototype,"loadInterventionInfo",[C],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.commonParam.intervenorright;(void 0===t?0:t)>0&&vt.getReqInterventionInfo(e.commonApiParam).then(function(t){e.setInvertionInfo(t),e.changeSubmitParam(wt.getIntervenorDefaultV(t)),e.setInterventionUserReplacedata(t)})}}}),Ie=a(N.prototype,"setInvertionInfo",[dt.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.invertionInfo=(0,Ye.default)({},e.invertionInfo,t)}}}),ke=a(N.prototype,"getInterventionUser",[x],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};vt.getInterventionUser((0,Ye.default)({},e.commonApiParam,t)).then(function(t){e.setInvertionInfo(t),e.changeSubmitParam(wt.getIntervenorDefaultV(t)),e.setInterventionUserReplacedata(t)})}}}),Ce=a(N.prototype,"setInterventionUserReplacedata",[O],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.items,n=void 0===r?[]:r,o=t.replacedatas||[],i=t.replacedatas_crm||[];n.length>0&&n.map(function(e){var t=e.conditionType,r=e.domkey,n=void 0===r?[]:r,a=e.browserConditionParam,l=void 0===a?{}:a;if("BROWSER"==t){var s=l.replaceDatas,u=void 0===s?[]:s;"Intervenorid"==n[0]&&(o=u),"Intervenorid_crm"==n[0]&&(i=u)}});var a=3;(o.length>0||i.length>0)&&(a=2),e.controlVariableMap("Intervenorid_replaceDatas",o),e.controlVariableMap("Intervenorid_crm_replaceDatas",i),e.controlVariableMap("Intervenorid_viewAttr",a),e.controlVariableMap("Intervenorid_crm_viewAttr",a)}}}),xe=a(N.prototype,"resetStore",[P],{enumerable:!0,initializer:function(){var e=this;return function(){e.promptInfo={}}}}),Oe=a(N.prototype,"loadCustomTab",[M],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e;vt.getFormTab(e.commonApiParam).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.customTabs,n=void 0===r?[]:r,o=[];if(n.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments[1],e.filePath),r=void 0===t?"":t;r.endsWith(".js")&&o.push(r)}),n.length>0){t.controlVariableMap("customTabs",n);var i=function(){window.console};At.default.isDefined("workflowCustomTab")?At.default.ready("workflowCustomTab",i):(0,At.default)(o,"workflowCustomTab",i)}})}}}),Pe=a(N.prototype,"setSecLevelInfo",[A],{enumerable:!0,initializer:function(){var e=this;return function(t){e.secLevelInfo=(0,Ye.default)({},e.secLevelInfo,t),window.oDocUtil&&(window.oDocUtil.needReconfirmSecretLevel=!0)}}}),Me=a(N.prototype,"updateCommonParam",[F],{enumerable:!0,initializer:function(){var e=this;return function(t,r){e.commonParam[t]=r}}}),Ae=a(N.prototype,"updateRemindInfo",[R],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.remindInfo=(0,Ye.default)({},t)}}}),Fe=a(N.prototype,"getFormAttentionTag",[T],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.commonParam,r=t.requestid,n=t.wfmonitor,o=t.f_weaver_belongto_userid,i=t.f_weaver_belongto_usertype,a=t.authSignatureStr,l=t.authStr,s=t.signatureAttributesStr,u=t.signatureSecretKey;if(!n){var c={requestid:r,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:i,authSignatureStr:a,authStr:l,signatureAttributesStr:s,signatureSecretKey:u};vt.getFormAttentionTag(c).then(function(t){var r=t.titlename;e.controlVariableMap("attention_titlename",r)})}}}}),Re=a(N.prototype,"changeHandWritingData",[D],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.controlVariableMap(t,r)}}}),Te=a(N.prototype,"setPromptInfo",[j],{enumerable:!0,initializer:function(){var e=this;return function(t){e.promptInfo=t}}}),De=a(N.prototype,"setPromptInfos",[dt.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.promptInfos=[t],e.controlVariableMap("forceRenderReq",(e.variableMap.get("forceRender")||0)+1)}}}),je=a(N.prototype,"jumpTab",[dt.action],{enumerable:!0,initializer:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.jumpTab&&("communication"==e.jumpTab&&0==t.isOpenCommunication||wt.switchFormTabFunc(e.jumpTab))}}}),Le=a(N.prototype,"changeConflictFieldMap",[L],{enumerable:!0,initializer:function(){var e=this;return function(t){if("object"==("undefined"===typeof t?"undefined":(0,Ze.default)(t))){var r=(0,Je.default)(t);r.length>0&&r.map(function(r){e.conflictFieldMap.set(r,t[r])})}}}}),Ne=a(N.prototype,"addInnerChangeBtn",[dt.observable],{enumerable:!0,initializer:function(){return!1}}),qe=a(N.prototype,"innerChangeDialog",[dt.observable],{enumerable:!0,initializer:function(){return!1}}),We=a(N.prototype,"setInnerChangeDialog",[dt.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.innerChangeDialog=t}}}),Be=a(N.prototype,"FreeflowChangeformParm",[dt.observable],{enumerable:!0,initializer:function(){return{}}}),ze=a(N.prototype,"freeflowChangeformParmfixedForm",[dt.observable],{enumerable:!0,initializer:function(){return null}}),Ue=a(N.prototype,"FreeflowChangeformParmconditions",[dt.observable],{enumerable:!0,initializer:function(){return[]}}),Ve=a(N.prototype,"setFreeflowChangeformParm",[dt.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.FreeflowChangeformParm=t}}}),He=a(N.prototype,"getFreeNodeBrowserItem",[dt.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.FreeflowChangeformParm=t;var r=(0,Rt.getComsMobx)(),n=r.WeaForm;e.freeflowChangeformParmfixedForm=new n,vt.getFreeNodeBrowserItem({workflowid:t.wfid}).then(function(t){if(t){var r=[{defaultshow:!0,items:[],title:""}];r[0].items.push(t.data[0]),e.freeflowChangeformParmfixedForm.initFormFields(r),e.FreeflowChangeformParmconditions=r,e.controlDialogVisible(Bt.FREE_FLOW_CHANGEFORM,!0)}}).catch(function(){var t=[{defaultshow:!0,items:[{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["defaultStyle"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,label:"浏览类型字段格式",labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"名称",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"##主键",visible:!0},{disabled:!1,key:"2",selected:!1,showname:"名称##主键",visible:!0}],precision:0,showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2}],title:"默认设置"},{defaultshow:!0,items:[{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT_LINKAGE",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["resourceStyle"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,label:"人力资源字段格式",labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"默认设置",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"自定义设置",visible:!0}],precision:0,selectLinkageDatas:{1:{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["resourceChild"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"名称",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"##主键",visible:!0},{disabled:!1,key:"2",selected:!1,showname:"名称##主键",visible:!0},{disabled:!1,key:"3",selected:!1,showname:"deptcode_具体编号",visible:!0},{disabled:!1,key:"4",selected:!1,showname:"名称deptcode_具体编号",visible:!0},{disabled:!1,key:"5",selected:!1,showname:"组织全路径",visible:!0}],precision:0,showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2}},showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2},{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT_LINKAGE",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["departStyle"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,label:"部门字段格式",labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"默认设置",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"自定义设置",visible:!0}],precision:0,selectLinkageDatas:{1:{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["departChild"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"名称",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"##主键",visible:!0},{disabled:!1,key:"2",selected:!1,showname:"名称##主键",visible:!0},{disabled:!1,key:"3",selected:!1,showname:"deptcode_具体编号",visible:!0},{disabled:!1,key:"4",selected:!1,showname:"名称deptcode_具体编号",visible:!0},{disabled:!1,key:"5",selected:!1,showname:"组织全路径",visible:!0}],precision:0,showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2}},showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2},{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT_LINKAGE",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["subCompanyStyle"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,label:"分部字段格式",labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"默认设置",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"自定义设置",visible:!0}],precision:0,selectLinkageDatas:{1:{belong:"PC",checkbox:!1,checkboxValue:!1,colSpan:2,conditionType:"SELECT",dateGroup:!1,defaultDisplayInBar:!1,detailtype:1,domkey:["subCompanyChild"],entSearch:!1,fieldcol:18,hasBorder:!1,helpfulTipProps:{},hide:!1,isBase64:!1,isQuickSearch:!1,labelcol:6,length:0,maxFilesNumber:0,maxUploadSize:0,multiSelection:!1,multiple:!1,options:[{disabled:!1,key:"0",selected:!0,showname:"名称",visible:!0},{disabled:!1,key:"1",selected:!1,showname:"##主键",visible:!0},{disabled:!1,key:"2",selected:!1,showname:"名称##主键",visible:!0},{disabled:!1,key:"3",selected:!1,showname:"deptcode_具体编号",visible:!0},{disabled:!1,key:"4",selected:!1,showname:"名称deptcode_具体编号",visible:!0},{disabled:!1,key:"5",selected:!1,showname:"组织全路径",visible:!0}],precision:0,showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2}},showOrder:0,showTime:!1,stringLength:0,supportCancel:!1,tipPosition:"bottom",valueList:[],viewAttr:2}],title:"组织字段自定义设置"}];e.freeflowChangeformParmfixedForm.initFormFields(t),e.FreeflowChangeformParmconditions=t,e.controlDialogVisible(Bt.FREE_FLOW_CHANGEFORM,!0)})}}}),N)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSecondPath=t.getFromFieldValue=t.loadMouldInfoByField=t.setDocParam=t.CHANGE_FIELD_VARS=t.CHANGE_FIELD_VALUE=t.TYPE_WFFORM_API=t.TYPE_LINKAGE_ASYNC=t.TYPE_LINKAGE_SYNC=t.TYPE_FIELD_CHANGE=t.TYPE_DETAIL_ADDROW=t.TYPE_MAIN_INIT=void 0;var o=r(249),i=n(o),a=r(7),l=n(a),s=r(250),u=n(s),c=r(6),f=r(12),d=n(f),p=r(253),h=(t.TYPE_MAIN_INIT="1",t.TYPE_DETAIL_ADDROW="2",t.TYPE_FIELD_CHANGE="3",t.TYPE_LINKAGE_SYNC="4",t.TYPE_LINKAGE_ASYNC="5",t.TYPE_WFFORM_API="6",t.CHANGE_FIELD_VALUE="c_value",t.CHANGE_FIELD_VARS="c_vars",t.setDocParam=function(){var e=(0,u.default)(i.default.mark(function e(t){var r,n,o,a,s,u,f,g,b,y,w,_,S,E,I,k,C,x;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,r.docParam&&!r.docParam.authStr&&(r.docParam.authStr=wfform.getGlobalStore().commonParam.authStr),r.docParam&&!r.docParam.authSignatureStr&&(r.docParam.authSignatureStr=wfform.getGlobalStore().commonParam.authSignatureStr),r.docParam&&!r.docParam.f_weaver_belongto_userid&&(r.docParam.f_weaver_belongto_userid=wfform.getBaseInfo().f_weaver_belongto_userid),r.docParam&&!r.docParam.f_weaver_belongto_usertype&&(r.docParam.f_weaver_belongto_usertype=wfform.getBaseInfo().f_weaver_belongto_usertype),e.next=7,h();case 7:n="field"+r.docParam.editMouldFieldid+",field"+r.docParam.showMouldFieldid,WfForm.bindFieldChangeEvent(n,function(e,t,r){h()}),o=r.formFieldList,a=new Array,s=0;case 12:if(!(o&&s<o.length)){e.next=20;break}if(u=o[s],!(jQuery.inArray(u,a)>=0)){e.next=16;break}return e.abrupt("continue",17);case 16:a.push(u);case 17:s++,e.next=12;break;case 20:-1==jQuery.inArray(r.docParam.secFieldid,a)&&a.push(r.docParam.secFieldid),-1==jQuery.inArray(r.docParam.editMouldfieldid,a)&&a.push(r.docParam.editMouldFieldid),-1==jQuery.inArray(r.docParam.showMouldFieldid,a)&&a.push(r.docParam.showMouldFieldid),-1==jQuery.inArray(r.docParam.documentTitleField,a)&&a.push(r.docParam.documentTitleField),f=m(a),r.nowDocParam=new Object,r.nowDocParam=(0,p.cloneDeep)(mobx.toJS(r.docParam));for(g in f)r.nowDocParam[g]=f[g];b=m(o||[]);for(y in b)r.nowDocParam[y]=b[y];if(r.needReload=!1,(0,p.isEqual)(mobx.toJS(r.nowDocParam),mobx.toJS(r.lasttimeDocParam))?r.needReload=!1:(r.needReload=!0,"1"==r.docParam.useyozoorwps&&1==r.docParam.onEditDoc&&(r.needReload=!1),r.lasttimeDocParam=new Object,r.lasttimeDocParam=(0,p.cloneDeep)(mobx.toJS(r.nowDocParam))),WfForm.changeOdocConfig(r),!r.needReload){e.next=62;break}w=r.docUrl+"?",_=0,S=r.docParam.router,S=1==r.docParam.isEdit?"#/main/document/edit":"#/main/document/detail",e.t0=i.default.keys(r.docParam);case 39:if((e.t1=e.t0()).done){e.next=50;break}if("router"!=(E=e.t1.value)){e.next=43;break}return e.abrupt("continue",39);case 43:if(r.docParam[E]){e.next=45;break}return e.abrupt("continue",39);case 45:_>0&&(w+="&"),w+=E+"="+encodeURIComponent(r.docParam[E]),_++,e.next=39;break;case 50:return I=(0,p.cloneDeep)(mobx.toJS(r.nowDocParam)),I.action="setUrlParams",k=(0,c.getEcCom)(),C=k.WeaTools,e.next=55,C.callApi("/api/odoc/odocWorkflow/setUrlParams?date="+(new Date).getTime(),"POST",(0,l.default)({},I));case 55:x=e.sent,x.success&&(w+="&uuid="+x.uuid),w+=S;try{document.getElementsByClassName("req-workflow-odoc")[0].contentWindow.onbeforeunload=null}catch(e){}d.default.globalStore.odocIframeUrl=v(w),r.iframeUrl=v(w),t=r;case 62:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.loadMouldInfoByField=function(){var e=(0,u.default)(i.default.mark(function e(){var t,r,n,o,a,s,u,f,d,p,h,m,v,g,b,y,w,_;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=WfForm.getOdocConfig(),r=t.docParam,n=r.editMouldFieldid,o=r.showMouldFieldid,a=r.isSelectField,s=r.isShowSelectField,u=r.workflowid,f=r.requestid,d=r.selectFieldType,p=void 0===d?0:d,h=-1==n?-1:"field"+n,m=-1==o?-1:"field"+o,v=-1,-1!=h&&(v=WfForm.getFieldValue(h),"false"==a&&""!=v&&(v=Number(v)+100)),g=-1,-1!=m&&(g=WfForm.getFieldValue(m),"false"==s&&""!=g&&(g=324==p?-1*Number(g)-100:Number(g)+100)),b=(0,c.getEcCom)(),y=b.WeaTools,w={workflowid:u,editfieldvalue:v,showfieldvalue:g,selectFieldType:p,requestid:f,action:"getMouldInfo"},e.next=12,y.callApi("/odoc/docs/odocCommonAjax.jsp","POST",w);case 12:_=e.sent,t.docParam=(0,l.default)({},t.docParam,{editmouldCount:_.editmouldCount,showmouldCount:_.showmouldCount,editMouldId:_.editMouldId,showMouldId:_.showMouldId,formFieldList:_.formFieldList});case 14:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()),m=t.getFromFieldValue=function(e){for(var t=new Object,r=0;r<e.length;r++){var n=e[r];if("-3"==n){var o=WfForm.getFieldValue("field-1");t.requestname=o}else{var o=WfForm.getFieldValue("field"+n);t["field"+n]=o}}return t.requestname=WfForm.getFieldValue("field-1"),t},v=t.getSecondPath=function(e){var t=window.ecologyContentPath||"";if(""!=t&&e&&""!=e)if(0==e.indexOf("/")&&0!=e.indexOf(t))e=t+e;else if(0==e.indexOf("http")){var r=window.location.origin;r||(r=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),0==e.indexOf(r)&&0!=e.indexOf(r+t)&&(e=e.replace(r,r+t))}return e}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,M.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutStore=void 0;var l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I,k,C,x,O,P=r(16),M=o(P),A=r(26),F=o(A),R=r(35),T=o(R),D=r(31),j=o(D),L=r(7),N=o(L),q=r(53),W=o(q),B=r(3),z=o(B),U=r(0),V=o(U),H=r(4),G=o(H),Q=r(2),K=o(Q),J=r(5),$=o(J),Y=r(9),X=(n(Y),r(174)),Z=o(X),ee=r(143),te=o(ee),re=r(499),ne=o(re),oe=r(15),ie=n(oe),ae=r(11),le=n(ae),se=r(29),ue=n(se),ce=r(18),fe=n(ce),de=r(12),pe=o(de),he=r(23),me=r(252),ve=n(me),ge=r(500),be=o(ge),ye=r(10),we=n(ye),_e=r(55),Se=n(_e),Ee=r(124),Ie=n(Ee),ke=r(6);t.LayoutStore=(l=Y.observable.ref,s=(0,Y.action)("初始化布局"),u=(0,Y.action)("初始化源码源码"),c=(0,Y.action)("加载明细数据"),f=(0,Y.action)("字段值不存在时需初始化字段值对象"),d=(0,Y.action)("修改单个字段值信息"),p=(0,Y.action)("修改字段值的唯一入口，统一此处做字段值变更的联动总控"),h=(0,Y.action)("触发联动总控"),m=(0,Y.action)("改变公文参数"),v=function(e){function t(){(0,V.default)(this,t);var e=(0,G.default)(this,(t.__proto__||(0,z.default)(t)).call(this));return i(e,"dataJson",g,e),e.layoutSourceInfo={},e.tableInfo={},e.browserInfo={},e.linkageCfg={},e.propFileCfg={},e.cellInfo={},e.codeInfo={},e.fnaInfo={},e.hrmInfo={},i(e,"odocInfo",b,e),e.existChangeFormDataByUser=!1,e.existChangeFormData=!1,e.existChangeRange=[],i(e,"mainData",y,e),i(e,"detailMap",w,e),i(e,"doInitLayout",_,e),i(e,"doInitSourceLayout",S,e),i(e,"loadDetailData",E,e),i(e,"initFieldObj",I,e),i(e,"changeSingleFieldValue",k,e),i(e,"changeMoreFieldData",C,e),i(e,"triggerAllLinkage",x,e),i(e,"setOdocInfo",O,e),e}return(0,$.default)(t,e),(0,K.default)(t,[{key:"containSignInput",get:function(){return we.has(this.cellInfo,["fieldCellInfo","-4"])&&we.has(this.tableInfo,["main","fieldinfomap","-4","viewattr"])&&we.get(this.tableInfo,["main","fieldinfomap","-4","viewattr"])>=0}},{key:"fieldAttrMap",get:function(){var e=Y.observable.map?Y.observable.map({}):(0,Y.asMap)({});return!we.isEmpty(this.tableInfo)&&we.forIn(this.tableInfo,function(t,r){t.fieldinfomap&&we.forIn(t.fieldinfomap,function(n,o){n.tableMark=r,n.isDetail=r.indexOf("detail_")>-1,n.tableName=t.tablename,n.encryptFlag=ve.calculateEncryptFlag(n),e.set(o.toString(),n)})}),e}},{key:"fieldNameMap",get:function(){var e=Y.observable.map?Y.observable.map({}):(0,Y.asMap)({});return!we.isEmpty(this.tableInfo)&&we.forIn(this.tableInfo,function(t,r){t.fieldinfomap&&we.forIn(t.fieldinfomap,function(t,n){t.fieldname&&e.set(r+"."+t.fieldname.toUpperCase(),n)})}),e}},{key:"fieldCellMap",get:function(){var e={};return we.forIn(this.dataJson.etables,function(t,r){t.ec.forEach(function(t){"3"==t.etype&&(e[t.field]=t)})}),e}},{key:"rowSubPanelMap",get:function(){var e={},t=this.cellInfo.subPanelInfo||{};return we.forIn(t,function(t,r){e[t.symbol+"_"+t.rowid]=r}),e}}]),t}(Z.default),g=a(v.prototype,"dataJson",[l],{enumerable:!0,initializer:function(){return{}}}),b=a(v.prototype,"odocInfo",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),y=a(v.prototype,"mainData",[Y.observable],{enumerable:!0,initializer:function(){return Y.observable.map?Y.observable.map({}):(0,Y.asMap)({})}}),w=a(v.prototype,"detailMap",[Y.observable],{enumerable:!0,initializer:function(){return Y.observable.map?Y.observable.map({}):(0,Y.asMap)({})}}),a(v.prototype,"containSignInput",[Y.computed],(0,W.default)(v.prototype,"containSignInput"),v.prototype),a(v.prototype,"fieldAttrMap",[Y.computed],(0,W.default)(v.prototype,"fieldAttrMap"),v.prototype),a(v.prototype,"fieldNameMap",[Y.computed],(0,W.default)(v.prototype,"fieldNameMap"),v.prototype),a(v.prototype,"fieldCellMap",[Y.computed],(0,W.default)(v.prototype,"fieldCellMap"),v.prototype),a(v.prototype,"rowSubPanelMap",[Y.computed],(0,W.default)(v.prototype,"rowSubPanelMap"),v.prototype),_=a(v.prototype,"doInitLayout",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=pe.default.globalStore,n=r.isSourceLayout,o=r.urlParams;we.isEmpty(t.propFileCfg)||ue.imageStyleHander(t.propFileCfg),n||we.isEmpty(t.cellInfo)||jQuery("body").append(t.cellInfo.style.layoutStyle).append(t.cellInfo.style.scriptStyle),e.tableInfo=t.tableInfo,e.browserInfo=t.browserInfo,e.linkageCfg=t.linkageCfg,e.propFileCfg=t.propFileCfg,e.cellInfo=t.cellInfo,e.codeInfo=t.codeInfo,e.fnaInfo=t.fnaInfo||{},e.hrmInfo=t.hrmInfo||{},e.odocInfo=t.odocInfo||{};var i=pe.default.globalStore.commonParam,a=Se.generateStepId(Se.TYPE_MAIN_INIT);t.maindata&&we.forIn(t.maindata,function(t,r){var n=r.substring(5);if(e.fieldAttrMap.has(n)&&1==i.isviewonly){var o=e.fieldAttrMap.get(n);2===o.htmltype&&2===o.detailtype&&(t.value=ue.manageCssFilePollute(t.value,"field"+n+"_swapDiv"))}var l=new te.default(r,t,a);l.changeVariable({initValue:t.value}),e.mainData.set(r,l)}),t.tableInfo&&we.forIn(t.tableInfo,function(t,r){r.indexOf("detail_")>-1&&e.detailMap.set(r,new ne.default(t.detailtableattr,t.fieldinfomap))}),n?e.doInitSourceLayout(t.layoutSourceInfo):e.dataJson=t.datajson&&t.datajson.eformdesign,e.initFieldObj("main","field-10"),Ie.loadManagerSecLevelInfo(),"1"!==o.isPreView&&e.loadDetailData()}}}),S=a(v.prototype,"doInitSourceLayout",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){if(!we.isEmpty(t)){var r=t.datajson,n=t.styleStr,o=t.cssFiles,i=t.fieldCellInfo,a=t.nodeMarkContent;jQuery("body").append(n||""),ue.loadCssFileContent(o,"excelTempDiv"),delete t.datajson,e.layoutSourceInfo=t,e.cellInfo.fieldCellInfo=i,e.cellInfo.nodeMarkContent=a,e.dataJson=r}}}}),E=a(v.prototype,"loadDetailData",[c],{enumerable:!0,initializer:function(){var e=this;return function(){var t=pe.default.globalStore.isSourceLayout,r="";e.detailMap.keys().map(function(n){(we.has(e.cellInfo,["subPanelInfo",n])||t)&&(r+=n+",")}),""!==r&&(r=r.substring(0,r.length-1));var n=pe.default.globalStore,o=n.commonParam,i=n.urlParams,a=n.commonApiParam;if(""!==r){var l=(0,N.default)({},i);"1"!=o.iscreate&&(l.requestid=o.requestid),l.detailmark=r,l.reqParams=(0,j.default)(a),ie.loadDetailData(l).then(function(t){if("object"!==("undefined"===typeof t?"undefined":(0,T.default)(t))||we.isEmpty(t))return void alert("加载明细数据发生异常，请联系管理员");if(we.forIn(t,function(t,r){if(e.detailMap.has(r)){e.detailMap.get(r).initDetailData(t)}}),"delayCacheKey"in t&&t.delayCacheKey){var n=(0,N.default)({},l,{isDelayConvertName:"1",delayCacheKey:t.delayCacheKey});ie.loadDetailData(n).then(function(t){we.forIn(t.datas,function(t,r){var n=e.detailMap.get(r),o=n.detailData;we.forIn(t,function(e,t){if(o.has(t)){var r=o.get(t);r.value===e.value&&r.changeValueObj(e)}})})})}e.triggerAllLinkage(2),1!==parseInt(o.isviewonly||0)&&r.split(",").map(function(t){var r=e.detailMap.get(t),n=r.attr,o=r.indexnum,i=n.isdefault,a=(n.isadd,n.defaultrows);if(0===o&&1===i)for(var l=0;l<parseInt(a);l++)(0,he.addRow)(t)}),le.loadScript()})}else e.triggerAllLinkage(2),le.loadScript()}}}),I=a(v.prototype,"initFieldObj",[f],{enumerable:!0,initializer:function(){var e=this;return function(t,r){var n=null;return n=-1===t.indexOf("detail")?e.mainData:e.detailMap.get(t).detailData,n&&!n.has(r)&&n.set(r,new te.default(r)),n.get(r)}}}),k=a(v.prototype,"changeSingleFieldValue",[d],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};e.existChangeFormDataByUser=!0,we.isEmpty(r)||(o[t]=r);var i={};we.isEmpty(n)||(i[t]=n);var a=Se.generateStepId(Se.TYPE_FIELD_CHANGE);e.changeMoreFieldData(o,i,a)}}}),C=a(v.prototype,"changeMoreFieldData",[p],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,F.default)(t);(0,F.default)(r).map(function(e){-1===we.indexOf(o,e)&&o.push(e)});var i={},a=[];if(o.map(function(o){var l=fe.getFieldAttr(o);if(!l)return!0;if(o.indexOf("_")>-1&&parseInt(o.substring(o.indexOf("_")+1))<0)return!0;var s=l.tableMark;e.initFieldObj(s,o);var u=fe.getFieldObj(o,s);if(o in t){var c=t[o];fe.managerValueObjBeforeChangeStore(c,l);var f=u.value,d=le.convertNull(c.value);d=fe.convertValueBeforeChangeStore(d,l),1===l.htmltype&&1!=l.detailtype&&(f=f.toString(),d=d.toString());var p=!(("undefined"===typeof f?"undefined":(0,T.default)(f))===("undefined"===typeof d?"undefined":(0,T.default)(d))&&f==d);p&&l.encryptFlag>0?a.push(l):(ve.judgeDecryptFormat(d)&&(d=""),"field-10"==o?le.changeSecLevel(d):u.changeValueObj((0,N.default)({},c,{value:d}),n),i[o]={existChange:p,newValue:d})}o in r&&u.changeVariable(r[o],n)}),we.forIn(i,function(t,r){if(!0===t.existChange){e.existChangeFormData=!0,e.existChangeRange.push(r);var n=r.indexOf("_")>-1,o=n?r.substring(5,r.indexOf("_")):r.substring(5),i=n?r.substring(r.indexOf("_")+1):"-1",a="";e.fieldAttrMap.has(o)&&(a=e.fieldAttrMap.get(o).tableMark),e.triggerAllLinkage(1,a,o,i),WfForm.triggerFieldBindEvent(r,t.newValue)}}),a.length>0){var l="";a.forEach(function(e,t){l+=" “"+e.fieldlabel+"” "+(t>0?"、":"")}),WfForm.showMessage(""+l+(0,ke.getLabel)(531809,"为加密/脱敏字段，只读属性下联动修改无效"))}}}}),x=a(v.prototype,"triggerAllLinkage",[h],{enumerable:!0,initializer:function(){return function(e,t,r,n){var o=pe.default.globalStore.variableMap,i=(new Date).getTime();!function a(){var l=o.get("caculate_Complete")||!1,s=(new Date).getTime()-i;!l&&s<3e3?setTimeout(function(){a()},200):new be.default(e).doTrigger(t,r,n)}()}}}),O=a(v.prototype,"setOdocInfo",[m],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.odocInfo=t}}}),v)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,B.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I,k,C,x,O,P,M,A,F,R,T,D,j,L,N,q,W=r(16),B=o(W),z=r(26),U=o(z),V=r(53),H=o(V),G=r(3),Q=o(G),K=r(65),J=o(K),$=r(7),Y=o($),X=r(0),Z=o(X),ee=r(4),te=o(ee),re=r(2),ne=o(re),oe=r(5),ie=o(oe),ae=r(9),le=n(ae),se=r(143),ue=o(se),ce=r(174),fe=o(ce),de=r(10),pe=n(de),he=r(15),me=n(he),ve=r(12),ge=o(ve),be=r(18),ye=r(55),we=n(ye),_e=(l=(0,ae.action)("初始化明细已有行数据"),s=(0,ae.action)("指定行记录选中/不选中"),u=(0,ae.action)("清除所有行记录的选中状态"),c=(0,ae.action)("控制明细行属性对象"),f=(0,ae.action)("新增明细行"),d=(0,ae.action)("删除明细行"),p=(0,ae.action)("行数据转换并赋值"),h=(0,ae.action)("设置新增是否默认复制数据"),m=(0,ae.action)("控制分页信息"),v=(0,ae.action)("改变每页条数"),g=(0,ae.action)("跳转至最后一页"),b=(0,ae.action)("根据行标跳转页"),y=(0,ae.action)("切换按钮"),w=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Z.default)(this,t);var n=(0,te.default)(this,(t.__proto__||(0,Q.default)(t)).call(this));return n.attr={},n.fieldInfo={},n.addRowDefValue={},n.addDefaultCopy=!1,i(n,"indexnum",_,n),i(n,"deldtlid",S,n),i(n,"detailData",E,n),i(n,"rowInfo",I,n),i(n,"pagingInfo",k,n),i(n,"dropBtnKey",C,n),i(n,"initDetailData",x,n),i(n,"controlRowChecked",O,n),i(n,"clearAllRowChecked",P,n),i(n,"controlDetailRowAttr",M,n),i(n,"add_Row",A,n),i(n,"del_Row",F,n),i(n,"convertSetRowData",R,n),i(n,"setAddDefaultCopy",T,n),i(n,"controlPagingInfo",D,n),i(n,"changePageSize",j,n),i(n,"jumpLastPage",L,n),i(n,"jumpPageByRowIndex",N,n),i(n,"setDropBtnKey",q,n),n.attr=e,n.fieldInfo=r,1===e.isopenpaging&&(n.pagingInfo={enabled:!0,current:1,pagesize:e.pagesize}),n}return(0,ie.default)(t,e),(0,ne.default)(t,[{key:"rowInfoArr",get:function(){var e=[];return this.rowInfo.forEach(function(t,r){var n=le.toJS(t);n.rowIndex=parseInt(r.substring(4)),e.push(n)}),e.sort(function(e,t){return e.rowIndex-t.rowIndex}),e.map(function(e,t){e.serialNum=t+1}),e}},{key:"allRowIndexStr",get:function(){var e="";return this.rowInfoArr.map(function(t,r){e+=(r>0?",":"")+t.rowIndex}),e}},{key:"currentPageRowArr",get:function(){var e=this.rowInfoArr,t=this.pagingInfo,r=t.enabled,n=t.current,o=t.pagesize;if(r){var i=(n-1)*o;return e.slice(i,i+o)}return e}},{key:"currentPageRowIndexStr",get:function(){var e="";return this.currentPageRowArr.map(function(t,r){e+=(r>0?",":"")+t.rowIndex}),e}},{key:"currentPageRowMergeInfo",get:function(){var e=this,t=ae.observable.map?ae.observable.map({}):(0,ae.asMap)({}),r=this.attr,n=r.isedit,o=r.mergefields,i=void 0===o?[]:o,a=pe.trim(i).split(",").filter(function(e){return""!==e});if(0===a.length||0===this.currentPageRowArr.length)return t;var l=ge.default.globalStore.commonParam,s=1===parseInt(l.isviewonly||0)||1===parseInt(l.isaffirmance||0);return a.forEach(function(r){if(!(r in e.fieldInfo))return!0;var o=e.fieldInfo[r];if(6===o.htmltype)return!0;var i=[];e.currentPageRowArr.forEach(function(t){var a=t.rowIndex,l=t.keyid,u="field"+r+"_"+a,c=e.detailData.has(u)?e.detailData.get(u):null,f=s||p;if(!f){var d=-1;null!==c&&c.variable.has("viewAttr")&&(d=parseInt(c.variable.get("viewAttr"))||0),f=d>0?1===d:1===o.viewattr}var p=1!==n&&parseInt(l||0)>0,h=null===c?"":c.value;4===o.htmltype&&(h="1"==h),i.push({rowIndex:a,fieldValue:h,fieldViewOnly:f})}),i.reduce(function(e,n,o){var i=!0===e.fieldViewOnly&&!0===n.fieldViewOnly&&""!==e.fieldValue&&e.fieldValue===n.fieldValue,a="field"+r,l=t.get("row_"+e.rowIndex)||{},s=t.get("row_"+n.rowIndex)||{},u=1===o?1:l[a],c=1;return i&&(u++,c=0),t.set("row_"+e.rowIndex,(0,Y.default)({},l,(0,J.default)({},a,u))),t.set("row_"+n.rowIndex,(0,Y.default)({},s,(0,J.default)({},a,c))),i?e:n})}),t}}]),t}(fe.default),_=a(w.prototype,"indexnum",[ae.observable],{enumerable:!0,initializer:function(){return 0}}),S=a(w.prototype,"deldtlid",[ae.observable],{enumerable:!0,initializer:function(){return""}}),E=a(w.prototype,"detailData",[ae.observable],{enumerable:!0,initializer:function(){return ae.observable.map?ae.observable.map({}):(0,ae.asMap)({})}}),I=a(w.prototype,"rowInfo",[ae.observable],{enumerable:!0,initializer:function(){return ae.observable.map?ae.observable.map({}):(0,ae.asMap)({})}}),k=a(w.prototype,"pagingInfo",[ae.observable],{enumerable:!0,initializer:function(){return{enabled:!1}}}),C=a(w.prototype,"dropBtnKey",[ae.observable],{enumerable:!0,initializer:function(){return 1}}),a(w.prototype,"rowInfoArr",[ae.computed],(0,H.default)(w.prototype,"rowInfoArr"),w.prototype),a(w.prototype,"allRowIndexStr",[ae.computed],(0,H.default)(w.prototype,"allRowIndexStr"),w.prototype),a(w.prototype,"currentPageRowArr",[ae.computed],(0,H.default)(w.prototype,"currentPageRowArr"),w.prototype),a(w.prototype,"currentPageRowIndexStr",[ae.computed],(0,H.default)(w.prototype,"currentPageRowIndexStr"),w.prototype),a(w.prototype,"currentPageRowMergeInfo",[ae.computed],(0,H.default)(w.prototype,"currentPageRowMergeInfo"),w.prototype),x=a(w.prototype,"initDetailData",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){e.addRowDefValue=t.addRowDefValue||{},e.indexnum=t.indexnum,!pe.isEmpty(t.rowDatas)&&pe.forIn(t.rowDatas,function(t,r){e.convertSetRowData(r.substring(4),t)})}}}),O=a(w.prototype,"controlRowChecked",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.split(",").map(function(t){if(e.rowInfo.has("row_"+t)){var n=e.rowInfo.get("row_"+t),o=r;1===e.dropBtnKey&&1!==e.attr.isdelete&&parseInt(n.get("keyid")||0)>0&&(o=!1),!0===n.get("disableCheck")&&(o=!1),n.set("checked",o)}})}}}),P=a(w.prototype,"clearAllRowChecked",[u],{enumerable:!0,initializer:function(){var e=this;return function(){e.controlRowChecked(e.allRowIndexStr,!1)}}}),M=a(w.prototype,"controlDetailRowAttr",[c],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,U.default)(t).map(function(r){if(!e.rowInfo.has(r))return!0;var n=e.rowInfo.get(r),o=t[r]||{};pe.forIn(o,function(e,t){n.set(t,e)})})}}}),A=a(w.prototype,"add_Row",[f],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=pe.cloneDeep(e.addRowDefValue);if(pe.forIn(t,function(e,t){t.indexOf("field")>-1&&(o[t]=e)}),!r&&!n&&e.addDefaultCopy){var i=e.rowInfoArr.length>0?e.rowInfoArr[e.rowInfoArr.length-1].rowIndex:-1;i>-1&&pe.forIn(e.fieldInfo,function(t,r){e.detailData.has("field"+r+"_"+i)&&6!==t.htmltype&&0===t.encryptFlag&&(o["field"+r]=e.detailData.get("field"+r+"_"+i).valueObj)})}e.jumpLastPage(),e.convertSetRowData(e.indexnum,o,r),e.indexnum=parseInt(e.indexnum)+1}}}),F=a(w.prototype,"del_Row",[d],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r="";t.map(function(t){var n=e.rowInfo.get("row_"+t);n.has("keyid")&&parseInt(n.get("keyid"))>0&&(r+=","+n.get("keyid")),e.rowInfo.delete("row_"+t),pe.forIn(e.fieldInfo,function(r,n){var o="field"+n+"_"+t;WfForm.triggerFieldBindEvent(o,""),e.detailData.delete(o)})}),""!==r&&(r=r.substring(1)),e.deldtlid=""===e.deldtlid?r:e.deldtlid+","+r,e.pagingInfo.enabled&&0===e.currentPageRowArr.length&&e.rowInfoArr.length>0&&e.jumpLastPage(!1)}}}),R=a(w.prototype,"convertSetRowData",[p],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=ae.observable.map?ae.observable.map({}):(0,ae.asMap)({});o.set("fromLinkage",n);var i=we.generateStepId(we.TYPE_DETAIL_ADDROW);!pe.isEmpty(r)&&pe.forIn(r,function(r,n){if(n.indexOf("field")>-1){var a=n.substring(5);if(a in e.fieldInfo){var l=(0,be.convertValueBeforeChangeStore)(r.value,e.fieldInfo[a]);r=(0,Y.default)({},r,{value:l}),e.detailData.set(n+"_"+t,new ue.default(n+"_"+t,r,i))}}else o.set(n,r)}),e.rowInfo.set("row_"+t,o)}}}),T=a(w.prototype,"setAddDefaultCopy",[h],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.addDefaultCopy=t}}}),D=a(w.prototype,"controlPagingInfo",[m],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.pagingInfo=(0,Y.default)({},e.pagingInfo,t)}}}),j=a(w.prototype,"changePageSize",[v],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.pagingInfo.pagesize!==t.pagesize&&(e.clearAllRowChecked(),e.controlPagingInfo({pagesize:t.pagesize,current:1}),me.saveDetailPaging(t))}}}),L=a(w.prototype,"jumpLastPage",[g],{enumerable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=e.pagingInfo,n=r.enabled,o=(r.current,r.pagesize);if(n){var i=e.rowInfoArr.length;t&&i++;var a=Math.ceil(i/o);e.controlPagingInfo({current:a})}}}}),N=a(w.prototype,"jumpPageByRowIndex",[b],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=e.pagingInfo,n=r.enabled,o=r.current,i=r.pagesize;if(n){var a=e.allRowIndexStr,l=a.split(","),s=pe.indexOf(l,t)+1,u=Math.ceil(s/i);o!==u&&e.controlPagingInfo({current:u})}}}}),q=a(w.prototype,"setDropBtnKey",[y],{enumerable:!0,initializer:function(){var e=this;return function(t){e.clearAllRowChecked(),e.dropBtnKey=t}}}),w);t.default=_e},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(26),a=o(i),l=r(65),s=o(l),u=r(31),c=o(u),f=r(7),d=o(f),p=r(0),h=o(p),m=r(25),v=o(m),g=r(10),b=n(g),y=r(501),w=r(18),_=n(w),S=r(23),E=n(S),I=r(245),k=n(I),C=r(244),x=r(55),O=n(x),P=function e(t){var r=this;(0,h.default)(this,e),this.triType=-1,this.layoutStore={},this.commonParam={},this.showAI=!1,this.triInfo={},this.doTrigger=function(e,t,n){2===r.triType&&(window.Has_Trigger_Load_Linkage=!0),t=null==t||"undefined"===typeof t?"":t.toString(),n=null==n||"undefined"===typeof n?"-1":n.toString();var o=parseInt(r.commonParam.nodetype||0);if((3!==r.triType&&4!==r.triType||-1!==e.indexOf("detail_"))&&(3!==o||2===r.triType)){r.triInfo={triType:r.triType,tableMark:e,triFieldid:t,rowIndex:n};var i=r.layoutStore,a=i.propFileCfg,l=(i.linkageCfg,i.fieldAttrMap),s=1===parseInt(r.commonParam.isviewonly||0)||1===parseInt(r.commonParam.isaffirmance||0),u=(parseInt(r.commonParam.iscreate||0),!1),c=!1,f=!1,p=!1,h=!1,m=!1,v=!1,g=!1,y=!1;if(1===r.triType){if("main"===e)f=!0;else if(e.indexOf("detail_")>-1){var w=l.get(t);1===w.htmltype&&1!==w.detailtype&&(u=!0,c=!0)}p=!0,h=!0,m=!0,v=!0,g=!0,y=!0}else 2===r.triType?((!s&&"1"===a.tri_rowRule_edit||s&&"1"===a.tri_rowRule_view)&&(u=!0),s||(f=!0,p=!0,v=!0,g=!0,y=!0),c=!0,m=!0,h=!0):3===r.triType?(u=!0,c=!0,p=!0,h=!0,m=!0,v=!0,g=!0,y=!0):4===r.triType&&(c=!0,p=!0);var _={},S={},E={};if(u){var I=r.executeRowRule(e,t,n)||{};b.merge(_,I)}if(c){var k=r.executeColRule(e,t)||{};b.merge(_,k.changeDatas),b.merge(E,k.changeVars)}if(f){var C=r.executeFieldMath(t)||{};b.merge(_,C)}if(p){var x=r.executeFormula(e,t,n)||{};b.merge(_,x)}if(h){var P=r.controlSelectChange(e,t,n)||{};b.merge(_,P.changeDatas),b.merge(S,P.fieldVars)}if(m){var M=r.controlViewAttr(e,t,n)||{};b.merge(S,M.fieldVars),b.merge(E,M.changeVars)}var A=r.controlFieldTypeChange(e,t,n)||{};if(b.merge(_,A.changeDatas),b.merge(S,A.fieldVars),b.isEmpty(E)||r.layoutStore.batchControlVariableMap(E),!b.isEmpty(_)||!b.isEmpty(S)){var F=O.generateStepId(O.TYPE_LINKAGE_SYNC,(0,d.default)({},r.triInfo));r.layoutStore.changeMoreFieldData(_,S,F)}if(v){var R=r.generateFieldSqlTriInfo(e,t,n);r.sendLinkageAjax(R,"fieldsql")}if(g){var T=r.generateDateTimeTriInfo(e,t,n);r.sendLinkageAjax(T,"datetime")}if(y){var D=r.generateDataInputTriInfo(e,t,n);r.sendLinkageAjax(D,"datainput")}}},this.judgeDetailUnExistTemplate=function(e){var t=r.layoutStore.cellInfo;if(v.default.globalStore.isSourceLayout){var n=parseInt(e.substring(7))-1;return 0===window.jQuery("table#oTable"+n).length}return!b.has(t,["subPanelInfo",e])},this.judgeFieldUnExistTemplate=function(e){var t=r.layoutStore,n=t.fieldAttrMap,o=t.cellInfo;return!(b.has(o,["fieldCellInfo",e])&&n.has(e)&&n.get(e).viewattr>0)},this.getDetailFieldSumValue=function(e,t){var n="0",o=r.layoutStore.detailMap,i=o.get(e),a=i.rowInfoArr,l=i.detailData;return a.map(function(e){var r=0;l.has("field"+t+"_"+e.rowIndex)&&(r=l.get("field"+t+"_"+e.rowIndex).numValue,r.toString().indexOf("e-")>-1&&(r=r.toFixed(15))),r<0?n+=r:n=n+"+"+r}),_.calExpressionResult(n)},this.executeRowRule=function(e,t,n){var o=r.layoutStore,i=o.linkageCfg,a=o.fieldAttrMap,l=o.detailMap,s=o.propFileCfg,u=i.rowCalCfg||{},c={};1===r.triType?t in u&&u[t].map(function(t){c[t.assignField]={expression:t.config,tableMark:e,rowIndexStr:n}}):2===r.triType?b.forIn(u,function(e,t){if("rowCalAssignInfo"===t)return!0;e&&e.map(function(e){var t=e.assignField;if(t in c||!a.has(t))return!0;var r=a.get(t).tableMark,n=l.get(r);c[t]={expression:e.config,tableMark:r,rowIndexStr:n.allRowIndexStr}})}):3===r.triType&&b.forIn(u,function(t,r){if("rowCalAssignInfo"===r)return!0;t&&t.map(function(t){var r=t.assignField;if(!a.has(r))return!0;var o=a.get(r).tableMark;if(r in c||e!==o)return!0;c[r]={expression:t.config,tableMark:e,rowIndexStr:n}})});var f={};return!b.isEmpty(c)&&b.forIn(c,function(e,t){var n=(e.tableMark,e.expression),o=e.rowIndexStr;if(r.judgeFieldUnExistTemplate(t))return!0;var i=!0;n.match(/detailfield_\d+/g).map(function(e){r.judgeFieldUnExistTemplate(e.substring(12))&&(i=!1)}),i&&!!o&&o.split(",").map(function(e){var o=n,i=new RegExp("detailfield_\\d+","g");o.match(i).map(function(t){var r=_.getFieldValue(t.substring(12),e,!0);r<0&&(r="("+r+")");var n=new RegExp(t+"(?!d)","g");o=o.replace(n,r)});var a=_.calExpressionResult(o);3===r.triType&&0===parseFloat(a)&&"1"!==s.rowRule_addRow_empty&&(a=""),f["field"+t+"_"+e]={value:a}})}),f},this.executeColRule=function(e,t){var n=r.layoutStore,o=n.linkageCfg,i=n.fieldAttrMap,a=n.detailMap,l=n.propFileCfg,s=o.colCalCfg||{},u=o.mainCalCfg||{},c={};if(1===r.triType){var f=t in s,d=u[t];(f||d)&&(c[t]={tableMark:e,needSum:f,sumMainFieldid:d})}else 2!==r.triType&&3!==r.triType&&4!==r.triType||a.forEach(function(t,n){2!==r.triType&&(3!==r.triType&&4!==r.triType||n!==e)||b.forIn(t.fieldInfo,function(e,t){if(1===e.htmltype&&1!==e.detailtype){var r=t in s,o=u[t];(r||o)&&(c[t]={tableMark:n,needSum:r,sumMainFieldid:o})}})});var p={},h={};return!b.isEmpty(c)&&b.forIn(c,function(e,t){var n=e.tableMark,o=e.needSum,s=e.sumMainFieldid;if(r.judgeDetailUnExistTemplate(n))return!0;if(r.judgeFieldUnExistTemplate(t))return!0;var u=r.getDetailFieldSumValue(n,t);if(o){var c=_.convertNumberValue(u,i.get(t));h["sum"+t]=c}if(s){var f=a.get(n),d=f.rowInfoArr;0===u&&0===d.length&&"1"!==l.colRule_noRow_empty&&(u=""),p["field"+s]={value:u}}}),{changeDatas:p,changeVars:h}},this.executeFieldMath=function(e){var t=r.layoutStore,n=t.linkageCfg,o=t.fieldAttrMap,i=n.fieldMathCfg||{},a={};1===r.triType?e in i&&i[e].map(function(e){a[e.assignField]={expression:e.config,relateFields:e.relateFields}}):2===r.triType&&b.forIn(i,function(e,t){e&&e.map(function(e){a[e.assignField]={expression:e.config,relateFields:e.relateFields}})});var l={};return b.forIn(a,function(e,t){if(r.judgeFieldUnExistTemplate(t))return!0;var n=e.expression;e.relateFields&&e.relateFields.map(function(e){if(!o.has(e))return"";var t=_.getFieldValue(e,-1,!0);t<0&&(t="("+t+")");var r=new RegExp("\\$"+e+"\\$","g");n=n.replace(r,t)});var i=_.calExpressionResult(n);l["field"+t]={value:i}}),l},this.executeFormula=function(e,t,n){var o=r.layoutStore,i=o.dataJson,a=o.cellInfo,l=o.propFileCfg,s=i.formula||{};if(3!==r.triType&&4!==r.triType||setTimeout(function(){(0,C.calculateDetailFormulaNew)(e,n)},50),!b.isEmpty(s)){var u=[];if(1===r.triType){var c=b.get(a,["fieldCellInfo",t,"relateFormula"]);c&&c.map(function(e){if(e in s){var t=s[e],r=-1===parseInt(n)&&t.destcell.indexOf("DETAIL_")>-1?"all":n;u.push({formulaKey:e,triRowMark:r})}})}else 2===r.triType&&"1"===l.tri_formula_all?b.forIn(s,function(e,t){var r=t.indexOf("DETAIL_")>-1?"all":-1;u.push({formulaKey:t,triRowMark:r})}):3===r.triType?b.forIn(s,function(t,r){r.indexOf(e.toUpperCase())>-1?u.push({formulaKey:r,triRowMark:n}):-1===r.indexOf("DETAIL_")&&t.formulatxt.indexOf(e.toUpperCase())>-1&&u.push({formulaKey:r,triRowMark:-1})}):4===r.triType&&b.forIn(s,function(t,r){-1===r.indexOf("DETAIL_")&&t.formulatxt.indexOf(e.toUpperCase())>-1&&u.push({formulaKey:r,triRowMark:-1})});if(0!==u.length){return(0,y.calculateFormula)(u)}}},this.controlSelectChange=function(e,t,n){var o=1===parseInt(r.commonParam.isviewonly||0)||1===parseInt(r.commonParam.isaffirmance||0),i=r.layoutStore,a=i.fieldAttrMap,l=i.detailMap,s={};if(1===r.triType){var u=a.get(t);if(!u||5!==u.htmltype||0===b.get(u,["selectattr","childfieldid"]))return;s[t]={attr:u,rowIndexStr:n}}else if(2===r.triType)a.forEach(function(e,t){if(5!==e.htmltype||0===b.get(e,["selectattr","childfieldid"]))return!0;var r=e.tableMark,n=r.indexOf("detail")>-1?l.get(r).allRowIndexStr:"-1";s[t]={attr:e,rowIndexStr:n}});else if(3===r.triType){var c=l.get(e);b.forIn(c.fieldInfo,function(e,t){if(5!==e.htmltype||0===b.get(e,["selectattr","childfieldid"]))return!0;s[t]={attr:e,rowIndexStr:n}})}var f={},d={};return!b.isEmpty(s)&&b.forIn(s,function(e,t){if(r.judgeFieldUnExistTemplate(t))return!0;var n=e.attr,i=e.rowIndexStr,l=n.tableMark,s=b.get(n,["selectattr","childfieldid"]),u=a.get(s.toString()),c=u&&b.get(u,["selectattr","selectitemlist"]);if(!c||b.isEmpty(c)||""===i)return!0;i.split(",").map(function(e){var r="",i=_.getFieldValue(t,e);""!==i&&b.get(n,["selectattr","selectitemlist"]).map(function(e){e.selectvalue===parseInt(i)&&(r=e.childitemid)});var a=r.split(","),p=_.getFieldValue(s,e);if(""!==p){var h=p.split(","),m="";h.map(function(e){if(-1===b.indexOf(a,e))return!0;var t=!1;c.map(function(r){r.selectvalue.toString()!==e||1===r.cancel&&(1!==r.cancel||!o&&1!==u.viewattr)||(t=!0)}),t&&(m+=","+e)}),p=m}""===p&&c.map(function(e){var t=e.selectvalue.toString();1===e.isdefault&&1!==e.cancel&&b.indexOf(a,t)>-1&&(p+=","+t)}),p.length>0&&","===p.substring(0,1)&&(p=p.substring(1));var v=l.indexOf("detail_")>-1?"field"+s+"_"+e:"field"+s;f[v]={value:p},d[v]={optionRange:a}})}),{changeDatas:f,fieldVars:d}},this.controlViewAttr=function(e,t,n){var o=r.layoutStore,i=o.linkageCfg,a=o.fieldAttrMap,l=o.detailMap,s=i.viewAttrCfg||{},u={};if(1===r.triType){var c=t+"_"+(e.indexOf("detail_")>-1?1:0);c in s&&(u[t]={cfg:s[c],rowIndexStr:n})}else 2===r.triType?b.forIn(s,function(e,t){var r=t.split("_")[0],n="1"===t.split("_")[1];if(!a.has(r))return!0;var o=a.get(r).tableMark,i=n?l.get(o).allRowIndexStr:"-1";u[r]={cfg:e,rowIndexStr:i}}):3===r.triType&&b.forIn(s,function(t,r){var o=r.split("_")[0],i="1"===r.split("_")[1];if(!a.has(o))return!0;a.get(o).tableMark===e&&i&&(u[o]={cfg:t,rowIndexStr:n})});var f={},p={};return!b.isEmpty(u)&&b.forIn(u,function(e,t){var n=e.cfg,o=e.rowIndexStr;!!o&&o.split(",").map(function(e){var o=_.getFieldValue(t,e),i={};b.forIn(n,function(e,t){if("relateFields"===t)return!0;r.judgeViewAttrTriCondition(t,o)&&(i=(0,d.default)({},i,e))}),n.relateFields.map(function(t){var r=t.split("_")[0],n="1"==t.split("_")[1],o=n?"field"+r+"_"+e:"field"+r,a=-1;b.has(i,t)&&(a=parseInt(b.get(i,t)||-1),1===a?a=2:2===a?a=3:3===a&&(a=1)),f[o]={viewAttr:-1},p[o+"_viewAttr"]=-1,a<=3&&(f[o]={viewAttr:a}),4!==a&&5!==a||(p[o+"_viewAttr"]=a)})})}),{fieldVars:f,changeVars:p}},this.judgeViewAttrTriCondition=function(e,t){var r=!1,n=e.split("|");if(2!=n.length)return!1;var o=n[0],i=","+n[1]+",",a=","+t+",";switch(parseInt(o)){case 0:r=i.indexOf(a)>-1;break;case 1:r=-1===i.indexOf(a);break;case 2:r=a.indexOf(i)>-1;break;case 3:r=-1===a.indexOf(i);break;case 4:r="1"==t;break;case 5:r="1"!=t}return r},this.controlFieldTypeChange=function(e,t,n){var o={},i=r.layoutStore,a=i.fnaInfo,l=i.hrmInfo,s=i.fieldAttrMap,u=i.detailMap;if(a&&!0===a.belFna&&(o=(0,d.default)({},o,a.linkageCfg)),l&&!0===l.belHrm&&(o=(0,d.default)({},o,l.linkageCfg)),!b.isEmpty(o)){var c=[];if(1===r.triType){var f=e.indexOf("detail_")>-1,p=f?t+"_1":t+"_0";p in o&&c.push({triFieldMark:p,rowIndexStr:n})}else 2===r.triType?b.forIn(o,function(e,t){var r=t.split("_")[0],n="1"===t.split("_")[1];if(!s.has(r))return!0;var o=s.get(r).tableMark;if(n&&!u.has(o))return!0;var i=n?u.get(o).allRowIndexStr:"-1";c.push({triFieldMark:t,rowIndexStr:i})}):3===r.triType&&b.forIn(o,function(t,r){var o=r.split("_")[0],i="1"===r.split("_")[1];if(!s.has(o))return!0;s.get(o).tableMark===e&&i&&c.push({triFieldMark:r,rowIndexStr:n})});var h=(parseInt(r.commonParam.iscreate||0),{}),m={};return c.length>0&&c.map(function(e){var t=e.triFieldMark,n=e.rowIndexStr,i=t.split("_")[0],a="1"===t.split("_")[1];!!n&&n.split(",").map(function(e){var n=_.getFieldValue(i,e);if(""===n||!b.has(o,[t,n]))return"";b.get(o,[t,n]).map(function(t){var n=t.fieldid,o=t.defValueObj,i=void 0===o?"":o,s=t.changeType,u=t.selectOption,c=n.split("_")[0],f=a?"field"+c+"_"+e:"field"+c;1!==r.triType||l.belHrm||(h[f]=i);var d=s.indexOf("-")>-1?s:"3-"+s,p=u||{};m[f]={changeFieldType:d,changeFieldTypeSelectOption:p}})})}),{changeDatas:h,fieldVars:m}}},this.generateFieldSqlTriInfo=function(e,t,n){var o=r.layoutStore,i=o.linkageCfg,a=o.propFileCfg,l=o.fieldAttrMap,s=o.detailMap,u={},c=i.fieldSqlCfg||{};return b.isEmpty(c)?{}:(1===r.triType?t in c&&c[t].map(function(o){var i=o.assignField,a=o.config,c=o.relateFields;if(r.judgeFieldUnExistTemplate(i))return!0;var f=n,d=l.get(i).tableMark;"main"===e&&d.indexOf("detail_")>-1&&(f=s.get(d).allRowIndexStr);var p={assignfields:[i]};u[a]={triFieldid:t,relateFields:c,rowIndexStr:f,triTableMark:e,otherParams:p}}):2===r.triType?b.forIn(c,function(e,t){e&&e.map(function(e){var t=e.assignField,n=e.config,o=e.relateFields;if(r.judgeFieldUnExistTemplate(t))return!0;var i=l.get(t).tableMark;if("main"===i||"1"===a.tri_fieldSql_detail){var c=i.indexOf("detail_")>-1?s.get(i).allRowIndexStr:"-1",f={assignfields:[t]};u[n]={triFieldid:"",relateFields:o,rowIndexStr:c,triTableMark:i,otherParams:f}}})}):3===r.triType&&b.forIn(c,function(t,o){t&&t.map(function(t){var o=t.assignField,i=t.config,a=t.relateFields;if(r.judgeFieldUnExistTemplate(o))return!0;var s=l.get(o).tableMark;if(s===e){var c={assignfields:[o]};u[i]={triFieldid:"",relateFields:a,rowIndexStr:n,triTableMark:s,otherParams:c}}})}),u)},this.generateDateTimeTriInfo=function(e,t,n){var o=r.layoutStore,i=o.linkageCfg,a=o.propFileCfg,l=o.fieldAttrMap,s=o.detailMap,u={},c=i.fieldDateCfg||{};return b.isEmpty(c)?{}:(1===r.triType?t in c&&c[t].map(function(o){var i=o.assignField,a=o.config,l=o.relateFields;if(r.judgeFieldUnExistTemplate(i))return!0;u[a]={triFieldid:t,relateFields:l,rowIndexStr:n,triTableMark:e}}):2===r.triType?b.forIn(c,function(e,t){e&&e.map(function(e){var t=e.assignField,n=e.config,o=e.relateFields;if(r.judgeFieldUnExistTemplate(t))return!0;var i=l.get(t).tableMark;if("main"===i||"1"===a.tri_dateTime_detail){var c=i.indexOf("detail_")>-1?s.get(i).allRowIndexStr:"-1";u[n]={triFieldid:"",relateFields:o,rowIndexStr:c,triTableMark:i}}})}):3===r.triType&&b.forIn(c,function(t,o){t&&t.map(function(t){var o=t.assignField,i=t.config,a=t.relateFields;if(r.judgeFieldUnExistTemplate(o))return!0;var s=l.get(o).tableMark;s===e&&(u[i]={triFieldid:"",relateFields:a,rowIndexStr:n,triTableMark:s})})}),u)},this.generateDataInputTriInfo=function(e,t,n){var o=r.layoutStore,i=o.linkageCfg,a=o.propFileCfg,l=o.fieldAttrMap,s=o.detailMap,u={},c=i.dataInputCfg||{};if(b.isEmpty(c))return{};if(1===r.triType)t in c&&c[t].map(function(r){var o=(r.assignField,r.config),i=r.relateFields,a=r.otherParams;u[o]={triFieldid:t,relateFields:i,rowIndexStr:n,triTableMark:e,otherParams:a}});else if(2===r.triType){var f=parseInt(r.commonParam.iscreate||0);b.forIn(c,function(e,t){if(!l.has(t))return!0;var r=l.get(t).tableMark,n=r.indexOf("detail_")>-1;if(1===f||!n&&"1"===a.tri_dataInput_main||n&&"1"===a.tri_dataInput_detail){var o=n?s.get(r).allRowIndexStr:"-1";e&&e.map(function(e){var n=(e.assignField,e.config),i=e.relateFields,a=e.otherParams;u[n]={triFieldid:t,relateFields:i,rowIndexStr:o,triTableMark:r,otherParams:a}})}})}else 3===r.triType&&b.forIn(c,function(t,r){if(!l.has(r))return!0;var o=l.get(r).tableMark;o===e&&t&&t.map(function(e){var t=(e.assignField,e.config),i=e.relateFields,a=e.otherParams;u[t]={triFieldid:r,relateFields:i,rowIndexStr:n,triTableMark:o,otherParams:a}})});return u},this.generateReqLinkageParams=function(e,t){var n=r.layoutStore.fieldAttrMap,o={requestid:r.commonParam.requestid,workflowid:r.commonParam.workflowid,nodeid:r.commonParam.nodeid,formid:r.commonParam.formid,isbill:r.commonParam.isbill,triSource:r.triType,showAI:r.showAI?"1":"0"},i="";return!b.isEmpty(e)&&b.forIn(e,function(e,a){var l=e.triFieldid,s=e.relateFields,u=e.rowIndexStr,c=e.triTableMark,f=e.otherParams;if(""===u)return!0;var p=f&&f.assignfields||[];i+=a+",",o["triFieldid_"+a]=l,o["rowIndexStr_"+a]=u,o["triTableMark_"+a]=c,u.split(",").map(function(e){if("datainput"===t){var i=c.indexOf("detail_")>-1?"field"+l+"_"+e:"field"+l;o[i]=_.getFieldValue(l,e)}s.map(function(t){if(!n.has(t))return!0;var r=n.get(t),i=r.isDetail?"field"+t+"_"+e:"field"+t;if(i in o)return!0;o[i]=_.getFieldValue(t,e)}),o=(0,d.default)({},o,r.generateCustomBrowserDependParams(p,e))})}),o.linkageid=""!==i?i.substring(0,i.length-1):"",r.commonParam.linkageUUID&&(o.linkageUUID=r.commonParam.linkageUUID),o},this.generateCustomBrowserDependParams=function(e,t){var n={},o=r.layoutStore.fieldAttrMap;return e&&e.forEach(function(e){var r=o.get(e)||{},i=r.htmltype,a=r.detailtype,l=r.browserattr,s=r.isDetail;if(3===i&&(161===a||162===a)&&l&&l.hasOwnProperty("cusDependShip")&&l.cusDependShip.length>0){var u=s&&parseInt(t)>=0?"field"+e+"_"+t:"field"+e,f={};l.cusDependShip.forEach(function(e){var r=_.getFieldValue(e.fieldid,t);f[e.key]=r}),n["customDepend_"+u]=(0,c.default)(f)}}),n},this.sendLinkageAjax=function(e,t){if(!b.isEmpty(e)){var n=r.layoutStore,o=n.fieldAttrMap,i=n.propFileCfg,l=n.detailMap,u=parseInt(r.commonParam.iscreate||0),c=new Array;2===r.triType&&"1"===i.split_req_linkageData?b.forIn(e,function(e,n){var o=(0,s.default)({},n,e);c.push(r.generateReqLinkageParams(o,t))}):c.push(r.generateReqLinkageParams(e,t)),c.length>0&&c.map(function(n){if(!n.linkageid)return!0;var s=k.generateKeyOrder(t,n),c=null;"datainput"===t?c=v.default.API_REQ.reqDataInputResult(n):"fieldsql"===t?c=v.default.API_REQ.reqFieldSqlResult(n):"datetime"===t&&(c=v.default.API_REQ.reqDateTimeResult(n)),c.then(function(c){try{if(c=k.removeInvalidResponse(s,c),"datainput"===t&&1===r.triType){var f={};!b.isEmpty(c)&&b.forIn(c,function(t,r){var n=t.addDetailRow||{},o=r.replace("assignInfo_","");if(e[o].otherParams&&"1"==e[o].otherParams.isdel&&!b.isEmpty(n)){var i=(0,a.default)(n);i.length>0&&i.map(function(e){var t=[],r=l.get(e),n=r.rowInfo;!b.isEmpty(n)&&n.forEach(function(e,r){parseInt(e.get("keyid")||0)<=0&&!0===e.get("fromLinkage")&&t.push(r.substring(4))}),t.length>0&&(f[e]=t)})}}),(0,a.default)(f).length>0&&b.forIn(f,function(e,t){E.delAssignRow(t,e)})}var p={},h=[],m=[];!b.isEmpty(c)&&b.forIn(c,function(e,n){if(b.isEmpty(e))return!0;var i=e.changeValue;if("datainput"===t&&(1===r.triType||2===r.triType&&1===u)){var a=e.addDetailRow;!b.isEmpty(a)&&b.forIn(a,function(e,t){e&&e.map(function(e){h.push({detailMark:t,rowData:e})})})}b.forIn(i,function(e,t){var r=t.split("_"),n=r[0].substring(5),i=r.length>1?r[1]:"-1";if(o.has(n)){var a=o.get(n),l=a.isDetail?"field"+n+"_"+i:"field"+n;p[l]=e}}),r.showAI&&e.linkageSql&&m.push(e.linkageSql),1==e.resultOutOfLimit&&("datainput"===t?window.WfForm.showMessage(v.default.getLabel(529187,"联动结果集数量超出限制，请检查字段联动设置！"),1,3):window.WfForm.showMessage(v.default.getLabel(529188,"字段赋值SQL结果集数量超出限制，请检查设置！"),1,3))});var g=0;if(r.showAI){var y={linkageType:t,linkageSql:m,reqParams:n,reqResult:c};g=O.generateStepId(O.TYPE_LINKAGE_ASYNC,(0,d.default)({},r.triInfo,y))}r.layoutStore.changeMoreFieldData(p,{},g);var w=[],_=i.minDtRowEnableMerge||30,S=h.length>_,I=i.mergeLinkageRowCount||20,C=0,x="",P="";h.map(function(e,t){C++;var r={};S&&(C<I&&t!==h.length-1&&(""==P||h[t+1].detailMark==e.detailMark)?r={forbidLinkage:!0,isLastRow:t===h.length-1}:(r={forbidLinkage:!1,rowIndexStr:x},C=0,x="")),P=e.detailMark;var n=E.addRow(e.detailMark,e.rowData,!0,!1,r);S&&C<I&&(x+=n+",");var o={detailIndex:n,rowData:e.rowData};w.push(o)}),r.generateConvertDatas(p,w)}catch(e){window.console}})})}},this.generateConvertDatas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],o="";for(o in e)r.getConvertDatas(o,e[o].value,n);t&&t.map(function(e){!b.isEmpty(e.rowData)&&b.forIn(e.rowData,function(t,o){if(o.indexOf("field")>-1){var i=o+"_"+e.detailIndex;r.getConvertDatas(i,t.value,n)}})}),b.isEmpty(n)||r.sendConvertTypeAjax(n)},this.getConvertDatas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=_.getFieldAttr(e);if(!b.isEmpty(o)){var i=o.tableMark,a=_.getFieldObj(e,i),l=r.getFieldid(e);if(a&&a.variable.has("changeFieldType")){var s=a.variable.get("changeFieldType"),u={requestid:r.commonParam.requestid,formid:r.commonParam.formid,isbill:r.commonParam.isbill,fieldid:l,fieldvalue:t,destFieldid:e,browserType:s};n.push(u)}}},this.sendConvertTypeAjax=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!b.isEmpty(e)){var t={arrayInfo:(0,c.default)(e)};v.default.API_REQ.getBrowserInfo(t).then(function(e){if(e&&e.result)for(var t=JSON.parse(e.result),n=0;n<t.length;n++){var o=t[n],i=o.destFieldid,a=o.destFieldValue;a.value&&(a.value=a.value.trim());var l={};l[i]=a;var s=O.generateStepId(O.TYPE_LINKAGE_ASYNC);r.layoutStore.changeMoreFieldData(l,{},s)}})}},this.getFieldid=function(e){return e.indexOf("_")>-1&&(e=e.substring(0,e.indexOf("_"))),e.indexOf("field")>-1&&(e=e.substring(5)),e},this.triType=parseInt(t),this.layoutStore=v.default.layoutStore,this.commonParam=v.default.globalStore.commonParam,this.showAI=v.default.globalStore.commonParam&&"1"==v.default.globalStore.commonParam.showAI};t.default=P},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isInt(e){return/^[0-9]+$/.test(e)}function rewrite_add(e,t){var r=0,n=0;try{r=e.toString().split(".")[1].length}catch(e){}try{n=t.toString().split(".")[1].length}catch(e){}var o=Math.pow(10,Math.max(r,n));return(e*o+t*o)/o}function EXCEL_SUM(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];isNaN(parseFloat(r))||(""===e&&(e=0),e=rewrite_add(e,r))}return e}function EXCEL_AVERAGE(){for(var e=0,t=0,r=0;r<arguments.length;r++){var n=arguments[r];isNaN(parseFloat(n))||(t=rewrite_add(t,n),e++)}if(e>0)return parseFloat(t/e);throw new Error("EXCEL_AVERAGE divisor is zero")}function EXCEL_ABS(){if(1==arguments.length){var e=arguments[0];if(isNaN(parseFloat(e)))throw new Error("EXCEL_ABS arguments value is not a number");return Math.abs(parseFloat(e))}throw new Error("EXCEL_ABS arguments number must equal one")}function EXCEL_ROUND(){if(2==arguments.length){var e=arguments[0],t=arguments[1];if(isNaN(parseFloat(e)))throw new Error("EXCEL_ROUND first argument value is not a number");if(e=parseFloat(e),!isInt(t))throw new Error("EXCEL_ROUND second argument value is not a int");return t=parseInt(t),(0,_inputUtil.convertFloatValue)(e,t)}throw new Error("EXCEL_ROUND arguments number must equal two")}function EXCEL_IF(){if(3==arguments.length)return eval(arguments[0])?arguments[1]:arguments[2];throw new Error("EXCEL_IF arguments number must equal three")}function EXCEL_MAX(){for(var e,t=0;t<arguments.length;t++){var r=arguments[t];isNaN(parseFloat(r))||(null==e?e=parseFloat(r):parseFloat(r)>e&&(e=parseFloat(r)))}if(null!=e)return e;throw new Error("EXCEL_MAX arguments value must contain a number")}function EXCEL_MIN(){for(var e,t=0;t<arguments.length;t++){var r=arguments[t];isNaN(parseFloat(r))||(null==e?e=parseFloat(r):parseFloat(r)<e&&(e=parseFloat(r)))}if(null!=e)return e;throw new Error("EXCEL_MIN arguments value must contain a number")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateFormula=void 0;var _source=__webpack_require__(25),_source2=_interopRequireDefault(_source),_common=__webpack_require__(10),_=_interopRequireWildcard(_common),_fieldUtil=__webpack_require__(18),_inputUtil=__webpack_require__(80),calculateFormula=exports.calculateFormula=function(e){var t=_source2.default.layoutStore,r=t.dataJson,n=t.fieldAttrMap,o=(t.detailMap,r.formula||{}),i={};return e.map(function(e){try{var t=o[e.formulaKey];if(!t||!_.has(t,"destfield")||!_.has(t,"formulatxt")||!_.has(t,"cellrange"))return!0;var r=t.destcell,a=t.destfield,l=_.trim(t.formulatxt).substring(1);if(-1===r.indexOf("DETAIL_")){var s="";if(/DETAIL_\d+\./.test(l)){s=/^(EXCEL_AVERAGE|EXCEL_MIN|EXCEL_MAX)\((\s*(MAIN|TAB_\d+|DETAIL_\d+)\.[A-Z]+\d+\s*(\,)?)+\)$/.test(l)?calculate_detail_special(l):calculate_detail_sum(l)}else s=calculate_single(l,-1);i["field"+a]={value:s}}else{var u=n.get(a).tableMark,c="all"===e.triRowMark?getDetailAllRowIndexStr(u):e.triRowMark.toString();!!c&&c.split(",").map(function(e){var t=calculate_single(l,e);i["field"+a+"_"+e]={value:t}})}}catch(e){window.console}}),i},getDetailAllRowIndexStr=function(e){var t=_source2.default.layoutStore.detailMap;return t.has(e)?t.get(e).allRowIndexStr:""},calculate_single=function(e,t){return evalFormual(replaceFormula(e,t))},calculate_detail_special=function(e){return evalFormual(replaceFormula(e,"all"))},calculate_detail_sum=function(e){var t="",r=e.match(/(DETAIL_\d+)/g)[0].toLowerCase(),n=getDetailAllRowIndexStr(r);return!!n&&n.split(",").map(function(r){try{var n=evalFormual(replaceFormula(e,r));t=EXCEL_SUM(t,n)}catch(e){}}),t},evalFormual=function evalFormual(expression){var result="";try{result=eval(expression)}catch(e){window.console}return result.toString()},replaceFormula=function(e,t){if("all"!==t&&isNaN(t))throw new Error("RowMark Parameter Illegal");var r=_source2.default.layoutStore.cellInfo,n=r.fieldCellInfo||{},o=/(MAIN|TAB_\d+|DETAIL_\d+)\.[A-Z]+\d+/g;return e.match(o).map(function(r){var o="",i=convertCellAttrToFieldid(n,r);if(i){var a=r.indexOf("DETAIL_")>-1,l=a?r.split(".")[0].toLowerCase():"main";if(a&&"all"===t){var s=getDetailAllRowIndexStr(l);!!s&&s.split(",").map(function(e,t){t>0&&(o+=","),o+=getSingleFieldValue(i,e,l)})}else o=getSingleFieldValue(i,t,l)}var u=new RegExp(r+"(?!\\d)","g");o.startsWith("-")&&(o="("+o+")"),e=e.replace(u,o)}),e},getSingleFieldValue=function(e,t,r){var n=_source2.default.layoutStore.fieldAttrMap,o=(0,_fieldUtil.getFieldValue)(e,t),i=n.get(e);return 1===i.htmltype&&5===i.detailtype&&(o=o.toString().replace(/,/g,"")),""!==o&&(0,_inputUtil.judgeIsNumber)(o,!0)||(o='"'+o+'"'),o},convertCellAttrToFieldid=function(e,t){var r=t.split(".")[0].toLowerCase(),n=t.split(".")[1],o=parseInt(n.match(/\d+$/)[0])-1,i=convertCharToInt(n.match(/^[a-zA-Z]+/)[0])-1,a="";return _.forIn(e,function(e,t){if(e.rowid===o&&e.colid===i&&e.symbol===r)return a=t,!1}),a},convertCharToInt=function(e){for(var t=0,r=0,n=e.length-1;n>=0;n--){var o=e[n].charCodeAt()-64;t+=Math.pow(26,r)*o,r++}return t}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,R.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusStore=void 0;var l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I,k,C,x,O,P,M,A,F=r(16),R=o(F),T=r(31),D=o(T),j=r(7),L=o(j),N=r(0),q=o(N),W=r(2),B=o(W),z=r(9),U=n(z),V=r(15),H=n(V),G=r(10),Q=n(G),K=r(12),J=o(K);t.StatusStore=(l=(0,z.action)("切换卡片类型"),s=(0,z.action)("加载流程状态数据"),u=(0,z.action)("加载计数信息"),c=(0,z.action)("控制显示/隐藏的行节点"),f=(0,z.action)("控制显示/隐藏全部的行节点"),d=function(){function e(){var t=this;(0,q.default)(this,e),this.baseParam={},i(this,"cardid",p,this),i(this,"counts",h,this),i(this,"dataMap",m,this),this.paramMap=z.observable.map?z.observable.map({}):(0,z.asMap)({}),i(this,"hideRowKeys",v,this),i(this,"nodeOptions",g,this),i(this,"selectedNode",b,this),i(this,"selectedOperator",y,this),i(this,"isHideAll",w,this),i(this,"setBaseParam",_,this),i(this,"setCounts",S,this),i(this,"setSelectedNode",E,this),i(this,"setSelectedOperator",I,this),i(this,"appendDataMap",k,this),i(this,"switchCard",C,this),i(this,"loadData",x,this),i(this,"loadCounts",O,this),i(this,"controlHideRow",P,this),i(this,"controlHideAllRow",M,this),this.getHasAdSearch=function(){return""!=t.selectedOperator||"-1"!=t.selectedNode},i(this,"clearnSearchStatus",A,this),this.switchCard=this.switchCard,this.loadData=this.loadData,this.loadCounts=this.loadCounts,this.controlHideRow=this.controlHideRow,this.controlHideAllRow=this.controlHideAllRow,this.setSelectedNode=this.setSelectedNode,this.setSelectedOperator=this.setSelectedOperator,this.clearnSearchStatus=this.clearnSearchStatus}return(0,B.default)(e,[{key:"getUrlParams",value:function(){var e=window.location.href,t={},r=e.lastIndexOf("?");if(r>0)for(var n=e.substring(r+1).split("&"),o=0;o<n.length;o++)(r=n[o].indexOf("="))>0&&(t[n[o].substring(0,r)]=n[o].substring(r+1));return t}}]),e}(),p=a(d.prototype,"cardid",[z.observable],{enumerable:!0,initializer:function(){return""}}),h=a(d.prototype,"counts",[z.observable],{enumerable:!0,initializer:function(){return{}}}),m=a(d.prototype,"dataMap",[z.observable],{enumerable:!0,initializer:function(){return z.observable.map?z.observable.map({}):(0,z.asMap)({})}}),v=a(d.prototype,"hideRowKeys",[z.observable],{enumerable:!0,initializer:function(){return[]}}),g=a(d.prototype,"nodeOptions",[z.observable],{enumerable:!0,initializer:function(){return[{key:"-1",selected:!1,showname:""}]}}),b=a(d.prototype,"selectedNode",[z.observable],{enumerable:!0,initializer:function(){return"-1"}}),y=a(d.prototype,"selectedOperator",[z.observable],{enumerable:!0,initializer:function(){return""}}),w=a(d.prototype,"isHideAll",[z.observable],{enumerable:!0,initializer:function(){return!1}}),_=a(d.prototype,"setBaseParam",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParam=t}}}),S=a(d.prototype,"setCounts",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.counts=t}}}),E=a(d.prototype,"setSelectedNode",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.selectedNode=t}}}),I=a(d.prototype,"setSelectedOperator",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.selectedOperator=t}}}),k=a(d.prototype,"appendDataMap",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.dataMap.set(e.cardid,t)}}}),C=a(d.prototype,"switchCard",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){t.indexOf("_")>-1&&(t=t.substring(0,t.indexOf("_"))),e.getHasAdSearch()&&(t=t+"_"+e.selectedNode+"_"+e.selectedOperator),e.cardid=t,e.dataMap.has(t)||e.loadData(!0)}}}),x=a(d.prototype,"loadData",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=(0,L.default)({},e.baseParam,{desremark:e.cardid,isfirst:t,pageSize:50,selectedNode:e.selectedNode,selectedOperator:e.selectedOperator}),n=e.getUrlParams();t||(r.parameter=(0,D.default)(e.paramMap.get(e.cardid))),J.default.globalStore.setLoading(!0),n.hasOwnProperty("fromCommunication")&&(r=(0,L.default)({},r,{fromCommunication:n.fromCommunication}));var o=e.getHasAdSearch();H.getWfStatus(r).then(function(r){J.default.globalStore.setLoading(!1);var n=r.datas,i=r.parameter,a=e.dataMap.has(e.cardid)?Q.cloneDeep(U.toJS(e.dataMap.get(e.cardid))):{};!Q.isEmpty(n)&&Q.forIn(n,function(e,t){t in a?a[t].list=Q.concat(a[t].list||[],e.list||[]):a[t]=e}),o&&t&&(e.counts[e.cardid+"count"]||(e.counts[e.cardid+"count"]=r.count)),e.appendDataMap(a),e.paramMap.set(e.cardid,i)})}}}),O=a(d.prototype,"loadCounts",[u],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.getUrlParams(),r=e.baseParam;t.hasOwnProperty("fromCommunication")&&(r=(0,L.default)({},r,{fromCommunication:t.fromCommunication})),H.getWfStatusCount(r).then(function(t){e.setCounts(t),e.nodeOptions=t.selectNodeOptions})}}}),P=a(d.prototype,"controlHideRow",[c],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=Q.indexOf(e.hideRowKeys,t);-1===r?e.hideRowKeys.push(t):e.hideRowKeys.splice(r,1)}}}),M=a(d.prototype,"controlHideAllRow",[f],{enumerable:!0,initializer:function(){var e=this;return function(t){if(e.isHideAll=!e.isHideAll,e.hideRowKeys=[],e.isHideAll)for(var r=0;r<t;r++)e.hideRowKeys.push("rowDataHead_"+(r+1))}}}),A=a(d.prototype,"clearnSearchStatus",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.selectedNode="-1",e.selectedOperator="",e.isHideAll=!1,e.hideRowKeys=[]}}}),d)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,c.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.EhOperatorStore=void 0;var a,l,s,u=r(16),c=n(u),f=r(0),d=n(f),p=r(9),h=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(p),r(15)),m=r(6);t.EhOperatorStore=(a=function e(){var t=this;(0,d.default)(this,e),this.baseParams={},this.fields=[],o(this,"ehform",l,this),this.callBackEvent=null,o(this,"setBaseParams",s,this),this.doInit=function(){(0,h.chooseExceptionOperator)(t.baseParams).then(function(e){var r=e.fields,n=e.formValue;t.fields=r;var o=(0,m.getComsMobx)(),i=o.WeaForm;t.ehform=new i,t.ehform.initFormFieldObj(r),t.ehform.updateFields(n)})},this.setCallBackEvent=function(e){t.callBackEvent=e},this.doCancel=function(){var e={eh_setoperator:"n",isFirstSubmit:1,ehnextnodeid:t.baseParams.ehnextnodeid};t.callBackEvent(e)},this.setBaseParams=this.setBaseParams,this.doInit=this.doInit,this.setCallBackEvent=this.setCallBackEvent,this.doCancel=this.doCancel},l=i(a.prototype,"ehform",[p.observable],{enumerable:!0,initializer:function(){return null}}),s=i(a.prototype,"setBaseParams",[p.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParams=t}}}),a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,b.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.RejectStore=void 0;var a,l,s,u,c,f,d,p,h,m,v,g=r(16),b=n(g),y=r(65),w=n(y),_=r(7),S=n(_),E=r(0),I=n(E),k=r(9);(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e})(k),t.RejectStore=(a=function e(){var t=this;(0,I.default)(this,e),this.baseParams={},this.chooseInfo={},o(this,"rejectNodeList",l,this),o(this,"remindNodeList",s,this),o(this,"rejectNodeOperators",u,this),o(this,"showAllRejectNodeOperators",c,this),o(this,"remindNodeOperators",f,this),o(this,"showAllRemindNodeOperators",d,this),o(this,"isSubmitDirectOptions",p,this),this.confirmEvent=null,this.cancelEvent=null,o(this,"result",h,this),o(this,"setBaseParams",m,this),o(this,"setChooseInfo",v,this),this.doInit=function(){t.result={};var e=t.chooseInfo,r=e.checkedRejectNodeKey,n=e.rejectNodeList,o=e.remindNodeList,i=e.submitDirectNodeOptions,a=e.rejectNodeOperators,l=e.remindNodeOperators,s="";o&&o.map(function(e,t){s+=(t>0?",":"")+e.key}),t.appendResult({rejectNodeKey:r,remindNodeid:s}),t.rejectNodeList=n,t.remindNodeList=o,t.rejectNodeOperators=a,t.remindNodeOperators=l,t.showAllRejectNodeOperators={},t.showAllRemindNodeOperators={},t.isSubmitDirectOptions=i,t.isSubmitDirectOptions&&t.isSubmitDirectOptions.map(function(e){1==e.selected&&t.appendResult({isSubmitDirect:e.key})})},this.setConfirmEvent=function(e){t.confirmEvent=e},this.setCancelEvent=function(e){t.cancelEvent=e},this.appendResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.result=(0,S.default)({},t.result,e)},this.setShowAllRejectNodeOperators=function(e){var r=(0,S.default)({},t.showAllRejectNodeOperators,(0,w.default)({},e,!t.showAllRejectNodeOperators[e]));t.showAllRejectNodeOperators=r},this.setShowAllRemindNodeOperators=function(e){var r=(0,S.default)({},t.showAllRemindNodeOperators,(0,w.default)({},e,!t.showAllRemindNodeOperators[e]));t.showAllRemindNodeOperators=r},this.setBaseParams=this.setBaseParams,this.doInit=this.doInit,this.setConfirmEvent=this.setConfirmEvent,this.setCancelEvent=this.setCancelEvent,this.appendResult=this.appendResult,this.setShowAllRejectNodeOperators=this.setShowAllRejectNodeOperators,this.setShowAllRemindNodeOperators=this.setShowAllRemindNodeOperators},l=i(a.prototype,"rejectNodeList",[k.observable],{enumerable:!0,initializer:function(){return[]}}),s=i(a.prototype,"remindNodeList",[k.observable],{enumerable:!0,initializer:function(){return[]}}),u=i(a.prototype,"rejectNodeOperators",[k.observable],{enumerable:!0,initializer:function(){return{}}}),c=i(a.prototype,"showAllRejectNodeOperators",[k.observable],{enumerable:!0,initializer:function(){return{}}}),f=i(a.prototype,"remindNodeOperators",[k.observable],{enumerable:!0,initializer:function(){return{}}}),d=i(a.prototype,"showAllRemindNodeOperators",[k.observable],{enumerable:!0,initializer:function(){return{}}}),p=i(a.prototype,"isSubmitDirectOptions",[k.observable],{enumerable:!0,initializer:function(){return[]}}),h=i(a.prototype,"result",[k.observable],{enumerable:!0,initializer:function(){return{}}}),m=i(a.prototype,"setBaseParams",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParams=t}}}),v=i(a.prototype,"setChooseInfo",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.chooseInfo=t}}}),a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,c.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareStore=void 0;var a,l,s,u=r(16),c=n(u),f=r(0),d=n(f),p=r(9),h=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(p),r(12)),m=n(h);t.ShareStore=(a=function e(){(0,d.default)(this,e),o(this,"msginfo",l,this),this.shareParams={},o(this,"setMsgInfo",s,this)},l=i(a.prototype,"msginfo",[p.observable],{enumerable:!0,initializer:function(){return[]}}),s=i(a.prototype,"setMsgInfo",[p.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=m.default.globalStore,n=r.commonParam,o=(r.invalidParam,r.urlParams),i=n.requestid,a=n.f_weaver_belongto_userid,l=n.f_weaver_belongto_usertype,s=n.requestnamenew,u=n.requestname,c=n.currentUserid,f=o.firstSharer,d=t.serialid?t.serialid:o.serialid||"",p=f||a,h="?resourcetype=0&resourceid="+i+"&isfromchatshare=1&sharer="+c+"&firstSharer="+p+"&serialid="+d+"&f_weaver_belongto_userid="+a+"&f_weaver_belongto_usertype="+l;e.shareParams={resourcetype:152,resourceid:i,serialid:d,firstSharer:p,f_weaver_belongto_userid:a,f_weaver_belongto_usertype:l},e.msginfo=[{sharetitle:s||u,linkurl:"/common/chatResource/view.html"+h,objectName:"FW:CustomShareMsg",canforward:1,callbackurl:"/api/common/chatResource/addshare"+h,sharetype:"workflow",shareid:""+i,serialid:d,opentype:1,opentype_pc:2}],e.joinerParams={showJoiner:!0,joinerUrl:"/api/workflow/forward/getReqWfNodeOperatorsNew",joinerUrlParams:{requestid:i}}}}}),a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,f.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.OverTimeStore=void 0;var a,l,s,u,c=r(16),f=n(c),d=r(65),p=n(d),h=r(7),m=n(h),v=r(0),g=n(v),b=r(9),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),w=r(15);t.OverTimeStore=(a=function e(){var t=this;(0,g.default)(this,e),this.baseParams={},this.columns=[],o(this,"nodeList",l,this),o(this,"nodeDatas",s,this),this.closeEvent=null,o(this,"setBaseParams",u,this),this.doInit=function(){(0,w.overTimeSetting)((0,m.default)({},t.baseParams,{opertype:"get"})).then(function(e){t.nodeList=e.nodeList,t.nodeDatas=e.nodeDatas})},this.doSave=function(){var e="";t.nodeList.length>0&&t.nodeList.map(function(t,r){e+=(r>0?",":"")+t});var r={opertype:"save",nodeids:e};r=(0,m.default)({},r,t.baseParams,y.toJS(t.nodeDatas)),(0,w.overTimeSetting)(r).then(function(e){t.closeEvent()})},this.changeDatas=function(e,r){t.nodeDatas=(0,m.default)({},t.nodeDatas,(0,p.default)({},e,r))},this.setCloseEvent=function(e){t.closeEvent=e},this.setBaseParams=this.setBaseParams,this.doInit=this.doInit,this.doSave=this.doSave,this.changeDatas=this.changeDatas,this.setCloseEvent=this.setCloseEvent},l=i(a.prototype,"nodeList",[b.observable],{enumerable:!0,initializer:function(){return[]}}),s=i(a.prototype,"nodeDatas",[b.observable],{enumerable:!0,initializer:function(){return{}}}),u=i(a.prototype,"setBaseParams",[b.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParams=t}}}),a)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,p.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.RequestWithdrawStore=void 0;var l,s,u,c,f,d=r(16),p=o(d),h=r(26),m=o(h),v=r(7),g=o(v),b=r(0),y=o(b),w=r(9),_=n(w),S=r(15),E=r(83),I=r(6),k=r(11),C=n(k),x=r(29),O=n(x),P=r(39),M=o(P);t.RequestWithdrawStore=(l=(0,w.action)("修改store中的属性"),s=function e(){var t=this;(0,y.default)(this,e),i(this,"loading",u,this),this.baseParams={},this.allowRemind="",this.isRemind="1",this.recallNodeId="",this.recallNodeName="",this.doPreOperate="",this.remarkRequired="",this.lastOperateTime="",this.lastOperateDate="",this.currentdate="",this.currenttime="",this.closeEvent=function(){},i(this,"doInit",c,this),this.doSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r={actionType:"submit",isRemind:t.isRemind,remark:e,recallNodeId:t.recallNodeId,doPreOperate:t.doPreOperate,lastOperateDate:t.lastOperateDate,lastOperateTime:t.lastOperateTime,currentdate:t.currentdate,currenttime:t.currenttime};O.verifyCustomRegisterEvent(M.default.OPER_WITHDRAW,function(){t.loading=!0,E.message.loading((0,I.getLabel)(515991,"撤回中...，请稍候"),0),(0,S.requestWithDraw)((0,g.default)({},t.baseParams,r)).then(function(e){E.message.destroy();var r=e.msg;"success"==e.result?(E.message.success(r),t.closeEvent(),C.reloadRequestPage((0,g.default)({},t.baseParams))):E.message.error(r),t.loading=!1})})},this.setCloseEvent=function(e){t.closeEvent=e},this.setIsRemind=function(e){t.isRemind=e},i(this,"setState",f,this),this.doInit=this.doInit,this.doSubmit=this.doSubmit,this.setCloseEvent=this.setCloseEvent,this.setIsRemind=this.setIsRemind},u=a(s.prototype,"loading",[w.observable],{enumerable:!0,initializer:function(){return!0}}),c=a(s.prototype,"doInit",[w.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParams=t,(0,S.requestWithDraw)((0,g.default)({},e.baseParams,{actionType:"getSettings"})).then(function(t){e.allowRemind=t.allowRemind,e.recallNodeId=t.recallNodeId,e.recallNodeName=t.recallNodeName,e.doPreOperate=t.doPreOperate,e.remarkRequired=t.remarkRequired,e.loading=!1})}}}),f=a(s.prototype,"setState",[l],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_.toJS;(0,m.default)(t).forEach(function(r){e[r]=t[r]})}}}),s)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,h.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.PrintLogStore=void 0;var a,l,s,u,c,f,d,p=r(16),h=n(p),m=r(7),v=n(m),g=r(0),b=n(g),y=r(9),w=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(y),r(15)),_=r(6);t.PrintLogStore=(a=function e(){var t=this;(0,b.default)(this,e),this.baseParams={},this.closeEvent=null,o(this,"tabKey",l,this),o(this,"topTab",s,this),o(this,"showSearchAd",u,this),this.conditions=[],o(this,"form",c,this),o(this,"tableStore",f,this),o(this,"setBaseParams",d,this),this.switchTab=function(e){t.tabKey=e},this.loadBaseInfo=function(){(0,w.getPrintLogBase)(t.baseParams).then(function(e){var r=e.tabs,n=e.conditions,o=(0,_.getComsMobx)(),i=o.WeaForm;t.form=new i,t.topTab=r,t.conditions=n,t.form.initFormFieldObj(n)})},this.doSearch=function(){var e=t.form&&t.form.getFormParams()||{},r=(0,v.default)({},t.baseParams,e,{viewcondition:t.tabKey});(0,w.getPrintLogData)(r).then(function(e){t.tableStore.getDatas(e.sessionkey)})},this.setShowSearchAd=function(e){t.showSearchAd=e},this.appendFormFields=function(e){t.form&&t.form.updateFields(e,!1)},this.clearFormFields=function(){t.form&&t.form.resetConditionValue()},this.setCloseEvent=function(e){t.closeEvent=e},this.resetStatus=function(){t.baseParams={},t.tabKey="0",t.showSearchAd=!1},this.setBaseParams=this.setBaseParams,this.switchTab=this.switchTab,this.loadBaseInfo=this.loadBaseInfo,this.doSearch=this.doSearch,this.setShowSearchAd=this.setShowSearchAd,this.appendFormFields=this.appendFormFields,this.clearFormFields=this.clearFormFields,this.setCloseEvent=this.setCloseEvent,this.resetStatus=this.resetStatus},l=i(a.prototype,"tabKey",[y.observable],{enumerable:!0,initializer:function(){return"0"}}),s=i(a.prototype,"topTab",[y.observable],{enumerable:!0,initializer:function(){return[]}}),u=i(a.prototype,"showSearchAd",[y.observable],{enumerable:!0,initializer:function(){return!1}}),c=i(a.prototype,"form",[y.observable],{enumerable:!0,initializer:function(){return null}}),f=i(a.prototype,"tableStore",[y.observable],{enumerable:!0,initializer:function(){return null}}),d=i(a.prototype,"setBaseParams",[y.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,_.getComsMobx)(),n=r.WeaTableNew;e.tableStore=new n.TableStore,e.baseParams=t}}}),a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,d.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.FreeFlowStore=void 0;var a,l,s,u,c,f=r(16),d=n(f),p=r(7),h=n(p),m=r(0),v=n(m),g=r(9),b=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(g),r(15));t.FreeFlowStore=(a=function e(){var t=this;(0,v.default)(this,e),this.baseParams={},o(this,"loading",l,this),o(this,"columns",s,this),o(this,"datas",u,this),this.stepindex=0,this.saveEvent=null,this.closeEvent=null,o(this,"setBaseParams",c,this),this.doInit=function(){t.loading=!0,(0,b.freeFlowRead)(t.baseParams).then(function(e){t.loading=!1;var r=e.columns,n=e.datas;t.columns=r,t.datas=n,t.stepindex=t.datas.length})},this.addStepIndex=function(){t.stepindex++},this.setDatas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.datas=e},this.doSave=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(0,h.default)({},t.baseParams),n=t.datas.length;n>0&&t.datas.map(function(e,t){r["floworder_"+t]=t,r["nodename_"+t]=e.stepname,r["Signtype_"+t]=e.signtype,r["operators_"+t]=e.operators}),r.rownum=n,r.indexnum=n,t.loading=!0,(0,b.freeFlowSave)(r).then(function(r){t.loading=!1,t.saveEvent(e)})},this.setSaveEvent=function(e){t.saveEvent=e},this.setCloseEvent=function(e){t.closeEvent=e},this.resetStore=function(){t.baseParams={},t.stepindex=0,t.datas=[]},this.setBaseParams=this.setBaseParams,this.doInit=this.doInit,this.addStepIndex=this.addStepIndex,this.setDatas=this.setDatas,this.setSaveEvent=this.setSaveEvent,this.setCloseEvent=this.setCloseEvent,this.resetStore=this.resetStore},l=i(a.prototype,"loading",[g.observable],{enumerable:!0,initializer:function(){return!1}}),s=i(a.prototype,"columns",[g.observable],{enumerable:!0,initializer:function(){return[]}}),u=i(a.prototype,"datas",[g.observable],{enumerable:!0,initializer:function(){return[]}}),c=i(a.prototype,"setBaseParams",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParams=t}}}),a)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,b.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.PrintReqStore=void 0;var l,s,u,c,f,d,p,h,m,v,g=r(16),b=o(g),y=r(0),w=o(y),_=r(9),S=(n(_),r(15)),E=n(S);t.PrintReqStore=(l=(0,_.action)("加载模板列表"),s=(0,_.action)("选中模板"),u=(0,_.action)("修改printBtnDisabled"),c=function e(){(0,w.default)(this,e),this.urlParams={},i(this,"needChoose",f,this),this.templates=[],i(this,"templateKey",d,this),i(this,"printBtnDisabled",p,this),i(this,"loadTemplates",h,this),i(this,"chooseTemplate",m,this),i(this,"setPrintBtnDisabled",v,this),this.loadTemplates=this.loadTemplates,this.chooseTemplate=this.chooseTemplate},f=a(c.prototype,"needChoose",[_.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(c.prototype,"templateKey",[_.observable],{enumerable:!0,initializer:function(){return""}}),p=a(c.prototype,"printBtnDisabled",[_.observable],{enumerable:!0,initializer:function(){return!0}}),h=a(c.prototype,"loadTemplates",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){e.urlParams=t,E.loadPrintTemplates(t).then(function(t){var r=t.needChoose,n=t.templates;e.needChoose=r,e.templates=n,n.length>0&&e.chooseTemplate(n[0].key)})}}}),m=a(c.prototype,"chooseTemplate",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){e.templateKey=t}}}),v=a(c.prototype,"setPrintBtnDisabled",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){e.printBtnDisabled=!t}}}),c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,k.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I=r(16),k=n(I),C=r(31),x=n(C),O=r(75),P=n(O),M=r(7),A=n(M),F=r(0),R=n(F),T=r(9),D=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(T),r(6)),j=(0,D.getEcCom)(),L=j.WeaTools,N=L.ls,q=(a=(0,T.action)("验证成功后提交流程的参数"),l=(0,T.action)("验证或者数据保护的窗口需要的数据"),s=(0,T.action)("设置CA认证或者保护时的数据"),u=(0,T.action)("设置验证或者数据保护的结果"),c=(0,T.action)("将数据存入localStorage"),f=(0,T.action)("从localStorage中读取数据"),d=(0,T.action)("重置所有值为初始化"),p=function e(){var t=this;(0,R.default)(this,e),this.callbackFunc=null,this.callbackParam={},this.params={},this.isEnableAuth=0,this.secondAuthType=0,this.isEnableProtect=0,this.protectType=0,this.isAuthSuccess=0,this.isProtectSuccess=0,this.isProtectDialog=0,this.isSubmitDirect=0,this.isSecondAuthPop=!1,o(this,"setSecondAuthPop",h,this),o(this,"setCallbackFunc",m,this),o(this,"setCallbackParam",v,this),o(this,"setParams",g,this),this.setIsSubmitDirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.isSubmitDirect=e},o(this,"setDialogData",b,this),o(this,"setCAAuthData",y,this),o(this,"setDialogResult",w,this),o(this,"saveDataToStorage",_,this),o(this,"readDataFromStorage",S,this),o(this,"resetStore",E,this),this.setCallbackFunc=this.setCallbackFunc,this.setCallbackParam=this.setCallbackParam,this.setParams=this.setParams,this.setIsSubmitDirect=this.setIsSubmitDirect,this.setDialogData=this.setDialogData,this.setDialogResult=this.setDialogResult,this.saveDataToStorage=this.saveDataToStorage,this.readDataFromStorage=this.readDataFromStorage,this.resetStore=this.resetStore,this.callbackFunc=function(){},this.callbackParam={}},h=i(p.prototype,"setSecondAuthPop",[T.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.isSecondAuthPop=t}}}),m=i(p.prototype,"setCallbackFunc",[T.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.callbackFunc=t}}}),v=i(p.prototype,"setCallbackParam",[a],{enumerable:!0,initializer:function(){var e=this;return function(t){e.callbackParam=(0,A.default)({},e.callbackParam,t)}}}),g=i(p.prototype,"setParams",[T.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.params=t}}}),b=i(p.prototype,"setDialogData",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){(0,P.default)(e,t)}}}),y=i(p.prototype,"setCAAuthData",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=t.isProtectDialog,n=t.sourcestr;0!=r||n||(n=Math.random(),t.sourcestr=n),(0,P.default)(e,t)}}}),w=i(p.prototype,"setDialogResult",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){(0,P.default)(e,t)}}}),_=i(p.prototype,"saveDataToStorage",[c],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=e.callbackParam,n=e.isEnableAuth,o=e.secondAuthType,i=e.isEnableProtect,a=e.protectType,l=e.isAuthSuccess,s=e.isProtectSuccess,u=e.isProtectDialog,c=e.isSubmitDirect,f={callbackParam:r,isEnableAuth:n,secondAuthType:o,isEnableProtect:i,protectType:a,isAuthSuccess:l,isProtectSuccess:s,isProtectDialog:u,isSubmitDirect:c};N.set(t,(0,x.default)(f))}}}),S=i(p.prototype,"readDataFromStorage",[f],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=N.getJSONObj(t),n=r.callbackParam,o=r.isEnableAuth,i=r.secondAuthType,a=r.isEnableProtect,l=r.protectType,s=r.isAuthSuccess,u=r.isProtectSuccess,c=r.isProtectDialog,f=r.isSubmitDirect;e.callbackParam=n,e.isEnableAuth=o,e.secondAuthType=i,e.isEnableProtect=a,e.protectType=l,e.isAuthSuccess=s,e.isProtectSuccess=u,e.isProtectDialog=c,e.isSubmitDirect=f}}}),E=i(p.prototype,"resetStore",[d],{enumerable:!0,initializer:function(){var e=this;return function(){e.callbackFunc=function(){},e.callbackParam={},e.isEnableAuth=0,e.secondAuthType=0,e.isEnableProtect=0,e.protectType=0,e.isAuthSuccess=0,e.isProtectSuccess=0,e.isProtectDialog=0,e.isSubmitDirect=0}}}),p);t.default=q},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,P.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectNextFlowStore=void 0;var l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I,k,C,x,O=r(16),P=o(O),M=r(65),A=o(M),F=r(7),R=o(F),T=r(0),D=o(T),j=r(9),L=(n(j),r(15)),N=r(6),q=r(10),W=n(q);t.SelectNextFlowStore=(l=(0,j.action)("初始化表单相关信息"),s=(0,j.action)("切换下一节点"),u=(0,j.action)("获取指定流转的节点信息"),c=function e(){var t=this;(0,D.default)(this,e),this.baseParams={},this.commonParams={},this.canFlowNextNode=!1,i(this,"nextNodeIds",f,this),this.preNextNodeIds="",this.confirmEvent=null,this.cancelEvent=null,i(this,"condition",d,this),i(this,"groupList",p,this),i(this,"form",h,this),i(this,"nodeInfo",m,this),i(this,"nodeInfoMap",v,this),i(this,"nodeScope",g,this),this.nodeInfoConfirmEvent=null,this.nodeInfoCancelEvent=null,i(this,"showAllNodeOperators",b,this),i(this,"operatorChangeDisable",y,this),this.needDefaultNode="1",this.needDefaultoperator="1",this.branchNodesMap={},this.mustPassNodeIds=[],i(this,"nodeAttribute",w,this),i(this,"setBaseParams",_,this),i(this,"setCommonParams",S,this),this.doInit=function(){var e=t;(0,L.getSelectNextFlowCondition)((0,R.default)({},t.baseParams,t.commonParams)).then(function(r){var n=r.conditioninfo;t.operatorChangeDisable=r.operatorChangeDisable,t.needDefaultNode=r.needDefaultNode,t.needDefaultoperator=r.needDefaultoperator,t.nodeAttribute=r.nodeattribute,t.condition=n;var o=(0,N.getComsMobx)();o.WeaForm;t.groupList=[],e.getNodeInfo()})},i(this,"processGroupListInfo",E,this),this.appendHrmSqlWhere=function(e,t){"nodeOperator"!=e.domkey&&"ccOperator"!=e.domkey||t&&t.hrmSqlWhere&&(e.browserConditionParam.completeParams.sqlwhere=t.hrmCompleteSqlWhere,e.browserConditionParam.dataParams.sqlwhere=t.hrmSqlWhere,e.browserConditionParam.destDataParams.sqlwhere=t.hrmSqlWhere)},i(this,"updateFormByNodeInfo",I,this),i(this,"changeNextNode",k,this),i(this,"getResultParams",C,this),i(this,"getNodeInfo",x,this),this.setShowAllNodeOperators=function(e){var r=(0,R.default)({},t.showAllNodeOperators,(0,A.default)({},e,!t.showAllNodeOperators[e]));t.showAllNodeOperators=r},this.setConfirmEvent=function(e){t.confirmEvent=e},this.setCancelEvent=function(e){t.cancelEvent=e},this.setNodeInfoConfirmEvent=function(e){t.nodeInfoConfirmEvent=e},this.setNodeInfoCancelEvent=function(e){t.nodeInfoCancelEvent=e},this.setCanFlowNextNode=function(e){t.canFlowNextNode=e},this.setNextNodeIds=function(e){e.startsWith(",")&&(e=e.substring(1,e.length)),e.endsWith(",")&&(e=e.substring(0,e.length-1)),t.preNextNodeIds=t.nextNodeIds,t.nextNodeIds=e}},f=a(c.prototype,"nextNodeIds",[j.observable],{enumerable:!0,initializer:function(){return""}}),d=a(c.prototype,"condition",[j.observable],{enumerable:!0,initializer:function(){return[]}}),p=a(c.prototype,"groupList",[j.observable],{enumerable:!0,initializer:function(){return[]}}),h=a(c.prototype,"form",[j.observable],{enumerable:!0,initializer:function(){return null}}),m=a(c.prototype,"nodeInfo",[j.observable],{enumerable:!0,initializer:function(){return[]}}),v=a(c.prototype,"nodeInfoMap",[j.observable],{enumerable:!0,initializer:function(){return{}}}),g=a(c.prototype,"nodeScope",[j.observable],{enumerable:!0,initializer:function(){return""}}),b=a(c.prototype,"showAllNodeOperators",[j.observable],{enumerable:!0,initializer:function(){return{}}}),y=a(c.prototype,"operatorChangeDisable",[j.observable],{enumerable:!0,initializer:function(){return""}}),w=a(c.prototype,"nodeAttribute",[j.observable],{enumerable:!0,initializer:function(){return"0"}}),_=a(c.prototype,"setBaseParams",[j.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.baseParams=t}}}),S=a(c.prototype,"setCommonParams",[j.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.commonParams=t}}}),E=a(c.prototype,"processGroupListInfo",[l],{enumerable:!0,initializer:function(){var e=this;return function(){var t=(0,N.getComsMobx)(),r=t.WeaForm;if(e.groupList=[],"1"!=e.nodeAttribute){var n=W.cloneDeep((0,j.toJS)(e.condition)),o=e.nodeInfoMap[e.nextNodeIds]||{};n.map(function(t){e.appendHrmSqlWhere(t,o),"nextNode"!=t.domkey&&(t.domkey=[t.domkey+"_0"])}),e.groupList[0]={items:n}}else e.groupList[0]={title:(0,N.getLabel)(1361,"基本信息"),items:[W.cloneDeep((0,j.toJS)(e.condition)[0])]},e.nextNodeIds&&e.nextNodeIds.split(",").map(function(t,r){var n=e.nodeInfoMap[t]||{},o=n.nodeName?n.nodeName:"",i=W.cloneDeep((0,j.toJS)(e.condition));i=i.filter(function(e){return"nextNode"!=e.domkey[0]}),i.map(function(t){e.appendHrmSqlWhere(t,n),t.domkey=[t.domkey+"_"+r]}),e.groupList[r+1]={title:(0,N.getLabel)(15586,"节点")+"："+o,items:i}});e.form=new r,e.form.initFormFields(e.groupList)}}}),I=a(c.prototype,"updateFormByNodeInfo",[j.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t={},r=""!==e.preNextNodeIds?e.preNextNodeIds.split(","):[];e.form&&(t=e.form.getFormDatas()),e.processGroupListInfo(),e.nextNodeIds.split(",").map(function(n,o){var i=[],a="",l="",s=[],u="",c="",f=e.nodeInfoMap[n];"1"==e.needDefaultoperator&&(f&&f.operators&&f.operators.map(function(e){i.push({id:e.operatorid,name:e.operatorname}),a+=","+e.operatorid,l+=","+e.operatorname}),a.length>1&&(a=a.slice(1,a.length)),l.length>1&&(l=l.slice(1,l.length)),f&&f.ccOperators&&f.ccOperators.map(function(e){s.push({id:e.operatorid,name:e.operatorname}),u+=","+e.operatorid,c+=","+e.operatorname}),u.length>1&&(u=u.slice(1,u.length)),c.length>1&&(c=c.slice(1,c.length)));var d={},p=r&&r.indexOf(n);p>=0?(d["nodeOperator_"+o]=t["nodeOperator_"+p],d["ccOperator_"+o]=t["ccOperator_"+p],d["SignType_"+o]=t["SignType_"+p],d["canSubmit_"+o]=t["canSubmit_"+p]):(d["nodeOperator_"+o]={value:a,valueSpan:l,valueObj:i},d["ccOperator_"+o]={value:u,valueSpan:c,valueObj:s},d["SignType_"+o]=f&&void 0!==f.signType?f.signType:"1",d["canSubmit_"+o]=f&&void 0!==f.ccSignType?f.ccSignType:"-4"),e.form.updateFields(d)})}}}),k=a(c.prototype,"changeNextNode",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){e.setNextNodeIds(t),e.updateFormByNodeInfo()}}}),C=a(c.prototype,"getResultParams",[j.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t={},r=e.form.getFormParams();e.form.getFormDatas();return t=(0,R.default)({},r),e.nextNodeIds.split(",").map(function(n,o){var i=e.nodeInfoMap[n];t["selectNodeFlow_nodeId_"+o]=i.id+"_"+i.nodeType+"_"+i.nodeAttribute,t["selectNodeFlow_operator_"+o]=r["nodeOperator_"+o]}),t.selectNodeFlow_canFlowNextNode=e.canFlowNextNode?"1":"0",t.selectNodeFlow_nodeIds=e.nextNodeIds,"1"==e.operatorChangeDisable?t.selectNextFlowMode=2:t.selectNextFlowMode=1,delete t.nextNode,t}}}),x=a(c.prototype,"getNodeInfo",[u],{enumerable:!0,initializer:function(){var e=this;return function(){(0,L.getSelectFlowNodeInfo)(e.commonParams).then(function(t){e.nodeInfo=t.nodeInfo,e.branchNodesMap=t.branchNodesMap,e.mustPassNodeIds=t.mustPassNodeIds,e.nodeScope=t.nodeScope;var r="",n=[];e.nodeInfo.map(function(t){e.nodeInfoMap[t.key]=t,(","+e.nextNodeIds+",").indexOf(t.id)>-1&&(r+=","+t.id,-1==n.indexOf(t.nodeAttribute)&&n.push(t.nodeAttribute))}),""!=r&&(r=r.substring(1),(n.length>1||r.split(",").length>1&&1==n.length&&"2"!=n[0])&&(r=""),"1"!=e.nodeAttribute&&r.split(",").length>1&&(r="")),e.nextNodeIds=r,"1"!=e.needDefaultNode&&(e.nextNodeIds=""),e.updateFormByNodeInfo()})}}}),c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,f.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.RemindSetStore=void 0;var a,l,s,u,c=r(16),f=n(c),d=r(53),p=n(d),h=r(0),m=n(h),v=r(2),g=n(v),b=r(6),y=r(9),w=r(15),_=(0,b.getComsMobx)(),S=_.WeaForm;t.RemindSetStore=(a=function(){function e(){(0,m.default)(this,e),o(this,"form",l,this),o(this,"condition",s,this),o(this,"isSubmiting",u,this)}return(0,g.default)(e,[{key:"getRemindData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,w.getRemindData)(t).then(function(t){e.condition=t.condition,e.form.initFormFields(t.condition)})}},{key:"doRemind",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isSubmiting||(this.isSubmiting=!0,(0,w.doRemind)(t).then(function(t){e.isSubmiting=!1}))}}]),e}(),l=i(a.prototype,"form",[y.observable],{enumerable:!0,initializer:function(){return new S}}),s=i(a.prototype,"condition",[y.observable],{enumerable:!0,initializer:function(){return[]}}),u=i(a.prototype,"isSubmiting",[y.observable],{enumerable:!0,initializer:function(){return!1}}),i(a.prototype,"getRemindData",[y.action],(0,p.default)(a.prototype,"getRemindData"),a.prototype),i(a.prototype,"doRemind",[y.action],(0,p.default)(a.prototype,"doRemind"),a.prototype),a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,s.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.LocationMapStore=void 0;var i,a,l=r(16),s=n(l),u=r(0),c=n(u),f=r(9);t.LocationMapStore=(i=function e(){var t=this;(0,c.default)(this,e),o(this,"locationInfos",a,this),this.cancelEvent=null,this.setCancelEvent=function(e){t.cancelEvent=e},this.setLocationInfos=function(e){t.locationInfos=e}},a=function(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(i.prototype,"locationInfos",[f.observable],{enumerable:!0,initializer:function(){return[]}}),i)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,f.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,s,u,c=r(16),f=n(c),d=r(53),p=n(d),h=r(0),m=n(h),v=r(2),g=n(v),b=r(9),y=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(b),a=function(){function e(){(0,m.default)(this,e),o(this,"clickPotion",l,this),o(this,"followTypeSelectShow",s,this),o(this,"FollowRequestid",u,this)}return(0,g.default)(e,[{key:"setClickPotion",value:function(e){this.clickPotion=e}}]),e}(),l=i(a.prototype,"clickPotion",[b.observable],{enumerable:!0,initializer:function(){return{}}}),s=i(a.prototype,"followTypeSelectShow",[b.observable],{enumerable:!0,initializer:function(){return!1}}),u=i(a.prototype,"FollowRequestid",[b.observable],{enumerable:!0,initializer:function(){return""}}),i(a.prototype,"setClickPotion",[b.action],(0,p.default)(a.prototype,"setClickPotion"),a.prototype),a);t.default=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,b.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldLinkageCfg=void 0;var a,l,s,u,c,f,d,p,h,m,v,g=r(16),b=n(g),y=r(53),w=n(y),_=r(75),S=n(_),E=r(0),I=n(E),k=r(2),C=n(k),x=r(6),O=r(9),P=r(15),M=r(51);M.WeaLocaleProvider.getLabel,t.FieldLinkageCfg=(a=function(){function e(){(0,I.default)(this,e),o(this,"isFieldTrigger",l,this),o(this,"exportFieldType",s,this),o(this,"tips13",u,this),o(this,"isFormula",c,this),o(this,"conditions",f,this),o(this,"fixedForm",d,this),o(this,"SettingDialogVisible",p,this),o(this,"getDetailExpSetFn",h,this),o(this,"saveDetailExpSetFn",m,this),o(this,"changeSettingDialogVisibleFn",v,this)}return(0,C.default)(e,[{key:"riggerFieldLinkageCfg",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,S.default)(t,{optype:"get"}),(0,P.fieldLinkageCfg)(t).then(function(t){t.success&&(e.isFieldTrigger=t.isFieldTrigger,e.tips13=t.tips13)})}},{key:"updateExportFieldType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.exportFieldType=e.exportFieldType,e=(0,S.default)(e,{optype:"save"}),(0,P.exportFieldSet)(e).then(function(){})}},{key:"getExportFieldType",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,S.default)(t,{optype:"get"}),(0,P.exportFieldSet)(t).then(function(t){e.exportFieldType=t.exportFieldType})}},{key:"updateIsFieldTrigger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isFieldTrigger=e.isFieldTrigger,e=(0,S.default)(e,{optype:"save"}),(0,P.fieldLinkageCfg)(e).then(function(e){})}},{key:"riggerFormulaCfg",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,S.default)(t,{optype:"get"}),(0,P.formulaCfg)(t).then(function(t){t.success&&(e.isFormula=t.isFormula)})}},{key:"updateIsFormula",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isFormula=e.isFormula,e=(0,S.default)(e,{optype:"save"}),(0,P.formulaCfg)(e).then(function(e){})}}]),e}(),l=i(a.prototype,"isFieldTrigger",[O.observable],{enumerable:!0,initializer:function(){return""}}),s=i(a.prototype,"exportFieldType",[O.observable],{enumerable:!0,initializer:function(){return""}}),u=i(a.prototype,"tips13",[O.observable],{enumerable:!0,initializer:function(){return""}}),c=i(a.prototype,"isFormula",[O.observable],{enumerable:!0,initializer:function(){return""}}),f=i(a.prototype,"conditions",[O.observable],{enumerable:!0,initializer:function(){return[]}}),d=i(a.prototype,"fixedForm",[O.observable],{enumerable:!0,initializer:function(){return null}}),p=i(a.prototype,"SettingDialogVisible",[O.observable],{enumerable:!0,initializer:function(){return!1}}),i(a.prototype,"riggerFieldLinkageCfg",[O.action],(0,w.default)(a.prototype,"riggerFieldLinkageCfg"),a.prototype),i(a.prototype,"updateExportFieldType",[O.action],(0,w.default)(a.prototype,"updateExportFieldType"),a.prototype),i(a.prototype,"getExportFieldType",[O.action],(0,w.default)(a.prototype,"getExportFieldType"),a.prototype),i(a.prototype,"updateIsFieldTrigger",[O.action],(0,w.default)(a.prototype,"updateIsFieldTrigger"),a.prototype),i(a.prototype,"riggerFormulaCfg",[O.action],(0,w.default)(a.prototype,"riggerFormulaCfg"),a.prototype),i(a.prototype,"updateIsFormula",[O.action],(0,w.default)(a.prototype,"updateIsFormula"),a.prototype),h=i(a.prototype,"getDetailExpSetFn",[O.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,x.getComsMobx)(),n=r.WeaForm;e.fixedForm=new n,(0,P.getDetailExpSet)(t).then(function(t){e.fixedForm.initFormFields(t.addFormConditions),e.conditions=t.addFormConditions})}}}),m=i(a.prototype,"saveDetailExpSetFn",[O.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=(0,x.getAntd)(),n=r.message;(0,P.saveDetailExpSet)(t).then(function(t){n.success(t.message||"保存成功"),e.changeSettingDialogVisibleFn(!1)})}}}),v=i(a.prototype,"changeSettingDialogVisibleFn",[O.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.SettingDialogVisible=t}}}),a)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,p.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.FreeWflowSimple=void 0;var l,s,u,c,f,d=r(16),p=o(d),h=r(26),m=o(h),v=r(0),g=o(v),b=r(9),y=n(b),w=r(12),_=o(w),S=r(27),E=n(S),I=(r(66),r(15)),k=n(I),C=r(6),x=r(10),O=n(x);t.FreeWflowSimple=(l=(0,b.action)("控制变量"),s=function e(){var t=this;(0,g.default)(this,e),i(this,"showCollect",u,this),i(this,"form",c,this),this.toNewFormData={},i(this,"setState",f,this),this.onCloseDialog=function(){(0,_.default.globalStore.controlDialogVisible)(E.FREE_WORKFLOW_SIMPLE,!1)},this.loadCondition=function(e){k.loadCondition(e).then(function(e){var r=(0,C.getComsMobx)(),n=r.WeaForm;t.conditionData=e;var o=e.conditioninfo,i=e.default_prefix,a=void 0===i?"":i,l=e.default_datas,s=void 0===l?{}:l,u=t.setDefaultData(o,a,s);t.conditioninfo=u,t.form=new n,t.form.setCondition(u),t.form.initFormFields(u),t.getFormSubmitDatas();var c=t.form.getFormParams();c.hasOwnProperty("isToNewAddSign")&&1==c.isToNewAddSign&&(t.toNewFormData=t.form.getFormDatas())})},this.setDefaultData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2],n=e[0].items,o=void 0===n?[]:n,i=t;"curr"!=t||O.has(r,"curr_isvalild")||(i="last");var a=r[i+"_nodeOperator"]||[],l=r[i+"_endTransfer"]||0,s=r[i+"_countersignAttribute"]||0,u=(r[i+"_approvalSettings"],_.default.globalStore.urlParams.isaffirmance),c=void 0===u?"":u,f=2;return 1==c?f=1:("curr"==t&&O.has(r,"last_isvalild")&&(f=3),"last"==t&&(f=1)),o.map(function(e){1!=c&&"isToNewAddSign"===e.domkey[0]||(e.viewAttr=f),"nodeOperator"==e.domkey[0]?e.browserConditionParam.replaceDatas=a:"endTransfer"==e.domkey[0]?e.options.map(function(e){e.selected=e.key==l}):"countersignAttribute"==e.domkey[0]?e.options.map(function(e){e.selected=e.key==s}):"approvalSettings"==e.domkey[0]&&(e.value=r._approvalSettings||"",3==f&&(e.viewAttr=2))}),e},this.changeForm=function(e){if(e<2){var r=(0,C.getComsMobx)(),n=r.WeaForm,o=y.toJS(t.conditionData),i=o.conditioninfo,a=o.default_datas,l=void 0===a?{}:a,s=t.setDefaultData(i,0==e?"last":"curr",l);t.conditioninfo=s,t.form=new n,t.form.setCondition(s),t.form.initFormFields(s),1==e&&t.form.updateFields(t.toNewFormData)}t.form.updateFields({isToNewAddSign:e},!1),t.getFormSubmitDatas()},this.getFormSubmitDatas=function(){var e=t.form.getFormParams()||{},r={operatorids:e.nodeOperator||"",countersignAttribute:e.countersignAttribute||"",isFlowToNext:e.endTransfer||"",isToNewAddSign:e.isToNewAddSign||"3",approvalSettings:e.approvalSettings||""};t.chengeSubmitParams(r)},this.chengeSubmitParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_.default.globalStore.changeSubmitParam)(e)},this.synchronousRemarkData=function(){var e=_.default.globalStore,t=e.controlVariableMap,r=e.variableMap,n=r.get("remark_list")||[];t("remark_list_freeWorkflowSimple",b.observable.map?b.observable.map(n):(0,b.asMap)(n))},this.updateFormFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.form.updateFields(e)}},u=a(s.prototype,"showCollect",[b.observable],{enumerable:!0,initializer:function(){return!1}}),c=a(s.prototype,"form",[b.observable],{enumerable:!0,initializer:function(){return null}}),f=a(s.prototype,"setState",[l],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,m.default)(t).forEach(function(r){e[r]=t[r]})}}}),s)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,v.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.conformRules=void 0;var l,s,u,c,f,d,p,h,m=r(16),v=o(m),g=r(0),b=o(g),y=r(9),w=r(12),_=o(w),S=r(27),E=n(S),I=r(15),k=n(I);t.conformRules=(l=(0,y.action)("设置合规提示信息"),s=function e(){var t=this;(0,b.default)(this,e),i(this,"conformRuleInfo",u,this),this.conformRuleSubmitEvent=null,this.conformRuleStopRequestEvent=null,i(this,"title",c,this),i(this,"status",f,this),i(this,"setConformRuleInfo",d,this),this.hasCheckedConformRule=!1,i(this,"setHasCheckedConformRule",p,this),i(this,"getCheckResult",h,this),this.setConformRuleSubmitEvent=function(e,r){t.conformRuleSubmitEvent=e,t.conformRuleStopRequestEvent=r},this.conformRuleCancelEvent=function(){_.default.globalStore.controlDialogVisible(E.CONFORM_RULE,!1)}},u=a(s.prototype,"conformRuleInfo",[y.observable],{enumerable:!0,initializer:function(){return{}}}),c=a(s.prototype,"title",[y.observable],{enumerable:!0,initializer:function(){return""}}),f=a(s.prototype,"status",[y.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(s.prototype,"setConformRuleInfo",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){e.conformRuleInfo=t,t.result&&(e.title=t.result.title,e.status=t.result.end)}}}),p=a(s.prototype,"setHasCheckedConformRule",[y.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.hasCheckedConformRule=t}}}),h=a(s.prototype,"getCheckResult",[y.action],{enumerable:!0,initializer:function(){var e=this;return function(t){k.conformCheck(t).then(function(t){e.setConformRuleInfo(t)})}}}),s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureSubmit=void 0;var n=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n);r(9),t.ensureSubmit=function e(){var t=this;(0,o.default)(this,e),this.confirmEvent=null,this.cancelEvent=null,this.setConfirmEvent=function(e){t.confirmEvent=e},this.setCancelEvent=function(e){t.cancelEvent=e}}},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){r&&(0,he.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function a(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,s,u,c,f,d,p,h,m,v,g,b,y,w,_,S,E,I,k,C,x,O,P,M,A,F,R,T,D,j,L,N,q,W,B,z,U,V,H,G,Q,K,J,$,Y,X,Z,ee,te,re,ne,oe,ie,ae,le,se,ue,ce,fe,de,pe=r(16),he=o(pe),me=r(101),ve=o(me),ge=r(7),be=o(ge),ye=r(251),we=o(ye),_e=r(26),Se=o(_e),Ee=r(0),Ie=o(Ee),ke=r(9),Ce=r(15),xe=n(Ce),Oe=r(12),Pe=o(Oe),Me=r(27),Ae=(n(Me),r(11)),Fe=n(Ae),Re=(l=(0,ke.action)("初始化请求接口的params参数"),s=(0,ke.action)("设置iframe的src"),u=(0,ke.action)("开启智能预测功能"),c=(0,ke.action)("修改变量值"),f=(0,ke.action)("模拟智能预测按钮点击"),d=(0,ke.action)("获取前预测者操作信息"),p=(0,ke.action)("获取流程图出事化信息"),h=(0,ke.action)("获取预测节点数据"),m=(0,ke.action)("设置loading加载图"),v=(0,ke.action)("重新预测节点"),g=(0,ke.action)("开启智能预测与否"),b=(0,ke.action)("设置下拉选择框显隐"),y=(0,ke.action)("隐藏所有显示的下拉框"),w=(0,ke.action)("切换分支"),_=(0,ke.action)("获取弹出面板操作者"),S=(0,ke.action)("清理操作者信息数组"),E=(0,ke.action)("清理store"),I=(0,ke.action)("记录按钮被点击"),k=function e(){(0,Ie.default)(this,e),i(this,"smartGuessStatus",C,this),i(this,"allMapshow",x,this),i(this,"baseReqParams",O,this),i(this,"divideNodeArr",P,this),i(this,"nodeArr",M,this),i(this,"stopGetArrFlag",A,this),i(this,"needloading",F,this),this.data={},i(this,"forecastInfoMap",R,this),i(this,"controlWranWrapFlag",T,this),i(this,"needShowTip",D,this),i(this,"operatorInfo",j,this),i(this,"operatorMap",L,this),i(this,"needForecastFunc",N,this),i(this,"stopResetFlag",q,this),i(this,"clickedMap",W,this),i(this,"justdoOnce",B,this),i(this,"needBtnMask",z,this),i(this,"showDescriptWord",U,this),i(this,"endflage",V,this),this.clientWidth=0,i(this,"isEnd",H,this),i(this,"forecastUrl",G,this),i(this,"hasResultFlag",Q,this),i(this,"flowChartInfo",K,this),this.iframeHeight=0,this.switchStatus={openAutoForecast:"0",showAutoForecastResult:"0"},i(this,"init",J,this),i(this,"setIframeSrc",$,this),i(this,"openForecastFunc",Y,this),i(this,"setState",X,this),i(this,"clickSmartBtn",Z,this),i(this,"getForecastInfo",ee,this),i(this,"getFlowChartInfo",te,this),i(this,"getCellArr",re,this),i(this,"setLoadingWrap",ne,this),i(this,"getResetForecast",oe,this),i(this,"changSmartGuessStatus",ie,this),i(this,"setShowSelectPanel",ae,this),i(this,"setHiddenSelectPanel",le,this),i(this,"setOptionItem",se,this),i(this,"getOperator",ue,this),i(this,"clearOperatorArr",ce,this),i(this,"clearStore",fe,this),i(this,"setRecordClicked",de,this)},C=a(k.prototype,"smartGuessStatus",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),x=a(k.prototype,"allMapshow",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),O=a(k.prototype,"baseReqParams",[ke.observable],{enumerable:!0,initializer:function(){return{}}}),P=a(k.prototype,"divideNodeArr",[ke.observable],{enumerable:!0,initializer:function(){return[]}}),M=a(k.prototype,"nodeArr",[ke.observable],{enumerable:!0,initializer:function(){return[]}}),A=a(k.prototype,"stopGetArrFlag",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),F=a(k.prototype,"needloading",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),R=a(k.prototype,"forecastInfoMap",[ke.observable],{enumerable:!0,initializer:function(){return ke.observable.map?ke.observable.map({}):asMap({})}}),T=a(k.prototype,"controlWranWrapFlag",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(k.prototype,"needShowTip",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),j=a(k.prototype,"operatorInfo",[ke.observable],{enumerable:!0,initializer:function(){return[]}}),L=a(k.prototype,"operatorMap",[ke.observable],{enumerable:!0,initializer:function(){return ke.observable.map?ke.observable.map({}):asMap({})}}),N=a(k.prototype,"needForecastFunc",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),q=a(k.prototype,"stopResetFlag",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(k.prototype,"clickedMap",[ke.observable],{enumerable:!0,initializer:function(){return ke.observable.map?ke.observable.map({}):asMap({})}}),B=a(k.prototype,"justdoOnce",[ke.observable],{enumerable:!0,initializer:function(){return!0}}),z=a(k.prototype,"needBtnMask",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),U=a(k.prototype,"showDescriptWord",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),V=a(k.prototype,"endflage",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),H=a(k.prototype,"isEnd",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),G=a(k.prototype,"forecastUrl",[ke.observable],{enumerable:!0,initializer:function(){return""}}),Q=a(k.prototype,"hasResultFlag",[ke.observable],{enumerable:!0,initializer:function(){return!1}}),K=a(k.prototype,"flowChartInfo",[ke.observable],{enumerable:!0,initializer:function(){return{}}}),J=a(k.prototype,"init",[l],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={},n=Pe.default.globalStore.commonParam,o=n.isFree,i=n.currentnodetype,a=["requestid","requestType","workflowid"],l=["openAutoForecast","showAutoForecastResult"];a.map(function(e){r[e]=t[e]}),l.map(function(r){e.switchStatus[r]=t[r]}),e.baseReqParams=r,r.requestid&&-1!=r.requestid&&1!=o&&i&&"3"!=i&&e.switchStatus.openAutoForecast&&"1"==e.switchStatus.openAutoForecast&&(e.openForecastFunc(!0),e.switchStatus.showAutoForecastResult&&e.switchStatus.showAutoForecastResult.indexOf("1")>-1&&e.clickSmartBtn())}}}),$=a(k.prototype,"setIframeSrc",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){e.forecastUrl=t?"":Fe.getIframeUrl({requestid:e.baseReqParams.requestid})+"&showForecastNode=1",e.iframeHeight=jQuery(".map-box-show").height()-jQuery(".wf-map-header").outerHeight()-5+"px"}}}),Y=a(k.prototype,"openForecastFunc",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){e.needForecastFunc=t}}}),X=a(k.prototype,"setState",[c],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Se.default)(t),n=!0,o=!1,i=void 0;try{for(var a,l=(0,we.default)(r);!(n=(a=l.next()).done);n=!0){var s=a.value;e[s]=t[s]}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}}}}),Z=a(k.prototype,"clickSmartBtn",[f],{enumerable:!0,initializer:function(){var e=this;return function(){e.smartGuessStatus=!0,e.allMapshow=!1,e.setRecordClicked("smart-btn-click"),e.justdoOnce=!1,e.getForecastInfo(),e.getCellArr()}}}),ee=a(k.prototype,"getForecastInfo",[d],{enumerable:!0,initializer:function(){var e=this;return function(){var t={requestid:e.baseReqParams.requestid};xe.getForecastInfo(t).then(function(t){e.needShowTip=t.showTip,t.forecastInfo&&e.baseReqParams.requestid>0&&e.forecastInfoMap.set(e.baseReqParams.requestid,t.forecastInfo)})}}}),te=a(k.prototype,"getFlowChartInfo",[p],{enumerable:!0,initializer:function(){var e=this;return function(){xe.getFlowChartInfo().then(function(t){e.flowChartInfo=(0,be.default)({},t,{loaded:!0})})}}}),re=a(k.prototype,"getCellArr",[h],{enumerable:!0,initializer:function(){var e=this;return function(t,r){var n=(0,be.default)({},e.baseReqParams,t);xe.getSimpleWfData(n).then(function(t){if(e.data=t,e.hasResultFlag=!0,e.isEnd=t.forecastInfo.isEnd,!t.forecastInfo)return e.stopGetArrFlag=!0,e.needBtnMask=!1,e.nodeArr=[];t.forecastInfo.isEnd?(e.needloading=!1,e.stopGetArrFlag=!0,e.needBtnMask=!1,r&&r()):e.stopGetArrFlag=!1,t.nodeInfo&&t.nodeInfo.map(function(t){t.branchNumber>1&&(0==e.divideNodeArr.length?e.divideNodeArr.push({id:t.nodeid,remark:t.nodeRemark,checkItem:t.currentBranch,showStatus:!1}):e.divideNodeArr.every(function(e){return e.remark!=t.nodeRemark||(e.checkItem=t.currentBranch,!1)})&&(e.divideNodeArr=[].concat((0,ve.default)(e.divideNodeArr),[{id:t.nodeid,remark:t.nodeRemark,checkItem:t.currentBranch,showStatus:!1}])))}),e.nodeArr=t.nodeInfo||[]})}}}),ne=a(k.prototype,"setLoadingWrap",[m],{enumerable:!0,initializer:function(){var e=this;return function(t){e.needloading=t}}}),oe=a(k.prototype,"getResetForecast",[v],{enumerable:!0,initializer:function(){var e=this;return function(t){e.getCellArr({resetForecast:1},t)}}}),ie=a(k.prototype,"changSmartGuessStatus",[g],{enumerable:!0,initializer:function(){var e=this;return function(){e.smartGuessStatus=!e.smartGuessStatus}}}),ae=a(k.prototype,"setShowSelectPanel",[b],{enumerable:!0,initializer:function(){var e=this;return function(t){e.divideNodeArr.map(function(e){e.remark==t&&(e.showStatus=!e.showStatus)})}}}),le=a(k.prototype,"setHiddenSelectPanel",[y],{enumerable:!0,initializer:function(){var e=this;return function(){e.divideNodeArr.map(function(e){e.showStatus&&(e.showStatus=!1)})}}}),se=a(k.prototype,"setOptionItem",[w],{enumerable:!0,initializer:function(){var e=this;return function(t,r,n){var o=[];if(e.divideNodeArr.map(function(n,i){n.remark==t.nodeRemark&&(e.divideNodeArr[i].checkItem=r+1,e.divideNodeArr[i].showStatus=!1),o=[].concat((0,ve.default)(o),[n.remark+"_"+n.checkItem])}),0!=o.length){var i=o.join(",");e.getCellArr({choicedBranch:i},n)}}}}),ue=a(k.prototype,"getOperator",[_],{enumerable:!0,initializer:function(){var e=this;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,be.default)({},r,e.baseReqParams);3==r.nodeType&&(n.isForecastNode=1);var o=t+"_"+r.nodeType;e.operatorMap.has(o)?e.operatorInfo=e.operatorMap.get(o):xe.getOperator(n).then(function(t){e.operatorMap.set(o,t.nodes),e.operatorInfo=t.nodes})}}}),ce=a(k.prototype,"clearOperatorArr",[S],{enumerable:!0,initializer:function(){var e=this;return function(){e.operatorInfo=[],e.operatorMap=ke.observable.map?ke.observable.map({}):asMap({})}}}),fe=a(k.prototype,"clearStore",[E],{enumerable:!0,initializer:function(){var e=this;return function(){e.forecastInfoMap=ke.observable.map?ke.observable.map({}):asMap({}),e.smartGuessStatus=!1,e.allMapshow=!1,e.divideNodeArr=[],e.isEnd=!1,e.needloading=!1}}}),de=a(k.prototype,"setRecordClicked",[I],{enumerable:!0,initializer:function(){var e=this;return function(t){e.clickedMap.has(t)||e.clickedMap.set(t,!0)}}}),k);t.default=Re},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n){r&&(0,c.default)(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function i(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,s,u=r(16),c=n(u),f=r(0),d=n(f),p=r(9),h=r(15),m=r(11),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(m),g=(a=function e(){var t=this;(0,d.default)(this,e),o(this,"spinning",l,this),this.auto2NextNodeNames="",this.auto2Operators=[],this.auto2NextNodeids="",o(this,"changeSpining4True",s,this),this.changeSpining4False=function(){t.spinning=!1},this.startInterval=function(e,r,n){t.timer=setInterval(function(){t.getNextNode(e,r,n)},200),setTimeout(function(){clearInterval(t.timer),t.changeSpining4False()},7e3)},this.getNextNode=function(e,r,n){var o={requestid:e,nodeid:r,sessionkey:n};(0,h.getNextNodeContent)(o).then(function(r){r&&!r.isAutoApprove&&(t.auto2NextNodeNames=r.auto2NextNodeNames,t.auto2Operators=r.auto2Operators,t.auto2NextNodeids=r.auto2NextNodeids,clearInterval(t.timer),t.changeSpining4False(),v.reloadRequestPage({requestid:e,sessionkey:n}))}).catch(function(){clearInterval(t.timer),t.changeSpining4False()})},this.changeSpining4True=this.changeSpining4True.bind(this),this.changeSpining4False=this.changeSpining4False.bind(this),this.getNextNode=this.getNextNode.bind(this),this.startInterval=this.startInterval.bind(this)},l=i(a.prototype,"spinning",[p.observable],{enumerable:!0,initializer:function(){return!1}}),s=i(a.prototype,"changeSpining4True",[p.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.spinning=!0}}}),a);t.default=g},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(6);r(254);var S=r(129),E=o(S),I=r(14),k=r(11),C=n(k),x=r(29),O=n(x),P=(0,w.getEcCom)(),M=P.WeaReqTop,A=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){jQuery("body").attr("class","bodyOverflowHidden"),C.bindResizeEvent(),(0,I.controlAsyncLoad)(),O.loadCaculateResource()}},{key:"componentDidUpdate",value:function(){(0,I.controlAsyncLoad)()}},{key:"render",value:function(){var e=this.props,t=e.globalStore,r=e.layoutStore,n=t.commonParam,o=n.layouttype,i=r.dataJson;return _.isEmpty(n)||_.isEmpty(i)?null:1===o||2===o?this.renderPrint():this.renderShow()}},{key:"renderShow",value:function(){var e=this.props.globalStore.commonParam.margin,t=[{title:(0,w.getLabel)(34130,"流程表单"),key:"form"}];return b.default.createElement("div",{className:"wf-req"},b.default.createElement(M,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReqTop@7go64i",title:b.default.createElement("div",null,(0,w.getLabel)(31568,"模板预览")),icon:b.default.createElement("i",{className:"icon-coms-workflow"}),iconBgcolor:"#0079DE",tabDatas:t,selectedKey:"form"},b.default.createElement("div",{className:"wf-req-form-content"},b.default.createElement("div",{className:"wf-req-form-scroll"},b.default.createElement("div",{className:"wf-req-form-main"},b.default.createElement("div",{className:"wf-req-form-wrapper",style:{margin:e}},b.default.createElement("div",{className:"wf-req-form",style:{margin:"0 auto",marginBottom:"20px"}},b.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_MainLayout@ql61lr",symbol:"main"})))))),b.default.createElement("div",null)))}},{key:"renderPrint",value:function(){return jQuery("body").css("overflow","auto"),b.default.createElement("div",{className:"wf-req-print",style:{margin:"10px 6px"}},b.default.createElement("div",{className:"wf-req-form",style:{margin:"0 auto",marginBottom:"20px"}},b.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_MainLayout@kc5s6f",symbol:"main"})))}}]),t}(b.default.Component))||a)||a;t.default=A},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(532),E=n(S),I=n(S),k=r(132),C=o(k),x=r(126),O=o(x),P=r(11),M=n(P),A=r(23),F=n(A),R=new E.Parser,T=new I.ProcessNodeDefinitions(w.default),D=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(){var e,r,n,o;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(a))),n.isValidNode=function(){return!0},n.processingInstructions=function(){var e=n.props.layoutStore.layoutSourceInfo,t=new RegExp(/^\$(label|field|node)(-?\d+)\$$/),r=new RegExp(/^oTable(\d+)$/);return[{shouldProcessNode:function(e){return"input"===e.name&&e.attribs&&e.attribs.id&&e.attribs.id.match(t)},processNode:function(r,o){var i=r.attribs.id.match(t),a=i[1],l=0;l="label"===a?2:l,l="field"===a?3:l,l="node"===a?5:l;var u=i[2],c={id:"0,0",field:u,etype:l},f={};return 5===l&&(f.nodeMark=e.nodeMarkContent&&e.nodeMarkContent["node"+u]),w.default.createElement(C.default,(0,s.default)({ecId:(n&&n.props&&n.props.ecId||"")+"_CellType@2jq516@"+l+"_"+u,symbol:"main",cellObj:c},f))}},{shouldProcessNode:function(e){return"div"===e.name&&e.attribs&&e.attribs.id&&e.attribs.id.match(r)},processNode:function(e){var t=parseInt(e.attribs.id.match(r)[1]),o="detail_"+(t+1),i={id:"0,0",etype:"7",detail:o};return w.default.createElement(C.default,{ecId:(n&&n.props&&n.props.ecId||"")+"_CellType@x298pa@"+o,symbol:"main",cellObj:i})}},{shouldProcessNode:function(){return!0},processNode:T.processDefaultNode}]},o=r,(0,v.default)(n,o)}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){(0,O.default)(".excelTempDiv").find("button[name^=addbutton],input[name^=addbutton]").each(function(){var e=(0,O.default)(this).attr("name"),t=parseInt(e.replace("addbutton","")),r="detail_"+(t+1),n=F.getDetailObj(r);if(null==n)return!0;var o=n.attr,i=o.isadd;o.isdelete;1===i?((0,O.default)(this).removeAttr("onclick"),(0,O.default)(this).bind("click",function(){F.addRow(r)})):(0,O.default)(this).remove()}),(0,O.default)(".excelTempDiv").find("button[name^=delbutton],input[name^=delbutton]").each(function(){var e=(0,O.default)(this).attr("name"),t=parseInt(e.replace("delbutton","")),r="detail_"+(t+1),n=F.getDetailObj(r);if(null==n)return!0;var o=n.attr,i=o.isadd,a=o.isdelete;1===i||1===a?((0,O.default)(this).removeAttr("onclick"),(0,O.default)(this).bind("click",function(){M.delRow(r)})):(0,O.default)(this).remove()})}},{key:"render",value:function(){var e=this.props.layoutStore,t=e.layoutSourceInfo.html;return R.parseWithInstructions(t,this.isValidNode,this.processingInstructions())}}]),t}(w.default.Component))||a)||a;t.default=D},function(e,t,r){"use strict";var n=r(533),o=r(265),i=r(268),a=r(266);e.exports={Parser:n,ProcessingInstructions:o,IsValidNodeDefinitions:i,ProcessNodeDefinitions:a}},function(e,t,r){"use strict";function n(e){function t(t){e=e||{},e.decodeEntities=!0;var r=new c;return new u(r,e).parseComplete(t),r.dom.filter(function(e){return"directive"!==e.type})}function r(e,t,n,u,c){if(t(e)){o(function(t){t.shouldPreprocessNode(e)&&t.preprocessNode(e,c)},u||[]);var f=i(function(t){return t.shouldProcessNode(e)},n||[]);if(null!=f){var d=a(function(e){return null==e||!1===e},l(s)(function(e,o){return r(e,t,n,u,o)},e.children||[]));return f.replaceChildren?p.createElement(e,c,e.data,[f.processNode(e,d,c)]):f.processNode(e,d,c)}return!1}return!1}function n(e,n,o,i){var a=t(e),l=a.map(function(e,t){return r(e,n,o,i,t)});return l.length<=1?l[0]:l}function h(e){var t=new f;return n(e,d.alwaysValid,t.defaultProcessingInstructions)}return{parse:h,parseWithInstructions:n}}var o=r(534),i=r(536),a=r(540),l=r(551),s=r(554),u=r(557).Parser,c=r(183).DomHandler,f=r(265),d=r(268),p=r(267);e.exports=n},function(e,t,r){var n=r(535),o=r(33),i=o(n("forEach",function(e,t){for(var r=t.length,n=0;n<r;)e(t[n]),n+=1;return t}));e.exports=i},function(e,t,r){function n(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return o(n)||"function"!==typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var o=r(175);e.exports=n},function(e,t,r){var n=r(33),o=r(176),i=r(538),a=n(o(["find"],i,function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}}));e.exports=a},function(e,t){function r(e){return null!=e&&"function"===typeof e["@@transducer/step"]}e.exports=r},function(e,t,r){var n=r(33),o=r(539),i=r(177),a=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=o(this.xf["@@transducer/step"](e,t))),e},e}(),l=n(function(e,t){return new a(e,t)});e.exports=l},function(e,t){function r(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}e.exports=r},function(e,t,r){var n=r(541),o=r(33),i=r(542),a=o(function(e,t){return i(n(e),t)});e.exports=a},function(e,t){function r(e){return function(){return!e.apply(this,arguments)}}e.exports=r},function(e,t,r){var n=r(33),o=r(176),i=r(543),a=r(544),l=r(178),s=r(549),u=r(180),c=n(o(["filter"],s,function(e,t){return a(t)?l(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},u(t)):i(e,t)}));e.exports=c},function(e,t){function r(e,t){for(var r=0,n=t.length,o=[];r<n;)e(t[r])&&(o[o.length]=t[r]),r+=1;return o}e.exports=r},function(e,t){function r(e){return"[object Object]"===Object.prototype.toString.call(e)}e.exports=r},function(e,t,r){var n=r(57),o=r(175),i=r(546),a=n(function(e){return!!o(e)||!!e&&("object"===typeof e&&(!i(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))});e.exports=a},function(e,t){function r(e){return"[object String]"===Object.prototype.toString.call(e)}e.exports=r},function(e,t){function r(e){return new n(e)}var n=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();e.exports=r},function(e,t,r){var n=r(179),o=r(33),i=o(function(e,t){return n(e.length,function(){return e.apply(t,arguments)})});e.exports=i},function(e,t,r){var n=r(33),o=r(177),i=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=o.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),a=n(function(e,t){return new i(e,t)});e.exports=a},function(e,t,r){var n=r(131),o=Object.prototype.toString,i=function(){return"[object Arguments]"===o.call(arguments)?function(e){return"[object Arguments]"===o.call(e)}:function(e){return n("callee",e)}}();e.exports=i},function(e,t,r){var n=r(552),o=r(57),i=r(255),a=o(function(e){return i(e.length,function(){var t=0,r=arguments[0],o=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=r.apply(this,n(arguments,[t,o]));return t+=1,e},e.apply(this,i)})});e.exports=a},function(e,t){function r(e,t){e=e||[],t=t||[];var r,n=e.length,o=t.length,i=[];for(r=0;r<n;)i[i.length]=e[r],r+=1;for(r=0;r<o;)i[i.length]=t[r],r+=1;return i}e.exports=r},function(e,t,r){function n(e,t,r){return function(){for(var a=[],l=0,s=e,u=0;u<t.length||l<arguments.length;){var c;u<t.length&&(!i(t[u])||l>=arguments.length)?c=t[u]:(c=arguments[l],l+=1),a[u]=c,i(c)||(s-=1),u+=1}return s<=0?r.apply(this,a):o(s,n(e,a,r))}}var o=r(179),i=r(130);e.exports=n},function(e,t,r){var n=r(33),o=r(176),i=r(555),a=r(178),l=r(556),s=r(255),u=r(180),c=n(o(["fantasy-land/map","map"],l,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return s(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return a(function(r,n){return r[n]=e(t[n]),r},{},u(t));default:return i(e,t)}}));e.exports=c},function(e,t){function r(e,t){for(var r=0,n=t.length,o=Array(n);r<n;)o[r]=e(t[r]),r+=1;return o}e.exports=r},function(e,t,r){var n=r(33),o=r(177),i=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=o.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),a=n(function(e,t){return new i(e,t)});e.exports=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function o(e,t){var r=new s.DomHandler(void 0,t);return new l.Parser(r,t).end(e),r.dom}function i(e,t,r){var n=new s.DomHandler(e,t,r);return new l.Parser(n,t)}var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=r(256);t.Parser=l.Parser;var s=r(183);t.DomHandler=s.DomHandler,t.DefaultHandler=s.DomHandler,t.parseDOM=o,t.createDomStream=i;var u=r(257);t.Tokenizer=u.default;var c=a(r(561));t.ElementType=c,t.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},n(r(260)),n(r(572)),n(r(573));var f=a(r(261));t.DomUtils=f;var d=r(260);t.RssHandler=d.FeedHandler},function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,r){"use strict";function n(e){console&&console.warn}function o(){o.init.call(this)}function i(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,o){var l,s,u;if(i(r),s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),u=s[t]),void 0===u)u=s[t]=r,++e._eventsCount;else if("function"===typeof u?u=s[t]=o?[r,u]:[u,r]:o?u.unshift(r):u.push(r),(l=a(e))>0&&u.length>l&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,n(c)}return e}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=s.bind(n);return o.listener=r,n.wrapFn=o,o}function c(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"===typeof o?r?[o.listener||o]:[o]:r?h(o):d(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function h(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}var m,v="object"===typeof Reflect?Reflect:null,g=v&&"function"===typeof v.apply?v.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};m=v&&"function"===typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!==e};e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var y=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(e){if("number"!==typeof e||e<0||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");y=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)g(l,this,t);else for(var s=l.length,u=d(l,s),r=0;r<s;++r)g(u[r],this,t);return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return i(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,o,a,l;if(i(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){l=r[a].listener,o=a;break}if(o<0)return this;0===o?r.shift():p(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,l||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return c(this,e,!0)},o.prototype.rawListeners=function(e){return c(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),i=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return o.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent||null},set:function(e){this.parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(e){this.prev=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next||null},set:function(e){this.next=e},enumerable:!0,configurable:!0}),e}();t.Node=i;var a=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return n(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),t}(i);t.DataNode=a;var l=function(e){function t(t,r){var n=e.call(this,"directive",r)||this;return n.name=t,n}return n(t,e),t}(a);t.ProcessingInstruction=l;var s=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return n(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!0,configurable:!0}),t}(i);t.NodeWithChildren=s;var u=function(e){function t(t,r){var n=e.call(this,"script"===t?"script":"style"===t?"style":"tag",[])||this;return n.name=t,n.attribs=r,n.attribs=r,n}return n(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),t}(s);t.Element=u},function(e,t,r){"use strict";function n(e){return"tag"===e.type||"script"===e.type||"style"===e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=n,t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"},function(e,t,r){"use strict";function n(e,t){return s.default(e,t)}function o(e,t){return l.hasChildren(e)?e.children.map(function(e){return n(e,t)}).join(""):""}function i(e){return Array.isArray(e)?e.map(i).join(""):l.isTag(e)?"br"===e.name?"\n":i(e.children):l.isCDATA(e)?i(e.children):l.isText(e)?e.data:""}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(103),s=a(r(564));t.getOuterHTML=n,t.getInnerHTML=o,t.getText=i},function(e,t,r){"use strict";function n(e){return"tag"===e.type||"script"===e.type||"style"===e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=n,t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"},function(e,t,r){function n(e,t){if(e){var r,n="";for(var o in e)r=e[o],n&&(n+=" "),"foreign"===t.xmlMode&&(o=f.attributeNames[o]||o),n+=o,(null!==r&&""!==r||t.xmlMode)&&(n+='="'+(t.decodeEntities?c.encodeXML(r):r.replace(/\"/g,"&quot;"))+'"');return n}}function o(e,t){"foreign"===t.xmlMode&&(e.name=f.elementNames[e.name]||e.name,e.parent&&m.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var r="<"+e.name,o=n(e.attribs,t);return o&&(r+=" "+o),!t.xmlMode||e.children&&0!==e.children.length?(r+=">",e.children&&(r+=h(e.children,t)),p[e.name]&&!t.xmlMode||(r+="</"+e.name+">")):r+="/>",r}function i(e){return"<"+e.data+">"}function a(e,t){var r=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in d||(r=c.encodeXML(r)),r}function l(e){return"<![CDATA["+e.children[0].data+"]]>"}function s(e){return"\x3c!--"+e.data+"--\x3e"}var u=r(565),c=r(566),f=r(567);f.elementNames.__proto__=null,f.attributeNames.__proto__=null;var d={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},p={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},h=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var r="",n=0;n<e.length;n++){var c=e[n];"root"===c.type?r+=h(c.children,t):u.isTag(c)?r+=o(c,t):c.type===u.Directive?r+=i(c):c.type===u.Comment?r+=s(c):c.type===u.CDATA?r+=l(c):r+=a(c,t)}return r},m=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]},function(e,t,r){"use strict";function n(e){return"tag"===e.type||"script"===e.type||"style"===e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=n,t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"},function(e,t,r){"use strict";function n(e,t){return(!t||t<=0?a.decodeXML:a.decodeHTML)(e)}function o(e,t){return(!t||t<=0?a.decodeXML:a.decodeHTMLStrict)(e)}function i(e,t){return(!t||t<=0?l.encodeXML:l.encodeHTML)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decodeStrict=t.decode=void 0;var a=r(262),l=r(263);t.decode=n,t.decodeStrict=o,t.encode=i;var s=r(263);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var u=r(262);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})},function(e,t){e.exports={elementNames:{altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},attributeNames:{definitionurl:"definitionURL",attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"}}},function(e,t,r){"use strict";function n(e){return e.children||null}function o(e){return e.parent||null}function i(e){var t=o(e);return t?n(t):[e]}function a(e,t){var r;return null===(r=e.attribs)||void 0===r?void 0:r[t]}function l(e,t){return!!e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]}function s(e){return e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.getChildren=n,t.getParent=o,t.getSiblings=i,t.getAttributeValue=a,t.hasAttrib=l,t.getName=s},function(e,t,r){"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}function o(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var o=t.parent=e.parent;if(o){var i=o.children;i[i.lastIndexOf(e)]=t}}function i(e,t){if(t.parent=e,1!==e.children.push(t)){var r=e.children[e.children.length-2];r.next=t,t.prev=r,t.next=null}}function a(e,t){var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var o=r.children;o.splice(o.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}function l(e,t){var r=e.parent;if(r){var n=r.children;n.splice(n.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=n,t.replaceElement=o,t.appendChild=i,t.append=a,t.prepend=l},function(e,t,r){"use strict";function n(e){return"text"===e.type}function o(e,t){return"function"===typeof t?function(r){return p.isTag(r)&&t(r.attribs[e])}:function(r){return p.isTag(r)&&r.attribs[e]===t}}function i(e,t){return function(r){return e(r)||t(r)}}function a(e){var t=Object.keys(e).map(function(t){var r=e[t];return t in h?h[t](r):o(t,r)});return 0===t.length?null:t.reduce(i)}function l(e,t){var r=a(e);return!r||r(t)}function s(e,t,r,n){void 0===n&&(n=1/0);var o=a(e);return o?d.filter(o,t,r,n):[]}function u(e,t,r){return void 0===r&&(r=!0),Array.isArray(t)||(t=[t]),d.findOne(o("id",e),t,r)}function c(e,t,r,n){return void 0===n&&(n=1/0),d.filter(h.tag_name(e),t,r,n)}function f(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),d.filter(h.tag_type(e),t,r,n)}Object.defineProperty(t,"__esModule",{value:!0});var d=r(264),p=r(103),h={tag_name:function(e){return"function"===typeof e?function(t){return p.isTag(t)&&e(t.name)}:"*"===e?p.isTag:function(t){return p.isTag(t)&&t.name===e}},tag_type:function(e){return"function"===typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"===typeof e?function(t){return n(t)&&e(t.data)}:function(t){return n(t)&&t.data===e}}};t.testElement=l,t.getElements=s,t.getElementById=u,t.getElementsByTagName=c,t.getElementsByTagType=f},function(e,t,r){"use strict";function n(e){for(var t=e.length;--t>=0;){var r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0)e.splice(t,1);else for(var n=r.parent;n;n=n.parent)if(e.indexOf(n)>-1){e.splice(t,1);break}}return e}function o(e,t){var r=[],n=[];if(e===t)return 0;for(var o=a.hasChildren(e)?e:e.parent;o;)r.unshift(o),o=o.parent;for(o=a.hasChildren(t)?t:t.parent;o;)n.unshift(o),o=o.parent;for(var i=0;r[i]===n[i];)i++;if(0===i)return 1;var l=r[i-1],s=l.children,u=r[i],c=n[i];return s.indexOf(u)>s.indexOf(c)?l===t?20:4:l===e?10:2}function i(e){return e=e.filter(function(e,t,r){return!r.includes(e,t+1)}),e.sort(function(e,t){var r=o(e,t);return 2&r?-1:4&r?1:0}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(103);t.removeSubsets=n,t.compareDocumentPosition=o,t.uniqueSort=i},function(e,t){},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(574)),a=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];r.events.push([e].concat(n)),r._cbs[e]&&(t=r._cbs)[e].apply(t,n)})||this;return r._cbs=t,r.events=[],r}return n(t,e),t.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},t.prototype.restart=function(){var e;this._cbs.onreset&&this._cbs.onreset();for(var t=0;t<this.events.length;t++){var r=this.events[t],n=r[0],o=r.slice(1);this._cbs[n]&&(e=this._cbs)[n].apply(e,o)}},t}(i.default);t.CollectingHandler=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._func=e}return e.prototype.onattribute=function(e,t){this._func("onattribute",e,t)},e.prototype.oncdatastart=function(){this._func("oncdatastart")},e.prototype.oncdataend=function(){this._func("oncdataend")},e.prototype.ontext=function(e){this._func("ontext",e)},e.prototype.onprocessinginstruction=function(e,t){this._func("onprocessinginstruction",e,t)},e.prototype.oncomment=function(e){this._func("oncomment",e)},e.prototype.oncommentend=function(){this._func("oncommentend")},e.prototype.onclosetag=function(e){this._func("onclosetag",e)},e.prototype.onopentag=function(e,t){this._func("onopentag",e,t)},e.prototype.onopentagname=function(e){this._func("onopentagname",e)},e.prototype.onerror=function(e){this._func("onerror",e)},e.prototype.onend=function(){this._func("onend")},e.prototype.onparserinit=function(e){this._func("onparserinit",e)},e.prototype.onreset=function(){this._func("onreset")},e}();t.default=n},function(e,t,r){"use strict";function n(e){return!0}e.exports={shouldProcessEveryNode:n}},function(e,t,r){(function(t){function r(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function n(e){return e.split("")}function o(e){return e.match(_)||[]}function i(e){return z.test(e)}function a(e){return U.test(e)}function l(e){return i(e)?s(e):n(e)}function s(e){return e.match(W)||[]}function u(e){return e.match(B)||[]}function c(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}function f(e){if("string"==typeof e)return e;if(h(e))return Z?Z.call(e):"";var t=e+"";return"0"==t&&1/e==-y?"-0":t}function d(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:c(e,t,r)}function p(e){return!!e&&"object"==typeof e}function h(e){return"symbol"==typeof e||p(e)&&$.call(e)==w}function m(e){return null==e?"":f(e)}function v(e){return te(m(e).toLowerCase())}function g(e){return(e=m(e))&&e.replace(S,K).replace(q,"")}function b(e,t,r){return e=m(e),t=r?void 0:t,void 0===t?a(e)?u(e):o(e):e.match(t)||[]}var y=1/0,w="[object Symbol]",_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,S=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,E="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",I="["+E+"]",k="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",C="[a-z\\xdf-\\xf6\\xf8-\\xff]",x="[^\\ud800-\\udfff"+E+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",O="\\ud83c[\\udffb-\\udfff]",P="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",A="[A-Z\\xc0-\\xd6\\xd8-\\xde]",F="(?:"+C+"|"+x+")",R="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",T="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",P,M].join("|")+")[\\ufe0e\\ufe0f]?"+R+")*",D="[\\ufe0e\\ufe0f]?"+R+T,j="(?:"+["[\\u2700-\\u27bf]",P,M].join("|")+")"+D,L="(?:"+["[^\\ud800-\\udfff]"+k+"?",k,P,M,"[\\ud800-\\udfff]"].join("|")+")",N=RegExp("['’]","g"),q=RegExp(k,"g"),W=RegExp(O+"(?="+O+")|"+L+D,"g"),B=RegExp([A+"?"+C+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[I,A,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[I,A+F,"$"].join("|")+")",A+"?"+F+"+(?:['’](?:d|ll|m|re|s|t|ve))?",A+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d+",j].join("|"),"g"),z=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),U=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,V={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},H="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,Q=H||G||Function("return this")(),K=function(e){return function(t){return null==e?void 0:e[t]}}(V),J=Object.prototype,$=J.toString,Y=Q.Symbol,X=Y?Y.prototype:void 0,Z=X?X.toString:void 0,ee=function(e){return function(t){return r(b(g(t).replace(N,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?v(t):t)}),te=function(e){return function(t){t=m(t);var r=i(t)?l(t):void 0,n=r?r[0]:t.charAt(0),o=r?d(r,1).join(""):t.slice(1);return n[e]()+o}}("toUpperCase");e.exports=ee}).call(t,r(154))},function(e,t,r){var n=r(57),o=r(131),i=n(function(e){var t=[];for(var r in e)o(r,e)&&(t[t.length]=[r,e[r]]);return t});e.exports=i},function(e,t,r){var n=r(579),o=r(178),i=n(o);e.exports=i},function(e,t,r){function n(e){return function t(r,n,l){switch(arguments.length){case 0:return t;case 1:return a(r)?t:i(function(t,n){return e(r,t,n)});case 2:return a(r)&&a(n)?t:a(r)?i(function(t,r){return e(t,n,r)}):a(n)?i(function(t,n){return e(r,t,n)}):o(function(t){return e(r,n,t)});default:return a(r)&&a(n)&&a(l)?t:a(r)&&a(n)?i(function(t,r){return e(t,r,l)}):a(r)&&a(l)?i(function(t,r){return e(t,n,r)}):a(n)&&a(l)?i(function(t,n){return e(r,t,n)}):a(r)?o(function(t){return e(t,n,l)}):a(n)?o(function(t){return e(r,t,l)}):a(l)?o(function(t){return e(r,n,t)}):e(r,n,l)}}}var o=r(57),i=r(33),a=r(130);e.exports=n},function(e,t,r){var n=r(581),o=r(33),i=o(n);e.exports=i},function(e,t,r){function n(e,t){return o(t,e,0)>=0}var o=r(582);e.exports=n},function(e,t,r){function n(e,t,r){var n,i;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(i=e[r])&&1/i===n)return r;r+=1}return-1}if(t!==t){for(;r<e.length;){if("number"===typeof(i=e[r])&&i!==i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(o(e[r],t))return r;r+=1}return-1}var o=r(583);e.exports=n},function(e,t,r){var n=r(33),o=r(584),i=n(function(e,t){return o(e,t,[],[])});e.exports=i},function(e,t,r){function n(e,t,r,n){function l(e,t){return o(e,t,r.slice(),n.slice())}var s=i(e),u=i(t);return!a(function(e,t){return!a(l,t,e)},u,s)}function o(e,t,r,i){if(u(e,t))return!0;var a=f(e);if(a!==f(t))return!1;if(null==e||null==t)return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===l(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!u(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!u(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var d=r.length-1;d>=0;){if(r[d]===e)return i[d]===t;d-=1}switch(a){case"Map":return e.size===t.size&&n(e.entries(),t.entries(),r.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&n(e.values(),t.values(),r.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=c(e);if(p.length!==c(t).length)return!1;var h=r.concat([e]),m=i.concat([t]);for(d=p.length-1;d>=0;){var v=p[d];if(!s(v,t)||!o(t[v],e[v],h,m))return!1;d-=1}return!0}var i=r(585),a=r(586),l=r(587),s=r(131),u=r(588),c=r(180),f=r(589);e.exports=o},function(e,t){function r(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}e.exports=r},function(e,t){function r(e,t,r){for(var n=0,o=r.length;n<o;){if(e(t,r[n]))return!0;n+=1}return!1}e.exports=r},function(e,t){function r(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}e.exports=r},function(e,t){function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}e.exports="function"===typeof Object.is?Object.is:r},function(e,t,r){var n=r(57),o=n(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});e.exports=o},function(e,t,r){"use strict";var n=["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","classID","className","colSpan","cols","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","nonce","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","rel","required","reversed","role","rowSpan","rows","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","target","title","type","useMap","value","width","wmode","wrap","onClick"],o=["autoCapitalize","autoCorrect","color","itemProp","itemScope","itemType","itemRef","itemID","security","unselectable","results","autoSave"],i=["accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","x1","x2","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlns","xmlnsXlink","xmlBase","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan"],a=n.concat(o).concat(i).reduce(function(e,t){var r=t.toLowerCase();return r!==t&&(e[r]=t),e},{});e.exports=a},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(10),_=(n(w),r(23)),S=n(_),E=r(6),I=r(592),k=o(I),C=r(593),x=o(C),O=r(594),P=o(O),M=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.dref=b.default.createRef(),e}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.dref.current;S.calculateDetailAreaStyle(jQuery(e).parent())}},{key:"render",value:function(){var e=this,t=this.props,r=t.symbol,n=t.globalStore,o=t.layoutStore,i=parseInt(r.substring(7))-1,a=(n.JSComplete,n.commonParam),l=a.isprint,s=o.dataJson,u=o.detailMap;if(!u.has(r))return b.default.createElement("div",null,(0,E.getLabel)(514716,"表单中不存在明细表$s，请检查模板配置！").replace("$s",i+1));var c=u.get(r),f=c.attr,d=c.variableMap,p=1===f.allowscroll&&"1"!==l&&!0!==d.get("forceDisabledScrollX"),h=s.etables[r]||{},m=p&&parseInt(h.edlockedcol||-1)>-1&&"1"===h.seniorset&&!0!==d.get("forceDisabledLocked"),v=S.judgeLockedBtnRow(p,h),g=[];return(m?[1,2]:[0]).forEach(function(t){g.push(b.default.createElement(k.default,{ecId:(e&&e.props&&e.props.ecId||"")+"_DTable@d7u1di@"+r,symbol:r,lockedFlag:t,allowXScroll:p,lockedBtnRow:v}))}),b.default.createElement("div",{ref:this.dref,className:"wf-detail "+("1"!==l?"wf-detail-view":"wf-detail-print")+" wf-detail-"+i},v&&b.default.createElement(x.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_DTop@46ealm",symbol:r,detailLayout:h}),b.default.createElement("div",{className:"excelDetailTableDiv",id:"dTableArea_"+i,"data-groupid":i,"data-allowxscroll":p,"data-supportLockedCol":m},g),b.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_DPaging@xn5bs3",symbol:r}))}}]),t}(b.default.Component))||a)||a;t.default=M},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(6),E=r(184),I=o(E),k=r(67),C=n(k),x=r(10),O=n(x),P=r(23),M=n(P),A=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(){(0,d.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.doScrollXEvent=function(t){var r=e.props.symbol,n=parseInt(r.substring(7))-1,o=jQuery("#dTableArea_"+n);o.find(".excelDetailContent").scrollLeft()>0?o.find(".excelDetailTableArea_locked").addClass("wf-detail-scrollx-fixed"):o.find(".excelDetailTableArea_locked").removeClass("wf-detail-scrollx-fixed"),M.syncDetailScrollXPosition(n)},e}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.globalStore,n=t.layoutStore,o=t.symbol,i=t.allowXScroll,a=t.lockedFlag,l=t.lockedBtnRow,u=parseInt(o.substring(7))-1,c=(r.JSComplete,r.commonParam),f=r.browserVersion,d=c.layouttype,p=c.isprint,h=n.dataJson,m=n.detailMap,v=(n.propFileCfg,h.etables[o]||{}),g=parseInt(v.edtitleinrow||0),b=parseInt(v.edtailinrow||0);if(0==g||0==b||b<=g)return w.default.createElement("div",null,(0,S.getLabel)(386148,"对不起，表头标识、表尾标识设置异常，无法渲染明细！"));var y=m.get(o),_=y.attr,E="1"==p&&1===_.isprintthead,k="1"===v.seniorset,x=parseInt(v.edlockedcol||-1),P=v.rowattrs,A=v.colattrs,F=v.rowheads,R=v.ec,T=(0,s.default)({},v.colheads);1===a&&O.forIn(T,function(e,t){parseInt(t.substring(4))>x&&delete T[t]});var D=i&&1!==a?{"overflow-x":"IE9"===f?"scroll":"auto"}:{},j=C.judgeDetailContainColHide(A)?{"table-layout":"fixed"}:{},L=C.convertRowHeads(F),N=C.convertColHeads(T,o,d,j,i,k,A),q=C.convertEcMap(R),W=(!k&&("1"!=p||_.isprintserial),new Array);k||W.push(w.default.createElement("td",{style:{width:i?"60px":"6%"}})),N.map(function(e){var t={width:e.width},r=A&&A["col_"+e.id]||{},n="";"y"===r.hide&&(n+=" detail_hide_col"),r.class&&(n+=" "+r.class),W.push(w.default.createElement("td",{style:t,className:n}))});var B=new Array;B.push(w.default.createElement("tr",{className:"detailControlWidth"},W)),C.parseLayoutImage(v,j,B);var z=new Array,U=new Array,V=y.currentPageRowArr,H=y.rowInfo,G=y.currentPageRowMergeInfo;L.map(function(t){var r=parseInt(t.id),n=P?P["row_"+r]:null,i=0,s=b-g-1;if(r===g+1)k||(i=3),V.length>0&&V.map(function(t,n){for(var l=t.rowIndex,u=t.serialNum,c=H.get("row_"+l),f=n===V.length-1,d={rowType:2,addColType:i,rowIndex:l,serialNum:u,lockedFlag:a,lockedColumn:x,needHide:c.get("needHide"),isLastRow:f},p=r;p<b;p++){var h=P?P["row_"+p]:null;z.push(w.default.createElement(I.default,{ecId:(e&&e.props&&e.props.ecId||"")+"_LayoutTr@k1jxa4@"+o+"_"+p,symbol:o,colNum:N.length,rowid:p,rowHeight:(F["row_"+p]||30)+"px",rowCusAttr:h,colattrs:A,ecMap:q,detailProps:d,dataRows:s,rowMergeInfo:G&&G.get("row_"+l)}))}});else if(r<g||k&&r>b){if(l&&0===r)return!0;k||(i=r===g-1?2:1);var u={rowType:r<g?1:3,addColType:i,lockedFlag:a,lockedColumn:x,lockedBtnRow:l},c=w.default.createElement(I.default,{ecId:(e&&e.props&&e.props.ecId||"")+"_LayoutTr@df6bc7@"+o+"_"+r,symbol:o,colNum:N.length,rowid:r,rowHeight:(F["row_"+r]||30)+"px",rowCusAttr:n,colattrs:A,ecMap:q,detailProps:u});r<g?B.push(c):U.push(c)}}),!k&&M.judgeDetailContainSum(o)&&U.push(w.default.createElement(I.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutTr@pdoiz3@"+o+"_sumRow",symbol:o,colNum:N.length,rowid:g-1,rowHeight:"30px",colattrs:A,ecMap:q,detailProps:{addColType:4}}));var Q=1===a?"_locked":"";return w.default.createElement("div",{className:"excelDetailTableArea"+Q},"1"!=p&&w.default.createElement("div",{className:"excelDetailFixedHead"+Q},w.default.createElement("table",{className:"excelDetailTable",id:"oTable"+u+"_head"+Q,style:j},w.default.createElement("tbody",null,B))),w.default.createElement("div",{className:"excelDetailContent"+Q,style:D,onScroll:this.doScrollXEvent},w.default.createElement("table",{className:"excelDetailTable",id:"oTable"+u+Q,name:"oTable"+u+Q,style:j},E&&w.default.createElement("thead",null,B),w.default.createElement("tbody",null,E?[]:B,z,U))))}}]),t}(w.default.Component))||a)||a;t.default=A},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(184),E=o(S),I=r(67),k=n(I),C=r(10),x=(n(C),(i=(0,_.inject)("globalStore"))(a=(0,_.observer)(a=function(e){function t(){return(0,d.default)(this,t),(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this))}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.symbol,r=e.detailLayout,n=e.globalStore,o=n.commonParam,i=o.layouttype,a=(parseInt(t.substring(7)),{}),l=r.rowattrs,u=r.colattrs,c=r.rowheads,f=r.ec,d=(0,s.default)({},r.colheads),p=k.convertColHeads(d,t,i,a,!1,!0,u),h=k.convertEcMap(f),m=l?l.row_0:null,v=new Array;p.map(function(e){var t={width:e.width},r=u&&u["col_"+e.id]||{},n="";"y"===r.hide&&(n+=" detail_hide_col"),r.class&&(n+=" "+r.class),v.push(w.default.createElement("td",{style:t,className:n}))});var g=new Array;return g.push(w.default.createElement("tr",{className:"detailControlWidth"},v)),g.push(w.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutTr@hputw8@"+t+"_lockedRow",symbol:t,colNum:p.length,rowid:0,rowHeight:(c.row_0||30)+"px",rowCusAttr:m,colattrs:u,ecMap:h,detailProps:{}})),w.default.createElement("div",{className:"wf-detail-locked-btnrow"},w.default.createElement("div",{className:"wf-detail-locked-btnrow-content"},w.default.createElement("table",{className:"wf-detail-locked-btnrow-table"},w.default.createElement("tbody",null,g))),w.default.createElement("div",{className:"wf-detail-locked-btnrow-placeholder"}))}}]),t}(w.default.Component))||a)||a);t.default=x},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(6),_=r(67),S=(n(_),r(10)),E=(n(S),r(23)),I=n(E),k=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=(0,w.getAntd)(),t=e.Pagination,r=this.props,n=r.symbol,o=r.globalStore,i=r.layoutStore,a=(o.JSComplete,o.commonParam.workflowid),l=i.dataJson,s=i.detailMap,u=l.etables[n]||{},c=(parseInt(u.edtitleinrow||0),s.get(n)),f=c.attr.groupid-1,d=c.pagingInfo,p=c.rowInfoArr,h=p.length,m=d.enabled,v=d.current,g=d.pagesize;return m?b.default.createElement("div",{className:"wf-detail-paging"},b.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Pagination@4tzss0",symbol:n,showSizeChanger:!0,showQuickJumper:!0,total:h,current:v,showTotal:function(e){return(0,w.getLabel)(385617,"共$s条").replace("$s",e)},pageSize:g,pageSizeOptions:["5","10","20","30","50","100","150","200"],onChange:function(e){c.controlPagingInfo({current:e}),I.controlDetailPosition(f),window.WfForm.triggerAction(window.WfForm.ACTION_SWITCHDETAILPAGING,[f],200)},onShowSizeChange:function(e,t){var r={workflowid:a,groupid:f,pagesize:t};c.changePageSize(r),I.controlDetailPosition(f),window.WfForm.triggerAction(window.WfForm.ACTION_SWITCHDETAILPAGING,[f],200)}})):null}}]),t}(b.default.Component))||a)||a;t.default=k},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(11),E=n(S),I=r(23),k=n(I),C=r(596),x=o(C),O=r(10),P=n(O),M=r(6),A=r(18),F=n(A),R=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.doSapBrowAddRow=function(e){var t=r.props.symbol;e&&e.map(function(e){k.addRow(t,e,!1)})},r}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=(0,M.getEcCom)(),t=e.WeaDropdown,r=t.ButtonSelect,n=this.props,o=n.symbol,i=n.globalStore,a=n.layoutStore,l=(i.JSComplete,i.commonParam),u=l.requestid,c=l.workflowid;if(1===parseInt(l.isviewonly||0)||1===parseInt(l.isaffirmance||0))return w.default.createElement("div",{className:"detailButtonDiv"});var f=a.detailMap,d=a.mainData,p=f.get(o)||{},h=k.getDetailCheckedRowArr(p),m=h.length>0?"":"detailBtnDisabled",v=p.attr,g=p.dropBtnKey,b=v.isadd,y=v.iscopy,_=v.isdelete,S=v.isopensapmul,I=v.sapProps,C=1===S&&!P.isEmpty(I),O={requestid:u,workflowid:c};if(C){var A=I.fielddbtype,R=I.relateFields,T=I.displaySearchAdInBar,D=I.scrollx;O.fielddbtype=A,O.displaySearchAdInBar=T,O.scrollx=D,R&&R.map(function(e){var t="field"+e,r=d.has(t)?d.get(t).value:"";O[t]=r}),R&&(O=(0,s.default)({},O,F.getRelateFieldShowName(R,-1)))}var j=parseInt(o.substring(7))-1,L=w.default.createElement("i",{id:"addbutton"+j,name:"addbutton"+j,className:"icon-coms-Add-to-hot detailBtn",title:(0,M.getLabel)(611,"添加"),onClick:function(){k.addRow(o)}}),N=w.default.createElement("i",{id:"delbutton"+j,name:"delbutton"+j,className:"icon-coms-form-delete-hot detailBtn "+m,title:(0,M.getLabel)(91,"删除"),onClick:function(){E.delRow(o)}}),q=w.default.createElement("i",{id:"copybutton"+j,name:"copybutton"+j,className:"icon-coms-copy-hot detailBtn "+m,title:(0,M.getLabel)(77,"复制"),onClick:function(){k.copyDetailRow(o)}}),W=[];if(C&&W.push(w.default.createElement(x.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSapBrowser@gmr42n@"+o,dataParams:O,onChange:this.doSapBrowAddRow})),1===b)if(W.push(L),1===y&&1!==_){var B=[{key:"1",text:(0,M.getLabel)(91,"删除"),show:w.default.createElement("span",{className:"icon-coms-form-delete-hot detailBtn "+m})},{key:"2",text:(0,M.getLabel)(77,"复制"),show:w.default.createElement("span",{className:"icon-coms-copy-hot detailBtn "+m})}];W.push(w.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_ButtonSelect@zcycki@"+o,type:"small",selectedKey:g.toString(),btnProps:{style:{padding:0,background:"transparent",border:"none",color:"#dadada"}},datas:B,btnOnClick:function(e){"1"==e?E.delRow(o):"2"==e&&k.copyDetailRow(o)},menuOnClick:function(e,t){p.setDropBtnKey(parseInt(e))}}))}else W.push(N),1===y&&W.push(q);else 1===_&&W.push(N);return w.default.createElement("div",{className:"detailButtonDiv"},W)}}]),t}(w.default.Component))||a)||a;t.default=R},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(31),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(6),y=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.doBrowserChange=function(t,r,n){var o=e.props,a=o.dataParams,l=o.onChange,s=a.requestid,u=a.fielddbtype,c={fromNodeorReport:"0",requestid:s,fielddbtype:u};c.datas=(0,i.default)(n),(0,b.getEcCom)().WeaTools.callApi("/api/SapIntegration/browser/assignToBill","POST",c).then(function(e){l&&l(e.datas)})},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=(0,b.getEcCom)(),t=e.WeaBrowser,r=this.props.dataParams;return g.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@szz87v",type:"227",title:(0,b.getLabel)(30313,"系统集成多选浏览按钮"),isSingle:!1,isMultCheckbox:!0,hasAdvanceSerach:!0,sap:!0,customized:!0,dataParams:r,completeParams:r,conditionDataParams:r,searchParams:{issearch:!1},onChange:this.doBrowserChange,displaySearchAdInBar:r.displaySearchAdInBar,scrollx:!0,browserModalProps:{hideClear:!0}},g.default.createElement("i",{className:"icon-workflow-form-sap detailBtn",title:"SAP"}))}}]),t}(g.default.Component);t.default=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=r(132),w=n(y),_=r(67),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(_),E=(o=(0,b.inject)("globalStore","layoutStore"))(i=(0,b.observer)(i=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mcMark,r=e.globalStore,n=e.layoutStore,o=(r.JSComplete,n.dataJson.etables||{}),i=o[t];if(null==i)return g.default.createElement("div",{style:{display:"none"}},"`Render $",t," Exception`");for(var a=i.rowcount,l=i.ec,s=S.convertEcMap(l),u=new Array,c=0;c<a;c++){var f=s[c+",0"];if(f){var d=s[c+",1"],p=d&&"14"===d.etype&&"Y"===d.brsign&&5!=parseInt(f.etype||0),h=t+"_"+c+"_0 span_mc etype_"+f.etype,m=S.getMcCellAttr(f);m.cusclass&&(h+=" "+m.cusclass),p||(h+=" span_mc_marginRight");var v=S.buildCellAttr(m,h,m.spanStyle);u.push(g.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CellType@pka2nh@"+t+"_"+c,symbol:t,cellAttr:v,cellObj:f})),p&&u.push(g.default.createElement("br",null))}}return g.default.createElement("div",null,u)}}]),t}(g.default.Component))||i)||i;t.default=E},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(129),_=o(w),S=r(10),E=n(S),I=r(23),k=n(I),C=r(11),x=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cellMark,r=e.layoutStore,n=r.cellInfo,o=n["main_"+t+"_stylejson"],i=jQuery(this.refs.tabBar),a=i.parent(),l=a.parent(),s=l.find(".tab_turnleft"),u=l.find(".tab_turnright"),c=0,f=l.width();i.children().each(function(){var e=jQuery(this).width();if(e>=f){var t="";jQuery(this)[0]&&jQuery(this)[0].className&&(t=jQuery(this)[0].className),t.includes("t_unsel")?e=e+Number(o.unsel_bgrightwidth)+Number(o.unsel_bgleftwidth):t.includes("t_sel")&&(e=e+Number(o.sel_bgrightwidth)+Number(o.unsel_bgleftwidth))}c+=e}),c>l.width()?(l.find(".tab_movebtn").css("display","block"),a.width(l.width()-s.width()-u.width()-5),i.width(c+1)):(l.find(".tab_movebtn").css("display","none"),a.width("100%"),i.width("100%"))}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.showid;r!==e.showid&&(window.formImgLazyLoad(jQuery(".wf-req-form-scroll")),k.calculateDetailAreaStyle(jQuery("#"+r+"_content")),window.WfForm.triggerAction(window.WfForm.ACTION_SWITCHTABLAYOUT,[r]))}},{key:"render",value:function(){var e=this,t=this.props,r=t.cellMark,n=t.tab,o=t.showid,i=t.globalStore,a=t.layoutStore,l=(i.JSComplete,i.commonParam),s=void 0===l?{}:l,u=s.isprint,c=(a.dataJson,a.cellInfo),f=a.propFileCfg,d=void 0===f?{}:f,p=d.print_show_allTabs,h=c["main_"+r+"_stylejson"];if(!h)return b.default.createElement("div",null,"Empty TabArea Style");var m={},v=n.areaheight;v&&v.indexOf("2,")>-1&&(m.height=v.split(",")[1]+"px",m["overflow-y"]="auto");var g=new Array;E.forIn(n,function(e,t){if(0===t.indexOf("order_")&&e&&e.indexOf(",")>-1){var r=e.split(",");g.push({id:r[0],name:r[1],order:parseInt(t.substring(6))})}}),g=g.sort(function(e,t){return e.order-t.order});var y=parseInt(n.defshow||0);y>=g.length&&(y=0);var w=""===o?g[y].id:o,S=new Array,I=new Array;return g.map(function(t,r){var n=t.id,o=n===w?"sel":"unsel",i={backgroundImage:"url('"+(0,C.appendDefaultPath)(h[o+"_bgmiddle"])+"')",fontSize:h[o+"_fontsize"]+"px",color:h[o+"_color"],fontFamily:h[o+"_family"]};h&&"1"==h[o+"_bold"]&&(i["font-weight"]="bold"),h&&"1"==h[o+"_italic"]&&(i["font-style"]="italic"),S.push(b.default.createElement("div",{id:n,className:"t_"+o,onClick:e.changeTab.bind(e,n)},b.default.createElement("div",{className:"t_"+o+"_left norepeat",style:{backgroundImage:"url('"+(0,C.appendDefaultPath)(h[o+"_bgleft"])+"')",width:h[o+"_bgleftwidth"]+"px"}}),b.default.createElement("div",{className:"t_"+o+"_middle xrepeat lineheight30",style:i},b.default.createElement("span",{style:{whiteSpace:"nowrap"}},t.name)),b.default.createElement("div",{className:"t_"+o+"_right norepeat",style:{backgroundImage:"url('"+(0,C.appendDefaultPath)(h[o+"_bgright"])+"')",width:h[o+"_bgrightwidth"]+"px"}}))),r!==g.length-1&&S.push(b.default.createElement("div",{className:"t_sep norepeat",style:{width:h.image_sepwidth+"px"}})),I.push(b.default.createElement("div",{className:"tab_content"+(1==u&&1==p?" print-force-show-tab":""),id:n+"_content",style:n===w?{}:{display:"none"}},b.default.createElement(_.default,{ecId:(e&&e.props&&e.props.ecId||"")+"_MainLayout@7yvwso@"+n,symbol:n})))}),b.default.createElement("div",{className:"tab_area tabarea_"+r},b.default.createElement("div",{className:"tab_top"},b.default.createElement("div",{className:"tab_movebtn tab_turnleft",style:{display:"none"},onClick:this.turnBar.bind(this,"left")}),b.default.createElement("div",{className:"tab_head",style:{width:"100%"}},b.default.createElement("div",{className:"t_area xrepeat",ref:"tabBar",style:{backgroundImage:"url("+(0,C.appendDefaultPath)(h.image_bg)+")",width:"100%"}},S)),b.default.createElement("div",{className:"tab_movebtn tab_turnright",style:{display:"none"},onClick:this.turnBar.bind(this,"right")})),b.default.createElement("div",{className:"tab_bottom",style:m},I))}},{key:"changeTab",value:function(e){var t=this.props,r=t.cellMark;t.layoutStore.controlVariableMap("tabarea_"+r+"_showid",e)}},{key:"turnBar",value:function(e){var t=jQuery(this.refs.tabBar).parent();"left"===e?t.scrollLeft(t.scrollLeft()-80):"right"===e&&t.scrollLeft(t.scrollLeft()+80)}}]),t}(b.default.Component))||a)||a;t.default=x},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(65),s=o(l),u=r(7),c=o(u),f=r(3),d=o(f),p=r(0),h=o(p),m=r(2),v=o(m),g=r(4),b=o(g),y=r(5),w=o(y),_=r(1),S=o(_),E=r(8),I=r(600),k=o(I),C=r(607),x=o(C),O=r(609),P=o(O),M=r(613),A=o(M),F=r(615),R=o(F),T=r(616),D=o(T),j=r(617),L=o(j),N=r(618),q=o(N),W=r(619),B=o(W),z=r(620),U=o(z),V=r(11),H=(n(V),r(18)),G=n(H),Q=r(623),K=o(Q),J=r(10),Y=n(J),X=r(23),Z=n(X),ee=r(624),te=o(ee),re=(i=(0,E.inject)("globalStore","layoutStore"))(a=(0,E.observer)(a=function(e){function t(){var e,r,n,o;(0,h.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,b.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(a))),n.handleConflict=function(e,t){var r=n.props.globalStore,o=r.conflictFieldMap,i=o.get(t)&&o.get(t),a={posX:e.pageX,posY:e.pageY},l=document.getElementById("conflict-panel-box"),s="";l?$("#conflict-panel-box").css({visibility:"visible"}):(l=document.createElement("div"),l.setAttribute("id","conflict-panel-box"),document.body.appendChild(l)),i.specialObj?s+=i.specialobj&&i.specialobj[0].name||"":s+=i.value,ReactDOM.render(S.default.createElement(te.default,{clickPos:a,onOk:n.onOk.bind(n,t),onCancel:n.onCancel.bind(n,t),content:s}),l)},n.onOk=function(e){var t=n.props.globalStore,r=t.conflictFieldMap,o=t.changeConflictFieldMap,i=r.get(e);WfForm.changeFieldValue(e,i),o((0,s.default)({},e,(0,c.default)({},i,{hasConfirm:!0})))},n.onCancel=function(e){var t=n.props.globalStore,r=t.changeConflictFieldMap,o=t.conflictFieldMap,i=o.get(e);r((0,s.default)({},e,(0,c.default)({},i,{hasConfirm:!0})))},o=r,(0,b.default)(n,o)}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.symbol,r=e.cellObj,n=e.isDetail,o=e.rowIndex,i=e.layoutStore,a=r.field.toString(),l=n?"field"+a+"_"+o:"field"+a;i.initFieldObj(t,l)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.symbol,r=e.rowIndex,n=e.cellObj,o=n.field.toString();t.indexOf("detail_")>-1&&Z.syncLockedRowHeight(o,r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.symbol,n=t.cellObj,o=t.isDetail,i=t.rowIndex,a=t.globalStore,l=t.layoutStore,s=n.field.toString(),u=a.JSComplete,f=a.conflictFieldMap,d=l.fieldAttrMap,p=(l.mainData,l.detailMap),h=l.variableMap,m=d.get(s),v=o?"field"+s+"_"+i:"field"+s,g=Y.get(n,["font","font-size"])||"9pt",b=h.get("promptRequiredField")===v,y=f.has(v)&&!f.get(v).hasConfirm,w=null,_=null,E=-1;if(o){if(isNaN(i))return S.default.createElement("span",null,"无效设置，明细字段需置于表头表尾标示之间行");var I=p.get(r);I.detailData,_=I.rowInfo.get("row_"+i),E=_.get("keyid")||0,w=G.getDetailFieldObj(v,r)}else w=G.getMainFieldObj(v);var C=w,O=C.value,M=C.variable,F=(M.has("forceRender")&&M.get("forceRender"),m.htmltype||0),T=m.detailtype||0;if(M.has("changeFieldType")&&M.get("changeFieldType").indexOf("-")>0){var j=M.get("changeFieldType").split("-");F=parseInt(j[0]),T=parseInt(j[1])}var N=G.getFieldCurViewAttr(v,w);if(-101===N)return S.default.createElement("span",null,"此为明细字段，被识别在主布局中，请调整模板解决");var W=G.restoreSpeicalChar(s,O.toString(),F,T,N),z={JSComplete:u,fieldid:s,rowIndex:i,isDetail:o,viewAttr:N,detailtype:T};if(z.value=W,z.fieldName=v,z.fieldlabel=m.fieldlabel,z.defaultFocus=!0===b,z.style=2===F&&2===T?{}:{"font-size":g},6===F){z.display=!0}var V=l.fnaInfo;if(!0===V.belFna&&Y.has(V,["fnaCompFields",s])){var H=Y.get(V,["fnaCompFields",s]),Q=a.baseParam,J=a.commonParam,$=(0,c.default)({},Q,{nodetype:J.nodetype});return S.default.createElement(B.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFna@akicfb",fieldid:s,rowIndex:i,fnaParam:H,wfInfo:$,fieldObj:m,viewAttr:N,fieldValue:W,detailKeyid:E})}if(m.encryptFlag>0)return S.default.createElement(K.default,{value:W,fieldAttr:m,fieldObj:w});var X={baseProps:z,fieldMark:v,fieldAttr:m,symbol:r,rowIndex:i,cellObj:n,fieldObj:w},Z={fieldid:s,rowIndex:i,fieldMark:v,viewAttr:N,fieldValue:W,fieldValueObj:w},ee=function(){var t=S.default.createElement("span",{className:"default"});return parseInt(s)<0?t=S.default.createElement(k.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_SystemElement@ixouin"},X)):1===F?t=S.default.createElement(x.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_InputElement@jmkms7"},X)):2===F?t=S.default.createElement(P.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_TextareaElement@xs3gug"},X)):3===F?t=S.default.createElement(A.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_BrowserElement@2mq6lm"},X)):4===F?t=S.default.createElement(R.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_CheckElement@oyy2bn"},X)):5===F?t=S.default.createElement(D.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_SelectElement@gubx9o"},X)):6===F?t=S.default.createElement(L.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_FileElement@nkmov4"},X)):7===F?t=S.default.createElement(q.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_SpecialElement@ajooer"},X)):8===F||9===F&&(t=S.default.createElement(U.default,(0,c.default)({ecId:(e&&e.props&&e.props.ecId||"")+"_LocationElement@a13n3v"},X))),t},te=[],re=WfForm.getCustomProxyCompFn("FieldContent_"+s);if(null===re){var ne=WfForm.renderCustomComp(v,N,1,X),oe=WfForm.renderCustomComp(v,N,2);te.push(null==ne?ee():ne),null!==oe&&te.push(oe)}else te.push(re(Z,ee));return S.default.createElement(S.default.Fragment,null,y?S.default.createElement("div",{className:"show-error"},te):te,u&&y&&S.default.createElement("div",{className:"error-icon-div",onClick:function(t){t.stopPropagation(),e.handleConflict(t,v)}},S.default.createElement("i",{className:"icon-coms02-Warning"})))}}]),t}(S.default.Component))||a)||a;t.default=re},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(601),S=n(_),E=r(606),I=n(E),k=r(18),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(k),x=(o=(0,w.inject)("globalStore","layoutStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doChangeEvent=function(e){var t=n.props,r=(t.globalStore,t.layoutStore),o=t.fieldMark,i=t.baseProps;i.value;r.changeSingleFieldValue(o,{value:e})},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.globalStore,r=e.layoutStore,n=e.fieldMark,o=e.fieldObj,i=this.props.baseProps;if("-10"==i.fieldid)return y.default.createElement(I.default,{viewAttr:i.viewAttr});var a=t.commonParam,s=t.markInfo,u=r.containSignInput,c=a.requestType;return i.fieldName=C.convertSystemFieldName(n),i.specialobj=o.specialobj||[],y.default.createElement(S.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSystemField@tuxsa6",requestType:c,markInfo:s,containSignInput:u,onChange:this.doChangeEvent},i))}}]),t}(y.default.Component))||i)||i;t.default=x},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p);r(602);var m=r(6),v=r(269),g=o(v),b=r(10),y=n(b),w=r(271),_=o(w),S=r(9),E=r(56),I=r(18),k=(n(I),function(e){function t(e){(0,s.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));r.getAutographValue=function(){if(window.saveAutograph){var e=window.saveAutograph(!1);r.setState({AutographValue:e})}},r.doChangeEvent=function(e){r.setState({value:e.target.value}),r.props.onChange&&r.props.onChange(e.target.value)},r.doChangeValue=function(e){r.setState({value:e}),r.props.onChange&&r.props.onChange(e)},r.doChangeValueEventck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(arguments[1]){var t=e.remark;r.setState({value:t}),r.props.onChange&&r.props.onChange(t)}};var n=r.props.markInfo,o=void 0===n?{}:n,i=o.workflowRequestLogId,l=void 0===i?"":i;return r.state={value:e.value?e.value:"",AutographValue:l},r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.fieldid,r=e.specialobj;-2==t&&this.setState({leveldata:(0,S.toJS)(r)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.markInfo,r=void 0===t?{}:t,n=r.workflowRequestLogId,o=void 0===n?"":n,i=this.props.markInfo,a=void 0===i?{}:i,l=a.workflowRequestLogId,s=void 0===l?"":l;this.state.value!==e.value&&this.setState({value:e.value}),o!=s&&this.setState({AutographValue:o})}},{key:"changeRemarkInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.changeSubmitParam;t&&t(e)}},{key:"render",value:function(){var e=this,t=(0,m.getAntd)(),r=t.Radio,n=(0,m.getEcCom)(),o=(n.WeaSelect,r.Group),i=this.state,a=i.value,l=i.AutographValue,s=this.props,u=s.viewAttr,c=s.fieldid,f=s.fieldName,d=s.markInfo,p=void 0===d?{}:d,h=s.requestType,v=s.defaultFocus,b=s.containSignInput,w=s.fieldlabel,S=1===u,I=void 0,k="",C={};if(-1==c){if(!S)return React.createElement(g.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaWfInput@uup5ai",viewAttr:u,fieldid:"-1",fieldName:f,isDetail:!1,detailtype:1,format:{},length:1e3,fieldlabel:w,defaultFocus:v,value:a,style:{height:"100%",width:"90%"},onChange:this.doChangeValue});I=React.createElement("span",{dangerouslySetInnerHTML:{__html:a}})}else if(-2==c){var x=this.state.leveldata;if(S){var O=x.filter(function(e){return e.id==a});try{I=React.createElement("span",null,O[0].customname)}catch(e){}}else{var P=[];x&&x.map(function(t,n){P.push(React.createElement(r,{ecId:(e&&e.props&&e.props.ecId||"")+"_Radio@ive0mt@"+n,value:t.id},t.customname))}),I=React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_RadioGroup@pdngi5",onChange:this.doChangeEvent,value:a},P)}}else if(-3==c){a=""==a?"0":a;var M={0:(0,m.getLabel)(17583,"不短信提醒"),1:(0,m.getLabel)(17584,"离线短信提醒"),2:(0,m.getLabel)(17585,"在线短信提醒")};if(S)I=React.createElement("span",null,M[a]);else{var A=[];y.forIn(M,function(t,n){A.push(React.createElement(r,{ecId:(e&&e.props&&e.props.ecId||"")+"_Radio@wh3gq9@"+n,value:n},t))}),I=React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_RadioGroup@iknvn1",onChange:this.doChangeEvent,value:a},A)}}else if(-4==c){var F=p.hasLoadMarkInfo,R=void 0!==F&&F,T=(p.remarkInfo,p.isSignMustInput,p.signMustInputTypes,p.isFormSignature),D=void 0===T?"":T,j=(0,E.needMustInputDot)();if(h>0&&R&&b&&!0===this.props.JSComplete){var L=void 0;if(j){var N=a;N=N.replace(/&lt;/gi,"<"),N=N.replace(/&gt;/gi,">"),N=N.replace(/<br>/gi,""),N=N.replace(/<p>/gi,"").replace(/<\/p>/gi,"").replace(/ /gi,"").replace(/&nbsp;/gi,"").replace(/<br \/>/gi,""),k="wf-form-textarea",C["padding-right"]="12px",L=React.createElement("span",{className:"wf-textarea-required"},0===y.trim(N).length&&1!=D||1==D&&(-3==l||-2==l||-1==l)?React.createElement("img",{src:(window.ecologyContentPath||"")+"/images/BacoError_wev9.png",align:"absmiddle"}):"")}I=[React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FormSignInput@23odbt@signinput",isInForm:!0,key:"_formCellSignInput",onChangeEvent:this.doChangeValueEventck,onAutographBlur:this.getAutographValue}),L]}}else if(-5==c){a=""==a?"0":a;var q={0:(0,m.getLabel)(19782,"不提醒"),1:(0,m.getLabel)(15148,"提醒")};if(S)I=React.createElement("span",null,q[a]);else{var W=[];y.forIn(q,function(t,n){W.push(React.createElement(r,{ecId:(e&&e.props&&e.props.ecId||"")+"_Radio@a92u50@"+n,value:n},t))}),I=React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_RadioGroup@39gqxc",onChange:this.doChangeEvent,value:a},W)}}else-9==c&&(I=React.createElement("span",null,0===y.trim(a).length?"0":a));return React.createElement("div",{className:"wf-system-field "+k,style:C},I,React.createElement("input",{type:"hidden",name:f,id:f,value:a}))}}]),t}(React.Component));t.default=k},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=r(9),w=r(18),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(w),E=r(6),I=(o=(0,b.inject)("globalStore","layoutStore"))(i=(0,b.observer)(i=function(e){function t(){var e,r,n,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,p.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(a))),n.doChange=function(e){n.props.layoutStore.changeSingleFieldValue("field-10",{value:e})},n.getShowOnlyContent=function(){var e=n.props,t=(e.viewAttr,e.globalStore),r=t.secLevelInfo,o=void 0===r?{}:r,i=o.secValidityMap,a=void 0===i?{}:i,l=o.secValidityDefaultMap,s=void 0===l?{}:l,u=o.secLevel||"",c=a[u]||"",f=S.getSecLevelName(u);return 1!=u&&2!=u||"0"==s[u]&&(f+=(c?"★":"")+c),g.default.createElement("span",{id:"field-10span"},f)},o=r,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=(0,E.getEcCom)(),t=e.WeaSelect,r=e.WeaInput,n=this.props,o=n.viewAttr,i=n.globalStore,a=i.secLevelInfo,l=void 0===a?{}:a,s=i.setSecLevelInfo,u=(i.JSComplete,l.secValidityMap),c=void 0===u?{}:u,f=l.secValidity,d=l.secLevel||"",p=l.canSecChange&&o>1?3:1;if(1===p)return this.getShowOnlyContent();var h=2==d||1==d,m=[],b=S.getMainFieldObj("field-10"),w=b.variable,I=w.has("optionRange")?w.get("optionRange"):null,k=w.has("filterOptionRange")?w.get("filterOptionRange"):null,C=(0,y.toJS)(l.secLevelOption);return C&&C.map(function(e){return null!==I&&-1===_.indexOf(I,e.key)||(null!==k&&_.indexOf(k,e.key)>-1||void m.push(e))}),m&&m.length>0&&0==m.filter(function(e){return e.key==d}).length&&""!==d&&(d="",this.doChange("")),g.default.createElement(v.Fragment,null,g.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSelect@gt5c9l",viewAttr:p,onChange:this.doChange,options:m,value:d,style:{minWidth:"60px",marginRight:h?"10px":""}}),h&&r&&g.default.createElement(r,{helpfulTip:(0,E.getLabel)(528340,"保密期限填写格式：3个月、10年、20年、长期…不能是纯数字"),helpfulTipProps:{style:{right:"-34px",position:"absolute",top:"8px"}},placeholder:(0,E.getLabel)(530018,"请输入保密期限"),id:"field-10",style:{width:"100px"},value:f,viewAttr:p,onChange:function(e){s({secValidity:e}),c[d]=e}}))}}]),t}(g.default.Component))||i)||i;t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(608),S=n(_),E=r(269),I=n(E),k=r(11),C=r(10),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(C),O=(o=(0,w.inject)("layoutStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doChangeEvent=function(e){var t=n.props,r=t.layoutStore,o=t.fieldMark;r.changeSingleFieldValue(o,{value:e})},n.doDisablePromptEvent=function(){var e=n.props.fieldMark;(0,k.showPrompt)(e,2)},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.layoutStore,r=(e.fieldMark,e.fieldAttr),n=(e.symbol,e.rowIndex,e.cellObj),o=e.fieldObj,i=this.props.baseProps,a=o.variable,s=o.specialobj?mobx.toJS(o.specialobj):{},u=i.fieldid,c=t.codeInfo,f=t.linkageCfg,d=t.propFileCfg,p=void 0===d?{}:d,h=p.closeAutoComplete,m=c.isUse,v=c.fieldCode;if(m&&v===u)return y.default.createElement(S.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_CodeElement@2bygal"},this.props));1!==i.viewAttr&&(i.emptyShowContent=a.get("emptyShowContent")||""),"showhtml"in s&&(i.showhtml=s.showhtml);var g=r.qfws,b=r.length,w=n.format||{},_=parseInt(x.get(f,["transTypeCfg",u])||0),E=!this.judgeBelRowCalAssignField();if(1===_?w={numberType:101}:2===_&&(w={numberType:2,decimals:g,formatPattern:2,thousands:1}),"financial"in n){var k=n.financial||"";if(k.indexOf("2-")>-1){w={numberType:100,finaNum:parseInt(k.split("-")[1]||"3")}}else"3"===k?w={numberType:101}:"4"===k&&(w={numberType:2,decimals:g,formatPattern:2,thousands:1})}return y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaWfInput@kl6eki",length:b,qfws:g,onChange:this.doChangeEvent,format:w,enableInput:E,onDisablePrompt:this.doDisablePromptEvent},i,{closeAutoComplete:h}))}},{key:"judgeBelRowCalAssignField",value:function(){var e=this.props,t=e.layoutStore,r=e.baseProps,n=e.fieldAttr,o=t.linkageCfg,i=t.cellInfo,a=r.fieldid;if(!r.isDetail||!x.has(o,["rowCalCfg","rowCalAssignInfo",a]))return!1;var l=!0;return x.get(o,["rowCalCfg","rowCalAssignInfo",a]).map(function(e){(!x.has(i,["fieldCellInfo",e])||n.viewattr<=0)&&(l=!1)}),l}}]),t}(y.default.Component))||i)||i;t.default=O},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(6),E=r(10),I=n(E),k=r(15),C=n(k),x=r(11),O=r(18),P=n(O),M=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.doChangeEvent=function(e){var t=e.target.value,n=r.props,o=n.layoutStore,i=n.fieldMark;o.changeSingleFieldValue(i,{value:t})},r.generateCode=function(){var e=r.props,t=e.layoutStore,n=e.fieldMark,o=r.state.canSaveFlag,i=r.getRelateParams();i.operation="CreateCodeAgain",o&&(r.setState({canSaveFlag:!1}),C.createWfCode(i).then(function(e){var o=e.wfcode;t.changeSingleFieldValue(n,{value:o}),r.syncTitleRequestMark(o),r.setState({canSaveFlag:!0})}))},r.changeCode=function(e){var t=(r.props.fieldMark,e.target.value),n=r.getRelateParams();n.operation="ChangeCode",n.returnCodeStr=t,C.createWfCode(n).then(function(e){var t=e.wfcode;r.syncTitleRequestMark(t)})},r.chooseReservedCode=function(){var e=(0,S.getEcCom)(),t=e.WeaTools,n=r.props,o=n.layoutStore,i=n.fieldMark,a=r.state.canChoiceFlag,l=r.getRelateParams(),u=l.workflowid;l.formid,l.isbill;a&&(r.setState({canChoiceFlag:!1}),C.loadWfCodeFieldValueInfo(l).then(function(e){var n=(0,s.default)({},e,{isRoute:!0,isFromForm:1,workflowId:u}),a=(window.ecologyContentPath||"")+"/spa/workflow/static4engine/engine.html#/main/workflowengine/path/codeMaintenance/reserveCode?"+(0,x.buildUrlStr)(n);t.createDialog({title:(0,S.getLabel)(22785,"选择预留号"),moduleName:"workflow",url:a,style:{width:800,height:600},callback:function(e){l.codeSeqReservedIdAndCode=e.id+"~~wfcodecon~~"+e.reservedCode,l.operation="chooseReservedCode",C.createWfCode(l).then(function(e){var t=e.wfcode;o.changeSingleFieldValue(i,{value:t}),r.syncTitleRequestMark(t)})},onCancel:function(){}}).show(),r.setState({canChoiceFlag:!0})}))},r.newReservedCode=function(){var e=(0,S.getEcCom)(),t=e.WeaTools,n=(r.props.fieldMark,r.state.canAddFlag),o=r.getRelateParams(),i=o.workflowid;o.formid,o.isbill;n&&(r.setState({canAddFlag:!1}),C.loadWfCodeFieldValueInfo(o).then(function(e){var n=(0,s.default)({},o,e,{isRoute:!0,isFromForm:1,workflowId:i}),a=(window.ecologyContentPath||"")+"/spa/workflow/static4engine/engine.html#/main/workflowengine/path/codeMaintenance/addReserveCode?"+(0,x.buildUrlStr)(n);t.createDialog({title:(0,S.getLabel)(22783,"新建预留号"),moduleName:"workflow",url:a,style:{width:600,height:600},callback:function(e){},onCancel:function(){}}).show(),r.setState({canAddFlag:!0})}))},r.state={canSaveFlag:!0,canChoiceFlag:!0,canAddFlag:!0},r}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=(0,S.getAntd)(),t=e.Button,r=this.props,n=r.globalStore,o=r.layoutStore,i=n.commonParam,a=n.urlParams,l=i.iscreate,s=o.codeInfo,u=(s.codefields,s.hasHistoryCode),c=this.props,f=c.fieldMark,d=(c.fieldAttr,c.symbol,c.fieldObj,this.props.baseProps),p=d.value,h=d.viewAttr,m=!u&&"1"!=l&&!i.belongTest&&"1"!==a.isPreView;if(1===h)return w.default.createElement("span",null,w.default.createElement("span",{dangerouslySetInnerHTML:{__html:p}}),w.default.createElement("input",{type:"hidden",id:f,name:f,value:p}));var v=3===h&&0===I.trim(p).length,g=m?"250px":"60px";return w.default.createElement("div",{className:"wf-code wf-form-input"},w.default.createElement("input",{className:"wf-input wf-input-main",style:{minWidth:g},value:p,type:"text",onChange:this.doChangeEvent,onBlur:this.changeCode}),w.default.createElement("span",{id:f+"span",className:"wf-input-required"},v?w.default.createElement("img",{src:(window.ecologyContentPath||"")+"/images/BacoError_wev9.png",align:"absmiddle"}):""),m&&w.default.createElement("div",{style:{marginTop:"5px"}},w.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@xt2czr",size:"small",onClick:this.generateCode},(0,S.getLabel)(22784,"重新生成编号")),w.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@d2xasp",size:"small",onClick:this.chooseReservedCode},(0,S.getLabel)(22785,"选择预留号")),w.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@jidk5r",size:"small",onClick:this.newReservedCode},(0,S.getLabel)(22783,"新建预留号"))),w.default.createElement("input",{type:"hidden",id:f,name:f,value:p}))}},{key:"getRelateParams",value:function(){var e=this.props,t=e.globalStore,r=e.layoutStore,n=r.codeInfo,o=n.codefields,i=t.baseParam,a=t.commonParam,l=(0,s.default)({},i,{creater:a.creater,creatertype:a.creatertype});return o&&o.map(function(e){var t=""+e.split("_")[0];l["field"+t]=P.getRelateFieldValue(t,-1)}),l}},{key:"syncTitleRequestMark",value:function(e){jQuery("#requestmarkSpan").text(e)}}]),t}(w.default.Component))||a)||a;t.default=M},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(610),S=n(_),E=(o=(0,w.inject)("layoutStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doChangeEvent=function(e){var t=n.props,r=t.layoutStore,o=t.fieldMark;r.changeSingleFieldValue(o,{value:e})},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.fieldMark,e.fieldAttr),r=(e.symbol,e.rowIndex,e.cellObj,e.fieldObj),n=this.props.baseProps,o=r.variable;1!==n.viewAttr&&(n.emptyShowContent=o.get("emptyShowContent")||"");var i="textheight"in t?t.textheight:4,a="length"in t?t.length:4e3,s=t.fielddbtype;return y.default.createElement(S.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTextarea@c5kpha",textheight:i,length:a,fielddbtype:s,onChange:this.doChangeEvent},n))}}]),t}(y.default.Component))||i)||i;t.default=E},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v);r(611);var b=r(6),y=r(10),w=r(612),_=n(w),S=r(80),E=r(11),I=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(E),i=o=function(e){function t(e){(0,f.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return r.doFocusEvent=function(e){r.setState({isonfocus:!0})},r.doBlurEvent=function(e){r.setState({isonfocus:!1}),r.props.onChange&&r.props.onChange(e.target.value)},r.doKeyDown=function(e){e.stopPropagation()},r.setTextAreaValue=function(e){var t=r.props,n=t.fieldlabel,o=t.fielddbtype,i=e.target.value;if("text"!==o&&"clob"!==o){var a=(0,S.realLength)(i),l=4e3,s=i.match(/\"| /gi);if(s&&(l-=5*s.length),s=i.match(/&|<|>|\n/gi),s&&(l-=3*s.length),l&&a>l){(0,b.getAntd)().message.warning(""+n+(0,b.getLabel)(386376,"字段值长度不能超过4000")+"("+(0,b.getLabel)(124962,"1个中文字符等于3个长度")+")"),i=(0,S.checkLength)(i,a,l)}}r.setState({value:i})},r.doRichTextChangeEvent=function(e){r.setState({value:e}),r.props.onChange&&r.props.onChange(e)},r.state={value:e.value?e.value:"",isonfocus:!1},r}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.value!==e.value&&this.setState({value:e.value})}},{key:"shouldComponentUpdate",value:function(e,t){return(!this.props.defaultFocus||this.props.defaultFocus===e.defaultFocus)&&(e.value!==this.props.value||e.viewAttr!==this.props.viewAttr||e.JSComplete!==this.props.JSComplete||this.state.value!==t.value||this.state.isonfocus!==t.isonfocus||e.defaultFocus!==this.props.defaultFocus||e.emptyShowContent!==this.props.emptyShowContent)}},{key:"componentDidUpdate",value:function(){var e=this.state.value,t=this.props,r=t.defaultFocus,n=t.detailtype,o=t.viewAttr,i=t.fieldName;if(r&&3===o)if(2==n)this.refs[i]&&this.refs[i].ckfocus();else{var a=this.refs.inputEle.refs.input;if(a!=document.activeElement){a.focus();var l=(0,y.trim)(e).length;a.setSelectionRange(l,l)}}}},{key:"render",value:function(){var e=(0,b.getAntd)(),t=e.Input,r=(e.message,this.state),n=r.value,o=void 0===n?"":n,i=r.isonfocus,a=this.props,s=a.viewAttr,u=a.fieldid,c=a.detailtype,f=a.textheight,d=(a.length,a.fieldName),p=a.style,h=(0,l.default)({},p),m=this.props.emptyShowContent;2!==s&&3!==s||(h.paddingRight="12px");var v={"word-break":"break-all","word-wrap":"break-word",width:"100%"},g=null;if(1!==s){var w=o.replace(/<p>/gi,"").replace(/<\/p>/gi,"").replace(/ /gi,"").replace(/&nbsp;/gi,"").replace(/<br \/>/gi,""),S=3===s&&0===(0,y.trim)(w).length;g=React.createElement("span",{id:d+"span",className:"wf-textarea-required"},S?React.createElement("img",{src:(window.ecologyContentPath||"")+"/images/BacoError_wev9.png",align:"absmiddle"}):"")}if(2===c){var E=s>1||!(!window.FORM_CK_REF||!window.FORM_CK_REF["field"+u]);return React.createElement("div",{className:"wf-form-textarea",style:h},1===s&&React.createElement("div",{className:"wf-form-textarea-html-show",ref:"htmlShowDiv",style:{overflowX:"auto",overflowY:"hidden",maxWidth:"calc(100% - 4px)"},dangerouslySetInnerHTML:{__html:o}}),E&&React.createElement("div",{style:{display:s>1?"block":"none"},className:"wea-wf-richtext-div"},React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfRichText@d94ueo",placeholder:m,editorId:d,value:o,ref:d,textheight:f,onChange:this.doRichTextChangeEvent})),g)}return 1===s?React.createElement("span",{className:"wf-form-textarea"},React.createElement("span",{style:h,id:d+"span",dangerouslySetInnerHTML:{__html:o}}),React.createElement("input",{type:"hidden",id:d,name:d,value:o})):(m=m||"",i||""===m||""!==o?v.color="":(v.color="#A5A5A5",o=m),React.createElement("div",{className:"wf-form-textarea",style:h},React.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Input@rulaza",ref:"inputEle",type:"textarea",value:o,id:d,name:d,rows:f,className:"wf-form-textarea-"+u,style:v,onFocus:this.doFocusEvent,onBlur:this.doBlurEvent,onKeyDown:this.doKeyDown,onChange:this.setTextAreaValue}),g))}}]),t}(React.Component),o.defaultProps={detailtype:1,style:{},viewAttr:2},i);t.default=I},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(6),g=(r(10),function(e){function t(e){(0,u.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return r.doOnChangeEvent=function(e){r.props.onChange&&r.props.onChange(e)},r.buttonBtnChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(r.props.editorId,[]);return"Upload"===e&&"image"===n&&t.map(function(e){var t="/weaver/weaver.file.FileDownload?fileid="+e.fileidCode;o.push("<img src='"+t+"' />&#8203;")}),o.join("")},r.doStatusChange=function(e){if("ready"===e){var t=r.props.editorId;window.FORM_CK_REF[t]=r.refs[t]}},window.FORM_CK_REF||(window.FORM_CK_REF={}),r}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=(0,v.getEcCom)(),t=e.WeaRichText,r=this.props,n=r.editorId,o=r.ls,a=void 0!==o&&o,l=(r.extentsConfig,r.value),s=r.textheight,u=void 0===s?4:s,c=r.placeholder,f=void 0===c?"":c,d={};d.toolbar=[["Source","-","Bold","Italic","Underline","Strike","-","Format","Font","FontSize","lineheight","TextColor","BGColor","-","NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","Link","Unlink","-","Table","-","Iframe","HorizontalRule","SpecialChar","-","CopyFormatting","RemoveFormat","PasteText","Undo","Redo","Maximize","Image"]],d.height=40*u,d.removePlugins="resize",d.uploadUrl="/api/doc/upload/uploadFile",d.fontSize_defaultLabel="12",d.font_defaultLabel="微软雅黑",d.startupFocus=!1,d.placeholder=f;var p={id:n,ref:n,ls:a,ckConfig:d,value:l,scrollContainer:".wea-new-top-req-content",placeholder:f};return React.createElement(t,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRichText@7gavv2"},p,{onBlur:this.doOnChangeEvent,onToolsChange:this.buttonBtnChange,onStatusChange:this.doStatusChange}))}},{key:"ckfocus",value:function(){var e=this.props.editorId;this.refs[e].getEditor().focus()}}]),t}(React.Component));t.default=g},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(31),s=o(l),u=r(7),c=o(u),f=r(3),d=o(f),p=r(0),h=o(p),m=r(2),v=o(m),g=r(4),b=o(g),y=r(5),w=o(y),_=r(1),S=o(_),E=r(8),I=r(9),k=n(I),C=r(6),x=r(614),O=o(x),P=r(84),M=o(P),A=r(11),F=n(A),R=r(18),T=n(R),D=r(128),j=r(272),L=n(j),N=r(10),q=n(N),W=(i=(0,E.inject)("globalStore","layoutStore"))(a=(0,E.observer)(a=function(e){function t(){var e,r,n,o;(0,h.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,b.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(a))),n.doChangeEvent=function(e){var t=n.props,r=t.fieldMark;t.layoutStore.changeSingleFieldValue(r,{value:e})},n.doBrowChangeEvent=function(e,t,r){var o={value:e||"",specialobj:r||[]},i=n.props,a=i.fieldMark,l=i.rowIndex,s=i.fieldAttr,u=i.baseProps,c=i.layoutStore,f=u.fieldid,d=(u.isDetail,u.detailtype),p={};141===d&&(o.value=T.spellResourceCondition(r)),c.changeSingleFieldValue(a,o,p),F.doDefinitionCallBackFun(f,l,e,r,s)},n.beforeCheck=function(e,t){var r=n.props,o=r.baseProps,i=r.layoutStore,a=n.props.globalStore.secLevelInfo,l=void 0===a?{}:a,s=l.secLevel,u=l.isOpenSec,c=o.fieldid,f=o.detailtype,d=i.odocInfo;if(9===f&&"docFieldId"in d&&d.docFieldId.toString()===c)window.oDocUtil.haveSecretLevel?window.oDocUtil.haveSecretLevel()&&e():e();else if(!u||9!=f&&37!=f&&16!=f&&152!=f&&171!=f)e();else{var p=(0,C.getAntd)(),h=p.message;""==s?h.error(l.tip,3):e()}},n.doSapBrowChangeEvent=function(e){var t=n.props.fieldMark,r={};r[t]={value:"",specialobj:[]};var o=q.isEmpty(e)?r:{};e&&e.map(function(e){o=(0,c.default)({},o,e)}),n.props.layoutStore.changeMoreFieldData(o)},n.onBrowerClick=function(){var e=n.props,t=e.fieldMark,r=e.baseProps,o=(r.value,n.props.globalStore.invoiceCloudInfo);if((void 0===o?{}:o).token){var i=n.getECID_FID(),a=function(e){window.invoiceBrowser=ecCom.WeaTools.createDialog({title:(0,C.getLabel)(516434,"我的票夹"),url:n.getInvoiceCloudUrl(t,e),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",style:{width:"758px",height:485},callback:function(e){},onCancel:function(){window.invoiceBrowser=null}},void 0,function(e){e.show()})};i.ecid.length>0&&i.cloudId.length<=0?(0,D.getInvoiceFid)({method:"cloudId",ids:i.ecid.join(",")}).then(function(e){var t=e.status,r=e.targetIds;1==t&&a(r.split(","))}):a(i.ecid.length>0&&i.cloudId.length>0?i.cloudId:[])}},n.getInvoiceCloudUrl=function(e,t){var r=n.props.globalStore.invoiceCloudInfo,o=void 0===r?{}:r,i=n.props.baseProps,a=i.detailtype,l=(i.value,{seq:{fieldMark:e},name:"SelectInvoice",param:{hideHeader:!0,multi:293===a,fids:t||[]}}),u=window.localStorage.getItem("languageidweaver")||"7";return o.jsUrl+"/corpInvoice/#/component?token="+o.token+"&src=EC&dev=0&baseUrl="+o.baseUrl+"&comp="+encodeURIComponent((0,s.default)(l))+"&lang="+u},n.getECID_FID=function(){var e=n.props.fieldObj,t=e.specialobj?k.toJS(e.specialobj):[],r=[],o=[];return t.length>0&&t.map(function(e){e.prop&&e.prop.cloudId&&o.push(e.prop.cloudId),e.id&&r.push(e.id)}),{ecid:r,cloudId:o}},n.clickAddBtn=function(){var e=n.props,t=e.globalStore,r=e.layoutStore,o=e.fieldMark,i=e.cellObj,a=e.baseProps,l=i.field.toString(),s=t.commonParam,u=t.secLevelInfo,f=void 0===u?{}:u,d=r.odocInfo,p=a.detailtype;if(9===p||37===p)if("docFieldId"in d&&d.docFieldId.toString()===l){if(s.belongTest){var h=(0,C.getAntd)(),m=h.Modal;return void m.warning({title:(0,C.getLabel)(131329,"信息确认"),content:(0,C.getLabel)(386200,"流程测试暂不支持创建公文!"),okText:(0,C.getLabel)(83446,"确定")})}var v=window.oDocUtil.clickAddOdoc();v&&WfForm.switchTab("odoc")}else L.createDoc(o,(0,c.default)({},s,{secLevelInfo:f,secretLevel:f.secLevel}))},o=r,(0,b.default)(n,o)}return(0,w.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=(0,C.getEcCom)(),t=e.WeaBrowser,r=e.WeaDatePicker,n=e.WeaTimePicker,o=this.props,i=(o.fieldMark,o.fieldAttr),a=o.symbol,l=(o.rowIndex,o.cellObj,o.fieldObj),s=this.props.baseProps,u=s.viewAttr,f=s.fieldid,d=s.fieldName,p=s.isDetail,h=s.detailtype,m=i.browserattr,v=void 0===m?{}:m,g=v.browserParams,b=void 0===g?{}:g,y=l.specialobj?k.toJS(l.specialobj):[],w=this.getBrowserProp(h,i.fielddbtype);w.type=h,w.replaceDatas=y,w.disabledConditionCache=!0,"true"==(b.defaultSearch||k.toJS(b).defaultSearch)&&(w.defaultAtSearch=!0),this.extendBrowserProp(w,f,p,h),this.extendDateProp(s);var _={};1!==u&&a.indexOf("mc_")>-1&&(_["min-width"]="150px"),w.inputStyle=_,34!==h&&(w.resize=1!==u);var E=void 0;if(2===h||402===h||403===h)E=S.default.createElement(r,(0,c.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDatePicker@ungkn5"},s,{onChange:this.doChangeEvent}));else if(290===h)E=S.default.createElement(r,(0,c.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDatePicker@011nck"},s,{onChange:this.doChangeEvent,showTime:!0,format:"yyyy-MM-dd HH:mm"}));else if(19===h)s.value=T.convertTimeValue(s.value),s.value.length>5&&(s.formatPattern=1,s.format="HH:mm:ss"),E=S.default.createElement(n,(0,c.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTimePicker@vjvgsn"},s,{onChange:this.doChangeEvent}));else if(118===h||124===h||125===h||126===h){var I=w.linkUrl,x="";y.map(function(e){x=I?x+"<a href='"+I+e.id+"' target='_new'>"+e.name+"</a> ":x+e.name+" "}),118===h&&(x="<a class='wf-RoomPlan' href='"+(window.ecologyContentPath||"")+"/spa/meeting/static/index.html#/main/meeting/RoomPlan' target='_new'>"+(0,C.getLabel)(15881,"会议室使用情况")+"</a>"),E=S.default.createElement("div",null,S.default.createElement("span",{dangerouslySetInnerHTML:{__html:x}}),S.default.createElement("input",{type:"hidden",name:d,id:d,value:s.value}))}else if(226===h){var P=(0,c.default)({},(0,M.default)({},w,s));E=S.default.createElement(O.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSapBrowser@mkc69m",weaBrowserProps:P,onChange:this.doSapBrowChangeEvent})}else{if((9===h||37===h)&&(2===u||3===u)&&w.linkUrl&&w.linkUrl.indexOf("?")>-1){var A=w.linkUrl;w.linkUrl=A.substring(0,A.indexOf("?")+1)+"formFieldAttr=2&formFieldId="+f+"&"+A.substring(A.indexOf("?")+1)}E=S.default.createElement(t,(0,c.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@j1zg9h"},(0,M.default)({},w,s),{selectSize:"default",onChange:this.doBrowChangeEvent,addOnClick:this.clickAddBtn,onBeforeFocusCheck:this.beforeCheck}))}return E}},{key:"getBrowserProp",value:function(e,t){var r=this.props,n=r.rowIndex,o=r.cellObj,i=r.globalStore,a=r.layoutStore,l=i.secLevelInfo,s=void 0===l?{}:l,u=(s.isOpenSec,s.secLevel,i.commonParam),f=u.isprint,d=u.useInvoiceCloud,p=void 0!==d&&d,h=161===e||162===e||256===e||257===e,m=h?e+"_"+t:e.toString(),v=a.browserInfo,g=a.fieldAttrMap,b=a.odocInfo,y=q.cloneDeep(v[m]||{});if(q.isEmpty(y))return y;y=(0,c.default)({},y,y.otherParams||{});var w={};y.relateFieldid&&y.relateFieldid.map(function(e){var t=e.split("_")[0],r="1"===e.split("_")[1],o=g.get(t),i=o.fieldname;i&&(r&&(i=o.tableName+"_"+i),h&&(i=i.toLowerCase()+"_"+q.get(y,["dataParams","currenttime"])),w[i]=T.getRelateFieldValue(t,n))});var _=y.dataParams||{};_=(0,c.default)({},_,w),y.dataParams=_,256!==e&&257!==e||(y.asynLoadAll=!1);var E=o.field.toString();return(9===e||37===e)&&"docFieldId"in b&&b.docFieldId.toString()===E&&(y.onLinkClick=function(){b.openWpsJSAPI&&b.extendName.indexOf("doc")>-1?window.beforeWpsOnlineEdit.createDoc():WfForm.switchTab("odoc")},y.hideOps=!0===b.newTextNodes,y.hideSelect=!0===b.newTextNodes),1===parseInt(f)||87!==e&&184!==e||(y.extraElement=S.default.createElement("span",null,S.default.createElement("a",{className:"wf-RoomPlan",href:(window.ecologyContentPath||"")+"/spa/meeting/static/index.html#/main/meeting/RoomPlan",target:"_new"},(0,C.getLabel)(15881,"会议室使用情况")))),1!=p||292!==e&&293!==e||(y.onBrowerClick=this.onBrowerClick),y}},{key:"getBrowserDataDefinition",value:function(e,t){var r=this.props.rowIndex,n={};return e.map(function(e){var o=e.split("_")[0];161===t||162===t||(n["field"+o]=T.getRelateFieldValue(o,r))}),n=(0,c.default)({},n,T.getRelateFieldShowName(e,r))}},{key:"extendBrowserProp",value:function(e,t,r,n){var o=this.props,i=o.globalStore,a=o.fieldAttr,l=o.baseProps,s=o.fieldObj,u=o.rowIndex,f=o.layoutStore,d=a.fielddbtype,p=a.browserattr,h=void 0===p?{}:p,m=h.relateFieldid,v=(h.sqlWhereField,h.browserParams),g=void 0===v?{}:v,b=g.tabs,y=void 0===b?[]:b,w=g.hasAddGroup,_=void 0!==w&&w,S=f.odocInfo;y.length>0&&(e.tabs=k.toJS(y));var E=l.viewAttr,I=s.variable,C=i.commonParam,x=i.secLevelInfo,O=void 0===x?{}:x,P=C.requestid,A=C.workflowid,F=C.formid,R=C.isbill,T=C.f_weaver_belongto_userid,D=C.f_weaver_belongto_usertype,j=C.wfTestStr,L=C.creater;_&&17===n&&!r&&(e.hasAddGroup=!0),1!==n&&17!==n||(e.isShowGroup=!r,e.canSelectAllUser=C.allowAllPersonGroup),141===n&&(e.isShowSecLevel=g.isShowSecLevel);var N=C.isWorkflowDoc||!1,W=C.flowDocFieldId||0;E>1&&9===n&&!r&&N&&W==t&&(S.docParam.isStartNode&&S.docParam.reUploadText?e.hasAddBtn=!0:0===q.trim(l.value).length&&(e.hasAddBtn=!0),e.dataParams.isWord="1"),E>1&&37===n&&(e.hasAddBtn=!0),1==E&&(e.simpleRO=!0);var B=e.conditionDataParams||{},z=e.dataParams||{},U=m?this.getBrowserDataDefinition(m,n):{},V=e.completeParams||{},H=I.has("customDataParam")?I.get("customDataParam"):{},G={wfid:A,billid:F,isbill:R,requestid:P,f_weaver_belongto_userid:T,f_weaver_belongto_usertype:D,wf_isagent:C.isagent,wf_beagenter:C.beagenter,wfTestStr:j,fieldid:t,viewtype:r?"1":"0",fromModule:"workflow",wfCreater:L,disabledConditionCache:!0};226===n&&(G=(0,c.default)({},G,{fielddbtype:d,rowIndex:u}),e.searchParams={issearch:!0});var Q=(0,M.default)({},B,V,z,G,g,U,H);O&&O.isOpenSec&&(Q.secretLevel=O.secLevel),e.conditionDataParams=Q,e.completeParams=Q,e.dataParams=Q,e.destDataParams=(0,c.default)({},e.destDataParams||{},Q,{fromModule:"workflow"}),16!==n&&152!==n&&171!==n&&238!==n||(e.linkUrl=e.linkUrl+"&fieldid="+t+"&requestid=");var K=I.has("customBrowserProp")?I.get("customBrowserProp"):{};for(var J in K)e[J]=K[J]}},{key:"extendDateProp",value:function(e){var t=e.detailtype;if(2===t||19===t||290===t||402===t||403===t){var r=this.props,n=r.cellObj,o=r.fieldObj,i=n.format||{},a=o.variable;switch(e.formatPattern=i.formatPattern||"",e.noInput=!0,2===t&&(e.startValue=a.get("startDate")||"",e.endValue=a.get("endDate")||""),t){case 402:e.format="YYYY";break;case 403:e.format="YYYY-MM"}}}}]),t}(S.default.Component))||a)||a;t.default=W},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(31),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(6),_=function(e){function t(){(0,f.default)(this,t);var e=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return e.doBrowserChange=function(t,r,n){var o=(0,w.getEcCom)(),i=o.WeaTools,a=e.props,s=a.weaBrowserProps,u=a.onChange,c=s||{},f=c.fieldid,d=c.rowIndex,p=c.dataParams,h=p.fielddbtype,m=p.requestid,v={fromNodeorReport:"0",fieldid:f,rowIndex:d,requestid:m,fielddbtype:h};v.datas=(0,l.default)(n),i.callApi("/api/SapIntegration/browser/assignToBill","POST",v).then(function(e){u&&u(e.datas)})},e}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,w.getEcCom)(),t=e.WeaBrowser,r=(e.WeaTools,this.props.weaBrowserProps),n=r.dataParams,o=n.displaySearchAdInBar;n.scrollx;return y.default.createElement(t,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@dv69jt"},r,{onChange:this.doBrowserChange,sap:!0,displaySearchAdInBar:o,scrollx:!0}))}}]),t}(y.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(6),S=(o=(0,w.inject)("layoutStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doChangeEvent=function(e){var t=n.props,r=t.layoutStore,o=t.fieldMark;r.changeSingleFieldValue(o,{value:e})},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,_.getEcCom)(),t=e.WeaCheckbox,r=this.props,n=(r.fieldMark,r.fieldAttr,r.symbol,r.rowIndex,r.cellObj,r.fieldObj,this.props.baseProps);return""===n.value&&(n.value="0"),y.default.createElement(t,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaCheckbox@s855yi"},n,{onChange:this.doChangeEvent}))}}]),t}(y.default.Component))||i)||i;t.default=S},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(9),E=n(S),I=r(6),k=r(10),C=n(k),x=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(){var e,r,n,o;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(a))),n.doChangeEvent=function(e){var t=n.props,r=t.layoutStore,o=t.fieldMark;r.changeSingleFieldValue(o,{value:e})},o=r,(0,v.default)(n,o)}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=(0,I.getEcCom)(),t=e.WeaSelect,r=this.props,n=r.layoutStore,o=r.globalStore,i=n.variableMap,a=o.commonParam,l=this.props,u=(l.fieldMark,l.fieldAttr),c=(l.symbol,l.rowIndex,l.cellObj,l.fieldObj),f=this.props.baseProps,d=c.variable,p=f.fieldid,h=f.detailtype,m=f.viewAttr,v=f.value;0===h&&(h=1),"1"===a.isprint&&3===h&&!0===i.get("radioPrintText_"+p)&&(h=1),f.detailtype=h;var g=d.has("optionRange")?d.get("optionRange"):null,b=d.has("filterOptionRange")?d.get("filterOptionRange"):null,y=[];if(1===h&&y.push({key:"",showname:""}),5!==u.htmltype){var _=E.toJS(d.get("changeFieldTypeSelectOption"))||[];y=y.concat(_)}else{var S=u.selectattr,k=S.selectitemlist;k&&k.map(function(e){var t=e.selectvalue.toString();return 1===e.cancel&&(1===m&&t!==v||2===m||3===m)||(null!==g&&-1===C.indexOf(g,t)||(null!==b&&C.indexOf(b,t)>-1||void y.push({key:t,showname:e.selectname})))}),f.fieldshowtypes=S.fieldshowtypes}return f.options=y,f.dropdownMatchSelectWidth=!1,1!==m&&(f.style=(0,s.default)({},f.style,{"min-width":(f.isDetail?55:100)+"px"})),w.default.createElement(t,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSelect@vm269g"},f,{supportCancel:2===m,onChange:this.doChangeEvent}))}}]),t}(w.default.Component))||a)||a;t.default=x},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(6),E=r(10),I=n(E),k=r(18),C=n(k),x=r(23),O=n(x),P=(i=(0,_.inject)("globalStore","layoutStore"))(a=(0,_.observer)(a=function(e){function t(){var e,r,n,o;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(a))),n.fileChangeEvent=function(e,t){var r=n.props,o=r.layoutStore,i=r.fieldMark,a=r.fieldObj,l=(r.rowIndex,r.baseProps,a.specialobj||{});l.filedatas=t,o.changeSingleFieldValue(i,{value:e.join(","),specialobj:l})},n.onUploading=function(e){var t=null,r=n.props,o=r.layoutStore,i=r.fieldMark,a=r.fieldObj,l=r.rowIndex,s=r.baseProps,u=s.fieldid,c=s.isDetail,f={};if("false"==e&&""==a.value?t={value:"-1"}:"true"==e&&(t={value:""}),"false"!=e&&"true"!=e){var d=a.variable;"error"!=(void 0===d?{}:d).fileUploadStatus&&(f.fileUploadStatus=e)}o.changeSingleFieldValue(i,t,f),c&&O.syncLockedRowHeight(u,l)},o=r,(0,v.default)(n,o)}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaUpload,r=this.props,n=r.globalStore,o=r.layoutStore,i=(r.fieldMark,r.fieldAttr),a=(r.symbol,r.rowIndex,r.cellObj,r.fieldObj),l=this.props.baseProps,u=l.isDetail,c=l.fieldName,f=l.value,d=l.viewAttr,p=l.fieldid,h=i.detailtype,m=i.fileattr,v=a.specialobj?mobx.toJS(a.specialobj):{},g=v.filedatas,b=v.showBatchLoad,y="",_="",E=m.catelogType,k=m.docCategory,C=(m.selectedCateLog,m.maxUploadSize),x=m.fileSecFormat;if(0===E)I.trim(k).length>0?y=I.trim(k):_=(0,S.getLabel)(83157,"附件上传目录未设置!");else{var O=this.getFileSelectedCatalog();O.errorMsg?_=O.errorMsg:(y=O&&O.docCategory,C=O&&O.maxUploadSize)}var P=n.commonParam,M=n.secLevelInfo,A=void 0===M?{}:M,F=(n.variableMap,P.workflowid),R=P.requestid,T=P.authStr,D=P.authSignatureStr,j=P.f_weaver_belongto_userid,L=P.f_weaver_belongto_usertype,N=P.wfTestStr,q=P.isprint,W=P.nodetype,B=2===h?"img":"list",z="&authStr="+T+"&authSignatureStr="+D+"&f_weaver_belongto_userid="+j+"&f_weaver_belongto_usertype="+L+"&wfTestStr="+N,U="/api/doc/upload/uploadFile2Doc?category="+y+"&workflowid="+F+"&listType="+B+z;if(l.showBatchLoad=!u&&b,l.showClearAll=!u,l.uploadUrl=U,l.maxUploadSize=C,l.category=y,g&&g.map(function(e){d>1&&"1"===o.propFileCfg.files_link_onlyview&&(e.filelink=e.filelink+"&isEdit=1&formFieldId="+p+"&formFieldAttr=2")}),l.datas=g,l.btnSize=u?"small":"default",l.autoUpload=u,l.listType=B,l.uploadId=c,l.errorMsg=_,b&&!u){var V="/weaver/weaver.file.FileDownload?fieldvalue="+f+"&download=1&downloadBatch=1&desrequestid=0&requestid="+R+z;l.batchLoadUrl=V}var H=i.issortable,G=void 0===H||H,Q=i.isresetname,K=void 0===Q||Q,J=i.isshowclerarall,$=void 0!==J&&J,Y=i.isautoupload,X=void 0===Y||Y;return l.showClearAll=$,l.issortable=G,l.editable=K,l.autoUpload=X,l.datas=l.datas?l.datas:[],X&&(l.uploadParams=(0,s.default)({isFirstUploadFile:"9"},l.uploadParams)),l.uploadParams=(0,s.default)({},l.uploadParams,{fieldId:p},{workflowId:F}),0===m.imgHeight&&(m.imgHeight=50),0===m.imgWidth&&(m.imgWidth=50),w.default.createElement(t,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaUpload@li5935",ref:c,uploadId:c},(0,s.default)({},m,l),{needCalculateWidth:"1"!=q,onChange:this.fileChangeEvent,onUploading:this.onUploading,casProtect:A.isOpenSec,secLevel:A.secLevel,secLevelInfo:A.tip,showSecLevel:A.isOpenSec&&m.showSecLevel,allowEditSec:0==W&&l.viewAttr>1,secLevelDisplayFormat:x.toString(),needCheckSec:!1}))}},{key:"getFileSelectedCatalog",value:function(){var e=this.props,t=e.layoutStore,r=e.rowIndex,n=e.fieldAttr,o=n||{},i=o.fileattr,a=t.fieldAttrMap,l=i.selectedCateLog;if(1!==i.catelogType||!l||!a.has(l))return{};var s=C.getRelateFieldValue(l,r),u=a.get(l),c=u.fieldlabel,f=u.selectattr,d={};return""!==l&&""!==s?f&&f.selectitemlist.map(function(e){e&&e.selectvalue.toString()===s.toString()&&(d={docCategory:e.docCategory,maxUploadSize:e.maxUploadSize||5})}):d.errorMsg=(0,S.getLabel)(125389,"请先选择")+"“"+c+"”",d}}]),t}(w.default.Component))||a)||a;t.default=P},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=(r(8),function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.fieldAttr,t=e.detailtype,r=e.specialattr;if(1===t){var n=r.displayname||"",o=r.linkaddress||"";jQuery(this.refs.specialFieldSpan).append("<a href='"+o+"' target='_blank'>"+n+"</a>")}}},{key:"render",value:function(){var e=this.props.fieldAttr,t=e.detailtype,r=e.specialattr,n=void 0;if(1===t);else if(0===t||2===t){var o=r.descriptivetext||"";n=m.default.createElement("span",{dangerouslySetInnerHTML:{__html:o}})}return m.default.createElement("span",{className:"specialField",ref:"specialFieldSpan"},n)}}]),t}(m.default.Component));t.default=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(14),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),w=r(17),_=r(19),S=n(_),E=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};y.asyncLoadModule("fna",w.fnaFiles,t)}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaFnaSpecial.WeaFna;return g.default.createElement(e,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFna@h6qoi0"},this.props))}return g.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@ot92tc"})}}]),t}(g.default.Component);t.default=E},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(621),E=o(S),I=r(11),k=(n(I),r(18)),C=n(k),x=r(27),O=n(x),P=(i=(0,_.inject)("globalStore","locationMapStore"))(a=(0,_.observer)(a=function(e){function t(){var e,r,n,o;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(a))),n.showLocalMapDialog=function(e){var t=n.props,r=t.locationMapStore,o=t.globalStore;r.setLocationInfos(e),r.setCancelEvent(function(){o.controlDialogVisible(O.LOCATION_MAP,!1)}),o.controlDialogVisible(O.LOCATION_MAP,!0)},o=r,(0,v.default)(n,o)}return(0,b.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldMark,r=(e.fieldAttr,e.symbol,e.fieldObj),n=this.props,o=n.globalStore,i=n.baseProps,a=o.commonParam,l=(o.markInfo,o.urlParams),u=void 0===l?{}:l;a.requestType;return i.fieldName=C.convertSystemFieldName(t),i.isPrint=u.isprint,w.default.createElement(E.default,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLocationField@shb810"},i,{fieldObj:r,openDialogFunc:this.showLocalMapDialog}))}}]),t}(w.default.Component))||a)||a;t.default=P},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p);r(622);var m=r(6),v=r(9),g=n(v),b=r(10),y=(n(b),function(e){function t(e){(0,s.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return r.state={value:e.value?e.value:""},r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.value!==e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=(0,m.getAntd)(),t=(e.Row,e.Col),r=(e.Card,e.Table),n=this.props,o=n.fieldObj,i=n.openDialogFunc,a=n.JSComplete,l=n.isPrint,s=o.specialobj?g.toJS(o.specialobj):[],u=[],c=[],f=[{title:(0,m.getLabel)(502315,"流转顺序"),dataIndex:"num",key:"num",width:"8%"},{title:(0,m.getLabel)(33417,"节点"),dataIndex:"operator",key:"operator",width:"16%"},{title:React.createElement("div",{className:"column-location"},React.createElement("span",null,(0,m.getLabel)(500932,"位置信息")),"1"==!l&&React.createElement("span",{className:"column-location-showmap",onClick:function(){i(o)}},(0,m.getLabel)(384395,"查看地图"))),dataIndex:"time",key:"time",width:"20%",colSpan:4},{title:"",dataIndex:"location",key:"location",width:"56%",colSpan:0}];return s.map(function(e){var t=[];e.locationList.map(function(r){t.push({num:"",key:"rowDetail_"+e.flowNum,operator:r.userName+"/"+r.userDep,time:r.time,location:r.address})});var r={num:e.flowNum,key:"rowDataHead_"+e.flowNum,operator:e.nodeName,nodeid:e.nodeId,children:[{num:"",key:"rowDetailHead_"+e.flowNum,operator:(0,m.getLabel)(17482,"操作人"),time:(0,m.getLabel)(387601,"操作时间"),location:(0,m.getLabel)(22981,"位置"),children:t}]};c.push("rowDataHead_"+e.flowNum),c.push("rowDetailHead_"+e.flowNum),u.push(r)}),React.createElement("div",null,s.length>0&&a?React.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@hpikxz",span:24,style:{border:"1px solid #e9e9e9",position:"relative"}},React.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_Table@l4p65v",className:"wf-location-field",pagination:!1,columns:f,dataSource:u,expandedRowKeys:c,size:"middle"})):React.createElement("span",null,(0,m.getLabel)(126181,"暂无位置信息")))}}]),t}(React.Component));t.default=y},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(6),g=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.onClick=function(t){var r=e.props.fieldObj;r&&r.changeDecryptValue(t)},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,v.getEcCom)(),t=e.WeaInputEncrypt,r=this.props,n=r.value,o=r.fieldAttr,i=r.fieldObj,a=2===o.htmltype?"TEXTAREA":"",l=i&&i.decryptValue,s=3===o.encryptFlag;return m.default.createElement(t,{value:n,decryptValue:l,onClick:this.onClick,type:a,noDesensitization:s})}}]),t}(m.default.Component);t.default=g},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(83),g=function(e){function t(){var e,r,n,o;(0,l.default)(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.onOk=function(){var e=n.props.onOk;"function"==typeof e&&e(),n.closePanel()},n.onCancel=function(){var e=n.props.onCancel;"function"==typeof e&&e(),n.closePanel()},n.closePanel=function(){$("#conflict-panel-box").css({visibility:"hidden"})},o=r,(0,f.default)(n,o)}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.setPanelPosition()}},{key:"componentDidUpdate",value:function(){this.setPanelPosition()}},{key:"setPanelPosition",value:function(){var e=this.props,t=e.clickPos,r=t.posX,n=t.posY,o=(e.content,document.getElementById("conflict-panel-box"));if(o){var i=(document.getElementsByClassName("wea-new-top-req-content")[0],o.offsetWidth),a=o.offsetHeight,l=document.documentElement.clientWidth,s=document.documentElement.clientHeight;o.style.left=r+i>=l?l-i-10+"px":r+10+"px",o.style.top=n+a>=s?s-a-10+"px":n+10+"px"}}},{key:"render",value:function(){var e=this.props,t=e.clickPos,r=(t.posX,t.posY,e.content);return m.default.createElement(m.default.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_undefined@qt1byo"},m.default.createElement("div",{className:"conflict-panel-container"},m.default.createElement("div",{className:"panel-header"},m.default.createElement("p",null,"您此次的修改"),m.default.createElement("div",{className:"close-btn",onClick:this.closePanel},m.default.createElement(v.Icon,{ecId:(this&&this.props&&this.props.ecId||"")+"_Icon@rgipux",type:"cross"}))),m.default.createElement("div",{className:"panel-body"},r),m.default.createElement("div",{className:"panel-footer"},m.default.createElement("div",{className:"btn active",onClick:this.onOk},"确认修改"),m.default.createElement("div",{className:"btn",onClick:this.onCancel},"忽略"))))}}]),t}(m.default.Component);t.default=g},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=(o=(0,b.inject)("layoutStore"))(i=(0,b.observer)(i=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.cellObj,r=e.layoutStore,n=t.etype,o=t.field&&t.field.toString(),i=r.cellInfo,a=i.sysFieldInfo||{},l=a.workflowname,s=void 0===l?"":l,u=a.workflowtypename,c=void 0===u?"":u,f=a.workflowdesc,d=void 0===f?"":f,p="";return"28"==n?p=t.evalue:"29"==n&&("1"==o?p=s:"2"==o?p=c:"3"==o&&(p=d)),p=p.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(\r\n|\r|\n)/g,"</br>"),p=p.replace(/ /g,"&nbsp;"),g.default.createElement("span",{dangerouslySetInnerHTML:{__html:""+p}})}}]),t}(g.default.Component))||i)||i;t.default=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(172),a=n(i),l=r(123),s=n(l),u=r(3),c=n(u),f=r(0),d=n(f),p=r(2),h=n(p),m=r(4),v=n(m),g=r(5),b=n(g),y=r(1),w=n(y),_=r(8),S=r(10),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(S),I=r(39),k=n(I),C=(0,_.observer)(o=function(e){function t(e){(0,d.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.calculateRelateValue=function(e){if(""==e)return"";var t=e;["requestid","requestname"].map(function(e){var r="\\$"+e+"\\$";t="requestid"===e?t.replace(new RegExp(r,"gm"),k.default.getBaseInfo().requestid):t.replace(new RegExp(r,"gm"),k.default.getFieldValue("field-1")+"")});var r=/\$[^(\$\=\[)]+\$/g,n=t.match(r);return n=(0,s.default)(new a.default(n)),E.forEach(n,function(e){var r=e.substring(1,e.length-1),n=k.default.convertFieldNameToId(r),o="\\$"+r+"\\$";t=t.replace(new RegExp(o,"gm"),k.default.getFieldValue(n))}),t},r.state={codetype:"",relatefield:"",scancodeData:"",hidetext:"",url:""},r}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.jsonparam,r=e.otherparam,n=r.isPreView,o="";if(!t.relatefield||"undefined"!==typeof t.scancodeData&&""!==t.scancodeData)o=t.scancodeData?t.scancodeData:"";else{var i=t.relatefield.split(",");E.forEach(i,function(e){if("requestid"===e||"requestname"===e)o+="$"+e+"$";else{var t=k.default.getFieldInfo(e).fieldname;o+="$"+t+"$"}})}var a=t.codetype?t.codetype:"",l=t.hidetext?t.hidetext:"",s=this.calculateRelateValue(o);"1"===n&&(s="preview"),s=s.replace(new RegExp("%","gm"),"p_weaver_p"),s=s.replace(new RegExp("#","gm"),"n_weaver_n"),s=s.replace(new RegExp("<","gm"),"li_weaver_li"),s=s.replace(new RegExp(">","gm"),"b_weaver_b"),s=s.replace(new RegExp("&","gm"),"and_weaver_and"),s=s.replace(new RegExp("=","gm"),"eq_weaver_eq"),s=s.replace(new RegExp("\\+","gm"),"add_weaver_add");var u="";"1"===a?(u=(window.ecologyContentPath||"")+"/workflow/createQRCode?firstParam=1",""===s&&(s="空"),s=encodeURI(s),u+="&msg="+s):"2"===a&&""!==E.trim(s)&&(/.*[\u4e00-\u9fa5]+.*$/.test(s)?u=(window.ecologyContentPath||"")+"/workflow/exceldesign/image/illegalBarCode_wev8.png":(u=(window.ecologyContentPath||"")+"/workflow/createWfBarCode?firstParam=1",u+="&type=code128&qz=6&msg="+s,1===Number(l)&&(u+="&hrp=none"))),this.setState({codetype:a,hidetext:l,url:u})}},{key:"render",value:function(){var e=this,t=this.props.otherparam,r=this.state,n=r.url,o=r.codetype,i=t.iscreate,a="1"===o?"qrcodeimg":"barcodeimg",l=!("1"===i&&"2"===o)&&""!==n;return w.default.createElement("div",null,l&&w.default.createElement("img",{className:"scancode "+a,ref:"insertscancode",onLoad:function(){window.scancodeOperate.readyAdjustSize(e.refs.insertscancode)},src:n}))}}]),t}(w.default.Component))||o;t.default=C},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(7),l=o(a),s=r(172),u=o(s),c=r(123),f=o(c),d=r(26),p=o(d),h=r(3),m=o(h),v=r(0),g=o(v),b=r(2),y=o(b),w=r(4),_=o(w),S=r(5),E=o(S),I=r(1),k=o(I),C=r(8),x=r(10),O=n(x),P=r(39),M=o(P),A=r(67),F=n(A),R=r(6),T=(0,C.observer)(i=function(e){function t(e){(0,g.default)(this,t);var r=(0,_.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));return r.sysFieldName={requestname:"field-1",requestlevel:"field-2",signinput:"field-4",dycs:"field-9",mj:"field-10"},r.iframeParams={set_id:"",set_name:"",set_src:"",set_style:{},temp_src:"",dynamicFieldnames:[],iframeAuto:{},loadHeight:{}},r.setIframeParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.default)(e).forEach(function(t){r.iframeParams[t]=e[t]})},r.analyzeDynamicField=function(e){var t=[];return O.forEach(e,function(e){var r=M.default.convertFieldNameToId(e);t.push(r)}),t.join(",")},r.analyzeField=function(e){["requestid","workflowid","nodeid","formid"].map(function(t){var r="\\$"+t+"\\$";e=e.replace(new RegExp(r,"gm"),M.default.getBaseInfo()[t])});var t=/\$[^(\$\=\[)]+\$/g,n=e.match(t);n=(0,f.default)(new u.default(n));for(var o=0;o<n.length;o++){var i=n[o];i=i.substr(0,i.length-1),i=i.substr(1,i.length-1);var a=M.default.convertFieldNameToId(i);r.sysFieldName[i]&&""===a&&(a=r.sysFieldName[i]);var l="\\$"+i+"\\$";e=e.replace(new RegExp(l,"gm"),M.default.getFieldValue(a))}r.setIframeParams({temp_src:e});var s=/[^\$\[\]]+(?=\])/g,c=e.match(s);return c=(0,f.default)(new u.default(c)),r.setIframeParams({dynamicFieldnames:c}),e=F.getDynamicFieldValueSrc(c,e)},r.analyzeStyle=function(e){return 0==e.trim().length?{}:(e=e.replace(/\s+/g,""),r.confirmEnding(e,";")&&(e=e.substr(0,e.length-1)),e="{"+e.replace(/;/g,",")+"}",e=e.replace(/(?:\s*['"]*)?([a-zA-Z0-9_-]+)(?:['"]*\s*)?:/g,'"$1":'),e=e.replace(/":/g,'":"').replace(/,"/g,'","').replace(/}/g,'"}'),JSON.parse(e))},r.confirmEnding=function(e,t){var r=e.length-t.length;return e.substr(r,t.length)==t},r.state={showIframe:!1},r}return(0,E.default)(t,e),(0,y.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.jsonparam,r=(e.cellMark,t.set_id?t.set_id:""),n=t.set_name?t.set_name:"",o=t.set_src?t.set_src:"",i=t.set_height?t.set_height:"",a=t.set_style?t.set_style:"",s={};"auto"===i||""===i?(s={height:"0px"},this.setIframeParams({loadHeight:{height:"100px",lineHeight:"100px"}}),this.setIframeParams({iframeAuto:{adjustheight:"y",eachcount:0}})):(s={height:i+"px"},this.setIframeParams({loadHeight:{height:i+"px",lineHeight:i+"px"}}));var u=this.analyzeStyle(a),c=(0,l.default)({width:"100%"},s,u),f=this.analyzeField(o);this.setIframeParams({set_src:f,set_id:r,set_name:n,set_style:c})}},{key:"componentDidMount",value:function(){var e=this.iframeParams,t=e.temp_src,r=e.dynamicFieldnames,n=this.analyzeDynamicField(r),o=this.refs.insertiframe;M.default.bindFieldChangeEvent(n,function(e,n,i){var a=F.getDynamicFieldValueSrc(r,t);jQuery(o).attr("src",a)})}},{key:"render",value:function(){var e=this,t=this.state.showIframe,r=this.iframeParams,n=r.set_id,o=r.set_name,i=r.set_style,a=r.set_src,s=r.loadHeight,u=r.iframeAuto,c=t?{dispaly:"none"}:{},f=t?{}:{height:"0px"};return k.default.createElement("div",null,k.default.createElement("div",{className:"iframeLoading",style:(0,l.default)({},s,c)},k.default.createElement("span",null,k.default.createElement("img",{src:"/images/loading2_wev8.gif",align:"absmiddle"})),k.default.createElement("span",null,(0,R.getLabel)(125516,"内容加载中，请稍候..."))),k.default.createElement("iframe",(0,l.default)({src:a,id:n,name:o,ref:"insertiframe",onLoad:function(){e.setState({showIframe:!0}),window.iframeOperate.loadingOver(e.refs.insertiframe)},frameBorder:"0",scrolling:"auto",style:(0,l.default)({},i,f)},u)))}}]),t}(k.default.Component))||i;t.default=T},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(14),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),w=r(17),_=r(19),S=n(_),E=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};y.asyncLoadModule("fna",w.fnaFiles,t)}},{key:"render",value:function(){var e=this.state.hasLoad,t=this.props,r=t.symbol,n=t.commonParam;if(e){var o=window.weaFna.com.FnaInvoiceIdentifyPage;return g.default.createElement(o,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_FnaInvoiceIdentifyPage@libdru"},this.props,{commonParam:n,symbol:r}))}return g.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@qvuoea"})}}]),t}(g.default.Component);t.default=E},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"render",value:function(){return React.createElement("div",{id:"customScriptDiv"})}}]),t}(React.Component);t.default=h},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(11),_=(n(w),r(18)),S=n(_),E=r(10),I=n(E),k=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.globalStore,r=e.layoutStore,n=(t.JSComplete,t.submitParam),o=r.fieldAttrMap,i=r.mainData,a=r.detailMap,l=r.cellInfo,s=l.fieldCellInfo||{},u=[];return I.forIn(n,function(e,t){u.push(b.default.createElement("input",{type:"hidden",id:t,name:t,value:e}))}),o.forEach(function(e,t){if(t in s)return!0;if(e.isDetail){var r=a.get(e.tableMark),n=r.allRowIndexStr,o=r.detailData;n.split(",").map(function(e){var r="field"+t+"_"+e,n=o.has(r)?o.get(r).value:"";u.push(b.default.createElement("input",{type:"hidden",id:r,name:r,value:n}))})}else{var l="field"+t,c=i.has(l)?i.get(l).value:"";parseInt(t)<0&&(l=S.convertSystemFieldName(l)),u.push(b.default.createElement("input",{type:"hidden",id:l,name:l,value:c}))}}),a.forEach(function(e,t){var r=parseInt(t.substring(7))-1,n=e.indexnum,o=e.deldtlid,i=e.rowInfo,a="",l=0;i.forEach(function(e,t){l++;var n=t.substring(4);a+=n+",",e.has("keyid")&&u.push(b.default.createElement("input",{type:"hidden",name:"dtl_id_"+r+"_"+n,value:e.get("keyid")}))}),u.push(b.default.createElement("input",{type:"hidden",id:"nodesnum"+r,name:"nodesnum"+r,value:l})),u.push(b.default.createElement("input",{type:"hidden",id:"indexnum"+r,name:"indexnum"+r,value:n})),u.push(b.default.createElement("input",{type:"hidden",id:"submitdtlid"+r,name:"submitdtlid"+r,value:a})),u.push(b.default.createElement("input",{type:"hidden",id:"deldtlid"+r,name:"deldtlid"+r,value:o}))}),b.default.createElement("div",{class:"hiddenArea",style:{display:"none"}},u)}}]),t}(b.default.Component))||a)||a;t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(6),m=function(e){function t(e){(0,l.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.state={visible:!1,top:0,left:0},r}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,r=(0,h.getAntd)(),n=r.message;if(!e.visible||!e.mark)return void this.setState({visible:!1});if(this.props.mark!==e.mark||this.props.promptType!==e.promptType){var o=e.promptType,i=e.mark,a=e.isFieldOnlyShow,l=void 0;1===o||2===o?l=jQuery("[data-fieldmark='"+i+"']"):3===o&&(l=jQuery("table#oTable"+(parseInt(i.substring(7))-1)));var s=l.size()>0,u=jQuery(".wf-req-form-scroll");if(s&&l.is(":visible")&&!a){var c=l.offset().top+u.scrollTop(),f=l.offset().top+l.height()+38;if(f<=jQuery("div.wea-new-top-req").height()+20||f>=jQuery(window).height()){var d=jQuery(window).height()/2-l.height()-60;u.scrollTop(c-d)}if((1===o||2===o)&&i.indexOf("_")>-1){var p=l.closest(".excelDetailContent"),m=l.closest("div.excelDetailTableDiv");if(m.size()>0&&"true"===m.attr("data-allowxscroll")){var v=m.offset().left,g=l.offset().left+m.scrollLeft()-v;(g<=0||g>=m.width())&&p.scrollLeft(g-m.width()/2)}}window.setTimeout(function(){var e=c+l.height()-jQuery("div.wea-new-top-req").height()-jQuery("div.wf-req-top-notice").height(),r=l.offset().left+u.scrollLeft()-u.offset().left;t.setState({visible:!0,top:e,left:r})},20)}else{var b="";1===o?b=a?(0,h.getLabel)(507230,"未获取到值,请检查表单填写情况！"):(0,h.getLabel)(386149,"字段未填值,字段内容被隐藏！"):3===o&&(b=s?(0,h.getLabel)(386151,"未新增数据,明细区域被隐藏！"):(0,h.getLabel)(386150,"未新增数据,明细表未放在模板上！")),""!==b&&n.warning(React.createElement("span",null,React.createElement("span",{className:"prompt-content-label"},'"',e.lableText,'"'),React.createElement("span",{className:"prompt-content-info"},b)),2),this.setState({visible:!1})}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.visible!==t.visible||this.state.top!==t.top||this.state.left!==t.left}},{key:"render",value:function(){var e=(0,h.getAntd)(),t=e.Icon,r=(e.message,this.props),n=r.lableText,o=r.promptType,i=!0===this.state.visible?"":"none",a="";return 1===o?a=(0,h.getLabel)(21423,"未填写"):2===o?a=(0,h.getLabel)(386152,"为行规则赋值字段，修改无效"):3===o&&(a=(0,h.getLabel)(383709,"未新增数据")),React.createElement("div",{className:"prompt-box",ref:"promptbox",style:{display:i,top:this.state.top,left:this.state.left}},React.createElement("div",{className:"prompt-arrow"}),React.createElement("div",{className:"prompt-content"},React.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Icon@ig9qqz",type:"exclamation-circle"}),React.createElement("span",{className:"prompt-content-label",dangerouslySetInnerHTML:{__html:'"'+n+'"'}}),React.createElement("span",{className:"prompt-content-info"},a)))}}]),t}(React.Component);t.default=m},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(129),_=o(w),S=r(274),E=o(S),I=r(10),k=n(I),C=r(11),x=n(C),O=r(14),P=r(29),M=n(P),A=r(6),F=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.globalStore;jQuery("body").css("overflow","true"===e.urlParams.isBatchPrint?"hidden":"auto"),jQuery("#container").css("padding","6px 10px"),jQuery("#container").css("height","auto"),(0,O.controlAsyncLoad)(),M.loadCaculateResource();var t=e.browserVersion;t&&t.indexOf("IE")>-1&&jQuery(".wf-req-print").append('<object id="WebBrowser" classid="CLSID:8856F961-340A-11D0-A96B-00C04FD705A2" height="0" width="0"></object>')}},{key:"componentDidUpdate",value:function(e){(0,O.controlAsyncLoad)()}},{key:"componentWillUnmount",value:function(){this.props.globalStore.resetStore()}},{key:"render",value:function(){var e=this.props,t=e.globalStore,r=e.layoutStore,n=t.JSComplete,o=t.commonParam,i=t.rightMenu,a=t.variableMap,l=t.controlVariableMap,s=t.urlParams,u=void 0===s?{}:s,c=i.forward,f=r.dataJson,d=r.propFileCfg,p=!k.isEmpty(o)&&!k.isEmpty(f),h=!!p&&x.judgePrintLogList(),m=(0,A.getEcCom)(),v=m.WeaCustomNew,g=u.isBatchPrint,y=d.batch_print_control_width,w=parseInt(y)>100,S=g&&w?{maxWidth:parseInt(y)+"px",margin:"0 auto"}:{},I=b.default.createElement("div",{className:"wf-req-print"},b.default.createElement("div",{className:"wf-req-form",style:{margin:"0 auto",marginBottom:"20px"}},p&&b.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_MainLayout@fu3w5c",symbol:"main"})),b.default.createElement("div",{className:"wf-req-loglist",style:S},h&&n&&b.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LogList@i3gvqp",commonParam:o,forward:c,controlVariableMap:l,isRelaodLogList:a.get("isRelaodLogList"),reloadLogListParams:a.get("reloadLogListParams")})));return n?b.default.createElement(v,null,I):I}}]),t}(b.default.Component))||a)||a;t.default=F},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,a,l,s,u=r(31),c=o(u),f=r(7),d=o(f),p=r(3),h=o(p),m=r(0),v=o(m),g=r(2),b=o(g),y=r(4),w=o(y),_=r(5),S=o(_),E=r(1),I=o(E),k=r(8),C=r(185),x=r(6),O=r(634),P=o(O),M=r(277),A=o(M),F=r(278),R=(o(F),r(648)),T=o(R),D=r(649),j=o(D),L=r(651),N=o(L),q=r(654),W=o(q),B=r(655),z=o(B),U=r(658),V=o(U),H=r(661),G=o(H),Q=r(664),K=o(Q),J=r(666),$=o(J),Y=r(669),X=o(Y),Z=r(671),ee=o(Z),te=r(248),re=o(te),ne=r(674),oe=o(ne),ie=r(675),ae=o(ie),le=r(47),se=n(le),ue=r(676),ce=o(ue),fe=r(677),de=o(fe),pe=r(678),he=o(pe),me=r(679),ve=o(me),ge=r(680),be=o(ge),ye=r(681),we=o(ye),_e=r(682),Se=o(_e),Ee=r(273),Ie=r(683),ke=o(Ie),Ce=r(684),xe=o(Ce),Oe=r(685),Pe=o(Oe),Me=r(686),Ae=o(Me),Fe=r(280),Re=o(Fe),Te=r(689),De=o(Te),je=r(705),Le=o(je),Ne=r(706),qe=o(Ne),We=r(282),Be=o(We),ze=r(276),Ue=o(ze),Ve=r(27),He=n(Ve);r(254);var Ge=r(14),Qe=r(11),Ke=n(Qe),Je=r(82),$e=n(Je),Ye=r(272),Xe=n(Ye),Ze=r(10),et=n(Ze),tt=r(55),rt=n(tt),nt=r(29),ot=n(nt),it=r(128),at=(0,x.getEcCom)(),lt=at.WeaReqTop,st=at.WeaRightMenu,ut=at.WeaErrorPage,ct=at.WeaTools,ft=at.WeaCustomNew,dt=(i=(0,k.inject)("globalStore","layoutStore","shareStore","followSelectStore"))(a=(0,k.observer)((s=l=function(e){function t(e){return(0,v.default)(this,t),(0,w.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e))}return(0,S.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){jQuery("body").attr("class","bodyOverflowHidden"),Ke.bindResizeEvent(),Ke.bindTagTypeShowEvent(),(0,Ge.controlAsyncLoad)(),ot.loadCaculateResource()}},{key:"componentDidUpdate",value:function(e){(0,Ge.controlAsyncLoad)()}},{key:"componentWillUnmount",value:function(){var e=this.props.globalStore,t=e.commonParam,r=void 0===t?{}:t,n=r.useInvoiceCloud;e.resetStore(),1==n&&(0,it.unbindOnMessage)()}},{key:"render",value:function(){var e=this,t=(0,x.getEcCom)(),r=t.WeaShowUrl,n=t.WeaCollect,o=(t.WeaDialog,t.WeaShare),i=this.props,a=i.globalStore,l=i.layoutStore,s=i.shareStore,u=i.followSelectStore,f=a.JSComplete,p=a.loading,h=a.tabKey,m=a.commonParam,v=a.rightMenu,g=a.dialogVisible,b=a.variableMap,y=a.promptInfo,w=a.odocIframeUrl,_=a.promptInfos,S=void 0===_?[]:_,E=a.secondAuthInfo,k=a.urlParams,C=a.btnDisabled,O=a.apiBtnDisabled,M=a.continuationProcessInfo,F=m.requestid,R=m.workflowid,D=m.titlename,L=m.isshared,q=m.helpdocid,B=m.hasNewCommunication,U=m.btnLabelName,H=v.isImportDetail,Q=void 0!==H&&H,J=s.msginfo,Y=void 0===J?[]:J,Z=s.shareParams,te=s.joinerParams,ne=void 0===te?{}:te,ie=k.showAI,le=l.dataJson,ue=l.odocInfo,fe=!0===ue.docFlag,pe=!et.isEmpty(m)&&!et.isEmpty(le),me=(b.get("forceRenderReq"),""),ge="",ye="",_e="",Ie="",Ce="",Oe="";U&&(me=U.formTab,ge=U.picTab,ye=U.statusTab,_e=U.odocTab,Ie=U.resourceTab,Ce=U.communicationTab,Oe=U.shareTab);var Me={};Me.showUrlDialog=function(){a.controlVariableMap("menu_showUrl",!0)},pe&&q>0&&(Me.helpParams={helpDocid:q});var Fe=!0,Te=!1,je=!1;if(fe){var Ne=ue.docParam;ue.docFlag,ue.docFieldId;if(Ne){var We=Ne.isTextInForm,ze=Ne.isColumnShow,Ve=Ne.isTextInFormCanEdit,Ge=Ne.docfiletype,Qe=Ne.docid;(We||ze>0)&&Ve>0&&Qe>0&&("2"==Ge||"3"==Ge||"7"==Ge||"6"==Ge||"12"==Ge||"13"==Ge||"14"==Ge)&&(Fe=!1),Te=1==Ne.isShowSelectOtherMould&&"1"!=Ne.hasUsedTemplet,je=!("1"!=Ne.isEdit||"1"!=Ne.reTextToModel&&"1"!=Ne.textShowSenWords&&"1"!=Ne.showTextSearch&&!Te),!je&&"odoc"==h&&document.getElementsByClassName("req-workflow-odoc").length>0&&(document.getElementsByClassName("req-workflow-odoc")[0].style.width=jQuery(".wf-req-odoc").width()+"px")}}var Je=[{title:me,key:"form"},{title:ge,key:"pic"},{title:ye,key:"status"}];if(fe&&Fe&&!m.belongTest&&(ue.opentextdefaultnode&&"1"==!wfform.getOdocConfig().docParam.isEdit?Je.unshift({title:_e,key:"odoc"}):Je.push({title:_e,key:"odoc"})),F>0&&!et.isEmpty(m)&&Je.push({title:Ie,key:"resource"}),F>0&&"1"==L&&!m.belongTest&&Je.push({title:Oe,key:"share"}),F>0&&1==m.isOpenCommunication&&Je.push({titleText:Ce,title:I.default.createElement("div",{className:"form-tab-communication"},I.default.createElement("span",null,Ce),I.default.createElement("span",{className:B&&!b.has("haveClick_communication")?"form-tab-communication-dot":"form-tab-communication-dotHide"})),key:"communication"}),b.has("customTabs")){var $e=mobx.toJS(b.get("customTabs"));Je=Je.concat($e)}"function"===typeof window.WfForm.overrideTabDatas&&(Je=window.WfForm.overrideTabDatas(Je));var Ye={showDropIcon:!0},Xe=!1;"odoc"==h&&(Ye={className:"workflowForm_odoc"},Xe=!0);var Ze=b.has("attention_titlename")?D+b.get("attention_titlename"):D,tt=Ke.getWfImportParams();return I.default.createElement("div",{className:"wf-req"},M.loaded&&M.showSwitchBar&&I.default.createElement(Be.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ContinuationProcess@d7pw1v",continuationProcessInfo:M}),f&&r&&I.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaShowUrl@3magwr",urlVisible:b.get("menu_showUrl")||!1,onCancel:function(){return a.controlVariableMap("menu_showUrl",!1)}}),f&&n&&!m.belongTest&&I.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaCollect@jph3y1",favouritetype:"2",favname:Ke.getPageTitle(),objid:F,visible:b.get("menu_showCollect")||!1,onClose:function(){return a.controlVariableMap("menu_showCollect",!1)}}),I.default.createElement("div",{className:"wf-req-topprompt wf-req-top-notice"},I.default.createElement(A.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_TopPrompt@75z8xz",promptInfos:S,secondAuthInfo:mobx.toJS(E)})),I.default.createElement(st,(0,d.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@1ok9r0",width:165},Me,{datas:this.getRightMenu(),disabled:Xe}),I.default.createElement(lt,(0,d.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReqTop@mf7fy7",title:I.default.createElement("div",{dangerouslySetInnerHTML:{__html:Ze}}),loading:p,icon:I.default.createElement("i",{className:"icon-coms-workflow"}),iconBgcolor:"#0079DE",buttons:this.getTopButtons(),tabDatas:Je,selectedKey:h,onChange:function(e){return Ke.switchFormTab(e)}},Ye,{dropMenuProps:Me,dropMenuDatas:this.getRightMenu()}),pe&&I.default.createElement(ft,null,I.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FormContent@g9f33k"})),I.default.createElement("div",{className:"wf-req-picture",style:{display:"pic"===h?"block":"none",height:"100%"}},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SmartGuessWfMap@a1t2z6",commonParam:m})),I.default.createElement("div",{className:"wf-append-iframe",style:{display:h.indexOf("custom_iframe_")>-1?"block":"none"}},I.default.createElement("iframe",{className:"custom-tab-iframe",src:"",style:{border:0,width:"100%",height:"100%"}})),f&&b.has("haveClick_status")&&I.default.createElement("div",{className:"wf-req-status",style:{display:"status"===h?"block":"none"}},I.default.createElement(T.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Status@kxpv8k",requestid:F})),fe&&I.default.createElement("div",{className:"wf-req-odoc",style:{display:"block",height:"odoc"==h?"calc(100% - 20px)":"1px",overflow:"odoc"==h?"":"hidden"}},I.default.createElement("div",{className:je?"setOdocModelAndSensitiveIframeWidth iframeDiv":"iframeDiv",style:{height:"odoc"==h?"calc(100% - 20px)":"1px",overflow:"odoc"==h?"":"hidden"}},I.default.createElement("iframe",{className:"req-workflow-odoc",src:w,style:{border:0,width:"100%",height:"100%"}})),je&&I.default.createElement(Ue.default,{commonParam:m,odocInfo:ue,tabKey:"odoc"})),b.has("haveClick_resource")&&I.default.createElement("div",{className:"wf-req-resources",style:{display:"resource"===h?"block":"none"}},I.default.createElement(ce.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Resource@pabu9i",commonParam:m})),b.has("haveClick_share")&&I.default.createElement("div",{className:"wf-req-share",style:{display:"share"===h?"block":"none"}},I.default.createElement(de.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Share@l6g5w4",commonParam:m})),b.has("haveClick_communication")&&"communication"===h&&I.default.createElement("div",{className:"wf-req-comunication"},I.default.createElement(Pe.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Communication@352a9d",commonParam:m})),pe&&f&&m.existSynergy&&I.default.createElement(Ee.Synergy,{ecId:(this&&this.props&&this.props.ecId||"")+"_Synergy@of09v0",pathname:"/workflow/req",workflowid:R,requestid:F?F.toString():"-1"}))),Q&&g.has(He.IMPORT_WF_DETAIL_MODAL)&&g.get(He.IMPORT_WF_DETAIL_MODAL)&&I.default.createElement(N.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ImportDetail@32jsho"}),g.has("isShowForwardDialog")&&I.default.createElement(ve.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Forward@re3y0m",forwardParams:b.get("forwardParams"),callBackActions:b.get("callBackActions")}),g.has(He.CHOOSE_EXCEPTION_OPERATOR)&&I.default.createElement(z.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_EhOperator@j688ak",visible:g.get(He.CHOOSE_EXCEPTION_OPERATOR)}),g.has(He.REJECT_CHOOSE)&&g.get(He.REJECT_CHOOSE)&&I.default.createElement(V.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_RejectChoose@ltios8",visible:g.get(He.REJECT_CHOOSE)}),g.has(He.ENSURE_SUBMIT)&&g.get(He.ENSURE_SUBMIT)&&I.default.createElement(ee.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_EnsureSubmit@xm5aok",promptInfo:y,store:a,visible:g.get(He.ENSURE_SUBMIT)}),g.has(He.CONFORM_RULE)&&g.get(He.CONFORM_RULE)&&I.default.createElement(re.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_EnsureSubmit@ConformRuleDialog",store:a,visible:!0}),g.has(He.SELECT_NEXTFLOW)&&g.get(He.SELECT_NEXTFLOW)&&I.default.createElement(Ae.default,{nodeAttribute:m.currentNodeAttribute,ecId:(this&&this.props&&this.props.ecId||"")+"_SelectNextFlow@1p6jvx",visible:g.get(He.SELECT_NEXTFLOW)}),g.has(He.SELECT_NEXTFLOW_NODEINFO)&&g.get(He.SELECT_NEXTFLOW_NODEINFO)&&I.default.createElement(Re.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SelectNextFlowNodeInfo@ajf8rg",visible:g.get(He.SELECT_NEXTFLOW_NODEINFO)}),g.has(He.LOCATION_MAP)&&g.get(He.LOCATION_MAP)&&I.default.createElement(De.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LocationMap@b75rkb",visible:g.get(He.LOCATION_MAP)}),g.has(He.OVERTIME_SETTING)&&g.get(He.OVERTIME_SETTING)&&I.default.createElement(G.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OverTimeSetting@sv2j06",visible:g.get(He.OVERTIME_SETTING)}),g.has(He.WORKFLOW_WITHDRAW)&&g.get(He.WORKFLOW_WITHDRAW)&&I.default.createElement(K.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_RequestWithdraw@aq0kt6",visible:g.get(He.WORKFLOW_WITHDRAW)}),g.has(He.SEND_SMS)&&b.has(He.SEND_SMS_PARAMS)&&I.default.createElement(we.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SendSms@29g2yo",visible:g.get(He.SEND_SMS),params:b.get(He.SEND_SMS_PARAMS),closeFun:function(){a.controlDialogVisible(He.SEND_SMS,!1)}}),g.has(He.SEND_MAIL)&&b.has(He.SEND_MAIL_PARAMS)&&I.default.createElement(Se.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SendEmail@ll5o1u",visible:g.get(He.SEND_MAIL),fwquery:b.get(He.SEND_MAIL_PARAMS),closeFun:function(){a.controlDialogVisible(He.SEND_MAIL,!1)}}),g.has(He.PRINT_LOG)&&g.get(He.PRINT_LOG)&&I.default.createElement($.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_PrintLog@msbdn5",visible:g.get(He.PRINT_LOG)}),g.has(He.DO_SUPERVISE)&&g.get(He.DO_SUPERVISE)&&I.default.createElement(ke.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_BatchSubmit@9l3t01",visible:g.get(He.DO_SUPERVISE)}),g.has(He.FORWARD_BACK)&&g.get(He.FORWARD_BACK)&&I.default.createElement(xe.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ForwardBack@896sbt",visible:g.get(He.FORWARD_BACK),requestid:F,callBackActions:b.get("callBackActions")}),b.has(He.HANDLE_REMIND)&&I.default.createElement(Le.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_RemindSet@rb8ode",requestId:F,workflowId:R,submitType:b.get(He.SUBMIT_TYPE),callBackActions:b.get("callBackActions")}),g.has(He.FORM_MODIFY_LOG)&&I.default.createElement(he.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ModifyLog@xul55i",commonParam:m,visible:g.get(He.FORM_MODIFY_LOG),closeFun:function(){a.controlDialogVisible(He.FORM_MODIFY_LOG,!1)}}),g.has(He.HRM_EMPLOYEE_SETTING)&&I.default.createElement(be.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_HrmEmployeeSetting@vno1d5",hrmid:g.get(He.HRM_EMPLOYEE_SETTING),closeFun:function(){a.controlDialogVisible(He.HRM_EMPLOYEE_SETTING,!1)}}),g.has(se.SECOND_AUTH_DIALOG)&&I.default.createElement(oe.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SecondAuthDialog@vg0tpx",visible:g.get(se.SECOND_AUTH_DIALOG)}),g.has(se.AUTH_DETAIL_DIALOG)&&I.default.createElement(ae.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SecondAuthDetail@8l0w9b",visible:g.get(se.AUTH_DETAIL_DIALOG)}),g.has(He.FREE_FLOW_SET)&&I.default.createElement(X.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FreeFlowSet@ftdvh8",visible:g.get(He.FREE_FLOW_SET),openType:"flowset"}),o&&I.default.createElement(o,(0,d.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaShare@ovf4rs",visible:g.has(He.SHARE_WORKFLOW)&&g.get(He.SHARE_WORKFLOW),onVisibleChange:function(){a.controlDialogVisible(He.SHARE_WORKFLOW,!1)},msginfo:Y,shareParams:Z},ne)),"{}"!==(0,c.default)(tt)&&I.default.createElement(W.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ImportWf@hjqdds",loading:C||O,menuName:tt.menuName,workflowid:tt.workflowid,formid:tt.formid,isbill:tt.isbill,userId:tt.userId}),window.location.href.indexOf("showE8")>-1&&I.default.createElement("div",{className:"back_to_old_req",onMouseEnter:function(){return a.controlVariableMap("showE8",!0)},onMouseLeave:function(){return a.controlVariableMap("showE8",!1)},onClick:function(){openFullWindowHaveBarForWFList(e.getE8Url())}},I.default.createElement("div",{style:{display:b.get("showE8")?"block":"none"}},I.default.createElement("p",null,"E8"),I.default.createElement("p",null,(0,x.getLabel)(19071,"模式")))),"1"===ie&&I.default.createElement("div",{className:"back_to_old_req",onMouseEnter:function(){return a.controlVariableMap("showAI",!0)},onMouseLeave:function(){return a.controlVariableMap("showAI",!1)},onClick:function(){return rt.openAIPage()}},I.default.createElement("div",{style:{display:b.get("showAI")?"block":"none"}},I.default.createElement("p",null,"智能"),I.default.createElement("p",null,"分析"))),I.default.createElement("iframe",{id:"WfFormFileDownload",name:"WfFormFileDownload",src:"",style:{display:"none"}}),I.default.createElement("div",{className:"popShow",style:{position:"absolute",top:u.clickPotion.y,left:u.clickPotion.x}},I.default.createElement(qe.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FollowTypeSelect@bo2474",commonParam:m,curStore:u,location:this.props.location,refresh:a.getFormAttentionTag})))}},{key:"getE8Url",value:function(){var e=this.props.globalStore,t=e.commonParam,r=t.workflowid,n=t.requestid;return"1"==t.iscreate?"/workflow/request/AddRequest.jsp?workflowid="+r+"&haveVerifyForward=true":"/workflow/request/ViewRequest.jsp?requestid="+n+"&haveVerifyForward=true"}},{key:"getTopButtons",value:function(){var e=this,t=(0,x.getAntd)(),r=t.Button,n=this.props,o=n.globalStore,i=n.layoutStore,a=o.btnDisabled,l=o.apiBtnDisabled,s=o.tabKey,u=o.rightMenu,c=void 0===u?{}:u,f=(o.commonParam,o.promptInfo),d=f&&"editlock"===f.prompttype&&!0===f.haveLocked;if("odoc"===s)return Xe.getoDocTopButtons(i.odocInfo);var p=[],h=c.rightMenus,m=void 0===h?[]:h,v=c.topBtnCount,g=void 0===v?4:v;return m instanceof Array&&m.map(function(t,n){var o=(t.type,t.menuName),i=(t.menuIcon,t.menuFun,t.isTop),s=t.isLockShow,u=t.isTest;if(d&&!s)return!0;"1"==i&&p.length<g&&p.push(I.default.createElement(r,{ecId:(e&&e.props&&e.props.ecId||"")+"_Button@2oxqe7@"+n,type:"primary",title:o,disabled:a||l,onClick:function(){e.doRightMenuClick(t,u)}},I.default.createElement("div",{className:"wf-req-top-button"},o)))}),p}},{key:"getRightMenu",value:function(){var e=this,t=this.props,r=t.globalStore,n=(t.layoutStore,r.JSComplete),o=r.btnDisabled,i=r.apiBtnDisabled,a=r.tabKey,l=r.rightMenu,s=r.commonParam,u=r.promptInfo,c=r.addInnerChangeBtn,f=r.setInnerChangeDialog,d=u&&"editlock"===u.prompttype&&!0===u.haveLocked,p=[];if("share"===a||"odoc"===a)return p;var h=l&&l.rightMenus||[];return h instanceof Array&&h.map(function(t,r){var n=t.type,a=t.menuName,l=t.menuIcon,u=t.menuFun,c=t.isLockShow,f=t.isTest;if(!Ke.isShowRightBtn(t))return!0;if(d&&!c)return!0;s.workflowid,s.formid,s.isbill;if(s.belongTest&&u.indexOf("doImportWorkflow")>-1)return!0;p.push({key:n+"_"+r,icon:I.default.createElement("i",{className:l}),content:a,onClick:function(r){e.doRightMenuClick(t,f)},disabled:o||i})}),c&&p.push({key:"innerChange",icon:I.default.createElement("i",{className:"icon-coms-danweishezhi"}),content:(0,x.getLabel)("515700","内部交换"),onClick:function(e){f(!0)},disabled:!1}),1==r.commonParam.showAI&&this.addShowAiBtn(p),!s.belongTest&&p.push({key:"wf-collect",icon:I.default.createElement("i",{className:"icon-coms-Collection"}),content:(0,x.getLabel)("28111","收藏"),onClick:function(e){n&&r.controlVariableMap("menu_showCollect",!0)},disabled:!1}),p}},{key:"addShowAiBtn",value:function(e){e.push({key:"form_analysis",icon:I.default.createElement("i",{className:"icon-coms-Line"}),content:(0,x.getLabel)("532397","表单智能分析"),onClick:function(e){rt.openAIPage()},disabled:!1})}},{key:"doRightMenuClick",value:function(e,t){if(this.props.globalStore.commonParam.belongTest&&!t)return void(0,x.getAntd)().Modal.warning({title:(0,x.getLabel)(131329,"信息确认"),content:(0,x.getLabel)(386161,"此操作暂不支持流程测试!"),okText:(0,x.getLabel)(83446,"确定")});ot.executeRightBtnClick(e,$e)}}]),t}(I.default.Component),l.contextTypes={router:C.routerShape},a=s))||a)||a;t.default=ct.tryCatch(I.default,function(e){return I.default.createElement(ut,{ecId:"_WeaErrorPage@6ctqth",msg:e.error?e.error:(0,x.getLabel)(385218,"对不起，该页面异常，请联系管理员！")})},{error:""})(dt)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(129),S=n(_),E=r(635),I=n(E),k=r(637),C=n(k),x=r(274),O=n(x),P=r(271),M=n(P),A=r(638),F=n(A),R=r(6),T=r(23),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(T),j=r(276),L=n(j),N=(o=(0,w.inject)("globalStore","layoutStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.hiddenConflictPanel=function(e){"visible"==$("#conflict-panel-box").css("visibility")&&$("#conflict-panel-box").css({visibility:"hidden"})},n.doScrollYEvent=function(){n.scrollEventFn&&window.clearTimeout(n.scrollEventFn);var e=n;n.scrollEventFn=window.setTimeout(function(){window.formImgLazyLoad(jQuery(".wf-req-form-scroll")),D.fixedDetailHead(jQuery(n)),window.WfForm.triggerScrollEvent(),e.hiddenConflictPanel()},30)},n.shrink=function(e,t){var r="left"===t?"right":"left",o=n.props.layoutStore,i=o.odocInfo,a=i.docParam,l=a.documentTextPosition,s=a.documentTextProportion,u=l==t.substring(0,1),c=e.target.parentNode,f=document.querySelector(".wf-req-form-"+r),d=void 0;d=jQuery(".wf-req-form-main").parents(".wf-req-form-right").length>0?jQuery(".wf-req-form-main").parents(".wf-req-form-right"):jQuery(".wf-req-form-main").parents(".wf-req-form-left");var p=parseFloat(jQuery("table.excelMainTable").width()),h=jQuery("div.wf-req-form-main");if(d.width()<top.document.body.offsetWidth)h.css("width","auto"),h.parent().css("overflow-x","unset");else{var m=void 0;jQuery("table.excelMainTable")&&jQuery("table.excelMainTable")[0]&&(m=jQuery("table.excelMainTable")[0]),m&&"100%"===m.style.width||(h.width(p+100),h.parent().css("overflow-x","auto"))}"100%"==c.style.width?(c.style.width=u?s+"%":100-s+"%",f.style.width=u?100-s+"%":s+"%"):(c.style.width="0px",f.style.width="100%")},n.onIframeHover=function(){document.querySelector(".wf-req-form-left")&&document.querySelector(".wf-req-form-right")&&(document.querySelector(".wf-req-form-left").addEventListener("mouseover",function(){document.querySelector(".wf-req-form-left .wf-req-form-left-shrink").style.display="block"}),document.querySelector(".wf-req-form-right").addEventListener("mouseover",function(){document.querySelector(".wf-req-form-right .wf-req-form-right-shrink").style.display="block"}),document.querySelector(".wf-req-form-left").addEventListener("mouseout",function(){"100%"!=this.style.width&&(document.querySelector(".wf-req-form-left .wf-req-form-left-shrink").style.display="none")}),document.querySelector(".wf-req-form-right").addEventListener("mouseout",function(){"100%"!=this.style.width&&(document.querySelector(".wf-req-form-right .wf-req-form-right-shrink").style.display="none")}))},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.globalStore;(0,e.jumpTab)(e.urlParams,e.commonParam),this.onIframeHover()}},{key:"renderMain",value:function(){var e=this.props,t=e.globalStore,r=e.layoutStore,n=t.JSComplete,o=t.commonParam,i=t.rightMenu,a=t.variableMap,s=t.markInfo,u=t.controlVariableMap,c=t.remindInfo,f=t.setTabKey,d=r.containSignInput,p=r.propFileCfg,h=o.requestid,m=o.requestType,v=o.isHideArea,g=o.intervenorright,b=o.margin,w=o.showDefaultSign,_=o.showDefaultLogList,E=o.showFreeWfSimpleCom,k=(o.isviewonly,o.belongTest),x=i.forward;if(!("1"===w&&(!d&&m>0||g>0)&&s&&s.hasLoadMarkInfo)&&k)try{window.parent.window.workflowAutoTestUtil.returnStatus("signInputReady",h)}catch(e){window.console}return y.default.createElement("div",{className:"wf-req-form-scroll",onScroll:this.doScrollYEvent,onClick:this.hiddenConflictPanel},y.default.createElement("div",{className:"wf-req-form-main"},y.default.createElement(F.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_RemindTypelist@cifq6n"},mobx.toJS(c),{callbackFun:function(e){t.changeSubmitParam({remindTypes:e}),t.updateRemindInfo((0,l.default)({},mobx.toJS(c),{value:e}))}})),y.default.createElement("div",{className:"wf-req-form-wrapper",style:{margin:b}},y.default.createElement("div",{className:"wf-req-form",style:{margin:"0 auto",marginBottom:"20px"}},y.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_MainLayout@kdmfyn",symbol:"main"})),n&&g>0&&y.default.createElement(I.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReqIntervention@xwzzmi"}),n&&1==E&&y.default.createElement(C.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FreeWorkflowSimple@ijveh0"}),y.default.createElement("div",{className:"wf-req-signinput"},"1"===w&&(!d&&m>0||g>0)&&s&&s.hasLoadMarkInfo&&y.default.createElement(M.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FormSignInput@l68rdx",isInForm:!1})),y.default.createElement("div",{className:"wf-req-loglist"},"1"===_&&2!=m&&"1"!=v&&y.default.createElement(O.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LogList@uegmgi",commonParam:o,setTabKey:f,forward:x,controlVariableMap:u,variableMap:a,isRelaodLogList:a.get("isRelaodLogList"),reloadLogListParams:a.get("reloadLogListParams")})),window.location.pathname.indexOf("/spa/workflow/")>-1&&"1"===p.show_duration_log&&y.default.createElement("div",{className:"test-page-load-duration"},y.default.createElement("span",{className:"test-page-load-duration-total"},(0,R.getLabel)("527647","首屏加载总耗时:"),y.default.createElement("span",{style:{fontWeight:800}},window.REQ_LOAD_DURATION/1e3||0)," ",(0,R.getLabel)(527648,"秒"),y.default.createElement("div",{className:"test-page-load-duration-detail"},y.default.createElement("p",null,(0,R.getLabel)(21586,"请求id"),": ",h),y.default.createElement("p",null,(0,R.getLabel)(386155,"js加载耗时"),": ",window.JS_LOAD_DURATION||0," ",(0,R.getLabel)(26287,"毫秒")),y.default.createElement("p",null,(0,R.getLabel)(386156,"中转耗时"),": ",window.Route_DURATION||0," ",(0,R.getLabel)(26287,"毫秒")),y.default.createElement("p",null,(0,R.getLabel)(386157,"异步js耗时"),": ",window.ASYNC_DURATION||0," ",(0,R.getLabel)(26287,"毫秒")),y.default.createElement("p",null,(0,R.getLabel)(386158,"服务端耗时"),": ",window.SERVER_DURATION||0," ",(0,R.getLabel)(26287,"毫秒")),y.default.createElement("p",null,(0,R.getLabel)(386159,"接口耗时"),": ",window.API_DURATION||0," ",(0,R.getLabel)(26287,"毫秒")),y.default.createElement("p",null,(0,R.getLabel)(386160,"渲染耗时"),": ",window.DISPATCH_DURATION||0," ",(0,R.getLabel)(26287,"毫秒"))))))))}},{key:"renderOdoc",value:function(e,t,r,n,o){return y.default.createElement("div",{className:"wf-req-form-odoc"},"r"==r&&t&&y.default.createElement(L.default,{commonParam:n,odocInfo:o,tabKey:"form"}),y.default.createElement("iframe",{className:"wf-req-form-odoc-iframe",src:e,style:{border:0,width:t?"calc(100% - 51px)":"100%",height:"100%"}}),"l"==r&&t&&y.default.createElement(L.default,{commonParam:n,odocInfo:o,tabKey:"form"}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.globalStore,n=t.layoutStore,o=r.tabKey,i=r.commonParam,a=n.odocInfo,l=n.mainData,s=[],u=void 0,c=void 0;if(WfForm.getOdocConfig()&&WfForm.getOdocConfig().docParam&&(WfForm.getOdocConfig().docParam.isTextInFormCanEdit&&(u=WfForm.getOdocConfig().docParam.isTextInFormCanEdit),WfForm.getOdocConfig().docParam.hasDocid&&(c=WfForm.getOdocConfig().docParam.hasDocid)),a.docFlag&&a.docFieldId){var f=a.docFieldId,d=a.docParam,p=a.srcUrl,h=d.isColumnShow,m=d.documentTextPosition,v=d.documentTextProportion,g=(l.get("field"+f)&&l.get("field"+f).variable.get("initValue"),i.authStr),b=void 0===g?"":g,w=i.authSignatureStr,_=void 0===w?"":w,S=p+"&authStr="+b+"&authSignatureStr="+_;if("1"===h&&c){var E="l"==m,I=!!u&&("1"==d.isEdit&&("1"==d.reTextToModel||"1"==d.textShowSenWords||"1"==d.showTextSearch)),k={width:100-v+"%",height:"100%"},C={width:v+"%",height:"100%"};C["border-"+(E?"right":"left")]="1px #989A9C solid",C.float=E?"left":"right",k.float=E?"right":"left",s.push(y.default.createElement("div",{style:k,className:"wf-req-form-"+k.float},y.default.createElement("div",{className:"wf-req-form-"+k.float+"-shrink",onClick:function(t){e.shrink(t,k.float)}}),this.renderMain())),s.push(y.default.createElement("div",{style:C,className:"wf-req-form-"+C.float},y.default.createElement("div",{className:"wf-req-form-"+C.float+"-shrink",onClick:function(t){e.shrink(t,C.float)}}),this.renderOdoc(S,I,m,i,a)))}}return 0==s.length&&s.push(this.renderMain()),u?y.default.createElement("div",{className:"wf-req-form-content",style:{height:"form"===o?"100%":"1px"}},s):y.default.createElement("div",{className:"wf-req-form-content",style:{display:"form"===o?"block":"none"}},s)}}]),t}(y.default.Component))||i)||i;t.default=N},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(35),u=n(s),c=r(3),f=n(c),d=r(0),p=n(d),h=r(2),m=n(h),v=r(4),g=n(v),b=r(5),y=n(b),w=r(275),_=n(w),S=r(6),E=r(49),I=r(9),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(I),C=(o=(0,E.inject)("globalStore"))(i=(0,E.observer)(i=function(e){function t(e){(0,p.default)(this,t);var r=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return r.cahngeViewAttr=function(){var e=r.props.globalStore,t=e.changeSubmitParam,n=e.submitParam,o=e.controlVariableMap,i=n.Intervenorid,a=void 0===i?"":i,l=n.Intervenorid_crm,s=void 0===l?"":l,u=n.SignType,c=void 0===u?"":u,f=(void 0==a||""==a)&&(void 0==s||""==s);if("2"==c){var d={};d.Intervenorid_crm="",t(d),o("Intervenorid_crm_replaceDatas",[]),f=void 0==a||""==a}f?(o("Intervenorid_viewAttr",3),o("Intervenorid_crm_viewAttr",3)):(o("Intervenorid_viewAttr",2),o("Intervenorid_crm_viewAttr",2))},r}return(0,y.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=(0,S.getAntd)(),t=(e.Row,e.Col,(0,S.getEcCom)()),r=(t.WeaBrowser,t.WeaSelect,this.props.globalStore),n=r.invertionInfo,o=void 0===n?{}:n,i=r.variableMap,a=void 0===i?{}:i,l=k.toJS(o),s=l.title,u=l.items,c=void 0===u?[]:u,f=l.enableInterSpan,d=void 0===f?"":f,p=(l.replacedatas,l.replacedatas_crm,k.toJS(a)),h=p.Intervenorid_replaceDatas,m=void 0===h?[]:h,v=p.Intervenorid_crm_replaceDatas,g=void 0===v?[]:v,b=p.Intervenorid_viewAttr,y=p.Intervenorid_crm_viewAttr,w=this.getInterventionContent(c,d,m,g,b,y);return React.createElement("div",{className:"wf-req-intervenor"},React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfGroup@5jio6n",title:s,needTigger:!1,groupBodyComponent:w}))}},{key:"getInterventionContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=arguments[2],n=arguments[3],o=this,i=arguments[4],a=arguments[5],s=(0,S.getAntd)(),c=s.Row,f=s.Col,d=(0,S.getEcCom)(),p=d.WeaBrowser,h=d.WeaSelect,m=this.props.globalStore.submitParam,v=void 0===m?{}:m,g=v.SignType||"0",b=Math.random();return React.createElement("div",null,e.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="object"===(0,u.default)(e.domkey)?e.domkey[0]:e.domkey,d=e.labelcol,m=e.fieldcol,v=e.label,y=e.conditionType,w=e.domkey,_=void 0===w?[]:w,S=e.browserConditionParam,E=void 0===S?{}:S,I=e.options,k=void 0===I?[]:I,C=e.viewAttr,x=void 0===C?2:C,O="";if("SELECT"===y)O=React.createElement(h,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@e1gk1h@"+s,options:k,style:{minWidth:"120px"},viewAttr:x,widthMatchOptions:!1,fieldName:_[0],onChange:o.doSelectChangeEvent.bind(o,_[0])});else if("BROWSER"===y){var P={width:"300px"},M=(E.replaceDatas,3);"Intervenorid_crm"==_?(E.replaceDatas=n,M=i):(E.replaceDatas=r,M=a),O=React.createElement(p,(0,l.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@af46pi@"+s},E,{viewAttr:M,key:b,replaceNotCtrl:!0,layout:document.body,inputStyle:P,fieldName:_[0],onChange:o.doBrowserChangeEvent.bind(o,_[0])}))}return"Intervenorid_crm"==_&&"2"==g?React.createElement("span",null):React.createElement(c,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@tq7seb@"+s},React.createElement(f,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@tlicya@"+s,span:d},v),React.createElement(f,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@7l4j3b@"+s,span:m},O,"enableIntervenor"==_[0]&&React.createElement("span",{style:{color:"#FF4848",marginLeft:"5px"}},t)))}))}},{key:"doSelectChangeEvent",value:function(e,t){var r=this.props.globalStore,n=r.changeSubmitParam,o=r.getInterventionUser,i=(r.controlVariableMap,r.submitParam),a=i.SignType,l=void 0===a?"":a,s={};if(s[e]=t,n(s),"submitNodeId"==e&&t){var u=t.split("_");o({nodeid:u[0],nodetype:u[1],SignType:l})}"SignType"==e&&this.cahngeViewAttr()}},{key:"doBrowserChangeEvent",value:function(e,t,r,n){var o=this.props.globalStore,i=o.changeSubmitParam,a=(o.submitParam,o.controlVariableMap),l={};l[e]=t,i(l),a(e+"_replaceDatas",n),this.cahngeViewAttr()}}]),t}(React.Component))||i)||i;t.default=C},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(35),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(6),y=r(49),w=r(9),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(w),S=(o=(0,y.inject)("globalStore","freeWflowSimpleStore"))(i=(0,y.observer)(i=function(e){function t(e){(0,f.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return r.getSearchs=function(){var e=(0,b.getEcCom)(),t=(e.WeaTools,e.WeaFormItem),n=e.WeaSearchGroup,o=(0,b.getComsMobx)(),i=o.WeaSwitch,a=r.props,s=a.freeWflowSimpleStore,u=a.globalStore,c=s.form,f=s.conditioninfo,d=u.secLevelInfo,p=void 0===d?{}:d;if(c){var h=c.getFormParams(),m=[];return c.isFormInit&&_.toJS(f).map(function(e,o){var a=[];e.items.map(function(e){var n="object"===(0,l.default)(e.domkey)?e.domkey[0]:e.domkey;if(h.isToNewAddSign&&2==h.isToNewAddSign)"isToNewAddSign"===e.domkey[0]&&a.push({com:React.createElement(t,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaFormItem@rhwoi2@"+n,label:""+e.label,labelCol:{span:4,offset:4},ratio1to5:!0,error:c.getError(e),tipPosition:"bottom",wrapperCol:{span:16}},React.createElement(i,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaSwitch@oz5jy4@"+n,fieldConfig:e,form:c,onChange:r.onChange})),col:1,hide:c.isHide(e,function(e,t){return!1})});else{if("nodeOperator"==e.domkey[0]&&p.isOpenSec&&(e.browserConditionParam.completeParams.secretLevel=p.secLevel,e.browserConditionParam.dataParams.secretLevel=p.secLevel,e.browserConditionParam.destDataParams.secretLevel=p.secLevel,e.onBeforeFocusCheck=r.beforeCheck),"approvalSettings"==e.domkey[0]){var o=e.options,s=h.approvalSettings,u=void 0===s?"":s,f=u.indexOf("1")>-1,d=u.indexOf("2")>-1;o=o.map(function(e){return"3"!=e.key&&"4"!=e.key||(e.disabled=!f),"2"==e.key&&(e.disabled=f),"5"==e.key&&(e.disabled=!d),"6"!=e.key&&"7"!=e.key||(e.disabled=!f&&!d),e}),e.options=o}a.push({com:React.createElement(t,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaFormItem@jcngon@"+n,label:""+e.label,labelCol:{span:4,offset:4},ratio1to5:!0,error:c.getError(e),tipPosition:"bottom",wrapperCol:{span:"nodeOperator"===e.domkey[0]||"endTransfer"===e.domkey[0]?8:16}},React.createElement(i,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaSwitch@7s2p43@"+n,fieldConfig:e,form:c,onChange:r.onChange})),col:1,hide:c.isHide(e,function(e,t){return!1})})}}),m.push(React.createElement(n,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaSearchGroup@e0bjiu@"+o,needTigger:!1,title:e.title,showGroup:e.defaultshow,items:a}))}),m}},r.onChange=function(e,t){var n=r.props.freeWflowSimpleStore,o=n.changeForm,i=n.form,a=n.chengeSubmitParams,l=n.setState,s=n.updateFormFields;if(e.isToNewAddSign)o(t.value);else{1==i.getFormParams().isToNewAddSign&&l({toNewFormData:i.getFormDatas()});var u={};if(e&&e.hasOwnProperty("nodeOperator"))u.operatorids=e.nodeOperator.value||"";else if(e&&e.hasOwnProperty("countersignAttribute"))u.countersignAttribute=e.countersignAttribute.value||"";else if(e&&e.hasOwnProperty("endTransfer"))u.isFlowToNext=e.endTransfer.value||"";else if(e&&e.hasOwnProperty("approvalSettings")){var c=e.approvalSettings.value||"",f=["1","2","3","4","5","6","7"],d={};f.map(function(e){d[e]=c.indexOf(e)>-1}),1==d[1]?d[2]=!0:(d[3]=!1,d[4]=!1),0==d[2]&&(d[5]=!1),0==d[1]&&0==d[2]&&(d[6]=!1,d[7]=!1),c="",f.map(function(e){1==d[e]&&(""==c?c=e:c+=","+e)}),s({approvalSettings:c}),u.approvalSettings=c}a(u)}},r.beforeCheck=function(e,t){var n=r.props.globalStore.secLevelInfo,o=void 0===n?{}:n,i=o.secLevel,a=(o.isOpenSec,(0,b.getAntd)()),l=a.message;""==i?l.error(o.tip,3):e()},r}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.freeWflowSimpleStore.loadCondition,t=this.props.globalStore.baseParam,r=void 0===t?{}:t;setTimeout(function(){e(r)},1e3)}},{key:"componentDidMount",value:function(){$("#container").bind("click",function(e){jQuery(".wf-req-freeWorkflowSimple").css("border","1px solid #ddd")})}},{key:"render",value:function(){return React.createElement("div",{className:"wf-req-freeWorkflowSimple"},this.getSearchs())}}]),t}(React.Component))||i)||i;t.default=S},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(81),y=(n(b),r(17)),w=r(19),_=n(w),S=r(14),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(S),I=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};E.asyncLoadModule("workflowPublic",y.workflowPublicFiles,t)}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaWorkflowPublic.RemindTypelist;return g.default.createElement(e,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_RemindTypelist@lmh4ky"},this.props))}return g.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@lae9c7"})}}]),t}(g.default.Component);t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(10),g=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(v),function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.bindEvent()}},{key:"componentDidUpdate",value:function(){this.bindEvent()}},{key:"bindEvent",value:function(){jQuery(".wf-error-msg-detail .condition").each(function(){var e=jQuery(this).attr("index");jQuery.isEmptyObject(e)||jQuery(this).hover(function(){jQuery("#condit"+e).css("display","block"),jQuery("#condit"+e).css("left",window.event.clientX)},function(){jQuery("#condit"+e).css("display","none")})})}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.detail,n=e.bottom;return m.default.createElement("div",{className:"wf-error-msg"},m.default.createElement("div",{className:"wf-error-msg-left"},m.default.createElement("i",{className:"icon-coms02-Warning-01"})),m.default.createElement("div",{className:"wf-error-msg-right"},m.default.createElement("div",{className:"wf-error-msg-title"},t),r&&m.default.createElement("div",{className:"wf-error-msg-detail",dangerouslySetInnerHTML:{__html:r}}),n&&m.default.createElement("div",{className:"wf-error-msg-bottom",dangerouslySetInnerHTML:{__html:n}})))}}]),t}(m.default.Component));t.default=g},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p),m=r(1),v=o(m),g=(r(8),r(9)),b=(n(g),r(6)),y=r(10),w=(n(y),function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={showAll:!1},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.state.showAll,r=this.props,n=r.isSuccess,o=r.title,i=r.titlesuffix,a=r.operators;return v.default.createElement("div",{className:"wf-confirm-msg"},v.default.createElement("div",{className:"wf-confirm-msg-content"},v.default.createElement("div",{className:"wf-confirm-msg-title"},o,v.default.createElement("span",{className:"wf-confirm-msg-titlesuffix",dangerouslySetInnerHTML:{__html:i}})),v.default.createElement("div",{className:"wf-confirm-msg-operators"},v.default.createElement("div",{className:"wf-confirm-msg-receiver-title"},(0,b.getLabel)(15525,"接收人"),"："),v.default.createElement("div",{className:"wf-confirm-msg-receiver-users"},n&&a&&a.map(function(r,n){return n>=20&&!t?null:e.getOperatorObj(r)}),n&&a.length>20&&t&&v.default.createElement("i",{className:"icon-coms-up",onClick:this.controlShowAll.bind(this,!1)}),n&&a.length>20&&!t&&v.default.createElement("i",{className:"icon-coms-down",onClick:this.controlShowAll.bind(this,!0)}),!n&&v.default.createElement("span",{className:"wf-confirm-msg-user"},i)))))}},{key:"getOperatorObj",value:function(e){var t=new Array;return e.beagentid&&(t.push(v.default.createElement("a",{className:"wea-hrm-card",href:"javaScript:openhrm("+e.beagentid+")",onClick:function(e){return window.pointerXY(e)}},e.beagentname)),t.push(v.default.createElement("span",{className:"wf-confirm-msg-connect-symbol"},"->"))),t.push(v.default.createElement("a",{className:"wea-hrm-card",href:"javaScript:openhrm("+e.operatorid+")",onClick:function(e){return window.pointerXY(e)}},e.operatorname)),v.default.createElement("span",{className:"wf-confirm-msg-user"},t)}},{key:"controlShowAll",value:function(e){this.setState({showAll:e})}}]),t}(v.default.Component));t.default=w},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p),m=r(1),v=o(m),g=(r(8),r(9)),b=(n(g),r(6),r(10)),y=(n(b),function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,r=e.haveLocked,n=r?"#FFFCD8":"#E7F9FF",o=r?"icon-coms-locking":"icon-coms-Prompt";return v.default.createElement("div",{className:"wf-lock-msg",style:{backgroundColor:n}},v.default.createElement("div",{className:"wf-lock-msg-content"},v.default.createElement("i",{className:o}),v.default.createElement("span",{dangerouslySetInnerHTML:{__html:t}})))}}]),t}(v.default.Component));t.default=y},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p),m=r(1),v=o(m),g=(r(8),r(9)),b=(n(g),r(10)),y=(n(b),function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return v.default.createElement("span",null,"SubmitInfo")}}]),t}(v.default.Component));t.default=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=function(e){function t(e){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.userid,r=e.username,n=e.usertype,o=e.time,i=e.template;String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};var a=i.replaceAll("\\${user}",'<span class="wf-reject-msg-user"><a href="javaScript:openhrm('+t+')" onClick="javaScript:window.pointerXY(event)">'+r+"</a></span>");return 1==n&&(a=i.replaceAll("\\${user}",'<span class="wf-reject-msg-user"><a target="_blank" href="/spa/crm/static/index.html#/main/crm/customerView?customerId='+t+'" >'+r+"</a></span>")),2==n&&(a=i.replaceAll("\\${user}",'<span class="wf-reject-msg-user">'+r+"</span>")),a=a.replace("${time}",'<span class="wf-reject-msg-time">'+o+"</span>"),m.default.createElement("div",{className:"wf-reject-msg"},m.default.createElement("span",null,m.default.createElement("i",{className:"icon-coms02-Warning-01"})),m.default.createElement("span",{dangerouslySetInnerHTML:{__html:a}}))}}]),t}(m.default.Component);t.default=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(277),y=n(b),w=function(e){function t(e){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.userid,r=e.username,n=e.time,o=e.template,a=e.otherPromptInfo;String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};var l=o.replaceAll("\\${user}",'<span class="wf-reject-msg-user"><a href="javaScript:openhrm('+t+')" onClick="javaScript:window.pointerXY(event)">'+r+"</a></span>");return l=l.replace("${time}",'<span class="wf-reject-msg-time">'+n+"</span>"),g.default.createElement("div",null,g.default.createElement(y.default,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Index@zbzgix"},a)),g.default.createElement("div",{className:"wf-reject-msg"},g.default.createElement("span",null,g.default.createElement("i",{className:"icon-coms02-Warning-01"})),g.default.createElement("span",{dangerouslySetInnerHTML:{__html:l}})))}}]),t}(g.default.Component);t.default=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(6),y=r(8),w=(o=(0,y.inject)("showContentStore"))(i=(0,y.observer)(i=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={showAll:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=(0,b.getEcCom)(),t=e.WeaTools,r=(0,b.getAntd)(),n=r.message,o=t.ls,i=this.props,a=i.isAutoApprove,l=void 0!==a&&a,s=i.showContentStore,u=i.requestid,c=void 0===u?"":u,f=i.nodeid,d=void 0===f?"":f,p=i.sessionkey,h=void 0===p?"":p,m=s.changeSpining4True,v=s.startInterval;l&&(m(),v(c,d,h)),l||o&&null==o.getJSONObj(h)&&(o&&o.set(h,{showMessage:1}),n&&n.success((0,b.getLabel)(530822,"流程处理成功")))}},{key:"render",value:function(){var e=this.props,t=e.isAutoApprove,r=void 0!==t&&t,n=e.showContentStore,o=(e.requestid,e.nodeid,n.spinning);return g.default.createElement("div",null,r&&o?this.getContent(o):this.getContent(!1))}},{key:"getContent",value:function(e){var t=this,r=(0,b.getAntd)(),n=r.Spin,o=this.state.showAll,i=this.props,a=i.nextNodeNames,l=i.operators,s=void 0===l?[]:l,u=i.nextNodeids,c=void 0===u?"":u,f=i.showContentStore,d=i.isAutoApprove,p=f.auto2NextNodeNames,h=void 0===p?"":p,m=f.auto2Operators,v=void 0===m?[]:m,y=f.auto2NextNodeids,w=void 0===y?"":y,_="",S="",E="";return d&&!e&&""!=h?(_=h,S=v,E=w):(_=a,S=s,E=c),g.default.createElement("div",{className:"wf-confirm-msg"},n&&g.default.createElement(n,{tip:(0,b.getLabel)(530824,"当前流程后续节点存在系统自动处理情况，节点信息正在更新，请稍候..."),spinning:e}),!e&&g.default.createElement("div",{className:"wf-confirm-msg-content"},(""!=E||""!=_)&&g.default.createElement("div",{className:"wf-confirm-msg-title"},g.default.createElement("div",{className:"wf-confirm-msg-receiver-title"},(0,b.getLabel)(530823,"流程到达节点"),": ",_)),S&&S.length>0&&g.default.createElement("div",{className:"wf-confirm-msg-operators"},g.default.createElement("div",{className:"wf-confirm-msg-receiver-title"},(0,b.getLabel)(15525,"接收人"),"："),g.default.createElement("div",{className:"wf-confirm-msg-receiver-users",style:{width:"92%"}},S&&S.map(function(e,r){return r>=20&&!o?null:t.getOperatorObj(e)}),S.length>20&&!o&&g.default.createElement("i",{className:"icon-coms-down",onClick:this.controlShowAll.bind(this,!0)})),g.default.createElement("div",{style:{left:"96%",position:"absolute"}},S.length>20&&o&&g.default.createElement("i",{className:"icon-coms-up",onClick:this.controlShowAll.bind(this,!1)})))))}},{key:"getOperatorObj",value:function(e){var t=new Array;return 0==Number(e.operatortype)?(e.beagentid&&e.operatorid&&(t.push(g.default.createElement("a",{className:"wea-hrm-card",href:"javaScript:openhrm("+e.beagentid+")",onClick:function(e){return window.pointerXY(e)}},e.beagentname)),t.push(g.default.createElement("span",{className:"wf-confirm-msg-connect-symbol"},"->"))),e.operatorid&&t.push(g.default.createElement("a",{className:"wea-hrm-card",href:"javaScript:openhrm("+e.operatorid+")",onClick:function(e){return window.pointerXY(e)}},e.operatorname))):2==Number(e.operatortype)?t.push(g.default.createElement("span",null,e.operatorname)):t.push(g.default.createElement("a",{target:"_blank",href:"/spa/crm/static/index.html#/main/crm/customerView?customerId="+e.operatorid},e.operatorname)),g.default.createElement("span",{className:"wf-confirm-msg-user"},t)}},{key:"controlShowAll",value:function(e){this.setState({showAll:e})}}]),t}(g.default.Component))||i)||i;t.default=w},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(9),_=(n(w),r(6)),S=(r(102),r(47)),E=(n(S),r(11)),I=(i=(0,y.inject)("globalStore"))(a=function(e){function t(){var e,r,n,o;(0,c.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,h.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(a))),n.scrollDom=function(){var e=n.props.globalStore,t=e.tabKey,r=e.setTabKey;"form"!==t?(r("form"),setTimeout(function(){(0,E.scrollDom)(".wf-req-freeWorkflowSimple",!0,(0,_.getLabel)(520577,"请确认流转设定设置"))},500)):(0,E.scrollDom)(".wf-req-freeWorkflowSimple",!0,(0,_.getLabel)(520577,"请确认流转设定设置"))},o=r,(0,h.default)(n,o)}return(0,v.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return b.default.createElement("div",{className:"wf-freeWFsimple-msg"},b.default.createElement("i",{className:"icon-coms-Prompt"}),b.default.createElement("span",{className:"wf-freeWFsimple-msg-text"},(0,_.getLabel)(514309,"提交流程前请先确认流转设定设置"),"，"),b.default.createElement("a",{href:"javascript:void(0);",onClick:this.scrollDom},(0,_.getLabel)(512307,"查看详情")))}}]),t}(b.default.Component))||a;t.default=I},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(186),l=r(19),s=n(l);t.default=(0,a.asyncComponent)({resolve:function(){return r.e(2).then(r.bind(null,727))},LoadingComponent:function(){return i.default.createElement(s.default,{ecId:"_Loading@kx6o0i"})}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(186),l=r(19),s=n(l);t.default=(0,a.asyncComponent)({resolve:function(){return r.e(0).then(r.bind(null,728))},LoadingComponent:function(){return i.default.createElement(s.default,{ecId:"_Loading@84a3hy"})}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(3),a=n(i),l=r(0),s=n(l),u=r(2),c=n(u),f=r(4),d=n(f),p=r(5),h=n(p),m=r(1),v=n(m),g=r(8),b=(r(9),r(51)),y=r(12),w=n(y),_=b.WeaLocaleProvider.getLabel,S=(0,g.observer)(o=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setPanelPosition()}},{key:"componentDidUpdate",value:function(){this.setPanelPosition()}},{key:"setPanelPosition",value:function(){var e=this.props,t=e.clickposX,r=e.clickposY,n=document.getElementById("wfFrontOperator-container"),o=document.getElementById("container"),i=o.offsetWidth,a=o.offsetHeight,l=n.offsetWidth,s=n.offsetHeight;n.style.left=t+l>i?i-l-5+"px":t+"px",n.style.top=r+s>a?a-s-20+"px":r+"px"}},{key:"createUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.props,n=(r.store,r.info),o=r.isGroup,i=r.isFromMobile,a=w.default.globalStore.commonParam.workflowid,l="",s=(window.ecologyContentPath||"")+"/spa/workflow/static4engine/engine.html#/main/workflowengine/path/pathSet/group?workflowId="+a+"&nodeid="+n.nodeid+"&nodetype="+n.nodeType+"&groupid=";if(i)return"javascript:void(0)";if("notOperate"==t&&o){l+=s+=parseInt(n.nodeOperatorName.split("#")[2].replace("_",""))}else!e.type||0===e.type||"notOperate"==t&&2==n.nodeType?l+="javaScript:openhrm("+e.id+");":l="/spa/crm/static/index.html#/main/crm/customerView?customerId="+n.nodeOperatorGropId;return l}},{key:"openFunc",value:function(e,t){var r=this.props.info;"notOperate"==t&&2==r.nodeType&&(str="_blank")}},{key:"render",value:function(){var e=this,t=this.props,r=t.store,n=t.setoperator,o=t.info,i=t.isForOperator,a=void 0!==i&&i,l=(t.isForLineInfo,t.isGroup),s=(r.lineInfo,r.operatorInfo);return v.default.createElement(v.default.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_undefined@b0pqsu"},v.default.createElement(b.WeaPopoverHrm,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaPopoverHrm@8rnkvx"},v.default.createElement("div",{className:"wfFrontOperator-header"},_("99","操作者")),a&&0!==s.length&&!l&&v.default.createElement("div",{id:"wfFrontOperator-main"},3!==o.nodeType&&0!==s[0].notOperators.length&&v.default.createElement("div",{className:"operatorItem"},v.default.createElement("div",{className:"notOperate"},_("28500","未操作")),s[0].notOperators.map(function(t){return 2==t.type?v.default.createElement("a",{style:{cursor:"default"}},t.name):v.default.createElement("a",{href:e.createUrl(t,"notOperate"),target:e.openFunc(t,"notOperate"),onClick:function(e){return window.pointerXY(e)}},t.name)})),3!==o.nodeType&&0!==s[0].viewers.length&&v.default.createElement("div",{className:"operatorItem"},v.default.createElement("div",{className:"checked"},_("18006","已查看")),s[0].viewers.map(function(t){return 2==t.type?v.default.createElement("a",{style:{cursor:"default"}},t.name):v.default.createElement("a",{href:e.createUrl(t),onClick:function(e){return window.pointerXY(e)}},t.name)})),0!==s[0].operators.length&&v.default.createElement("div",{className:"operatorItem"},3!==o.nodeType&&v.default.createElement("div",{className:"operated"},_(28499,"已操作")),s[0].operators.map(function(t){return 2==t.type?v.default.createElement("a",{style:{cursor:"default"}},t.name):t.hasAgent?[v.default.createElement("a",{href:e.createUrl(t),onClick:function(e){return window.pointerXY(e)}},t.name),"->",v.default.createElement("a",{href:e.createUrl(t.agent),onClick:function(e){return window.pointerXY(e)}},t.agent.name)]:v.default.createElement("a",{href:e.createUrl(t),onClick:function(e){return window.pointerXY(e)}}," ",t.name)}))),a&&0==s.length&&l&&v.default.createElement("div",{id:"wfFrontOperator-main"},v.default.createElement("div",{className:"operatorItem"},v.default.createElement("a",{href:this.createUrl({},"notOperate"),target:"_blank"},n(o.nodeOperatorName)))),a&&0==s.length&&!l&&2!=o.nodeType&&v.default.createElement("div",{id:"wfFrontOperator-main"},v.default.createElement("div",{className:"operatorItem"},v.default.createElement("p",null,_("81558","正在加载数据，请稍后"))))))}}]),t}(v.default.Component))||o;t.default=S},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(8);r(652);var g=r(6),b=r(275),y=n(b),w=r(653),_=n(w),S=(r(10),r(11)),E=(o=(0,v.inject)("globalStore","importFieldLinkageStore"))(i=(0,v.observer)(i=function(e){function t(e){(0,u.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return r.cancelEvent=function(){(0,r.props.globalStore.controlDialogVisible)("importWfDetailModal",!1),r.refs.group1.setShowGroup(!0),r.refs.group2.setShowGroup(!0),r.refs.group3.setShowGroup(!0),$(".download-temp").find("input[name=excelfile]").val("")},r.IMportDialog=function(){var e=r.props,t=e.globalStore,n=(e.importFieldLinkageStore,t.JSComplete,t.commonParam,t.loading,t.dialogVisible,r.state),o=(n.filename,n.isShowDemoModal,(0,g.getEcCom)()),i=o.WeaTable,a=o.WeaDialog,l=(0,g.getAntd)(),s=l.Button,u=void 0;u=0!=r.state.submitBackData.successData;var c=[{title:"sheet",dataIndex:"title",key:"title",sorter:!0,width:"18%"},{title:(0,g.getLabel)(27592,"行"),dataIndex:"row",key:"row",sorter:!0,width:"10%"},{title:(0,g.getLabel)(18621,"列"),dataIndex:"col",key:"col",width:"10%"},{title:(0,g.getLabel)(24960,"提示信息"),dataIndex:"info",width:"52%",key:"info",render:function(e,t){return React.createElement("sapn",{style:{color:"red",fontSize:"12px"}},e)}}];return React.createElement(a,{visible:r.state.importResultDialogVisible,loadCss:!0,initLoadCss:!0,parentClassName:"wea-import-wf-detail",style:{width:"700px",height:"400px"},hasScroll:!0,maskClosable:!1,onCancel:r.importResultSure,icon:"icon-coms-workflow",iconBgcolor:"#0079DE",title:(0,g.getLabel)(82341,"导入结果"),buttons:[React.createElement(s,{type:"primary",size:"large",onClick:function(){r.importResultSure()}},(0,g.getLabel)(826,"确定"))]},React.createElement("div",{style:{position:"relative",top:"45%",transform:"translateY(-50%)",padding:"0 20px"}},React.createElement("div",{style:{textAlign:"center",height:"100%",marginBottom:"20px",display:"flex",justifyContent:"center"}},u?React.createElement("div",{style:{color:"#54D3A4",fontSize:"30px"}},React.createElement("i",{className:"icon-coms02-icon-Completion"})):React.createElement("div",{style:{color:"#FF0000",fontSize:"30px"}},React.createElement("i",{className:"icon-coms-Clear"})),React.createElement("div",{style:{lineHeight:"40px",fontSize:"12px"}},"     ",r.state.submitBackData.msg)),React.createElement("div",null,r.state.submitBackData.msg2&&React.createElement("div",{style:{marginBottom:"10px"}},React.createElement("span",{style:{fontSize:"12px",color:"#FF0000"}},r.state.submitBackData.msg2)),0!=r.state.submitBackData.dataSource.length&&React.createElement(i,{columns:c,dataSource:r.state.submitBackData.dataSource,childrenColumnName:"subList",pagination:!1,scroll:{y:150},needScroll:!0}))))},r.importSetting=function(e){var t=r.props,n=t.importFieldLinkageStore,o=t.globalStore,i=n.getDetailExpSetFn,a=n.changeSettingDialogVisibleFn,l=o.commonParam,s=void 0===l?{}:l,u=s.workflowid;a(e);var c={workflowid:u};1==e&&i(c)},r.getSearchs=function(){var e=r.props.importFieldLinkageStore,t=e.conditions,n=e.fixedForm,o=(0,g.getEcCom)(),i=o.WeaSearchGroup,a=o.WeaFormItem,l=o.WeaSwitch,s=[];return n&&n.isFormInit&&t.map(function(e){s.push(React.createElement(i,{needTigger:!0,title:e.title,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:React.createElement(a,{label:e.label,labelCol:{span:9,offset:3},wrapperCol:{span:9}},React.createElement(l,{fieldConfig:e,form:n})),col:1}})}))}),s},r.saveimportSetting=function(){var e=(0,g.getAntd)(),t=(e.Modal,e.message,r.props),n=t.importFieldLinkageStore,o=t.globalStore,i=n.fixedForm,a=n.saveDetailExpSetFn,l=o.commonParam,s=void 0===l?{}:l,u=(s.requestid,s.f_weaver_belongto_userid,s.workflowid),c=i.getFormParams();c.workflowid=u,a(c)},r.importResultSure=function(){var e=r.props,t=e.globalStore,n=e.importFieldLinkageStore,o=t.commonParam,i=void 0===o?{}:o,a=t.controlDialogVisible,l=i.requestid,s=i.ismode;t.setLoading(!1),a("importWfDetailModal",!1),setTimeout(function(){"1"==n.isFormula&&2==s?(0,S.reloadRequestPage)({requestid:l,importDetail:"1"}):(0,S.reloadRequestPage)({requestid:l})},500),r.setState({importResultDialogVisible:!1})},r.submitEvent=function(){var e=r,t=(0,g.getAntd)(),n=t.Modal,o=(t.message,r.state.fileid),i=r.props,a=i.globalStore,l=i.importFieldLinkageStore,s=(0,g.getEcCom)(),u=s.WeaTools,c=a.commonParam,f=void 0===c?{}:c,d=(a.controlDialogVisible,f.workflowid,f.requestid),p=f.ismode,h=f.modeid,m=f.formid,v=f.isbill,b=f.nodeid,y=f.f_weaver_belongto_userid,w=f.f_weaver_belongto_usertype,_=f.wfTestStr;a.setLoading(!0);var S={requestid:d,ismode:p,modeid:h,formid:m,isbill:v,nodeid:b,src:"save",isfromE9:1,f_weaver_belongto_userid:y,f_weaver_belongto_usertype:w,wfTestStr:_,isFieldTrigger:l.isFieldTrigger,fileid:o};u.callApi("/api/workflow/reqform/doImportDetail","POST",S).then(function(t){void 0!=t.message&&""!=t.message&&1==JSON.parse(t.message).Parsing?(e.setState({submitBackData:JSON.parse(t.message),importResultDialogVisible:!0}),a.setLoading(!1)):(a.setLoading(!1),n.warning({title:(0,g.getLabel)(28535,"信息提示"),content:t.msg||(0,g.getLabel)(528080,"解析模板失败")}))})},r.doFileChangeEvent=function(e){var t=e.currentTarget.files[0],n=t.name,o=void 0===n?"":n,i=t.type,a=void 0===i?"":i;r.setState({filename:o,type:a})},r.state={filename:"",isShowDemoModal:!1,fileid:"",importResultDialogVisible:!1,submitBackData:{msg:"",totalData:0,successData:0,Parsing:!0,failData:0,dataSource:[]}},r}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.importFieldLinkageStore,t=this.props.globalStore.commonParam.workflowid;e.riggerFieldLinkageCfg({}),e.riggerFormulaCfg({workflowid:t}),e.getExportFieldType({workflowid:t})}},{key:"render",value:function(){var e=this,t=(0,g.getAntd)(),r=t.Modal,n=t.Row,o=t.Col,i=t.Button,a=(t.message,(0,g.getEcCom)()),l=(a.WeaTools,a.WeaDialog),s=a.WeaCheckbox,u=a.WeaUpload,c=a.WeaSelect,f=(r.warning,this.props),d=f.globalStore,p=f.importFieldLinkageStore,h=(d.JSComplete,d.commonParam),m=void 0===h?{}:h,v=d.loading,b=void 0!==v&&v,w=d.dialogVisible,S=this.state,E=(S.filename,S.isShowDemoModal,S.fileid),I=m.workflowid,k=m.requestid,C=m.ismode,x=m.modeid,O=(m.formid,m.isbill,m.nodeid),P=(m.f_weaver_belongto_userid,m.f_weaver_belongto_usertype,m.wfTestStr,m.workflowname),M=!1,A=p.SettingDialogVisible;w.has("importWfDetailModal")&&(M=w.get("importWfDetailModal"));var F=[{key:"0",showname:(0,g.getLabel)("528205","仅导出可编辑列"),selected:"0"==p.exportFieldType},{key:"1",showname:(0,g.getLabel)("528206","导出全部可见列"),selected:"1"==p.exportFieldType}],R=React.createElement("a",{onClick:this.downloadTemplate.bind(this,(window.ecologyContentPath||"")+"/api/workflow/reqform/dowloadTemplate?requestid="+k+"&workflowid="+I+"&nodeid="+O+"&modeid="+x+"&_t="+(new Date).getTime()),target:"_blank"},""+P+(0,g.getLabel)(64,"模板")),T=React.createElement(s,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaCheckbox@6n82h9",value:p.isFieldTrigger,display:"switch",onChange:function(e){var t={isFieldTrigger:""===e?p.isFieldTrigger:e};p.updateIsFieldTrigger(t)},helpfulTip:(0,g.getLabel)(512580,"明细导入时执行字段联动将直接修改数据库值")}),D=React.createElement(s,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaCheckbox@191wfn",value:p.isFormula,display:"switch",onChange:function(e){var t={isFormula:""===e?p.isFormula:e,workflowid:I};p.updateIsFormula(t)},helpfulTip:(0,g.getLabel)(514695,"启用后，触发动作为“值改变时”的明细表公式会在导入后执行，注意执行公式后需保存表单数据才会入库。")}),j=React.createElement("div",{className:"download-temp"},React.createElement(n,null,React.createElement(o,{span:10,style:{height:"28px",lineHeight:"28px"}},React.createElement(_.default,null),(0,g.getLabel)(530028,"模板导出列设置")+"："),React.createElement(o,{span:14,style:{height:"28px",lineHeight:"28px"}},React.createElement(c,{options:F,value:p.exportFieldType,detailtype:3,viewAttr:2,onChange:function(e,t){p.updateExportFieldType({workflowid:I,exportFieldType:e})}}))),React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@0fuyyu"},React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@ubscpl",span:10,style:{height:"28px",lineHeight:"28px"}},React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@rggef0",value:"2"}),(0,g.getLabel)(28576,"下载模板")+"："),React.createElement(o,{span:14,style:{height:"28px",lineHeight:"28px"},className:"file-url"},React.createElement("div",{style:{width:"250px",float:"left"}},React.createElement("div",{className:"download-temp_name",title:P},R)),React.createElement("div",{style:{lineHeight:"28px",height:"28px",marginLeft:"15px",display:"inlineBlock",float:"left"}},React.createElement(i,{type:"ghost",size:"large",onClick:function(){e.importSetting(!0)}},(0,g.getLabel)(529991,"字段格式设置"))))),React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@habu81"},React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@t6y2cu",span:10,style:{height:"28px",lineHeight:"28px"}},React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@mdqutl",value:"3"}),(0,g.getLabel)(16630,"上传Excel")+"："),React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@txo9np",span:14},React.createElement("div",{style:{width:"100%"}},React.createElement(u,{uploadUrl:"/api/doc/upload/uploadFile",category:"string",multiSelection:!1,maxFilesNumber:1,limitType:"xls,xlsx",viewAttr:3,maxUploadSize:5,isDetail:!0,showClearAll:!1,requiredInfo:(0,g.getLabel)(522554,"未选择任何文件"),prohibitType:"rar",onChange:function(t,r,n,o){r.length>0?e.setState({fileid:r[0].fileid}):0==r.length&&e.setState({fileid:""})},onUploading:function(e){},sortable:!1,showFilesize:!1,editable:!1})))),React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@712rqa"},React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@92lgq6",span:10,style:{height:"28px",lineHeight:"28px"}},React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@gqvi2k",value:"4"}),(0,g.getLabel)(512581,"导入时执行明细表字段联动")+"："),React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@gug8q1",span:14,style:{height:"28px",lineHeight:"28px"},className:"file-url"},T)),2==C&&React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@be7cgx"},React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@3zo4uy",span:10,style:{height:"28px",lineHeight:"28px"}},React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@dq0gt1",value:"5"}),(0,g.getLabel)(514693,"导入时执行明细表公式")+"："),React.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@1haor3",span:14,style:{height:"28px",lineHeight:"28px"},className:"file-url"},D))),L=React.createElement("div",{className:"steps"},React.createElement("ul",null,React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@6ru2j6",value:"1"}),(0,g.getLabel)(27578,"请先下载"),React.createElement("span",{className:"template-download-url"},R),(0,g.getLabel)(386198,"进行填写导入明细内容，第一行为表单明细字段的名称。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@g3icja",value:"2"}),(0,g.getLabel)(514843,"上传Excel”中选择填写好的Excel文件，并点击操作菜单中的“明细导入”按钮。")))),N=React.createElement("div",null,React.createElement("ul",null,React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@guekyh",value:"1"}),(0,g.getLabel)(27582,"导入明细数据时会将原有明细内容删除，导入新的模板中内容。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@mzg3ky",value:"2"}),(0,g.getLabel)(27583,"只有可编辑的字段才能进行导入，如果查看的字段有默认值的会自动加上默认值。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@o2uqeq",value:"3"}),(0,g.getLabel)(27584,"模板中第一行为表单明细字段名称，从第二行开始导入明细数据。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@vi95yh",value:"4"}),(0,g.getLabel)(27585,"明细数据之间不能有空行。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@sulll2",value:"5"}),(0,g.getLabel)(27586,"如果有多个明细时模板中会有多个SHEET，一个明细一个SHEET。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@81t46m",value:"6"}),(0,g.getLabel)(27587,"数字类型字段不要有特殊格式，例如：科学计数法，千分位，货币符号等。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@2tqlo2",value:"7"}),(0,g.getLabel)(515445,'浏览类型字段直接输入名称，也可同时输入名称+"##"+主键，例如：ID为20的人员“张三”，可输入“张三”、“##20”或“张三##20”。')),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@tyk1ck",value:"8"}),(0,g.getLabel)(27589,"check类型字段输入“1/0”或“是/否”。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@ex20jd",value:"9"}),(0,g.getLabel)(514546,"下拉框、复选框、单选框类型字段直接输入选项显示名称。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@ru8v1q",value:"10"}),(0,g.getLabel)(514547,"多选浏览框或复选框填写多个值以英文半角逗号“,”分隔。")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@7iga95",value:"11"}),(0,g.getLabel)(531076,"人力资源字段支持编号导入，填写格式为：“workcode_具体编号”或者“名称workcode_具体编号”")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@eysqs3",value:"12"}),(0,g.getLabel)(531077,"部门字段支持编号导入，填写格式为：“deptcode_具体编号”或者“名称deptcode_具体编号”")),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@qq0ahx",value:"13"}),p.tips13),React.createElement("li",null,React.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfCircleIcon@5qo2ml",value:"14"}),(0,g.getLabel)(515450,"支持行列规则(普通模式和HTML模式)、字段联动，不支持模板模式下的单元格公式计算，不支持属性联动。"))));return React.createElement("div",null,React.createElement(l,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@vanu6k",visible:M,loadCss:!0,initLoadCss:!0,parentClassName:"wea-import-wf-detail",style:{width:"871px",height:"500px"},hasScroll:!0,maskClosable:!1,onCancel:this.cancelEvent,icon:"icon-coms-workflow",iconBgcolor:"#0079DE",title:(0,g.getLabel)(26255,"明细导入"),buttons:[React.createElement(i,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@ba8v57@dimport",type:"primary",size:"large",disabled:b||""==E,onClick:this.submitEvent},(0,g.getLabel)(26255,"明细导入")),React.createElement(i,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@rmuv9t@close",type:"ghost",size:"large",disabled:b,onClick:this.cancelEvent},(0,g.getLabel)(309,"关闭"))]},React.createElement(y.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfGroup@yem50k",ref:"group1",title:(0,g.getLabel)(28576,"下载模板"),groupBodyComponent:j}),React.createElement(y.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfGroup@8g8ead",ref:"group2",title:(0,g.getLabel)(27577,"操作步骤"),groupBodyComponent:L}),React.createElement(y.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfGroup@sqzhcu",ref:"group3",title:(0,g.getLabel)(15736,"使用注意事项"),groupBodyComponent:N})),React.createElement(l,{visible:A,loadCss:!0,initLoadCss:!0,parentClassName:"wea-import-wf-detail",style:{width:"600px",height:"190px"},hasScroll:!0,maskClosable:!1,onCancel:function(){e.importSetting(!1)},icon:"icon-coms-workflow",iconBgcolor:"#0079DE",title:(0,g.getLabel)(529991,"字段格式设置"),buttons:[React.createElement(i,{type:"primary",size:"large",onClick:function(){e.saveimportSetting()}},(0,g.getLabel)(86,"保存")),React.createElement(i,{type:"ghost",size:"large",onClick:function(){e.importSetting(!1)}},(0,g.getLabel)(309,"关闭"))]},this.getSearchs()),this.IMportDialog())}},{key:"cancelEvent",value:function(){(0,this.props.globalStore.controlDialogVisible)("importWfDetailModal",!1),this.refs.group1.setShowGroup(!0),this.refs.group2.setShowGroup(!0),this.refs.group3.setShowGroup(!0),$(".download-temp").find("input[name=excelfile]").val("")}},{key:"openDemo",value:function(){this.setState({isShowDemoModal:!0})}},{key:"downloadTemplate",value:function(e){jQuery("#WfFormFileDownload").attr("src",e)}}]),t}(React.Component))||i)||i;t.default=E},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=function(e){function t(e){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.background,r=void 0===t?"#D8D8D8":t,n=e.fontSize,o=void 0===n?"12px":n,i=e.color,a=void 0===i?"#333":i,l=e.width,s=void 0===l?"20px":l,u=e.height,c=void 0===u?"20px":u,f=e.value,d=void 0===f?"1":f,p={background:r,fontSize:o,color:a,width:s,height:c,borderRadius:"50%",textAlign:"center",lineHeight:c,display:"inline-block",marginRight:"18px"};return React.createElement("span",{style:p},d)}}]),t}(React.Component);t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(6),g=r(10),b=r(49),y=r(11),w=(o=(0,b.inject)("globalStore"))(i=(0,b.observer)(i=function(e){function t(e){(0,u.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return r.doSureEvent=function(){var e=(0,v.getAntd)(),t=e.Modal,r=t.warning,n=window.ImportWfBrowser,o=n.get()?n.get().id:"";(0,g.trim)(o).length>0?(n.closeModal&&n.closeModal(),(0,y.requestImport)(o)):r({content:(0,v.getLabel)(20149,"请至少选择一条记录。"),okText:(0,v.getLabel)(83446,"确定"),showClose:!1,onOk:function(){}})},r.doCancelEvent=function(){window.ImportWfBrowser.closeModal()},r}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=(0,v.getAntd)(),t=(e.Modal,e.Button),r=(0,v.getEcCom)(),n=r.WeaBrowser,o=this.props,i=o.globalStore,a=(o.menuName,o.workflowid),l=void 0===a?-1:a,s=o.formid,u=o.isbill,c=(o.userId,o.loading),f=void 0!==c&&c,d=(i.JSComplete,[React.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@16pejj@confirm",type:"primary",loading:f,size:"large",onClick:this.doSureEvent},(0,v.getLabel)(83446,"确定")),React.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@t3gzn1@cancel",size:"large",loading:f,onClick:this.doCancelEvent},(0,v.getLabel)(31129,"取消"))]),p=i.commonParam.f_weaver_belongto_userid||"",h=i.commonParam.f_weaver_belongto_usertype||"",m={importWfBrow:"1",workflowid:l},g={importWfBrow:"1",formid:s,isbill:u,f_weaver_belongto_usertype:h,f_weaver_belongto_userid:p};return React.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@z92i9l",type:"16",title:(0,v.getLabel)(24270,"导入流程"),isSingle:!0,icon:"icon-coms-workflow",iconColor:"#fff",iconBgcolor:"#0079DE",viewAttr:2,customized:!0,hasAdvanceSerach:!0,hasRadio:!0,ref:function(e){return window.ImportWfBrowser=e},dataParams:g,conditionDataParams:m,buttons:d})}}]),t}(React.Component))||i)||i;t.default=w;var _=function(e){var t=e,r=(window.screen.availWidth-780)/2,n=(window.screen.availHeight-590)/2,o="top="+n+",";o+="left="+r+",",o+="width=780,",o+="height=590,",o+="directories=no,",o+="status=yes,toolbar=no,location=no,",o+="menubar=no,",o+="scrollbars=yes,",o+="resizable=yes",window.open(t,"",o)};window.openImportWfWindow=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(6),S=r(656),E=n(S),I=(o=(0,w.inject)("ehOperatorStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.ehOperatorStore.doCancel()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,_.getEcCom)(),t=e.WeaDialog,r=this.props.visible;return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@xn91r7",visible:r,loadCss:!0,initLoadCss:!0,title:(0,_.getLabel)(384721,"请选择下一节点操作者"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"600px",height:"290px"},layout:jQuery(".wf-req")[0]},y.default.createElement(E.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@kjd8m4"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(35),l=n(a),s=r(7),u=n(s),c=r(3),f=n(c),d=r(0),p=n(d),h=r(2),m=n(h),v=r(4),g=n(v),b=r(5),y=n(b),w=r(1),_=n(w),S=r(8);r(657);var E=r(6),I=(o=(0,S.inject)("ehOperatorStore"))(i=(0,S.observer)(i=function(e){function t(){var e,r,n,o;(0,p.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,g.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(a))),n.doConfirm=function(){var e=n.props.ehOperatorStore,t=e.ehform,r=t.getFormParams(),o=r.relationship,i=r.operators;t.validateForm().then(function(t){if(t.isValid){var r={eh_setoperator:"y",isFirstSubmit:1};r=(0,u.default)({},r,{eh_relationship:o,eh_operators:i}),e.callBackEvent(r)}else t.showErrors()})},o=r,(0,g.default)(n,o)}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.props.ehOperatorStore.doInit()}},{key:"render",value:function(){var e=this,t=(0,E.getEcCom)(),r=t.WeaFormItem,n=t.WeaSearchGroup,o=t.WeaRightMenu,i=t.WeaDialogFooter,a=(0,E.getComsMobx)(),s=a.WeaSwitch,c=this.props.ehOperatorStore,f=c.fields,d=c.ehform,p=d&&d.getFormParams(),h=[];return d&&d.isFormInit&&f.map(function(t){var n="object"===(0,l.default)(t.domkey)?t.domkey[0]:t.domkey;h.push({com:_.default.createElement(r,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@s8un66@"+n,label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol},error:d.getError(t),tipPosition:"bottom"},_.default.createElement(s,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@9db84w@"+n,fieldConfig:t,form:d,formParams:p})),col:1})}),_.default.createElement("div",{className:"wf-eh-choose-operator"},_.default.createElement("div",{className:"wf-eh-choose-operator-content"},_.default.createElement(o,(0,u.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@l3c9mi"},this.getMoreBtns()),_.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@jynzqx",needTigger:!1,showGroup:!0,items:h}))),_.default.createElement(i,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialogFooter@8benav",buttons:this.getButtons(),moreBtn:this.getMoreBtns()}))}},{key:"getButtons",value:function(){var e=(0,E.getAntd)(),t=e.Button,r=[];return r.push(_.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@gemfk8@confirm",type:"primary",onClick:this.doConfirm},(0,E.getLabel)(83446,"确定"))),r}},{key:"getMoreBtns",value:function(){var e=this,t=[];return t.push({key:"0",icon:_.default.createElement("i",{className:"icon-coms-Preservation"}),content:(0,E.getLabel)(83446,"确定"),onClick:function(t){return e.doConfirm()}}),{datas:t}}}]),t}(_.default.Component))||i)||i;t.default=I},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(_),r(6)),E=r(659),I=n(E),k=(o=(0,w.inject)("rejectStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.rejectStore.cancelEvent()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaDialog,r=this.props,n=r.visible,o=r.rejectStore,i=o.baseParams,a=void 0===i?{}:i,s="500px";return"1"==a.isrejectremind&&"1"==a.ischangrejectnode||"0"!==a.isselectrejectnode||"2"!=a.isSubmitDirectNode||(s="200px"),y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@faydjt",visible:n,loadCss:!0,initLoadCss:!0,title:(0,S.getLabel)(84508,"退回设置"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"720px",height:s},layout:jQuery(".wf-req")[0]},y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@5qg60o"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(_);r(660);var E=r(6),I=(o=(0,w.inject)("rejectStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doConfirm=function(){var e=n.props.rejectStore,t=e.rejectNodeList,r=e.result;if(t.length>0&&!r.rejectNodeKey)return void message.warning((0,E.getLabel)(26436,"请选择退回节点"));e.confirmEvent(S.toJS(r))},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.props.rejectStore.doInit()}},{key:"render",value:function(){var e=(0,E.getAntd)(),t=(e.Button,e.message,(0,E.getEcCom)()),r=(t.WeaTable,t.WeaSearchGroup,t.WeaHelpfulTip,t.WeaDialogFooter),n=t.WeaRightMenu,o=(t.WeaFormItem,t.WeaSelect,t.WeaBrowser,this.props.rejectStore),i=o.rejectNodeList,a=void 0===i?[]:i,s=o.remindNodeList,u=void 0===s?[]:s,c=o.isSubmitDirectOptions,f=void 0===c?[]:c;o.showAllRejectNodeOperators;return y.default.createElement("div",{className:"wf-reject-choose"},y.default.createElement("div",{className:"wf-reject-choose-content"},y.default.createElement(n,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@qgh9yr"},this.getMoreBtns()),a.length>0&&this.renderNodeTable(),u.length>0&&this.renderRemindTable(),f.length>0&&this.renderSubmitDirectSelect())),y.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialogFooter@0069er",buttons:this.getButtons(),moreBtn:this.getMoreBtns()}))}},{key:"renderNodeTable",value:function(){var e=this,t=(0,E.getAntd)(),r=(t.Button,t.message,(0,E.getEcCom)()),n=r.WeaTable,o=r.WeaSearchGroup,i=r.WeaHelpfulTip,a=(r.WeaDialogFooter,r.WeaRightMenu,r.WeaFormItem,r.WeaSelect,r.WeaBrowser,this.props.rejectStore),s=a.rejectNodeList,u=a.result,c=a.rejectNodeOperators,f=a.showAllRejectNodeOperators,d=a.setShowAllRejectNodeOperators,p=[{title:y.default.createElement("span",null,(0,E.getLabel)(15070,"节点名称")),key:"nodename",dataIndex:"nodename",width:"45%"},{title:y.default.createElement("span",null,(0,E.getLabel)(99,"操作者")),key:"operator",dataIndex:"operator",width:"55%"}],h=[];s&&s.map(function(t){var r=S.toJS(t),n=S.toJS(c[r.key]),o=f[r.key];r=(0,l.default)({},r,{operator:e.getOperatorCom(n,o,function(){d(r.key)})}),r.key.indexOf("_1")>-1||r.key.indexOf("_3")>-1?r.nodename=y.default.createElement("div",null,y.default.createElement("span",null,r.nodename),y.default.createElement(i,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaHelpfulTip@v2p8ia@"+r.key,title:(0,E.getLabel)(126503,"将流程退回至上一次分叉后的状态，即到达上一次所有走过分支的第一个节点")})):r.key.indexOf("_2")>-1&&(r.nodename=y.default.createElement("div",null,y.default.createElement("span",null,r.nodename),y.default.createElement(i,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaHelpfulTip@fn3ars@"+r.key,title:(0,E.getLabel)(126504,"将流程退回至上一次分叉合并前的状态，即到达上一次所有走过分支的最后一个节点")}))),h.push(r)});var m={type:"radio",selectedRowKeys:[u.rejectNodeKey],onChange:function(e,t){var r=t&&t[0]||{},n=r.key;a.appendResult({rejectNodeKey:n})}};return y.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@4ij3dz",className:"notitleLineGroup",needTigger:!0,title:(0,E.getLabel)(26436,"请选择退回节点"),showGroup:!0},y.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@i5uv38",columns:p,dataSource:h,rowSelection:m,pagination:!1}))}},{key:"renderRemindTable",value:function(){var e=this,t=(0,E.getAntd)(),r=(t.Button,t.message,(0,E.getEcCom)()),n=r.WeaTable,o=r.WeaSearchGroup,i=(r.WeaHelpfulTip,r.WeaDialogFooter,r.WeaRightMenu,r.WeaFormItem,r.WeaSelect,r.WeaBrowser,this.props.rejectStore),a=i.remindNodeList,s=i.result,u=i.remindNodeOperators,c=i.showAllRemindNodeOperators,f=i.setShowAllRemindNodeOperators,d=s.remindNodeid||"",p=[{title:y.default.createElement("span",null,(0,E.getLabel)(15070,"节点名称")),key:"nodename",dataIndex:"nodename",width:"45%"},{title:y.default.createElement("span",null,(0,E.getLabel)(99,"操作者")),key:"operator",dataIndex:"operator",width:"55%"}],h=[];a&&a.map(function(t){var r=S.toJS(t),n=S.toJS(u[t.key]),o=c[t.key];r=(0,l.default)({},r,{operator:e.getOperatorCom(n,o,function(){f(t.key)})}),h.push(r)});var m={selectedRowKeys:d.split(","),onChange:function(e,t){var r="";t&&t.map(function(e){r+=","+e.key}),i.appendResult({remindNodeid:r})}};return y.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@337h7t",needTigger:!0,className:"notitleLineGroup",title:(0,E.getLabel)(24465,"提醒节点"),showGroup:!0},y.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@9s3qx3",columns:p,dataSource:h,rowSelection:m,pagination:!1}))}},{key:"renderSubmitDirectSelect",value:function(){var e=(0,E.getAntd)(),t=(e.Button,e.message,(0,E.getEcCom)()),r=(t.WeaTable,t.WeaSearchGroup),n=(t.WeaHelpfulTip,t.WeaDialogFooter,t.WeaRightMenu,t.WeaFormItem),o=t.WeaSelect,i=(t.WeaBrowser,this.props.rejectStore),a=i.isSubmitDirectOptions;return y.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@9owy77",needTigger:!0,title:(0,E.getLabel)(384066,"退回后再提交的处理方式"),showGroup:!0,center:!0},y.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@054r3o",label:(0,E.getLabel)(386382,"请选择"),labelCol:{span:9},wrapperCol:{span:15}},y.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSelect@a4axws",options:S.toJS(a),detailtype:3,onChange:function(e){i.appendResult({isSubmitDirect:e})}})))}},{key:"getButtons",value:function(){var e=(0,E.getAntd)(),t=e.Button,r=(e.message,(0,E.getEcCom)()),n=(r.WeaTable,r.WeaSearchGroup,r.WeaHelpfulTip,r.WeaDialogFooter,r.WeaRightMenu,r.WeaFormItem,r.WeaSelect,r.WeaBrowser,[]);return n.push(y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@h8obgl@confirm",type:"primary",onClick:this.doConfirm},(0,E.getLabel)(83446,"确定"))),n}},{key:"getMoreBtns",value:function(){var e=this,t=[];return t.push({key:"0",icon:y.default.createElement("i",{className:"icon-coms-Preservation"}),content:(0,E.getLabel)(83446,"确定"),onClick:function(t){return e.doConfirm()}}),{datas:t}}},{key:"getOperatorCom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=arguments[2],n=(0,E.getAntd)(),o=(n.Button,n.message,(0,E.getEcCom)()),i=(o.WeaTable,o.WeaSearchGroup,o.WeaHelpfulTip,o.WeaDialogFooter,o.WeaRightMenu,o.WeaFormItem,o.WeaSelect,o.WeaBrowser),a=e.length<=6||t?e:e.slice(0,6);return y.default.createElement("div",{className:"operators"},y.default.createElement("div",{className:"browserDiv"},y.default.createElement(i,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@cw21oz",type:"17",isSingle:!1,replaceDatas:a,viewAttr:"1"})),e.length>5&&y.default.createElement("span",{className:"iconSpan",title:t?(0,E.getLabel)(26985,"收起"):(0,E.getLabel)(20234,"显示全部"),onClick:function(){r&&r()}},y.default.createElement("em",{className:t?"icon-coms-up":"icon-coms-down"})))}}]),t}(y.default.Component))||i)||i;t.default=I},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(_),r(6)),E=r(662),I=n(E),k=(o=(0,w.inject)("overTimeStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.overTimeStore.closeEvent()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaDialog,r=this.props.visible;return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@iy57rr",visible:r,loadCss:!0,initLoadCss:!0,title:(0,S.getLabel)(18818,"超时设置"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"550px",height:"520px"}},y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@0eq8o0"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(_);r(663);var S=r(6),E=(o=(0,w.inject)("overTimeStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doSave=function(){n.props.overTimeStore.doSave()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.props.overTimeStore.doInit()}},{key:"render",value:function(){var e=this,t=(0,S.getAntd)(),r=(t.Button,(0,S.getEcCom)()),n=r.WeaTable,o=r.WeaDialogFooter,i=r.WeaInputNumber,a=r.WeaRightMenu,s=this.props.overTimeStore,u=s.nodeList,c=s.nodeDatas,f=[{title:y.default.createElement("span",null,(0,S.getLabel)(15070,"节点名称")),key:"nodename",dataIndex:"nodename",width:"30%"},{title:y.default.createElement("span",null,(0,S.getLabel)(385076,"节点超时设置")),key:"setting",dataIndex:"setting",width:"60%"}],d=[];return u.length>0&&u.map(function(t){d.push({key:t,nodename:y.default.createElement("span",null,c["nodename_"+t]),setting:y.default.createElement("div",{className:"wf-overtime-setarea"},y.default.createElement(i,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaInputNumber@lpwo2c@"+t,min:0,max:999,value:c["nodepasshour_"+t],onChange:function(e){s.changeDatas("nodepasshour_"+t,e)}}),y.default.createElement("div",{className:"wf-overtime-hour-text"},(0,S.getLabel)(391,"小时")),y.default.createElement(i,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaInputNumber@5wxwvi@"+t,min:0,max:60,value:c["nodepassminute_"+t],onChange:function(e){s.changeDatas("nodepassminute_"+t,e)}}),y.default.createElement("div",{className:"wf-overtime-minute-text"},(0,S.getLabel)(15049,"分钟")))})}),y.default.createElement("div",{className:"wf-overtime-setting"},y.default.createElement("div",{className:"wf-overtime-table"},y.default.createElement(a,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@qz5yub"},this.getMoreBtns()),y.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@cwky1c",columns:f,dataSource:d,pagination:!1}))),y.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialogFooter@id2dv4",buttons:this.getButtons(),moreBtn:this.getMoreBtns()}))}},{key:"getButtons",value:function(){var e=(0,S.getAntd)(),t=e.Button,r=[];return r.push(y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@28wr2o@save",type:"primary",onClick:this.doSave},(0,S.getLabel)(86,"保存"))),r}},{key:"getMoreBtns",value:function(){var e=this,t=[];return t.push({key:"0",icon:y.default.createElement("i",{className:"icon-coms-Preservation"}),content:(0,S.getLabel)(86,"保存"),onClick:function(t){return e.doSave()}}),{datas:t}}},{key:"doCancel",value:function(){this.props.overTimeStore.closeEvent()}}]),t}(y.default.Component))||i)||i;t.default=E},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=r(6),w=r(111),_=n(w),S=r(665),E=r(14),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(E),k=(o=(0,b.inject)("requestWithdrawStore","globalStore"))(i=(0,b.observer)(i=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.doCancel=function(){e.props.requestWithdrawStore.closeEvent()},e.doSubmit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=(0,y.getAntd)(),n=(r.Button,r.Popover,r.message,r.Modal),o=e.props.requestWithdrawStore,i=o.allowRemind,a=void 0===i?0:i,l=o.recallNodeName,s=void 0===l?"":l,u=o.remarkRequired;if("0"==(void 0===u?"1":u)||e.chekcremark(t)){var c=e;n.confirm({content:c.getConfirmContent(a,s),okText:(0,y.getLabel)(83446,"确定"),cancelText:(0,y.getLabel)(31129,"取消"),onOk:function(){o.doSubmit(t)},onCancel:function(){}})}else n.warning({content:g.default.createElement("p",{id:"lqy",style:{textAlign:"center"}},(0,y.getLabel)(26013,"请填写签字意见！")),okText:(0,y.getLabel)(83446,"确定"),onOk:function(){}})},e.chekcremark=function(e){var t=e;return t=t.replace(/<p>/gi,"").replace(/<\/p>/gi,"").replace(/ /gi,"").replace(/&nbsp;/gi,"").replace(/<br \/>/gi,""),t=t.replace(/\\n/gi,""),0!==(0,_.default)(t).length},e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};I.asyncLoadModule("workflowPublic",S.workflowPublicFiles,t)}},{key:"render",value:function(){if(!this.state.hasLoad)return g.default.createElement("p",null);var e=this.props,t=e.globalStore,r=e.visible,n=e.requestWithdrawStore,o=window.weaWorkflowPublic.WfBatchSubmit,i=t.rightMenu,a=void 0===i?{}:i,l=(t.commonParam,t.submitParam),s=void 0===l?{}:l,u=a.rightMenuNames,c=void 0===u?{}:u,f=n.loading,d=n.setState,p=c.WF_WITHDRAW_0||(0,y.getLabel)(513318,"撤回");return d({lastOperateDate:s.lastOperateDate}),d({lastOperateTime:s.lastOperateTime}),d({currentdate:s.currentdate}),d({currenttime:s.currenttime}),g.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfBatchSubmit@0m957p",onSubmit:this.doSubmit,onCancel:this.doCancel,loading:f,visible:r,onSubmitText:p,iconClassName:"icon-coms-Revocation"})}},{key:"getBottomBtns",value:function(){var e=(0,y.getAntd)(),t=e.Button;return[g.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@e6sunp@call",type:"primary",disabled:!1,onClick:this.doSubmit},(0,y.getLabel)(513318,"撤回"))]}},{key:"getMoreBtns",value:function(){var e=this,t={datas:[],collectParams:{favname:(0,y.getLabel)(513318,"撤回"),favouritetype:2,objid:0,importantlevel:1}};return t.datas.push({key:"1",icon:g.default.createElement("i",{className:"icon-coms-Preservation"}),content:(0,y.getLabel)(513318,"撤回"),disabled:!1,onClick:function(t){return e.doSubmit()}}),t}},{key:"getConfirmContent",value:function(e,t){var r=(0,y.getEcCom)(),n=r.WeaCheckbox,o=this.props.requestWithdrawStore,i=o.isRemind,a=(0,y.getLabel)(516798,"确定要将流程撤回到“$nodename$”节点吗?");return a=a.replace("$nodename$",t),a=a.replace("$nodeName $",t),1==e?g.default.createElement("div",{style:{"word-wrap":"break-word","word-break":"keep-all"}},a,g.default.createElement("div",{style:{marginTop:"20px"}},g.default.createElement("span",{style:{marginRight:10,fontSize:"12px"}},g.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaCheckbox@pgt9ie",value:i,onChange:function(e){o.setIsRemind(e)}}),"  ",(0,y.getLabel)(515992,"通知已提交流程的操作者")))):g.default.createElement("div",{style:{"word-wrap":"break-word","word-break":"keep-all"}},a)}}]),t}(g.default.Component))||i)||i;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emailFiles=t.smsFiles=t.workflowPublicFiles=void 0;var n=r(51),o="?v"+(n.WeaTools&&n.WeaTools.ls&&n.WeaTools.ls.getStr("staticVersion")||0);t.workflowPublicFiles=["/spa/workflow/static4public/index.js"+o,"css!/spa/workflow/static4public/index.css"+o],t.smsFiles=["/spa/smallApp/static/index.js"+o,"css!/spa/smallApp/static/index.css"+o],t.emailFiles=["/spa/email/static/index.js"+o,"css!/spa/email/static/index.css"+o]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(_),r(6)),E=r(667),I=n(E),k=(o=(0,w.inject)("printLogStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.printLogStore.closeEvent()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaDialog,r=this.props.visible;return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@w5x0da",visible:r,loadCss:!0,initLoadCss:!0,title:(0,S.getLabel)(21533,"打印日志"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"1000px",height:"520px"},layout:jQuery(".wf-req")[0]},y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@limsl7"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(35),l=n(a),s=r(7),u=n(s),c=r(3),f=n(c),d=r(0),p=n(d),h=r(2),m=n(h),v=r(4),g=n(v),b=r(5),y=n(b),w=r(1),_=n(w),S=r(8),E=r(9),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(E);r(668);var k=r(6),C=(o=(0,S.inject)("printLogStore"))(i=(0,S.observer)(i=function(e){function t(){var e,r,n,o;(0,p.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,g.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(a))),n.switchTab=function(e){var t=n.props.printLogStore;t.switchTab(e),t.doSearch()},o=r,(0,g.default)(n,o)}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.printLogStore;e.loadBaseInfo(),e.doSearch()}},{key:"componentWillUnmount",value:function(){this.props.printLogStore.resetStatus()}},{key:"render",value:function(){var e=(0,k.getAntd)(),t=(e.Button,(0,k.getEcCom)()),r=t.WeaDialogFooter,n=t.WeaTab,o=(t.WeaSearchGroup,t.WeaFormItem,t.WeaRightMenu),i=(0,k.getComsMobx)(),a=(i.WeaSwitch,i.WeaTableNew),l=this.props.printLogStore,s=l.tabKey,c=l.topTab,f=l.showSearchAd,d=l.form,p=l.tableStore,h=(d&&d.getFormParams(),a.WeaTable);return _.default.createElement("div",{className:"wf-form-print-log"},_.default.createElement("div",{className:"wf-form-print-log-list"},_.default.createElement(o,(0,u.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@smhjch"},this.getMoreBtns()),_.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@p22nkx",buttonsAd:this.getAdButtons(),searchType:["advanced"],setShowSearchAd:function(e){l.setShowSearchAd(e)},hideSearchAd:function(){return l.setShowSearchAd(!1)},searchsAd:this.getAdConditions(),advanceHeight:170,showSearchAd:f,datas:I.toJS(c),selectedKey:s,onSearch:function(e){l.doSearch()},onSearchChange:function(e){l.appendFormFields({requestname:{value:e}})},keyParam:"viewcondition",onChange:this.switchTab}),_.default.createElement(h,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@s4gp63",comsWeaTableStore:p,hasOrder:!0,needScroll:!0}))),_.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialogFooter@dhl3bl",buttons:this.getButtons(),moreBtn:this.getMoreBtns()}))}},{key:"getAdConditions",value:function(){var e=this,t=(0,k.getEcCom)(),r=(t.WeaDialogFooter,t.WeaTab,t.WeaSearchGroup),n=t.WeaFormItem,o=(t.WeaRightMenu,(0,k.getComsMobx)()),i=o.WeaSwitch,a=(o.WeaTableNew,this.props.printLogStore),s=a.conditions,u=a.form,c=[],f=[],d=u&&u.isFormInit||!1,p=u&&u.getFormParams()||{};return d&&s.map(function(t){var r="object"===(0,l.default)(t.domkey)?t.domkey[0]:t.domkey;f.push({com:_.default.createElement(n,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@sxe6si@"+r,label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},_.default.createElement(i,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@3dvrrz@"+r,fieldConfig:t,form:u,formParams:p})),colSpan:1})}),d&&c.push(_.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@wtkbg5@group1",needTigger:!1,showGroup:!0,items:f})),_.default.createElement("div",null,c)}},{key:"getAdButtons",value:function(){var e=(0,k.getAntd)(),t=e.Button,r=this.props.printLogStore,n=r.doSearch,o=r.setShowSearchAd,i=r.clearFormFields;return[_.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@7n8hsu@search",type:"primary",onClick:function(){n(),o(!1)}},(0,k.getLabel)(197,"搜索")),_.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@yfwt58@reset",type:"ghost",onClick:function(){i()}},(0,k.getLabel)(2022,"重置")),_.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@om56ot@cancel}",type:"ghost",onClick:function(){o(!1)}},(0,k.getLabel)(31129,"取消"))]}},{key:"getButtons",value:function(){return[]}},{key:"getMoreBtns",value:function(){return{datas:[]}}},{key:"doCancel",value:function(){this.props.printLogStore.closeEvent()}}]),t}(_.default.Component))||i)||i;t.default=C},function(e,t){},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(7),l=o(a),s=r(3),u=o(s),c=r(0),f=o(c),d=r(2),p=o(d),h=r(4),m=o(h),v=r(5),g=o(v),b=r(1),y=o(b),w=r(8),_=r(9),S=(n(_),r(6)),E=r(670),I=o(E),k=r(27),C=n(k),x=r(12),O=o(x),P=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.dialogClose=function(){O.default.globalStore.controlDialogVisible(C.FREE_FLOW_SET,!1)},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaDialog,r=this.props,n=r.visible,o=(r.openType,.9*window.innerWidth),i=.9*window.innerHeight;return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@1uv73p",visible:n,loadCss:!0,initLoadCss:!0,title:"流转设定",icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:function(){O.default.globalStore.controlDialogVisible(C.FREE_FLOW_SET,!1)},style:{width:o,height:i},maxHeight:1e4},y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@zlr4b7"},this.props)))}}]),t}(y.default.Component))||i;t.default=P},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),S=r(14),E=n(S),I=r(11),k=(n(I),r(27)),C=(n(k),r(17)),x=r(19),O=o(x),P=r(49),M=(r(9),(i=(0,P.inject)("globalStore"))(a=(0,P.observer)(a=function(e){function t(){(0,d.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.buildUrlStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";return _.forIn(e,function(e,r){t+="&"+r+"="+e}),""!==t&&(t=t.substring(1)),t},e.state={hasLoad:!1},e}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WorkflowNewDesignStore,r=new t;e.setState({hasLoad:!0,store:r})};E.asyncLoadModule("workflowPublic",C.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.props,t=e.globalStore,r=e.openType,n=this.state,o=n.hasLoad,i=n.store,a=t.commonParam,l=t.rightMenu,u=a.requestid,c=a.workflowid,f=a.nodeid,d=(a.iscreate,a.f_weaver_belongto_userid,a.f_weaver_belongto_usertype,l.iscnodefree,l.isFree),p=(l.freewftype,l.freeNode,l.isAllowNodeFreeFlow),h={requestid:u,workflowid:c,nodeid:f,isAllowNodeFreeFlow:p,isFree:d,isFlowModel:0,isReadOnlyModel:!1},m=(window.ecologyContentPath||"")+"/workflow/workflowDesign/readOnly-index.html?"+this.buildUrlStr(h)+"&showE9Pic=1&isFromWfForm=true";if(o){var v=window.weaWorkflowPublic.FreeFlowDesignContainer;return"modelset"===r?w.default.createElement(v,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_FreeFlowDesignContainer@9p5k27",workflowNewDesignStore:i},h,this.props)):w.default.createElement("div",{className:"free-designer-frame",style:{height:"100%"}},w.default.createElement("iframe",{src:m,style:{width:"100%",height:"100%"}}))}return w.default.createElement(O.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@i6l1th"})}}]),t}(w.default.Component))||a)||a);t.default=M},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=r(6),w=r(672),_=n(w),S=r(51),E=S.WeaLocaleProvider.getLabel,I=(o=(0,b.inject)("ensureSubmitStore"))(i=function(e){function t(){var e,r,n,o;(0,u.default)(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=(0,p.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(a))),n.confirm=function(){(0,n.props.ensureSubmitStore.confirmEvent)()},n.cancel=function(){n.props.ensureSubmitStore.cancelEvent()},o=r,(0,p.default)(n,o)}return(0,m.default)(t,e),(0,f.default)(t,[{key:"getButtons",value:function(){var e=(0,y.getAntd)(),t=e.Button;return[g.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@clsmcg@confirm",type:"primary",onClick:this.confirm},E(382958,"确定")),g.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@g2o1lv@cancel",type:"primary",onClick:this.cancel},E(31129,"取消"))]}},{key:"render",value:function(){var e=this,t=(0,y.getEcCom)(),r=t.WeaDialog,n=this.props,o=n.visible,i=n.promptInfo;return g.default.createElement(S.WeaPopoverHrm,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaPopoverHrm@g9w5ql"},g.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@zoh2co",visible:o,title:E(131329,"信息确认"),icon:"icon-coms02-Warning",iconBgcolor:"#F2A945",onCancel:function(){e.cancel()},buttons:this.getButtons(),style:{width:"400px"},className:"ensure-submit-dialog"},g.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Content@6k0tgy",promptInfo:i})))}}]),t}(g.default.Component))||i;t.default=I},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p),m=r(1),v=o(m);r(673);var g=r(12),b=o(g),y=r(27),w=n(y),_=r(11),S=n(_),E=r(51),I=E.WeaLocaleProvider.getLabel,k=function(e){function t(){var e,r,n,o;(0,s.default)(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return r=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.jumpWfMap=function(){b.default.globalStore.setTabKey("pic"),b.default.globalStore.controlDialogVisible(w.ENSURE_SUBMIT,!1),-1!=b.default.globalStore.submitParam.requestid&&(b.default.smartGuessWfStore.openForecastFunc(!0),S.switchFormTab("pic",!1),b.default.smartGuessWfStore.clickSmartBtn())},o=r,(0,d.default)(n,o)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"getOperator",value:function(e,t){var r=e;return r.length>10&&(r=r.slice(0,10)),v.default.createElement("p",{className:"operator-text"},v.default.createElement("span",{className:"next-operator"},I(515204,"下一节点操作者:")," "),r.length>0&&r.map(function(e,t){var r="true"==e.isbeAgent,n=e.operatorname,o=e.operatortype;return 9==t&&(n=e.operatorname+"..."),2==o?v.default.createElement("div",null,v.default.createElement("span",{style:{marginLeft:r?"0":"10px"},className:"operator"},n)):v.default.createElement("div",null,r&&v.default.createElement("a",{href:"javaScript:openhrm("+e.beagentid+");",onClick:function(e){return window.pointerXY(e)},className:"operator",style:{marginLeft:"10px"}},e.beagentname+"->"),v.default.createElement("a",{href:"javaScript:openhrm("+e.operatorid+");",onClick:function(e){return window.pointerXY(e)},style:{marginLeft:r?"0":"10px"},className:"operator"},n))}),0==r.length&&v.default.createElement("span",{style:{marginLeft:"5px"}},t))}},{key:"render",value:function(){var e=this.props.promptInfo,t=b.default.globalStore.commonParam,r=t.isFree,n=t.openAutoForecast,o=void 0===n?"0":n,i=!1;e.isSuccess&&(i=!0);for(var a=e.titlesuffix||" ";a&&a.indexOf("span")>-1;)a=a.replace("<span>","").replace("</span>"," ");var l=a;return v.default.createElement("div",{className:"content-box",style:{fontSize:"14px"}},v.default.createElement("p",{style:{paddingBottom:"5px"}},I(22161,"确定要提交吗？")),i?v.default.createElement("p",{className:"next-node-name",style:{paddingBottom:"5px"}},I(515203,"下一节点"),"  ",l):v.default.createElement("p",null,I(515207,"下一节点无法预知")),i&&e.operators&&e.operators.length>0&&this.getOperator(e.operators),i&&!e.operators||i&&0==e.operators.length&&this.getOperator([],l),"1"!=r&&"1"==o&&v.default.createElement("a",{className:"forcast-link",onClick:this.jumpWfMap,style:{fontSize:"12px"}},I(515205,"点击这里查看后续流转预测"),v.default.createElement("i",{className:"icon-coms-right"})))}}]),t}(v.default.Component);t.default=k},function(e,t){},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(31),a=o(i),l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=(r(8),r(1)),w=o(y),_=r(14),S=n(_),E=r(17),I=r(19),k=o(I),C=r(12),x=o(C),O=r(47),P=n(O),M=(r(56),function(e){function t(e){(0,d.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.onAuthSuccess=function(e){var t=x.default.globalStore,r=x.default.secondAuthStore;t.controlDialogVisible(P.SECOND_AUTH_DIALOG,!1);var n=r.callbackFunc,o=r.callbackParam,i=e.isProtectDialog,l=e.secondAuthType;if(1==i?r.setDialogResult({isProtectSuccess:1}):10==i?(r.setDialogResult({isProtectSuccess:1}),r.setDialogResult({isAuthSuccess:1})):r.setDialogResult({isAuthSuccess:1}),l==P.QYS){var u=e.sealId,c=e.sealImg,f=e.certDetails,d=e.sealSpec,p=void 0===d?{}:d,h=p.width,m=void 0===h?0:h,v=p.height,g=void 0===v?0:v;m*=2.8346,g*=2.8346;var b=r.params;r.setParams((0,s.default)({},b,{qysSealId:u,qysSealImg:c,qysCertDetails:(0,a.default)((0,s.default)({},f,{qyswidth:m,qysheight:g}))}))}n&&"function"==typeof n&&n.call({},o)},r.onAuthFail=function(){},r.onClose=function(){var e=x.default.globalStore,t=x.default.secondAuthStore;e.controlDialogVisible(P.SECOND_AUTH_DIALOG,!1),t.resetStore()},r.state={hasLoad:!1,store:null},r}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.SecondAuthStore;e.setState({hasLoad:!0,store:t})};S.asyncLoadModule("workflowPublic",E.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store,n=(x.default.globalStore,x.default.secondAuthStore),o=n.params,i=n.protectType,a=n.isProtectDialog,l=n.secondAuthType,s=this.props.visible,u=o.authKey,c=void 0===u?"":u,f=o.signUrl,d=void 0===f?"":f;o.sourcestr;if(1==a&&(l=i),t){var p=window.weaWorkflowPublic,h=p.SecondAuthCom;p.QYSUkey;return r.setAuthData({authKey:c,secondAuthType:l,isProtectDialog:a,signUrl:d}),w.default.createElement(h,{ecId:(this&&this.props&&this.props.ecId||"")+"_SecondAuthCom@jqw08m",visible:s,secondAuthStore:r,onSuccess:this.onAuthSuccess,onFail:this.onAuthFail,onClose:this.onClose})}return w.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@d4j862"})}}]),t}(w.default.Component));t.default=M},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(3),a=o(i),l=r(0),s=o(l),u=r(2),c=o(u),f=r(4),d=o(f),p=r(5),h=o(p),m=(r(8),r(1)),v=o(m),g=r(14),b=n(g),y=r(17),w=r(19),_=o(w),S=r(12),E=o(S),I=r(47),k=n(I),C=function(e){function t(e){(0,s.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return r.onClose=function(){E.default.globalStore.controlDialogVisible(k.AUTH_DETAIL_DIALOG,!1)},r.state={hasLoad:!1,store:null},r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.SecondAuthStore;e.setState({hasLoad:!0,store:t})};b.asyncLoadModule("workflowPublic",y.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store,n=E.default.globalStore,o=(n.dialogVisible,n.commonParam),i=this.props.visible;if(t){r.setCommonParam(o);var a=window.weaWorkflowPublic.SecondAuthDetailCom;return v.default.createElement(a,{ecId:(this&&this.props&&this.props.ecId||"")+"_SecondAuthDetailCom@6dydvt",visible:i,secondAuthStore:r,commonParam:o,onClose:this.onClose})}return v.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@s3qxtv"})}}]),t}(v.default.Component);t.default=C},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1,store:null},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WfFormResourceStore,r=new t;e.setState({hasLoad:!0,store:r})};g.asyncLoadModule("workflowPublic",b.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=this.props.commonParam,o=window.weaWorkflowPublic.WfFormResourceCom;return m.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfFormResourceCom@ks9ly1",wfFormResourceStore:r,commonParam:n})}return m.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@i7q8kt"})}}]),t}(m.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WfFormShareStore,r=new t;e.setState({hasLoad:!0,store:r})};g.asyncLoadModule("workflowPublic",b.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=window.weaWorkflowPublic.WfFormShare,o=this.props.commonParam,i=o.requestid,a=o.workflowid,l=o.nodeid,s=o.f_weaver_belongto_userid,u=o.f_weaver_belongto_usertype,c={requestid:i,workflowid:a,currentnodeid:l,f_weaver_belongto_userid:s,f_weaver_belongto_usertype:u};return m.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfFormShare@0jyohv",formParams:c,wfShareStore:r})}return m.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@i1735l"})}}]),t}(m.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1,store:null},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WfFormModifyLogStore,r=new t;e.setState({hasLoad:!0,store:r})};g.asyncLoadModule("workflowPublic",b.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=window.weaWorkflowPublic.WfFormModifyLogCom,o=this.props,i=o.commonParam,a=o.closeFun,l=o.visible,s=i.requestid,u=i.nodeid,c=i.f_weaver_belongto_userid,f=i.f_weaver_belongto_usertype,d=i.wfmonitor,p=i.intervenorright;return r.appendBaseParams({requestid:s,nodeid:u,f_weaver_belongto_userid:c,f_weaver_belongto_usertype:f,ismonitor:d?"1":"0",intervenorright:p},l),r.setCloseDialogFun(a),m.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfFormModifyLogCom@x6lmn5",wfFormModifyLogStore:r})}return m.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@ghakby"})}}]),t}(m.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(14),S=n(_),E=r(17),I=r(19),k=o(I),C=r(49),x=r(9),O=r(102),P=r(18),M=n(P),A=(i=(0,C.inject)("globalStore","secondAuthStore"))(a=function(e){function t(){(0,d.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.onClose=function(){},e.state={hasLoad:!1},e}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WFForwardStore,r=new t;e.setState({hasLoad:!0,store:r})};S.asyncLoadModule("workflowPublic",E.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=this.props,o=n.forwardParams,i=void 0===o?{}:o,a=n.callBackActions,l=void 0===a?{}:a,u=window.weaWorkflowPublic.WfForward,c=this.props.globalStore.variableMap.get("remark_list")||(x.observable.map?x.observable.map({}):(0,x.asMap)({})),f=this.props,d=f.globalStore,p=f.secondAuthStore,h=d.submitParam,m=d.secLevelInfo,v=void 0===m?{}:m,g=(d.variableMap,h.workflowid),b=h.nodeid,y=h.requestid,_=h.f_weaver_belongto_userid,S=h.f_weaver_belongto_usertype,E={workflowid:g,nodeid:b,requestid:y,f_weaver_belongto_userid:_,f_weaver_belongto_usertype:S},I=M.getRelateFieldValue(-10,-1)||"",C=M.getSecLevelName(I),P=!(y&&y>0);return i.secLevelInfo=(0,s.default)({},v,{secLevel:I,secLevelName:C,allowEditFileSec:P}),r.setShowForward(i,l),r.setRemarkList(c),r.setSecondAuthParams(E,p,O.filterRequest4Forward,this.onClose,O.showAuthDialog),w.default.createElement(u,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfForward@li9hf0",wfForwardStore:r,globalStore:this.props.globalStore})}return w.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@ypb089"})}}]),t}(w.default.Component))||a;t.default=A},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1,store:null},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=e.props.closeFun,r=window.weaHrmEnginePublic.HrmNewEmployeeSetStore,n=new r;n.setCloseDialogFun(t),e.setState({hasLoad:!0,store:n})};g.asyncLoadModule("hrm",b.hrmFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=this.props.hrmid,o=window.weaHrmEnginePublic.HrmNewEmployeeSet;return!1===n?r.setVisible(!1):(r.setHrmId(n),r.setVisible(!0)),m.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_HrmNewEmployeeSet@6w8oow",hrmNewEmployeeSetStore:r})}return m.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@1oe54e"})}}]),t}(m.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=r(6),S=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};g.asyncLoadModule("sms",b.smsFiles,t)}},{key:"render",value:function(){var e=(0,_.getEcCom)(),t=e.WeaDialog;if(this.state.hasLoad){var r=window.weaSmallApp.com.SendSms,n=this.props,o=n.visible,i=n.params,a=n.closeFun;return m.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@l2fnqh",visible:o,title:(0,_.getLabel)(16635,"发送短信"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",className:"wf-send-sms",maskClosable:!1,onCancel:function(){a()},style:{width:"800px",height:"450px"}},m.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_SendSms@zrpr3s",isCus:!0,params:i,closeFun:function(){a()}}))}return m.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@fubg94"})}}]),t}(m.default.Component);t.default=S},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(51),y=r(17),w=(b.WeaLocaleProvider.getLabel,function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};g.asyncLoadModule("email",y.emailFiles,t)}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaEmail.components||{},t=e.EmailNewForDialog,r=this.props,n=r.visible,o=void 0!==n&&n,i=r.fwquery,a=void 0===i?{}:i,l=r.closeFun,s=void 0===l?function(){}:l;return m.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_SendEmail@i0gfzw",visible:o,fwquery:a,fromCb:!0,style:{height:"500px"},onCancel:function(){s()}})}return m.default.createElement("div",null)}}]),t}(m.default.Component));t.default=w},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(3),s=o(l),u=r(0),c=o(u),f=r(2),d=o(f),p=r(4),h=o(p),m=r(5),v=o(m),g=r(1),b=o(g),y=r(8),w=r(14),_=n(w),S=r(17),E=r(6),I=r(15),k=r(27),C=r(11),x=r(56),O=n(x),P=(i=(0,y.inject)("globalStore","layoutStore"))(a=(0,y.observer)(a=function(e){function t(){(0,c.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.doSupervise=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=(0,E.getAntd)(),n=r.message,o=e.props.globalStore,i=o.baseParam,a=o.batchControlVariableMap,l=o.markInfo,s=void 0===l?{}:l,u=s.isSignMustInput,c=i.requestid,f=i.f_weaver_belongto_userid,d=c.toString()+"_"+f.toString(),p=!0;if(("1"==u||"2"==u&&O.verifyRemarkMustInput("supervise"))&&(p=O.chekcremark(t)),p){var h={requestids:d,remark:t};n.loading((0,E.getLabel)(387110,"督办中...，请稍候"),0),(0,I.doSupervise)(h).then(function(t){if(n.destroy(),t.result){n.success((0,E.getLabel)(387108,"督办成功")),e.onCancel();a({isRelaodLogList:!0,reloadLogListParams:{pgnumber:1,atmet:"",maxrequestlogid:0}}),(0,C.reloadListPage)()}else n.error((0,E.getLabel)(387109,"督办失败"))})}else{(0,E.getAntd)().message.warning((0,E.getLabel)(386186,'"签字意见"未填写'),2)}},e.onCancel=function(){e.props.globalStore.controlDialogVisible(k.DO_SUPERVISE,!1)},e.state={hasLoad:!1},e}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};_.asyncLoadModule("workflowPublic",S.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad;e.store;if(t){var r=window.weaWorkflowPublic.WfBatchSubmit,n=this.props,o=n.globalStore,i=n.visible,a=o.rightMenu,l=void 0===a?{}:a,s=l.rightMenuNames,u=void 0===s?{}:s,c=u.SUPERVISE_0||(0,E.getLabel)(21223,"督办");return b.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfBatchSubmit@d41okx",onSubmit:this.doSupervise,onCancel:this.onCancel,visible:i,onSubmitText:c,iconClassName:"icon-coms-daiban"})}return b.default.createElement("div",null)}}]),t}(b.default.Component))||a)||a;t.default=P},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(14),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),w=r(17),_=r(19),S=n(_),E=r(49),I=(o=(0,E.inject)("globalStore"))(i=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WfForwardBackStore,r=new t;e.setState({hasLoad:!0,store:r})};y.asyncLoadModule("workflowPublic",w.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=this.props,o=n.visible,i=n.requestid,a=n.callBackActions,l=n.globalStore;r.setShowForwardBack(o,i),r.setCallBackAction(a);var s=window.weaWorkflowPublic.WfForwardBack;return g.default.createElement(s,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfForwardBack@81r7bw",wfForwardBackStore:r,globalStore:l})}return g.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@gtf35n"})}}]),t}(g.default.Component))||i;t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(81),y=n(b),w=r(14),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(w),S=r(17),E=r(19),I=n(E),k=r(49),C=(o=(0,k.inject)("globalStore"))(i=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1,store:null},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WfFormCommunicationStore,r=new t;e.setState({hasLoad:!0,store:r})},r=function(){y.default.isDefined("communicationFiles")?y.default.ready("communicationFiles",t):(0,y.default)(S.communicationFiles,"communicationFiles",t)};_.asyncLoadModule("workflowPublic",S.workflowPublicFiles,r)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=this.props,o=n.commonParam,i=n.signReplyInfo,a=n.clearReplyInfo,l=window.weaWorkflowPublic.WfFormCommunicationCom,s=this.props.globalStore.secLevelInfo,u=void 0===s?{}:s;return g.default.createElement(l,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfFormCommunicationCom@j7ap5n",signReplyInfo:i,clearReplyInfo:a,WfFormCommunicationStore:r,commonParam:o,secLevelInfo:u})}return g.default.createElement(I.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@plkjph"})}}]),t}(g.default.Component))||i;t.default=C},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(9),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(_),r(6)),E=r(687),I=n(E),k=(o=(0,w.inject)("selectNextFlowStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.selectNextFlowStore.cancelEvent()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,S.getEcCom)(),t=e.WeaDialog,r=this.props,n=r.visible,o=r.selectNextFlowStore,i=r.nodeAttribute,a=(o.baseParams,"1"==i?"580px":"350px");return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@h5ci52",visible:n,loadCss:!0,initLoadCss:!0,title:(0,S.getLabel)(384721,"请选择下一节点操作者"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"720px",height:a},layout:jQuery(".wf-req")[0]},y.default.createElement(I.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@ewn8dx"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=k},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(26),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(9),E=n(S);r(279);var I=r(6),k=r(280),C=o(k),x=r(27),O=n(x),P=(i=(0,_.inject)("globalStore","selectNextFlowStore"))(a=(0,_.observer)(a=function(e){function t(){(0,d.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.onNodeBrowserChange=function(t,r,n){var o=e.props.selectNextFlowStore,i=o.changeNextNode,a=(o.updateFormByNodeInfo,o.nextNodeIds),l=o.nodeInfoMap,s="";n.map(function(e){l[a]&&2!=l[a].nodeAttribute?s=","+e.id:s+=","+e.id}),""!=s&&(s=s.substring(1)),i(s)},e.doConfirm=function(){var t=e.props.selectNextFlowStore,r=t.form,n=t.nextNodeIds,o=t.nodeAttribute,i=t.nodeInfoMap,a=t.branchNodesMap,l=t.mustPassNodeIds,s=(0,I.getAntd)(),u=s.message,c=s.Modal,f=e,d=r.getFormParams(),p=function(){c.warning({title:(0,I.getLabel)(131329," 信息确认"),content:(0,I.getLabel)(384146,"必要信息不完整，红色*为必填项")+"！",okText:(0,I.getLabel)(83446,"确定"),onOk:function(){}})};if((!n||""==n)&&e.refs.nodeError)return void p();var h=n.split(","),m=!0;if(h.map(function(t,r){d["nodeOperator_"+r]&&""!=d["nodeOperator_"+r]||!e.refs["operatorError_nodeOperator_"+r]||(m=!1)}),!m)return void p();if("1"==o&&(1!=h.length||"2"==i[h[0]].nodeAttribute)){var v=!0;if(l&&l.map(function(t){e.checkSameElement(h,a[t])||(v=!1)}),!v)return void c.warning({content:(0,I.getLabel)(528903,"请选择必须通过的分支上的节点"),okText:(0,I.getLabel)(83446,"确定"),onOk:function(){}})}r.validateForm().then(function(e){if(e.isValid){var r=t.getResultParams();f.setState({isSubmit:!0}),u.loading((0,I.getLabel)(83922,"正在提交流程,请稍候..."),0),t.confirmEvent(r)}else p()})},e.checkSameElement=function(e,t){var r=!1;return t&&t.map(function(t){e&&e.indexOf(t)>-1&&(r=!0)}),r},e.showNodeInfoDialog=function(){var t=e.props,r=t.globalStore,n=t.selectNextFlowStore;n.setNodeInfoConfirmEvent(function(e){r.controlDialogVisible(O.SELECT_NEXTFLOW_NODEINFO,!1)}),n.setNodeInfoCancelEvent(function(){r.controlDialogVisible(O.SELECT_NEXTFLOW_NODEINFO,!1)}),r.controlDialogVisible(O.SELECT_NEXTFLOW_NODEINFO,!0)},e.state={isSubmit:!1},e}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.props.selectNextFlowStore.doInit()}},{key:"render",value:function(){var e=(0,I.getAntd)(),t=(e.Button,e.message,(0,I.getEcCom)()),r=t.WeaDialogFooter,n=t.WeaRightMenu,o=(t.WeaSearchGroup,t.WeaFormItem,t.BaseWeaAssociativeSearch,t.WeaError,(0,I.getComsMobx)()),i=(o.WeaSwitch,this.props.selectNextFlowStore);i.form,i.condition;return w.default.createElement("div",{className:"wf-select-next-flow"},w.default.createElement("div",{className:"wf-select-next-flow-content"},w.default.createElement(n,this.getMoreBtns(),this.getConditions())),w.default.createElement(r,{buttons:this.getButtons(),moreBtn:this.getMoreBtns()}),w.default.createElement(C.default,{selectNextFlowStore:i}))}},{key:"getConditions",value:function(){var e=this,t=(0,I.getAntd)(),r=(t.Button,t.message,(0,I.getEcCom)()),n=(r.WeaDialogFooter,r.WeaRightMenu,r.WeaSearchGroup),o=r.WeaFormItem,i=r.WeaBrowser,a=r.WeaError,l=(0,I.getComsMobx)(),u=l.WeaSwitch,c=this.props.selectNextFlowStore,f=c.form,d=c.nextNodeIds,p=c.nodeInfoMap,h=void 0===p?{}:p,m=c.baseParams,v=void 0===m?{}:m,g=c.nodeScope,b=c.operatorChangeDisable,y=c.groupList,_=c.nodeAttribute,S=c.branchNodesMap,k=[],C=f&&f.isFormInit||!1,x=f&&f.getFormParams()||{},O=[],P="";d.split(",").map(function(e){var t=h[e];S&&(0,s.default)(S).map(function(t){S[t]&&S[t].indexOf(e)>-1&&(P+=","+S[t].join(","))}),t&&O.push({id:e,name:t.nodeName})});var M={workflowid:v.workflowid,noNeedActiveWfId:"1",nodes:g};return""!=P&&(P=P.substring(1),M.notNodes=P,M.nodeattribute="2"),y.map(function(t,r){var l=[],s=E.toJS(t.items),c=t.title;C&&s.map(function(t){t.domkey[0].indexOf("nextNode")>-1?l.push({com:w.default.createElement(o,{label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},w.default.createElement("div",{className:"form-selectNextFlow-nodeBrowser"},w.default.createElement(a,{tipPosition:"bottom",ref:3==t.viewAttr?"nodeError":"nodeErrorNoUSE",error:(0,I.getLabel)(390821,'"下一节点" 未填写')},w.default.createElement(i,{type:"workflowNode",completeParams:M,onBrowerClick:e.showNodeInfoDialog,isSingle:"1"!=_,replaceDatas:O,onChange:e.onNodeBrowserChange,viewAttr:t.viewAttr})))),colSpan:1}):(t.domkey[0].indexOf("nodeOperator_")>-1&&(t.viewAttr=d&&""!=d?3:2),"1"==b&&(t.domkey[0].indexOf("nodeOperator")>-1||t.domkey[0].indexOf("ccOperator")>-1)&&(t.viewAttr=1),l.push({com:w.default.createElement(o,{label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol},colon:-1==t.domkey[0].indexOf("canSubmit_"),error:f.getError(t),tipPosition:"bottom",className:"form-selectnextflow-item-"+t.domkey[0]},-1==t.domkey[0].indexOf("nodeOperator_")?w.default.createElement(u,{fieldConfig:t,form:f,formParams:x}):w.default.createElement("div",{className:"form-selectNextFlow-nodeBrowser"},w.default.createElement(a,{tipPosition:"bottom",ref:3==t.viewAttr?"operatorError_"+t.domkey[0]:"operatorErrorNoUSE",error:'"'+t.label+'" '+(0,I.getLabel)(21423,"未填写")},w.default.createElement(u,{fieldConfig:t,form:f,formParams:x})))),colSpan:1,hide:f.isHide(t,function(e,t){var r=e[0];return(r.indexOf("SignType_")>-1||r.indexOf("canSubmit_")>-1)&&"1"==b})}))}),C&&k.push(w.default.createElement(n,{title:"1"==_?c:"",needTigger:"1"==_,showGroup:!0,items:l,col:1}))}),w.default.createElement("div",null,k)}},{key:"getButtons",value:function(){var e=(0,I.getAntd)(),t=e.Button,r=(e.message,(0,I.getEcCom)()),n=(r.WeaDialogFooter,r.WeaRightMenu,r.WeaSearchGroup,r.WeaFormItem,r.BaseWeaAssociativeSearch,r.WeaError,[]);return n.push(w.default.createElement(t,{type:"primary",disabled:this.state.isSubmit,onClick:this.doConfirm},(0,I.getLabel)(83446,"确定"))),n}},{key:"getMoreBtns",value:function(){var e=this,t=[];return t.push({key:"0",icon:w.default.createElement("i",{className:"icon-coms-Preservation"}),content:(0,I.getLabel)(83446,"确定"),disabled:this.state.isSubmit,onClick:function(t){return e.doConfirm()}}),{datas:t}}}]),t}(w.default.Component))||a)||a;t.default=P},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(26),l=n(a),s=r(7),u=n(s),c=r(3),f=n(c),d=r(0),p=n(d),h=r(2),m=n(h),v=r(4),g=n(v),b=r(5),y=n(b),w=r(1),_=n(w),S=r(8),E=r(9),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(E);r(279);var k=r(6),C=(o=(0,S.inject)("selectNextFlowStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var r=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return r.doConfirm=function(){var e=r.props.selectNextFlowStore,t=e.nodeInfoConfirmEvent,n=(e.appendNextNodeInfo,e.updateFormByNodeInfo),o=e.setNextNodeIds;r.checkSelectedNodes(r.state.nextNodeIds)&&(o(r.state.nextNodeIds.join(",")),n(),t())},r.state={nextNodeIds:[]},r}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.selectNextFlowStore;""!=e.nextNodeIds&&this.setState({nextNodeIds:e.nextNodeIds.split(",")})}},{key:"render",value:function(){var e=(0,k.getAntd)(),t=(e.Button,e.message,(0,k.getEcCom)()),r=(t.WeaTable,t.WeaSearchGroup,t.WeaHelpfulTip,t.WeaDialogFooter),n=t.WeaRightMenu,o=(t.WeaFormItem,t.WeaSelect,t.WeaBrowser,t.WeaPopoverHrm),i=this.props.selectNextFlowStore,a=i.nodeInfo,l=void 0===a?[]:a;return _.default.createElement("div",{className:"wf-select-node-choose"},_.default.createElement("div",{className:"wf-select-node-choose-content"},_.default.createElement(n,this.getMoreBtns(),l.length>0&&this.renderNodeTable())),_.default.createElement(r,{buttons:this.getButtons(),moreBtn:this.getMoreBtns()}),_.default.createElement(o,null))}},{key:"renderNodeTable",value:function(){var e=this,t=(0,k.getAntd)(),r=(t.Button,t.message,(0,k.getEcCom)()),n=r.WeaTable,o=(r.WeaSearchGroup,r.WeaHelpfulTip,r.WeaDialogFooter,r.WeaRightMenu,r.WeaFormItem,r.WeaSelect,r.WeaBrowser,r.WeaPopoverHrm,this.props.selectNextFlowStore),i=o.nodeInfo,a=o.showAllNodeOperators,l=o.setShowAllNodeOperators,s=(o.nextNodeInfo,o.nodeAttribute),c=[{title:_.default.createElement("span",null,(0,k.getLabel)(15070,"节点名称")),key:"nodeName",dataIndex:"nodeName",width:"45%"},{title:_.default.createElement("span",null,(0,k.getLabel)(99,"操作者")),key:"operator",dataIndex:"operator",width:"55%"}],f=[];i&&i.map(function(t){var r=I.toJS(t),n=t.operators,o=a[r.id];r=(0,u.default)({},r,{operator:n&&n.length>0?e.getOperatorCom(n,o,function(){l(r.id)}):r.operatorGroupStr}),f.push(r)});var d=this,p={type:"radio",selectedRowKeys:this.state.nextNodeIds,onChange:function(e,t){d.setState({nextNodeIds:e})}};return"1"==s&&(c=[{title:_.default.createElement("span",null,(0,k.getLabel)(15070,"节点名称")),key:"nodeName",dataIndex:"nodeName",width:"30%"},{title:_.default.createElement("span",null,(0,k.getLabel)(21393,"节点属性")),key:"nodeAttributeName",dataIndex:"nodeAttributeName",width:"20%"},{title:_.default.createElement("span",null,(0,k.getLabel)(99,"操作者")),key:"operator",dataIndex:"operator",width:"50%"}],p.type="checkbox"),_.default.createElement(n,{columns:c,dataSource:f,rowSelection:p,pagination:!1,onRowClick:function(e){var t=d.state.nextNodeIds;"radio"==p.type?(p.selectedRowKeys=[e.key],d.setState({nextNodeIds:[e.key]})):t.indexOf(e.key)>-1?(t.remove(e.key),p.selectedRowKeys=t,d.setState({nextNodeIds:t})):(t.push(e.key),p.selectedRowKeys=t,d.setState({nextNodeIds:t}))}})}},{key:"getButtons",value:function(){var e=(0,k.getAntd)(),t=e.Button,r=(e.message,(0,k.getEcCom)()),n=(r.WeaTable,r.WeaSearchGroup,r.WeaHelpfulTip,r.WeaDialogFooter,r.WeaRightMenu,r.WeaFormItem,r.WeaSelect,r.WeaBrowser,r.WeaPopoverHrm,[]);return n.push(_.default.createElement(t,{type:"primary",onClick:this.doConfirm},(0,k.getLabel)(83446,"确定"))),n}},{key:"getMoreBtns",value:function(){var e=this,t=[];return t.push({key:"0",icon:_.default.createElement("i",{className:"icon-coms-Preservation"}),content:(0,k.getLabel)(83446,"确定"),onClick:function(t){return e.doConfirm()}}),{datas:t}}},{key:"checkSelectedNodes",value:function(e){var t=this.props.selectNextFlowStore,r=(0,k.getAntd)(),n=r.Modal,o=t.nodeInfoMap,i=t.branchNodesMap;if(e.length>1){var a=!0,s=!0,u=[];if(e.map(function(e){o[e]&&"2"!=o[e].nodeAttribute?s=!1:(a=!1,(0,l.default)(i).map(function(t){i[t].indexOf(e)>-1&&(u.indexOf(t)>-1?s=!1:u.push(t))}))}),a)return n.warning({content:(0,k.getLabel)(525840,"非分叉中间点只能选择一个"),okText:(0,k.getLabel)(83446,"确定"),onOk:function(){}}),!1;if(!s)return n.warning({content:(0,k.getLabel)(525841,"选择的多个节点必须为不同分支的分叉中间点"),okText:(0,k.getLabel)(83446,"确定"),onOk:function(){}}),!1}return!0}},{key:"getOperatorCom",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=arguments[2],n=e.length<=5||t?e:e.slice(0,5),o=[],i=0;i<n.length;i++){var a=n[i];a.agent?o.push(_.default.createElement("span",{style:{marginRight:"10px"}},_.default.createElement("a",{href:"javaScript:openhrm("+a.id+");",onClick:function(e){window.pointerXY(e)},title:a.name},a.name),"->",_.default.createElement("a",{href:"javaScript:openhrm("+a.agent.id+");",onClick:function(e){window.pointerXY(e)},title:a.agent.name},a.agent.name),_.default.createElement("span",null))):o.push(_.default.createElement("span",{style:{marginRight:"10px"}},_.default.createElement("a",{href:"javaScript:openhrm("+a.id+");",onClick:function(e){window.pointerXY(e)},title:a.name},a.name),_.default.createElement("span",null)))}return _.default.createElement("div",{className:"operators"},_.default.createElement("div",{className:"browserDiv"},o),e.length>=6&&_.default.createElement("span",{className:"iconSpan",title:t?(0,k.getLabel)(26985,"收起"):(0,k.getLabel)(20234,"显示全部"),onClick:function(){r&&r()}},_.default.createElement("em",{className:t?"icon-coms-up":"icon-coms-down"})))}}]),t}(_.default.Component))||i)||i;t.default=C},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(7),l=n(a),s=r(3),u=n(s),c=r(0),f=n(c),d=r(2),p=n(d),h=r(4),m=n(h),v=r(5),g=n(v),b=r(1),y=n(b),w=r(8),_=r(6),S=r(690),E=n(S),I=(o=(0,w.inject)("locationMapStore"))(i=(0,w.observer)(i=function(e){function t(){var e,r,n,o;(0,f.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(a))),n.doCancel=function(){n.props.locationMapStore.cancelEvent()},o=r,(0,m.default)(n,o)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=(0,_.getEcCom)(),t=e.WeaDialog,r=this.props.visible;return y.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@n39dvd",visible:r,loadCss:!0,initLoadCss:!0,title:(0,_.getLabel)(502317,"查看轨迹"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",maskClosable:!1,onCancel:this.doCancel,style:{width:"850px",height:"624px"}},y.default.createElement(E.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Content@78s2k3"},this.props)))}}]),t}(y.default.Component))||i)||i;t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(8),y=r(691);r(704);var w=r(9),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(w),S=r(6),E=(o=(0,b.inject)("locationMapStore"))(i=(0,b.observer)(i=function(e){function t(e){(0,u.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return r.getCurrentMap=function(){var e="";r.refs.map&&(e=r.refs.map.getMap(),r.setState({currentMapType:e}))},r.generateMarkInfo=function(e){var t=r.state,n=t.showFlowNum,o=t.showInfoWindowId,i=t.currentMapType,a=[],l=null,s=null,u=[],c=null,f=function(e){return{click:function(){r.setState({showInfoWindowId:e})}}};return"gaode"==i?(l=y.Marker,s=y.Polyline,c=y.InfoWindow):(l=r.refs.map&&r.refs.map.getGoogleMapFuncs().newMarker,s=r.refs.map&&r.refs.map.getGoogleMapFuncs().newPolyline,c=r.refs.map&&r.refs.map.getGoogleMapFuncs().newInfoWindow),e.map(function(e,t){var i="wea-wf-location-infoWin";(0==n||e.flowNum==n)&&-1!=n&&e.locationList.map(function(e,n){var s=t+"_"+n;u.push({latitude:e.lat,longitude:e.lng}),a.push(g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Marker@9scje9@"+s,position:{latitude:e.lat,longitude:e.lng},content:"<div class='wea-map-marker'><span class='icon-coms02-Positioning'><span class='path1'></span><span class='path2'></span></span></div>",events:f(e.id),offset:[-10,-21]})),a.push(g.default.createElement(c,{ecId:(r&&r.props&&r.props.ecId||"")+"_InfoWindow@w1wg2c@"+s,position:{latitude:e.lat,longitude:e.lng},visible:o==e.id,offset:[-2,-32],isCustom:!0},g.default.createElement("div",{className:i},g.default.createElement("div",{className:i+"-top"},g.default.createElement("span",{className:i+"-top-title",title:e.nodeName},e.nodeName),g.default.createElement("div",{className:"rodal-close",onClick:function(){r.setState({showInfoWindowId:0})}})),g.default.createElement("div",{className:i+"-contanier"},g.default.createElement("div",{className:i+"-msg"},g.default.createElement("img",{src:e.imgUrl}),g.default.createElement("div",{className:i+"-msg-base"},g.default.createElement("div",{className:i+"-msg-base-info"},g.default.createElement("span",{className:i+"-msg-base-info-name",title:e.userName},e.userName),g.default.createElement("span",{className:i+"-msg-base-info-dep",title:e.userDep},e.userDep)),g.default.createElement("div",{className:i+"-msg-base-time",title:e.time},e.time))),g.default.createElement("div",{className:i+"-addr",title:(0,S.getLabel)(110,"地址")+":"+e.address},(0,S.getLabel)(110,"地址")+":"+e.address)))))})}),a.push(g.default.createElement(s,{ecId:(r&&r.props&&r.props.ecId||"")+"_Polyline@5yuiy1@1",path:u,style:{strokeColor:"#61a8f5",strokeOpacity:1,strokeWeight:2,strokeStyle:"solid"}})),a},r.getRightCom=function(e){var t=r.state,n=t.showFlowNum,o=t.searchNodeName,i=t.instance,a=(0,S.getAntd)(),l=a.Col,s=a.Row,u=(0,S.getEcCom)(),c=u.WeaInputSearch,f=u.WeaCheckbox,d=[];return e.map(function(e,t){(""==o||e.nodeName.indexOf(o)>-1)&&d.push(g.default.createElement(s,{ecId:(r&&r.props&&r.props.ecId||"")+"_Row@ovd73t@"+t,className:n==e.flowNum?"node-content node-content-select":"node-content",onClick:function(){r.setState({showFlowNum:e.flowNum}),setTimeout(function(){i.setFitView&&i.setFitView()},100)}},g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@mvkech@"+t,span:2}),g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@zzo5nj@"+t,span:10},g.default.createElement("span",null,e.flowNum)),g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@xyos4e@"+t,className:"nodeNameCol",span:10},e.nodeName)))}),g.default.createElement("div",{className:"rightcom"},g.default.createElement(c,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaInputSearch@3w09n6",onSearchChange:function(e){r.setState({searchNodeName:e})}}),g.default.createElement(s,{ecId:(r&&r.props&&r.props.ecId||"")+"_Row@rw23vt",className:"form-title"},g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@pqzqkd",span:2}),g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@6d2ka5",span:10,className:"flownum-col",title:(0,S.getLabel)(502315,"流转顺序")},(0,S.getLabel)(502315,"流转顺序")),g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@d695nr",span:10,title:(0,S.getLabel)(15586,"节点")},(0,S.getLabel)(15586,"节点"))),g.default.createElement("div",{className:"rightcom-content"},d),g.default.createElement(s,{ecId:(r&&r.props&&r.props.ecId||"")+"_Row@o5mau6",className:"node-content show-all-location"},g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@h8mzfl",span:2}),g.default.createElement(l,{ecId:(r&&r.props&&r.props.ecId||"")+"_Col@p7etex",span:22},g.default.createElement(f,{ecId:(r&&r.props&&r.props.ecId||"")+"_WeaCheckbox@1uq0al",id:"showAll",content:(0,S.getLabel)(126402,"查看所有位置轨迹"),value:0==n,onChange:function(e){"1"===e?(r.setState({showFlowNum:0,showInfoWindowId:0}),setTimeout(function(){i.setFitView&&i.setFitView()},100)):r.setState({showFlowNum:-1,showInfoWindowId:0})}}))))},r.state={showFlowNum:0,showInfoWindowId:0,searchNodeName:"",instance:{},currentMapType:"gaode"},r}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.getCurrentMap()}},{key:"componentWillReceiveProps",value:function(){this.getCurrentMap()}},{key:"render",value:function(){var e=this,t=(0,S.getEcCom)(),r=t.WeaMap,n=t.WeaDialogFooter,o=t.WeaLeftRightLayout,i=(t.WeaCheckbox,t.WeaInputSearch,(0,S.getAntd)()),a=(i.Col,i.Row,this.props.locationMapStore),l=a.locationInfos,s=void 0===l?[]:l,u=s.specialobj?_.toJS(s.specialobj):[],c=this.generateMarkInfo(u),f=this.getRightCom(u),d=this.state.instance,p={created:function(t){e.setState({instance:t})},complete:function(){d.setFitView()}};return g.default.createElement("div",{className:"wf-location-map"},g.default.createElement(o,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLeftRightLayout@5nrt1q",isNew:!0,leftWidth:633,leftCom:g.default.createElement("div",{style:{height:564,width:633}},g.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaMap@fhkzo5",ref:function(t){return e.map=t},resizeEnable:!0,events:p},c)),showBtn:!1},f),g.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialogFooter@ika87c",buttons:[],moreBtn:this.getMoreBtns()}))}},{key:"getMoreBtns",value:function(){return{datas:[]}}}]),t}(g.default.Component))||i)||i;t.default=E},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MouseTool=t.Marker=t.GroundImage=t.InfoWindow=t.PolyEditor=t.Polyline=t.Polygon=t.CircleEditor=t.Circle=t.Markers=t.Map=void 0;var o=r(692),i=n(o),a=r(695),l=n(a),s=r(696),u=n(s),c=r(697),f=n(c),d=r(698),p=n(d),h=r(699),m=n(h),v=r(700),g=n(v),b=r(701),y=n(b),w=r(702),_=n(w),S=r(187),E=n(S),I=r(703),k=n(I);t.Map=i.default,t.Markers=u.default,t.Circle=f.default,t.CircleEditor=_.default,t.Polygon=p.default,t.Polyline=m.default,t.PolyEditor=E.default,t.InfoWindow=g.default,t.GroundImage=y.default,t.Marker=l.default,t.MouseTool=k.default,t.default={Map:i.default,Markers:u.default,Circle:f.default,CircleEditor:_.default,Polygon:p.default,Polyline:m.default,PolyEditor:E.default,InfoWindow:g.default,GroundImage:y.default,Marker:l.default,MouseTool:k.default}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(1),f=n(c),d=r(693),p=n(d),h=r(133),m=n(h),v=r(40),g=n(v),b=r(68),y=r(50),w=n(y),_=f.default.Component,S=f.default.Children,E={width:"100%",height:"100%"},I={width:"100%",height:"100%",position:"relative"},k=["layers","zoom","center","labelzIndex","mapStyle","features","cursor","pitch"],C=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],x=["view","zooms","showIndoorMap","indoorMap","expandZoomRange","showBuildingBlock","viewMode","pitchEnable","buildingAnimation","skyColor"],O=k.concat(C,x),P={MapType:{showRoad:!1,showTraffic:!1,defaultType:0},ToolBar:{position:"RB",noIpLocate:!0,locate:!0,liteStyle:!0,autoPosition:!1},OverView:{},ControlBar:{}},M=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={mapLoaded:!1};var n=r;return r.setterMap={zoom:function(e){n.map.setZoom(e)},cursor:function(e){n.map.setDefaultCursor(e)},labelzIndex:function(e){n.map.setlabelzIndex(e)}},r.converterMap={center:b.toLnglat},"undefined"!==typeof window&&(r.pluginMap={},new p.default({key:e.amapkey,useAMapUI:e.useAMapUI,version:e.version,protocol:e.protocol}).load().then(function(){r.createInstance(),r.state.mapLoaded||r.setState({mapLoaded:!0})})),r}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.state.mapLoaded&&this.updateMapProps(this.props,e)}},{key:"renderChildren",value:function(){var e=this;return S.map(this.props.children,function(t){if(t){var r=t.type;return r.preventAmap||"string"===typeof r?t:f.default.cloneElement(t,{__map__:e.map})}return t})}},{key:"createInstance",value:function(){if(!this.map){var e=this.buildCreateOptions();this.map=new window.AMap.Map(this.mapWrapper,e),this.setPlugins(this.props),this.props.onInstanceCreated&&this.props.onInstanceCreated()}}},{key:"buildCreateOptions",value:function(){var e=this,t=this.props,r={};return O.forEach(function(n){n in t&&(r[n]=e.getSetterValue(n,t))}),r}},{key:"updateMapProps",value:function(e,t){var r=this,n={},o=!1,i=!1;C.forEach(function(a){a in t&&(i=!0,r.detectPropChanged(a,e,t)&&(o=!0,n[a]=t[a]))}),o&&this.map.setStatus(n),i&&"status"in t&&g.default.warning("以下这些属性可以单独提供进行配置，也可以统一作为‘status’属性配置；但是请不要同时使用这两种方式。\n（"+C.join(", ")+"）"),x.forEach(function(n){n in t&&r.detectPropChanged(n,e,t)&&g.default.warning("'"+n+"' 是一个静态属性，地图实例创建成功后无法修改")}),this.setPlugins(t)}},{key:"getSetterValue",value:function(e,t){return e in this.converterMap?this.converterMap[e](t[e]):t[e]}},{key:"detectPropChanged",value:function(e,t,r){return t[e]!==r[e]}},{key:"setPlugins",value:function(e){var t=this,r=["Scale","ToolBar","MapType","OverView","ControlBar"];if("plugins"in e){var n=e.plugins;n&&n.length&&n.forEach(function(e){var n=void 0,o=void 0,i=void 0;"string"===typeof e?(n=e,o=null,i=!0):(n=e.name,o=e.options||{},i=!("visible"in o&&"boolean"===typeof o.visible)||o.visible,delete o.visible);var a=r.indexOf(n);-1===a?g.default.warning("没有 ‘"+n+"’ 这个插件，请检查是否拼写错误"):i&&(r.splice(a,1),t.installPlugin(n,o))})}this.removeOrDisablePlugins(r)}},{key:"removeOrDisablePlugins",value:function(e){var t=this;e&&e.length&&e.forEach(function(e){e in t.pluginMap&&("ControlBar"===e?(t.map.removeControl(t.pluginMap[e]),delete t.pluginMap[e]):t.pluginMap[e].hide())})}},{key:"installPlugin",value:function(e,t){switch(t=t||{},e){case"Scale":case"ToolBar":case"OverView":case"MapType":this.setMapPlugin(e,t);break;case"ControlBar":this.setControlBar(t)}}},{key:"setMapPlugin",value:function(e,t){var r=this;if(this.pluginMap[e])this.pluginMap[e].show();else{var n=t.onCreated,i=o(t,["onCreated"]),a=s({},P[e],i);this.map.plugin(["AMap."+e],function(){r.pluginMap[e]=new window.AMap[e](a),r.map.addControl(r.pluginMap[e]),(0,m.default)(n)&&n(r.pluginMap[e])})}}},{key:"setControlBar",value:function(e){var t=this;if(this.pluginMap.ControlBar);else{var r=e.onCreated,n=o(e,["onCreated"]),i=s({},P.ControlBar,n);this.map.plugin(["AMap.ControlBar"],function(){t.pluginMap.ControlBar=new window.AMap.ControlBar(i),t.map.addControl(t.pluginMap.ControlBar),(0,m.default)(r)&&r(t.pluginMap.ControlBar)})}}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{style:I},f.default.createElement("div",{ref:function(t){e.mapWrapper=t},style:E},this.state.mapLoaded?null:this.props.loading||null),f.default.createElement("div",null,this.state.mapLoaded?this.renderChildren():null))}},{key:"instance",get:function(){return this.map}}]),t}(_);t.default=(0,w.default)(M)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a={v:"1.4.0",hostAndPath:"webapi.amap.com/maps",key:"f97efc35164149d0c0f299e7a8adb3d2",callback:"__amap_init_callback",useAMapUI:!1},l=null,s=null,u=!1,c=function(){function e(t){var r=t.key,i=t.useAMapUI,l=t.version,s=t.protocol;n(this,e),this.config=o({},a,{useAMapUI:i,protocol:s}),"undefined"!==typeof window&&(r?this.config.key=r:"amapkey"in window&&(this.config.key=window.amapkey)),l&&(this.config.v=l),this.protocol=s||window.location.protocol,-1===this.protocol.indexOf(":")&&(this.protocol+=":")}return i(e,[{key:"getScriptSrc",value:function(e){return this.protocol+"//"+e.hostAndPath+"?v="+e.v+"&key="+e.key+"&callback="+e.callback}},{key:"buildScriptTag",value:function(e){var t=document.createElement("script");return t.type="text/javascript",t.async=!0,t.defer=!0,t.src=e,t}},{key:"getAmapuiPromise",value:function(){var e=this.buildScriptTag(this.protocol+"//webapi.amap.com/ui/1.0/main-async.js"),t=new Promise(function(t){e.onload=function(){t()}});return document.body.appendChild(e),t}},{key:"getMainPromise",value:function(){var e=this,t=this.buildScriptTag(this.getScriptSrc(this.config)),r=new Promise(function(t){window[e.config.callback]=function(){t(),delete window[e.config.callback]}});return document.body.appendChild(t),r}},{key:"load",value:function(){if("undefined"===typeof window)return null;var e=this.config.useAMapUI;return l=l||this.getMainPromise(),e&&(s=s||this.getAmapuiPromise()),new Promise(function(t){l.then(function(){e&&s?s.then(function(){window.initAMapUI&&!u&&(window.initAMapUI(),"function"===typeof e&&e(),u=!0),t()}):t()})})}}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e[0].toUpperCase()+e.slice(1,e.length)};t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),c=n(u),f=r(48),d=r(40),p=n(d),h=r(50),m=n(h),v=r(281),g=r(68),b=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__){var n=r;r.setterMap={visible:function(e){e?n.marker&&n.marker.show():n.marker&&n.marker.hide()},zIndex:function(e){n.marker&&n.marker.setzIndex(e)}},r.converterMap={position:g.toLnglat,offset:g.toPixel},r.map=e.__map__,r.element=r.map.getContainer(),setTimeout(function(){r.createMarker(e)},13)}else p.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){this.map&&this.refreshMarkerLayout(e)}},{key:"createMarker",value:function(e){var t=this.buildCreateOptions(e);this.marker=new window.AMap.Marker(t),this.marker.render=function(e){return function(t){(0,v.renderMarkerComponent)(t,e)}}(this.marker),this.props.onInstanceCreated&&this.props.onInstanceCreated(),this.setMarkerLayout(e),this.setChildComponent(e)}},{key:"buildCreateOptions",value:function(e){var t=this,r={};return v.MarkerAllProps.forEach(function(n){n in e&&(r[n]=t.getSetterParam(n,e[n]))}),r.map=this.map,r}},{key:"setMarkerLayout",value:function(e){("render"in e||"children"in e&&e.children)&&(this.createContentWrapper(),"className"in e&&e.className&&(this.contentWrapper.className=e.className))}},{key:"createContentWrapper",value:function(){this.contentWrapper=document.createElement("div"),this.marker.setContent(this.contentWrapper)}},{key:"setChildComponent",value:function(e){if(this.contentWrapper)if("className"in e&&e.className&&(this.contentWrapper.className=e.className),"render"in e)(0,v.renderMarkerComponent)(e.render,this.marker);else if("children"in e){var t=e.children,r="undefined"===typeof t?"undefined":l(t);"undefined"!==r&&this.contentWrapper&&(0,f.render)(c.default.createElement("div",null,t),this.contentWrapper)}}},{key:"refreshMarkerLayout",value:function(e){this.setChildComponent(e)}},{key:"getSetterParam",value:function(e,t){return e in this.converterMap?this.converterMap[e](t):t}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.marker}}]),t}(c.default.Component);t.default=(0,m.default)(b)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(48),f=r(133),d=n(f),p=r(40),h=n(p),m=r(281);if("undefined"!==typeof window){var v=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",g.textContent=".amap_markers_pop_window{\n    padding: 10px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n    background: #fff;\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n}\n.amap_markers_pop_window::before{\n    content: ' ';\n    display: block;\n    position: absolute;\n    bottom: -12px;\n    left: 50%;\n    margin-left: -7px;\n    width: 0;\n    height: 0;\n    border-top: 12px solid #ddd;\n    border-left: 7px solid transparent;\n    border-right: 7px solid transparent;\n}\n.amap_markers_pop_window::after{\n    content: ' ';\n    display: block;\n    position: absolute;\n    bottom: -11px;\n    left: 50%;\n    margin-left: -6px;\n    width: 0;\n    height: 0;\n    border-top: 11px solid #fff;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n}\n.amap_markers_pop_window_item{\n    cursor:pointer;\n    width: 40px;\n    height: 50px;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n}\n.amap_markers_pop_window_item span{\n    pointer-events: none;\n}\n.amap_markers_window_overflow_warning{\n    text-align: center;\n    width: 100%;\n    margin: 5px 0;\n    color: #666;\n}",v.appendChild(g)}var b=u.default.Component,y=25.6,w=46*.8-2,_=46*.8,S=66*.8-2,E={useCluster:!1,markersCache:[],markerIDCache:[]},I=["gridSize","minClusterSize","maxZoom","averageCenter","styles","zoomOnClick","renderCluserMarker"],k=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return"undefined"!==typeof window&&(e.__map__?(r.map=e.__map__,r.element=r.map.getContainer(),r.markersCache=E.markersCache,r.useCluster=null,r.markerIDCache=E.markerIDCache,r.resetOffset=new window.AMap.Pixel(-y/2,-w),r.hoverOffset=new window.AMap.Pixel(-_/2,-S),r.createMarkers(e)):h.default.warning("MAP_INSTANCE_REQUIRED")),r}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"createMarkers",value:function(e){var t=this,r=e.markers||[],n=[],o={};r.length&&r.forEach(function(r,i){var a=t.buildCreateOptions(e,r,i);a.map=t.map;var l=null;if((0,d.default)(e.render)){var s=e.render(r);if(!1!==s){var u=document.createElement("div");u.setAttribute("__react_amap__","1"),l=u,o[i]=s}}if(!l){l=document.createElement("div");var c=document.createElement("img");c.src="//webapi.amap.com/theme/v1.3/markers/n/mark_bs.png",l.appendChild(c)}a.content=l;var f=new window.AMap.Marker(a);f.on("click",function(e){t.onMarkerClick(e)}),f.on("mouseover",function(e){t.onMarkerHover(e)}),f.on("mouseout",function(e){t.onMarkerHoverOut(e)}),f.render=function(e){return function(t){return(0,m.renderMarkerComponent)(t,e)}}(f),t.bindMarkerEvents(f),n.push(f)}),this.markersCache=n,this.markerReactChildDOM=o,this.exposeMarkerInstance(),this.checkClusterSettings(e)}},{key:"checkClusterSettings",value:function(e){var t=this;if(e.useCluster)this.loadClusterPlugin(e.useCluster).then(function(e){e.setMarkers(t.markersCache)});else if(this.mapCluster){var r=this.mapCluster.getMarkers();this.mapCluster.clearMarkers(),r.forEach(function(e){e.setMap(t.map)})}}},{key:"componentDidMount",value:function(){this.map&&this.setMarkerChild()}},{key:"setMarkerChild",value:function(){var e=this;Object.keys(this.markerReactChildDOM).forEach(function(t){var r=e.markersCache[t].getContent(),n=e.markerReactChildDOM[t];e.renderMarkerChild(r,n)})}},{key:"renderMarkerChild",value:function(e,t){(0,c.render)(u.default.createElement("div",null,t),e)}},{key:"buildCreateOptions",value:function(e,t,r){var n={},o=["extData"];return m.MarkerAllProps.forEach(function(i){if(i in t&&-1===o.indexOf(i))n[i]=(0,m.getPropValue)(i,t[i]);else if(i in e)if((0,d.default)(e[i])){var a=e[i].call(null,t,r);n[i]=(0,m.getPropValue)(i,a)}else n[i]=(0,m.getPropValue)(i,e[i])}),n.extData=t,n}},{key:"componentWillReceiveProps",value:function(e){this.map&&this.refreshMarkersLayout(e)}},{key:"refreshMarkersLayout",value:function(e){var t=e.markers!==this.props.markers,r=!!this.props.useCluster!==!!e.useCluster;t&&(this.markersCache.length&&this.markersCache.forEach(function(e){e&&(e.setMap(null),e=null)}),this.markersCache=E.markersCache,this.createMarkers(e),this.setMarkerChild()),(t||r)&&this.markersWindow&&this.markersWindow.close(),r&&this.checkClusterSettings(e)}},{key:"loadClusterPlugin",value:function(e){var t=this;if(this.mapCluster)return Promise.resolve(this.mapCluster);var r="boolean"===typeof e?{}:e;return new Promise(function(e){t.map.plugin(["AMap.MarkerClusterer"],function(){e(t.createClusterPlugin(r))})})}},{key:"createClusterPlugin",value:function(e){var t={},r={minClusterSize:2,zoomOnClick:!1,maxZoom:18,gridSize:60,averageCenter:!0};I.forEach(function(n){t[n]=n in e?e[n]:r[n]}),this.mapCluster=new window.AMap.MarkerClusterer(this.map,[],t);var n={};return"events"in e&&"created"in(n=e.events)&&n.created(this.mapCluster),this.initClusterMarkerWindow(),this.bindClusterEvent(n),this.mapCluster}},{key:"onMarkerClick",value:function(e){var t=e.target;this.triggerMarkerClick(e,t)}},{key:"onMarkerHover",value:function(e){e.target.setTop(!0),this.setMarkerHovered(e,e.target)}},{key:"onMarkerHoverOut",value:function(e){e.target.setTop(!1),this.setMarkerHoverOut(e,e.target)}},{key:"onWindowMarkerClick",value:function(e){var t=e.markerRef;this.triggerMarkerClick(null,t)}},{key:"onWindowMarkerHover",value:function(e){var t=e.markerRef;this.setMarkerHovered(null,t)}},{key:"onWindowMarkerHoverOut",value:function(e){var t=e.markerRef;this.setMarkerHoverOut(null,t)}},{key:"setMarkerHovered",value:function(e,t){this.triggerMarkerHover(e,t)}},{key:"setMarkerHoverOut",value:function(e,t){this.triggerMarkerHoverOut(e,t)}},{key:"triggerMarkerClick",value:function(e,t){var r=this.props.events||{};(0,d.default)(r.click)&&r.click(e,t)}},{key:"triggerMarkerHover",value:function(e,t){var r=this.props.events||{};(0,d.default)(r.mouseover)&&r.mouseover(e,t)}},{key:"triggerMarkerHoverOut",value:function(e,t){var r=this.props.events||{};(0,d.default)(r.mouseout)&&r.mouseout(e,t)}},{key:"initClusterMarkerWindow",value:function(){this.markersWindow=new window.AMap.InfoWindow({isCustom:!0,autoMove:!0,closeWhenClickMap:!0,content:"<span>loading...</span>",showShadow:!1,offset:new window.AMap.Pixel(0,-20)}),this.markersDOM=document.createElement("div"),this.markersDOM.className="amap_markers_pop_window",this.markersWindow.setContent(this.markersDOM)}},{key:"bindClusterEvent",value:function(e){var t=this;this.mapCluster.on("click",function(r){if(t.props.useCluster&&t.props.useCluster.zoomOnClick);else{var n=!0;(0,d.default)(e.click)&&(n=e.click(r)),!1!==n&&t.showMarkersInfoWindow(r)}})}},{key:"showMarkersInfoWindow",value:function(e){var t=this,r=e.lnglat,n=e.markers;if(this.markersDOM.innerHTML="",n&&n.length){var o=n.length;if(o>42&&(n=n.slice(0,42)),n.forEach(function(e){var r=e.getContent(),n=document.createElement("div");n.className="window_marker_item",n.appendChild(r),n.markerRef=e,n.addEventListener("click",t.onWindowMarkerClick.bind(t,n),!0),n.addEventListener("mouseover",t.onWindowMarkerHover.bind(t,n),!0),n.addEventListener("mouseout",t.onWindowMarkerHoverOut.bind(t,n),!0),t.markersDOM.appendChild(n)}),o>42){var i=document.createElement("div");i.className="amap_markers_window_overflow_warning",i.innerText="更多坐标请放大地图查看",this.markersDOM.appendChild(i)}}this.markersWindow.open(this.map,r)}},{key:"exposeMarkerInstance",value:function(){if("events"in this.props){var e=this.props.events||{};(0,d.default)(e.created)&&e.created(this.markersCache)}}},{key:"bindMarkerEvents",value:function(e){var t=this.props.events||{},r=Object.keys(t),n=["click","mouseover","mouseout","created"];r.length&&r.forEach(function(r){-1===n.indexOf(r)&&e.on(r,t[r])})}},{key:"render",value:function(){return null}}]),t}(b);t.default=k},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(50),f=n(c),d=r(40),p=n(d),h=r(68),m=["center","radius","draggable","extData","visible","style"],v=m.concat(["zIndex","bubble"]),g=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__){var n=r;r.setterMap={visible:function(e){n.mapCircle&&(e?n.mapCircle.show():n.mapCircle.hide())},style:function(e){n.mapCircle&&n.mapCircle.setOptions(e)}},r.converterMap={center:h.toLnglat},r.state={loaded:!1},r.map=e.__map__,r.element=r.map.getContainer(),r.createInstance(e).then(function(){r.setState({loaded:!0}),r.props.onInstanceCreated&&r.props.onInstanceCreated()})}else p.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),l(t,[{key:"createInstance",value:function(e){var t=this.buildCreateOptions(e);return t.map=this.map,this.mapCircle=new window.AMap.Circle(t),Promise.resolve(this.mapCircle)}},{key:"buildCreateOptions",value:function(e){var t=this,r={};return v.forEach(function(n){if(n in e)if("style"===n&&void 0!==e.style){var o=Object.keys(e.style);o.forEach(function(t){r[t]=e.style[t]})}else r[n]=t.getSetterValue(n,e)}),r}},{key:"getSetterValue",value:function(e,t){return e in this.converterMap?this.converterMap[e](t[e]):t[e]}},{key:"renderEditor",value:function(e){return e?1!==u.default.Children.count(e)?null:u.default.cloneElement(u.default.Children.only(e),{__circle__:this.mapCircle,__map__:this.map,__ele__:this.element}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.mapCircle}}]),t}(u.default.Component);t.default=(0,f.default)(g)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(50),f=n(c),d=r(40),p=n(d),h=r(187),m=n(h),v=r(68),g=["path","draggable","extData","style","visible"],b=g.concat(["zIndex","bubble"]),y=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__){var n=r;r.setterMap={visible:function(e){e?n.polygon&&n.polygon.show():n.polygon&&n.polygon.hide()},style:function(e){n.polygon.setOptions(e)}},r.converterMap={path:function(e){return n.buildPathValue(e)}},r.state={loaded:!1},r.map=e.__map__,r.element=r.map.getContainer(),setTimeout(function(){r.initMapPolygon(e)},13)}else p.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),l(t,[{key:"initMapPolygon",value:function(e){var t=this.buildCreateOptions(e);t.map=this.map,this.polygon=new window.AMap.Polygon(t),this.setState({loaded:!0}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildCreateOptions",value:function(e){var t=this,r={};return b.forEach(function(n){if(n in e)if("style"===n&&e.style){var o=Object.keys(e.style);o.forEach(function(t){r[t]=e.style[t]})}else"visible"!==n&&(r[n]=t.getSetterValue(n,e[n]))}),r}},{key:"detectPropChanged",value:function(e,t){return this.props[e]!==t[e]}},{key:"getSetterValue",value:function(e,t){return e in this.converterMap?this.converterMap[e](t):t}},{key:"buildPathValue",value:function(e){var t=this;if(e.length){var r=e[0];if("number"===typeof r[0])return e.map(function(e){return(0,v.toLnglat)(e)});if("getLng"in r)return e;if("longitude"in r||"lng"in r)return e.map(function(e){return(0,v.toLnglat)(e)});if("length"in r&&r.length)return e.map(function(e){return t.buildPathValue(e)})}return[]}},{key:"renderEditor",value:function(e){if(!e)return null;if(1!==u.default.Children.count(e))return null;var t=u.default.Children.only(e);return t.type===m.default?u.default.cloneElement(t,{__poly__:this.polygon,__map__:this.map}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.polygon}}]),t}(s.Component);t.default=(0,f.default)(y)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(50),f=n(c),d=r(40),p=n(d),h=r(187),m=n(h),v=r(68),g=u.default.Component,b=["path","extData","draggable","visible","style"],y=b.concat(["zIndex","bubble","showDir"]),w=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__){var n=r;r.setterMap={visible:function(e){e?n.polyline&&n.polyline.show():n.polyline&&n.polyline.hide()},style:function(e){n.polyline.setOptions(e)}},r.converterMap={path:function(e){return n.buildPathValue(e)}},r.state={loaded:!1},r.map=e.__map__,r.element=r.map.getContainer(),setTimeout(function(){r.createMapPolyline(e)},13)}else p.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),l(t,[{key:"createMapPolyline",value:function(e){var t=this.buildCreateOptions(e);t.map=this.map,this.polyline=new window.AMap.Polyline(t),this.setState({loaded:!0}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildCreateOptions",value:function(e){var t=this,r={};return y.forEach(function(n){if(n in e)if("style"===n&&e.style){var o=Object.keys(e.style);o.forEach(function(t){r[t]=e.style[t]})}else"visible"!==n&&(r[n]=t.getSetterValue(n,e[n]))}),r}},{key:"detectPropChanged",value:function(e,t){return this.props[e]!==t[e]}},{key:"getSetterValue",value:function(e,t){return e in this.converterMap?this.converterMap[e](t):t}},{key:"buildPathValue",value:function(e){return e.length?"getLng"in e[0]?e:e.map(function(e){return(0,v.toLnglat)(e)}):e}},{key:"renderEditor",value:function(e){if(!e)return null;if(1!==u.default.Children.count(e))return null;var t=u.default.Children.only(e);return t.type===m.default?u.default.cloneElement(t,{__poly__:this.polyline,__map__:this.map}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.polyline}}]),t}(g);t.default=(0,f.default)(w)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(48),f=r(50),d=n(f),p=r(40),h=n(p),m=r(68),v=u.default.Component,g=["content","position","size","visible","offset"],b=g.concat(["isCustom","autoMove","closeWhenClickMap","showShadow"]),y=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__){var n=r;r.setterMap={visible:function(e){e?(n.showWindow(),n.setClassName(n.props),n.setChild(n.props)):n.closeWindow()}},r.converterMap={size:m.toSize,offset:m.toPixel,position:m.toLnglat},r.map=e.__map__,r.isCustom=!0,setTimeout(function(){r.createInfoWindow(e)},13)}else h.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){this.map&&this.refreshWindowLayout(e)}},{key:"createInfoWindow",value:function(e){var t=this.buildCreateOptions(e);this.infoWindow=new window.AMap.InfoWindow(t),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"refreshWindowLayout",value:function(e){this.setChild(e),this.setClassName(e)}},{key:"checkPropChanged",value:function(e,t){return this.props[e]!==t[e]}},{key:"showWindow",value:function(){this.infoWindow.open(this.map,this.infoWindow.getPosition())}},{key:"closeWindow",value:function(){this.infoWindow.close()}},{key:"buildCreateOptions",value:function(e){var t=this,r={};return r.isCustom="isCustom"in e&&!!e.isCustom,"content"in e?r.content=e.content:(this.infoDOM=document.createElement("div"),r.content=this.infoDOM),b.forEach(function(n){n in e&&-1===["visible","isCustom","content"].indexOf(n)&&(r[n]=t.getSetterValue(n,e[n]))}),r}},{key:"getSetterValue",value:function(e,t){return e in this.converterMap?this.converterMap[e](t):t}},{key:"setChild",value:function(e){var t=e.children;this.infoDOM&&t?(0,c.render)(u.default.createElement("div",null,t),this.infoDOM):e.children}},{key:"setClassName",value:function(e){if(this.infoDOM){var t="";"className"in e&&e.className?t+=e.className:!0===e.isCustom&&(t+="amap_markers_pop_window"),this.infoDOM.className=t}}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.infoWindow}}]),t}(v);t.default=(0,d.default)(y)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(50),f=n(c),d=r(40),p=n(d),h={clickable:!1,opacity:1,visible:!0},m=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("undefined"!==typeof window)if(e.__map__){var n=r;r.setterMap={visible:function(e){e?n.image&&n.image.show():n.image&&n.image.hide()},src:function(e){n.image.setImageUrl(e)}},r.converterMap={bounds:function(e){return n.buildBounds(e)}},r.map=e.__map__,r.element=r.map.getContainer(),setTimeout(function(){r.createGroundImage(e)},13)}else p.default.warning("MAP_INSTANCE_REQUIRED");return r}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"checkPropsChanged",value:function(e,t){return this.props[t]!==e[t]}},{key:"createGroundImage",value:function(e){var t=void 0,r=void 0,n=void 0,o=void 0;"src"in e?t=e.src:p.default.warning("SRC_REQUIRED",!0),"bounds"in e?r=this.buildBounds(e.bounds):p.default.warning("BOUNDS_REQUIRED",!0),o="clickable"in e?e.clickable:h.clickable,n="opacity"in e?e.opacity:h.opacity,this.image=new window.AMap.GroundImage(t,r,{map:this.map,clickable:o,opacity:n}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildBounds",value:function(e){return e?"getSouthWest"in e?e:new window.AMap.Bounds(new window.AMap.LngLat(e.sw.longitude,e.sw.latitude),new window.AMap.LngLat(e.ne.longitude,e.ne.latitude)):e}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.image}}]),t}(u.default.Component);t.default=(0,f.default)(m)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(40),f=n(c),d=r(133),p=n(d),h=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return"undefined"!==typeof window&&(e.__map__&&e.__circle__?(r.map=e.__map__,r.element=r.map.getContainer(),r.circle=e.__circle__,r.editorActive=!1,r.onPropsUpdate(e)):f.default.warning("CIRCLE_INSTANCE_REQUIRED")),r}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.map&&this.onPropsUpdate(e)}},{key:"onPropsUpdate",value:function(e){"active"in e&&!1===e.active?this.toggleActive(!1,e):this.toggleActive(!0,e)}},{key:"toggleActive",value:function(e,t){e?this.editorActive||this.activeEditor(t):this.editorActive&&this.inactiveEditor()}},{key:"activeEditor",value:function(e){var t=this;this.loadCircleEditor(e).then(function(e){t.editorActive=!0,e.open()})}},{key:"inactiveEditor",value:function(){this.editorActive=!1,this.circleEditor&&this.circleEditor.close()}},{key:"loadCircleEditor",value:function(e){var t=this;return this.circleEditor?Promise.resolve(this.circleEditor):new Promise(function(r){t.map.plugin(["AMap.CircleEditor"],function(){r(t.createEditorInstance(e))})})}},{key:"createEditorInstance",value:function(e){this.circleEditor=new window.AMap.CircleEditor(this.map,this.circle);var t=this.exposeEditorInstance(e);return t&&this.bindEditorEvents(t),this.circleEditor}},{key:"exposeEditorInstance",value:function(e){if("events"in e){var t=e.events||{};return(0,p.default)(t.created)&&t.created(this.circleEditor),delete t.created,t}return!1}},{key:"bindEditorEvents",value:function(e){var t=this,r=Object.keys(e);r.length&&r.forEach(function(r){t.circleEditor.on(r,e[r])})}},{key:"render",value:function(){return null}}]),t}(u.default.Component);t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=n(s),c=r(50),f=n(c),d=r(40),p=n(d),h=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return"undefined"!==typeof window&&(e.__map__?(r.map=e.__map__,r.loadToolInstance().then(function(){r.props.onInstanceCreated&&r.props.onInstanceCreated()})):p.default.warning("MAP_INSTANCE_REQUIRED")),r}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"loadToolInstance",value:function(){var e=this;return new Promise(function(t){e.map.plugin(["AMap.MouseTool"],function(){e.tool=new window.AMap.MouseTool(e.map),t()})})}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.tool}}]),t}(u.default.Component);t.default=(0,f.default)(h)},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(14),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(v),b=r(17),y=r(19),w=n(y),_=function(e){function t(){(0,l.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.RemindSetStore,r=new t;e.setState({hasLoad:!0,store:r})};g.asyncLoadModule("workflowPublic",b.workflowPublicFiles,t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,r=e.store;if(t){var n=window.weaWorkflowPublic.RemindSet,o=this.props,i=o.requestId,a=o.workflowId,l=o.submitType,s=o.callBackActions;return r.setParams({requestId:i,workflowId:a,submitType:l}),r.setCallBackActions(s),m.default.createElement(n,{ecId:(this&&this.props&&this.props.ecId||"")+"_RemindSet@v5c2sk",store:r})}return m.default.createElement(w.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@j2a95y"})}}]),t}(m.default.Component);t.default=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(3),a=n(i),l=r(0),s=n(l),u=r(2),c=n(u),f=r(4),d=n(f),p=r(5),h=n(p),m=r(1),v=n(m),g=r(14),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(g),y=r(17),w=r(49),_=(0,w.observer)(o=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.addBtnClick=function(t){var r=e.state,n=(r.hasLoad,r.store),o=n.saveAttentionTypeSet;n.getAttentionTypeSet;o({showname:t,src:"saveData2",id:e.props.curStore.FollowRequestid})},e.onVisibleChange=function(t){e.props.curStore.followTypeSelectShow=!1},e.followMakeSure=function(){var t=e.props.curStore,r=e.props,n=r.location,o=r.refresh;n.query;o(),t.followTypeSelectShow=!1},e.state={hasLoad:!1,store:null},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.FollowTypeSettingStore,r=new t;e.setState({hasLoad:!0,store:r}),window.followTypeSettingStore=r};b.asyncLoadModule("workflowPublic",y.workflowPublicFiles,t),this.timerID=setTimeout(function(){$(".wf_attention_div_btn").on("mouseover mouseout",function(e){var t=$(this).attr("id").substr($(this).attr("id").indexOf("_"));"mouseover"==e.type?jQuery("#attentionSpan"+t).css("display","inline-block"):"mouseout"==e.type&&jQuery("#attentionSpan"+t).css("display","none")})},1e3)}},{key:"componentDidUpdate",value:function(){this.timerID=setTimeout(function(){$(".wf_attention_div_btn").on("mouseover mouseout",function(e){var t=$(this).attr("id").substr($(this).attr("id").indexOf("_"));"mouseover"==e.type?jQuery("#attentionSpan"+t).css("display","inline-block"):"mouseout"==e.type&&jQuery("#attentionSpan"+t).css("display","none")})},1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"render",value:function(){var e=this,t=this.state,r=t.hasLoad,n=t.store,o=this.props,i=o.curStore,a=o.commonParam;if(r){var l=window.weaWorkflowPublic.TagTypeSelect;return v.default.createElement(l,{ecId:(this&&this.props&&this.props.ecId||"")+"_TagTypeSelect@btuws9",followTypeSettingStore:n,button:"",FollowRequestid:a.requestid||"",visible:i.followTypeSelectShow,onVisibleChange:this.onVisibleChange,addBtn:this.addBtnClick,placement:"bottom",makeSureCallBack:function(){e.followMakeSure()}})}return v.default.createElement("div",null)}}]),t}(v.default.Component))||o;t.default=_},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(0),l=n(a),s=r(2),u=n(s),c=r(4),f=n(c),d=r(5),p=n(d),h=r(1),m=n(h),v=r(6),g=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){document.title=(0,v.getLabel)(504627,"无权限")}},{key:"render",value:function(){var e=(0,v.getEcCom)(),t=e.WeaAlertPage,r=(jQuery(window).height()-420)/2,n=this.props.location,o=void 0===n?{}:n,i=o.query,a=void 0===i?{}:i,l=(0,v.getLabel)(2012,"对不起，您暂时没有权限！");return"1"==a.isSecNoRight?l=(0,v.getLabel)(501082,"对不起，您的人员密级不足以查看该内容"):a.isDelete&&"undefined"!=a.isDelete?l=(0,v.getLabel)(501606,"对不起，该流程已删除"):a.isTest&&"undefined"!=a.isTest&&(l=(0,v.getLabel)(522931,"当前流程为测试状态，暂无法显示！")),m.default.createElement(t,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@1j4q0p",iconSize:200,style:{paddingTop:r}},m.default.createElement("div",{style:{fontSize:"16px",color:"#FFBB0E"}},l," "))}}]),t}(m.default.Component);t.default=g},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7),i=n(o),a=r(3),l=n(a),s=r(0),u=n(s),c=r(2),f=n(c),d=r(4),p=n(d),h=r(5),m=n(h),v=r(1),g=n(v),b=r(81),y=n(b),w=r(17),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(w),S=r(19),E=n(S),I=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=_.antdFiles.concat(_.ecComFiles);(0,y.default)(t,{async:!1,success:function(){e.setState({hasLoad:!0})}})}},{key:"render",value:function(){if(this.state.hasLoad){var e=this.props.location||{},t=e.query&&"1"==e.query.isBatch,n=t?r(710).default:r(711).default;return g.default.createElement(n,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Print@rz9egp"},this.props))}return g.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@hby7ea"})}}]),t}(g.default.Component);t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(3),a=n(i),l=r(0),s=n(l),u=r(2),c=n(u),f=r(4),d=n(f),p=r(5),h=n(p),m=r(1),v=n(m),g=r(8),b=r(6),y=r(10),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(y),_=(0,g.observer)(o=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"getUrlStr",value:function(){var e=this.props.location,t=e.query||{},r=["ismonitor"],n="";for(var o in t)w.includes(r,o)&&(n+="&"+o+"="+t[o]);return n}},{key:"render",value:function(){var e=(0,b.getAntd)(),t=(e.Button,(0,b.getEcCom)()),r=(t.WeaRightMenu,this.props.location||{}),n=r.query&&r.query.printstr,o=n.split(","),i=this.getUrlStr(),a="";return o.length>0&&o.map(function(e){var t=e.split("|"),r=t[0];2===t.length&&(a+=","+r)}),""!==a&&(a=a.substring(1)),window.batchPrintRequestidNum=o.length,window.batchPrintRequestids=a,v.default.createElement("div",{className:"wf-batch-print"},o.length>0&&o.map(function(e,t){var r=e.split("|"),n=r[0],o=r[1];if(2===r.length){var a=(window.ecologyContentPath||"")+"/workflow/request/PrintRequestSPA.jsp?isBatchPrint=true&ismode=2&modeid="+o+"&requestid="+n+i;return v.default.createElement("div",{className:"wf-batch-print-item",style:{textAlign:"center",pageBreakBefore:0==t?"avoid":"always"}},v.default.createElement("iframe",{id:"request_"+n,src:a,style:{border:0,width:"100%",height:"100%"}}))}}))}},{key:"getRightMenu",value:function(){var e=[];return e.push({key:"print",icon:v.default.createElement("i",{className:"icon-coms-Print"}),content:(0,b.getLabel)(-1,"打印"),onClick:function(e){window.print()}}),e}}]),t}(v.default.Component))||o;t.default=_},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(7),s=o(l),u=r(3),c=o(u),f=r(0),d=o(f),p=r(2),h=o(p),m=r(4),v=o(m),g=r(5),b=o(g),y=r(1),w=o(y),_=r(8),S=r(6),E=r(11),I=r(15),k=n(I),C=r(39),x=o(C),O=r(29),P=n(O);r(712);var M=(i=(0,_.inject)("printReqStore"))(a=(0,_.observer)(a=function(e){function t(){var e,r,n,o;(0,d.default)(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=n=(0,v.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(a))),n.doConfirm=function(){var e=(0,E.getBrowserVersion)(),t=n.props.printReqStore,r=t.templateKey,o=t.urlParams,i=r&&r.split("_")[0]||"";if("Chrome"===e&&1!==parseInt(i)){var a=document.getElementById("reqIframe"),l=function(){var e=isNaN(parseInt(a.contentWindow.WfForm.printTimeout||""))?500:parseInt(a.contentWindow.WfForm.printTimeout);window.setTimeout(function(){a.contentWindow.WfForm&&a.contentWindow.WfForm.changeFieldValue("field-9",{value:parseInt(a.contentWindow.WfForm.getFieldValue("field-9"))+1}),k.generatePrintLog(o),a.focus(),a.contentWindow.print()},e)},s=a.contentWindow.WfForm.eventList;P.verifyCustomRegisterEvent(x.default.OPER_PRINTPREVIEW,l,void 0,s)}else{var u=n.buildIframeSrc();window.location.href=u}},n.doCancel=function(){try{window.close()}catch(e){}},o=r,(0,v.default)(n,o)}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.printReqStore,r=e.location,n=void 0===r?{}:r;t.loadTemplates(n.query),window.printReqStore=t}},{key:"render",value:function(){var e=this,t=(0,S.getAntd)(),r=t.Button,n=this.props.printReqStore,o=(n.needChoose,n.urlParams,n.templates),i=n.templateKey,a=n.printBtnDisabled;return w.default.createElement("div",{className:"wf-printReq"},w.default.createElement("div",{className:"wf-printReq-left"},w.default.createElement("div",{className:"wf-printReq-left-top"},w.default.createElement("span",null,(0,S.getLabel)(386164,"请选择打印模板"),":")),w.default.createElement("div",{className:"wf-printReq-left-items"},o.map(function(t){return w.default.createElement("div",{className:"wf-printReq-left-item"},w.default.createElement("input",{type:"radio",name:"templateKey",checked:i===t.key,onClick:e.chooseTemplate.bind(e,t.key,t.ismode)}),w.default.createElement("span",null,t.name))})),w.default.createElement("div",{className:"wf-printReq-left-bottom"},w.default.createElement(r,{disabled:a,ecId:(this&&this.props&&this.props.ecId||"")+"_Button@qxudwp",type:"primary",onClick:this.doConfirm},(0,S.getLabel)(83446,"确定")),w.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@grimu0",type:"default",onClick:this.doCancel},(0,S.getLabel)(201,"取消")))),w.default.createElement("div",{className:"wf-printReq-right"},w.default.createElement("iframe",{id:"reqIframe",src:this.buildIframeSrc(!0),style:{border:0,width:"100%",height:"100%"}})))}},{key:"buildIframeSrc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.printReqStore,r=t.urlParams,n=t.templateKey,o="about:blank";if(""!==n){var i=n.split("_"),a=(0,s.default)({},r,{ismode:i[0],modeid:i[1],isPreView:e},{mulPrintMode:1});o=(window.ecologyContentPath||"")+"/workflow/request/PrintRequestSPA.jsp?"+(0,E.buildUrlStr)(a)}return o}},{key:"chooseTemplate",value:function(e,t){var r=this.props.printReqStore,n=r.templateKey;r.chooseTemplate(e),1==t?r.setPrintBtnDisabled(!0):e!==n&&r.setPrintBtnDisabled(!1)}}]),t}(w.default.Component))||a)||a;t.default=M},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=n(o),a=r(186),l=r(19),s=n(l);t.default=(0,a.asyncComponent)({resolve:function(){return r.e(1).then(r.bind(null,729))},LoadingComponent:function(){return i.default.createElement(s.default,{ecId:"_Loading@4q29hz"})}})},function(e,t,r){"use strict";r(715),r(716),r(717),r(718),r(719)},function(e,t,r){"use strict";var n=r(173),o=function(e){return e&&e.__esModule?e:{default:e}}(n);window.attentionUtil=function(){return{doAttentionType:function(e){var t=(window.event||window.event,jQuery(".wf_attention_span_typeset").offset()),r=o.default.followSelectStore;r.setClickPotion({x:t.left,y:t.top+10}),r.followTypeSelectShow=!0,r.FollowRequestid=e},doAttention:function(e,t,r){var n="attentionDiv_"+e+"_"+t+"_"+r,o="attentionSpan_"+e+"_"+t+"_"+r;0==jQuery("#"+n).find("span").length?(jQuery("#"+n).addClass("wf_attention_div_btn_selected"),jQuery("#"+n).append("<span id='"+o+"' class='wf_attention_span_delbtn' onclick=\"attentionUtil.doDel("+e+","+t+",'"+r+"')\">X</span>")):(jQuery("#"+n).removeClass("wf_attention_div_btn_selected"),jQuery("#"+o).remove())},doDel:function(e,t,r){window.followTypeSettingStore.reqid=e,window.followTypeSettingStore.saveAttention({src:"del",requestids:e,ids:t,rand:r},"single")}}}()},function(e,t){},function(e,t,r){"use strict";var n=r(6),o=r(12),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=r(29),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),s=function(e){var t=window.screen.availWidth-10,r=window.screen.availHeight-50,n="top=0,";n+="left=0,",n+="width="+t+",",n+="height="+r+",",n+="directories=no,",n+="status=yes,toolbar=no,location=no,",n+="menubar=no,",n+="scrollbars=yes,",n+="resizable=yes",window.open(e,"",n)};window.openFullWindowHaveBar=s;var u=function(e,t,r,n,o){var i="top="+n+",";i+="left="+o+",",i+="width="+t+",",i+="height="+r+",",i+="directories=no,",i+="status=yes,toolbar=no,location=no,",i+="menubar=no,",i+="scrollbars=yes,",i+="resizable=yes",window.open(e,"",i)};window.openUnFullWindow=u;var c=function(e,t){try{document.getElementById("wflist_"+t+"span").innerHTML=""}catch(e){}var r=e,n=window.screen.availWidth-10,o=window.screen.availHeight-50,i="top=0,";i+="left=0,",i+="width="+n+",",i+="height="+o+",",i+="directories=no,",i+="status=yes,toolbar=no,location=no,",i+="menubar=no,",i+="scrollbars=yes,",i+="resizable=yes",window.open(r,"",i)};window.openFullWindowHaveBarForWFList=c,window.formImgLazyLoad=function(e){var t=i.default.layoutStore.propFileCfg,r=void 0===t?{}:t,n=r.handwriting_download_switch,o=void 0===n?"0":n;if(e&&0!==e.length){var a=e.outerHeight(),s=e.outerWidth();if(e.get(0)===window)var u=$(window).scrollTop(),c=$(window).scrollLeft();else var u=e.offset().top,c=e.offset().left;e.find("img[original-src]").each(function(){var e=jQuery(this).offset().top-(u+a),t=jQuery(this).offset().top+jQuery(this).height()-u,r=jQuery(this).offset().left-(c+s),n=jQuery(this).offset().left+jQuery(this).width()-c;if(e<0&&t>0&&r<0&&n>0){var i=jQuery(this).attr("original-src");if(""!=i){jQuery(this).removeAttr("src").attr("src",i).removeAttr("original-src"),jQuery(this).removeAttr("style").attr("style",jQuery(this).attr("original-style")).removeAttr("original-style"),jQuery(this).attr("width",jQuery(this).attr("original-width")).removeAttr("original-width"),jQuery(this).attr("height",jQuery(this).attr("original-height")).removeAttr("original-height"),jQuery(this).attr("onload",jQuery(this).attr("original-onload")).removeAttr("original-onload"),jQuery(this).attr("onresize",jQuery(this).attr("original-onresize")).removeAttr("original-onresize");var f=1==o&&"handWrittenSign"==jQuery(this).attr("name");jQuery(this).hasClass("signatureImg")||f?(jQuery(this).on("mousedown",function(e){e.preventDefault()}),jQuery(this).attr("draggable",!1)):(jQuery(this).addClass("formImgPlay"),jQuery(this).bind("click",function(){window.imageCarousel(this)})),jQuery(this).hasClass("handWrittenSign")&&l.handWritingHander(this)}}})}},window.imageCarousel=function(e){var t=[],r=0,n=jQuery(e).attr("data-imgsrc")?jQuery(e).attr("data-imgsrc"):jQuery(e).attr("src"),o=!1;jQuery(".formImgPlay").each(function(){var i=jQuery(this).attr("data-imgsrc")?jQuery(this).attr("data-imgsrc"):jQuery(this).attr("src");i&&(t.push(i),n===i&&jQuery(e).closest(".excelMainTable").length===jQuery(this).closest(".excelMainTable").length?o=!0:o||r++)}),IMCarousel.showImgScanner4Pool(!0,t,r,null,window.top)};var f={handleResetBtn:function(){var e=jQuery("#wfSErrorResetBtn").attr("href"),t=jQuery("#wfSErrorResetBtn").attr("title"),r=jQuery("#wfSErrorResetBtn").attr("type");jQuery("#wfSErrorResetBtn").attr("href","javascript:void(0)").removeAttr("target").removeAttr("title"),jQuery("#wfSErrorResetBtn").attr("onclick","errorNoticeUtil.resetWorkflowCfg('"+e+"','"+t+"','"+r+"')"),jQuery("#wfSErrorResetBtn").removeAttr("style")},resetWorkflowCfg:function(e,t,r){if("3"==r)return void s(e);"1"!=r&&"2"!=r||(e=(window.ecologyContentPath||"")+"/spa/workflow/static4engine/engine.html#/main/workflowengine/path/pathSet/pathDetail/flowSet/nodeInfo?needBaseTab=false&showLeftTree=false&workflowId="+e,s(e))},triggerSystemWorkflow:function(e,t,r,o,i){var a=window.WfForm.getGlobalStore(),l=a.commonParam,s=l.requestid;if(l.belongTest)return void(0,n.getAntd)().Modal.warning({title:(0,n.getLabel)(131329,"信息确认"),content:(0,n.getLabel)(386161,"此操作暂不支持流程测试!"),okText:(0,n.getLabel)(83446,"确定")});e=e.replace(/~0~/g,"<span class='importantInfo'>"),e=e.replace(/~1~/g,"</span>"),e=e.replace(/~2~/g,"<span class='importantDetailInfo'>");var u=jQuery(".wf-error-msg-detail").html();u=u?'<div class="wf-error-msg-detail">'+u+"</div>":"";var c="3"==i?(0,n.getLabel)(18913,"流程干预"):(0,n.getLabel)(126558,"进行设置"),f=u+"<span>"+e+'，请<a id="wfSErrorResetBtn" href="'+t+'" title="'+r+'" type="'+i+'"> 点击这里 </a>'+c+"</span>";jQuery.ajax({type:"post",url:(window.ecologyContentPath||"")+"/workflow/request/TriggerRemindWorkflow.jsp?_random="+(new Date).getTime(),data:{remark:f,loginuserid:o,requestid:s},error:function(e,t,r){(0,n.getAntd)().Modal.error({title:(0,n.getLabel)(131329,"信息确认"),content:(0,n.getLabel)(22397,"发送失败"),okText:(0,n.getLabel)(83446,"确定")})},success:function(e,t){(0,n.getAntd)().Modal.success({title:(0,n.getLabel)(131329,"信息确认"),content:(0,n.getLabel)(516558,"已成功向提醒人发送提醒流程"),okText:(0,n.getLabel)(83446,"确定")})}})}};window.errorNoticeUtil=f,window.resetWorkflow=f.resetWorkflowCfg,window.triggerSystemWorkflow=f.triggerSystemWorkflow,window.iframeOperate=function(){function e(e){jQuery(e).closest("td").find(".iframeLoading").hide(),jQuery(e).show()}function t(e){var r=jQuery(e),n=function(){t(e)},o=parseInt(r.attr("eachcount"));if(o>10)return void r.css("height","100px");if(window.customAutoAdjustHeight&&"function"==typeof window.customAutoAdjustHeight)window.customAutoAdjustHeight(e);else{var i=r[0].contentWindow.document,a=i.body.scrollHeight;0==a?(r.attr("eachcount",o+1),window.setTimeout(n,500)):r.css("height",a+"px")}}return{loadingOver:function(r){"y"==jQuery(r).attr("adjustheight")?window.setTimeout(function(){e(r),t(r)},800):e(r)}}}(),window.scancodeOperate=function(){function e(e){try{var t=e.closest("td").height(),r=e.height();parseInt(t)-parseInt(r)>8&&e.css("height",t)}catch(e){}}return{readyAdjustSize:function(t){var r=jQuery(t);r.resize(function(){e(r)}),e(r)}}}(),window.handWritingHander=function(e){e&&l.handWritingHander(e)}},function(e,t,r){"use strict";function n(e){var t=!1;if(e&&new RegExp("^field\\d+(_\\d+)?$").test(e)&&"function"===typeof window.WfForm.getFieldInfo){var r=e.indexOf("_")>-1?e.substring(5,e.indexOf("_")):e.substring(5);null!==window.WfForm.getFieldInfo(r)&&(t=!0)}return t}var o=r(126),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.prototype.val=function(e){return function(){var t=(0,i.default)(this).attr("id");if(!t){var r=(0,i.default)(this).selector;0===r.indexOf("#")&&(t=r.substring(1))}var o=arguments.length>0,a=o?arguments[0]:null;return o&&"function"==typeof e?(e.call(this,a),n(t)&&window.WfForm.changeFieldValue(t,{value:a}),this):n(t)?window.WfForm.getFieldValue(t):e.call(this)}}(i.default.prototype.val),i.default.prototype.html=function(e){return function(){var t=this.attr("id"),r=arguments.length>0,o=r?arguments[0]:null;if(!r||"function"!=typeof e)return e.call(this);if(e.call(this,o),t&&t.length>8&&"span"===t.substring(t.length-4)){var a=t.substring(0,t.length-4),l=(0,i.default)("#"+a);l.length>0&&n(a)&&window.WfForm.changeFieldValue(a,{value:l.val(),showhtml:o})}return this}}(i.default.prototype.html)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(7),i=n(o),a=r(31),l=n(a),s=r(81),u=n(s),c=r(246),f=r(6),d=r(47),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),h=(0,f.getEcCom)(),m=h.WeaLocaleProvider,v=m.getLabel,g=function(e,t){var r=e,n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},b=function(){var e=["/workflow/qyskey/HTML.SDK.js"],t=null,r=function(t,r){var n=function(){t&&t(r)};u.default.isDefined("qysHtml4Ukey")?u.default.ready("qysHtml4Ukey",n):(0,u.default)(e,"qysHtml4Ukey",n)},n=function(e){},o=function(e){null==t&&(t=new window.QysHtml(n));var r=e.params,o=e.secondAuthType,a=e.protectType,s=e.isProtectDialog,u=e.callbackFunc,d=e.callbackParam,h=r.authKey,m=void 0===h?"":h,b=r.sourcestr,y=void 0===b?"":b,w=function(r){r=JSON.parse(r);var n=r,h=n.p7,b=n.timeStamp,w=n.apperance,_={plaintext:y,p7:h},S=(0,f.getAntd)(),E=S.message,I=t.verify((0,l.default)(_)),k=I.result,C=void 0===k?{}:k,x=I.code,O=void 0===x?0:x,P=I.message,M=void 0===P?"":P;if(0!=O)return void E.error(M||v(389490,"认证失败"));var A=C.cert,F=void 0===A?{}:A,R=F.validity,T=void 0===R?{}:R,D=F.sn,j=F.companyName,L=F.organizationName,N=F.certIssuer,q="yyyy-MM-dd hh:mm:ss",W=T.notBefore,B=T.notAfter,z=g(W,q),U=g(B,q),V=new Date(b),H=g(V,q),G=w.sealImg,Q=w.position,K=Q.width,J=void 0===K?0:K,$=Q.height,Y=void 0===$?0:$,X={seriNo:D,tenantName:L,caType:N,startTime:z,endTime:U,signTime:H,qyswidth:J,qysheight:Y,corpName:j},Z=function(){if(1==s?e.setDialogResult({isProtectSuccess:1}):10==s?(e.setDialogResult({isProtectSuccess:1}),e.setDialogResult({isAuthSuccess:1})):e.setDialogResult({isAuthSuccess:1}),o==p.QYS||1==s&&a==p.QYS){var t=e.params;e.setParams((0,i.default)({},t,{qysSealId:0,qysSealImg:G,qysCertDetails:(0,l.default)(X)}))}u&&"function"==typeof u&&(u.call({},d),e.setSecondAuthPop())};1==s||10==s?(0,c.saveCAAuthResult)({authKey:m,signValue:h}).then(function(e){1==e.success?Z():E.error(v(389490,"认证失败"))}):Z()},_={plaintext:y,position:{x:"50%",y:"50%"}};t.selectSeal((0,l.default)(_),w)};return{showSignWin:function(e){r(o,e)}}}();window.QYSUKeyUtil=b},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WfForm_PC=void 0;var i=r(35),a=o(i),l=r(7),s=o(l),u=r(12),c=o(u),f=r(39),d=o(f),p=r(82),h=n(p),m=r(6),v=r(10),g=n(v),b=r(29),y=n(b),w=r(66),_=n(w),S=r(11),E=n(S),I=r(56),k=r(132),C=o(k),x=t.WfForm_PC={showMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5,n=window.antd.message;1===t?n.warning(e,r):2===t?n.error(e,r):3===t?n.success(e,r):n.info(e,r)},showConfirm:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,m.getAntd)().Modal.confirm({title:n.title||(0,m.getLabel)(131329,"信息确认"),content:React.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),okText:n.okText||(0,m.getLabel)(826,"确定"),cancelText:n.cancelText||(0,m.getLabel)(201,"取消"),onOk:function(){"function"===typeof t&&t()},onCancel:function(){"function"===typeof r&&r()}})},getSignRemark:function(){return window.CK_REF&&window.CK_REF.remark?window.CK_REF.remark.getData():""},setSignRemark:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3],o=c.default.globalStore,i=o.commonParam,a=o.changeSubmitParam,l=i.isHideInput;if(1==(void 0===l?"":l))return void a({remark:e});!function e(t,r,n,o){var i=c.default.globalStore,l=i.controlVariableMap,s=i.variableMap;if(!!s.has("isShowSignInput")&&s.get("isShowSignInput")||l("isShowSignInput",!0),window.CK_REF&&window.CK_REF.remark){var u=c.default.globalStore.markInfo,f=u.use_textarea_signinput,d="";1==f?(d=window.CK_REF?window.CK_REF.remark.getEditor().getData():"",d=(0,I.convertSpecialChar)(d),d=r?t:n?d+t:t+d,a({remark:d}),window.CK_REF.remark.setState({value:d}),"function"===typeof o&&o()):(d=window.CK_REF?window.CK_REF.remark.getEditor().getData():"",window.CK_REF.remark.insertHTML(t,n?"last":"first",r,o),t="<p>"+t+"</p>",d=r?t:n?d+t:t+d,a({remark:d})),window.REMARK_CK_REF&&window.REMARK_CK_REF.refs&&window.REMARK_CK_REF.refs.signInput&&window.REMARK_CK_REF.refs.signInput.doOnChangeEvent&&window.REMARK_CK_REF.refs.signInput.doOnChangeEvent(d)}else setTimeout(function(){e(t,r,n,o)},200)}(e,t,r,n)},reloadPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.default.globalStore.commonParam.requestid,r=(0,s.default)({requestid:t},e);(0,S.reloadRequestPage)(r)},reloadListPage:S.reloadListPage,downLoadFile:function(e){var t=c.default.globalStore.commonParam,r=t.requestid,n=t.authStr,o=t.authSignatureStr,i=t.f_weaver_belongto_userid,a=t.f_weaver_belongto_usertype,l="/weaver/weaver.file.FileDownload?fileid="+e+"&download=1&fromrequest=1";l+="&requestid="+r+"&authStr="+n+"&authSignatureStr="+o+"&f_weaver_belongto_userid="+i+"&f_weaver_belongto_usertype="+a;var s=window.navigator.userAgent;Number(s.replace(/^.*Chrome\/([\d]+).*$/,"$1"))>=73?window.open(l):jQuery("iframe#WfFormFileDownload").attr("src","about:blank").attr("src",l+"&random="+(new Date).getTime())},changeOdocConfig:function(e){c.default.layoutStore.setOdocInfo(e)},switchTab:function(e){(0,S.switchFormTab)(e)},doSave:function(){this.doRightBtnEvent("BTN_WFSAVE")},doSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return _.doSubmitForm({actiontype:"requestOperation",src:"submit",needwfback:e})},doIntervenor:function(){this.doRightBtnEvent("BTN_DOINTERVENOR")},doIntervenor4AutoTest:function(){h.doIntervenor()},doRightBtnEvent:function(e){try{var t=mobx.toJS(c.default.globalStore.rightMenu.rightMenus),r=void 0;t&&t.map(function(t){"string"===typeof e&&e===t.type?r=t:"object"===("undefined"===typeof e?"undefined":(0,a.default)(e))&&e.type===t.type&&e.menuFun===t.menuFun&&e.menuName===t.menuName&&(r=t)}),null!==r&&y.executeRightBtnClick(r,h)}catch(e){}},rightBtn:h,recordNewDocid:function(e){},generateFieldContentComp:function(e){var t=e.indexOf("_"),r=t>-1?e.substring(5,t):e.substring(5),n=t>-1?e.substring(t+1):-1,o=d.default.getFieldInfo(r),i=o.tableMark||"";if(""!==i){var a=i.indexOf("detail")>-1?{rowIndex:n}:{},l={id:"0,0",etype:"3",field:r};return React.createElement(C.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CellType@bpd2lq",symbol:i,cellObj:l,detailProps:a})}return React.createElement("span",null,"Field Not Exist")},appendSubmitParam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.forIn(e,function(t,r){g.indexOf(y.importantParamRange,r)>-1&&delete e[r]}),c.default.globalStore.changeSubmitParam(e)},getFirstRequiredEmptyField:function(){return _.verifyRequiredEmptyField()},verifyFormRequired:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!0;if(e&&(r=_.verifyMustAddDetail()),t&&r){var n=this.getFirstRequiredEmptyField();""!==n&&(r=!1,window.setTimeout(function(){E.showPrompt(n,1)},50))}return r}},O=(0,s.default)({},d.default,x);window.WfForm=O,window.wfform=O,window._writeBackData=function(e,t,r,n){try{if("object"!==("undefined"===typeof r?"undefined":(0,a.default)(r)))return;var o=r.id||"",i=r.name||"",l=jQuery.extend({replace:!1,isSingle:!0},n),s="",u=new Array;if(l.isSingle||l.replace)""!==(s=o)&&u.push({id:o,name:i});else{if(""===o||""===i)return;var c=O.getFieldValueObj(e)||{};s=(c.value||"")+","+o,u=(c.specialobj||new Array).concat([{id:o,name:i}])}O.changeFieldValue(e,{value:s,specialobj:u})}catch(e){window.console}}},,,,,function(e,t){function r(e,t){var r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"===typeof btoa){var i=n(o);return[r].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[r].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,r){"string"===typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"===typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"===typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=h[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(c(n.parts[i],t))}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(c(n.parts[i],t));h[n.id]={id:n.id,refs:1,parts:a}}}}function o(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],l=i[1],s=i[2],u=i[3],c={css:l,media:s,sourceMap:u};n[a]?n[a].parts.push(c):r.push(n[a]={id:a,parts:[c]})}return r}function i(e,t){var r=v(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=y[y.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),y.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!==typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=v(e.insertInto+" "+e.insertAt.before);r.insertBefore(t,o)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),i(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),i(e,t),t}function u(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function c(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var u=b++;r=g||(g=l(t)),n=f.bind(null,r,u,!1),o=f.bind(null,r,u,!0)}else e.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(r=s(t),n=p.bind(null,r,t),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=l(t),n=d.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function f(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=w(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}var h={},m=function(e){var t;return function(){return"undefined"===typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(r){if("undefined"===typeof t[r]){var n=e.call(this,r);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[r]=n}return t[r]}}(function(e){return document.querySelector(e)}),g=null,b=0,y=[],w=r(485);e.exports=function(e,t){if("undefined"!==typeof DEBUG&&DEBUG&&"object"!==typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"===typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=o(e,t);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var l=r[a],s=h[l.id];s.refs--,i.push(s)}if(e){n(o(e,t),t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete h[s.id]}}}};var _=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()}])});
//# sourceMappingURL=index.js.map?v=754af160