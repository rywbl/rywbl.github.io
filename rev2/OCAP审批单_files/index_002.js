!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("ecCom"),require("React"),require("mobx"),require("antd"),require("mobxReact"),require("comsMobx"),require("ReactRouter"),require("jQuery"),require("loadjs"),require("$"),require("ReactDOM")):"function"===typeof define&&define.amd?define(["ecCom","React","mobx","antd","mobxReact","comsMobx","ReactRouter","jQuery","loadjs","$","ReactDOM"],t):"object"===typeof exports?exports.weaOdoc=t(require("ecCom"),require("React"),require("mobx"),require("antd"),require("mobxReact"),require("comsMobx"),require("ReactRouter"),require("jQuery"),require("loadjs"),require("$"),require("ReactDOM")):e.weaOdoc=t(e.ecCom,e.React,e.mobx,e.antd,e.mobxReact,e.comsMobx,e.ReactRouter,e.jQuery,e.loadjs,e.$,e.ReactDOM)}(this,function(__WEBPACK_EXTERNAL_MODULE_0__,__WEBPACK_EXTERNAL_MODULE_7__,__WEBPACK_EXTERNAL_MODULE_8__,__WEBPACK_EXTERNAL_MODULE_9__,__WEBPACK_EXTERNAL_MODULE_10__,__WEBPACK_EXTERNAL_MODULE_11__,__WEBPACK_EXTERNAL_MODULE_16__,__WEBPACK_EXTERNAL_MODULE_56__,__WEBPACK_EXTERNAL_MODULE_84__,__WEBPACK_EXTERNAL_MODULE_148__,__WEBPACK_EXTERNAL_MODULE_158__){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/spa/odoc/static/",t.v="ecologyContentPath",t(t.s=253)}([function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_0__},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,o){"use strict";t.__esModule=!0;var n=o(12),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}()},function(e,t,o){e.exports={default:o(254),__esModule:!0}},function(e,t,o){"use strict";t.__esModule=!0;var n=o(52),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,r.default)(t))&&"function"!==typeof t?e:t}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(272),a=n(r),i=o(276),s=n(i),l=o(52),c=n(l);t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,o){"use strict";t.__esModule=!0;var n=o(21),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_7__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_8__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_9__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_10__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_11__},function(e,t,o){e.exports={default:o(256),__esModule:!0}},function(e,t,o){"use strict";function n(e){var t=window.ecologyContentPath||"";if(""!=t&&e&&""!=e)if(0==e.indexOf("/")&&0!=e.indexOf(t))e=t+e;else if(0==e.indexOf("http")){var o=window.location.origin;o||(o=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),0==e.indexOf(o)&&0!=e.indexOf(o+t)&&(e=e.replace(o,o+t))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,o){e.exports={default:o(293),__esModule:!0}},function(e,t){var o=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=o)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_16__},function(e,t,o){var n=o(18),r=o(15),a=o(32),i=o(36),s=o(37),l=function(e,t,o){var c,u,d,p=e&l.F,f=e&l.G,h=e&l.S,m=e&l.P,v=e&l.B,g=e&l.W,y=f?r:r[t]||(r[t]={}),b=y.prototype,w=f?n:h?n[t]:(n[t]||{}).prototype;f&&(o=t);for(c in o)(u=!p&&w&&void 0!==w[c])&&s(y,c)||(d=u?w[c]:o[c],y[c]=f&&"function"!=typeof w[c]?o[c]:v&&u?a(d,n):g&&w[c]==d?function(e){var t=function(t,o,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&i(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var o=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ODOC_TRANSFER_DIALOG="odoc_transfer_dialog",t.USUAL_DIRECTION_DIALOG="usual_direction_dialog",t.SELECT_DIRECTION_DIALOG="select_direction_dialog",t.ODOC_WITHDRAW_DIALOG="odoc_withdraw_dialog",t.ODOC_WITHDRAW_MANAGER_DIALOG="odoc_withdraw_manager_dialog",t.ODOC_UPDATEOPERATOR_DIALOG="odoc_updateoperator_dialog",t.ODOC_FILL_REMARK_DIALOG="odoc_fill_remark_dialog",t.ODOC_CHANGE_ODOC_TYPE_DIALOG="odoc_change_odoc_type_dialog",t.ODOC_APPEND_SIGNLOG="odoc_append_signlog",t.ODOC_APPEND_SIGNLOG_SELF="odoc_append_signlog_self",t.ODOC_UPDATE_SIGNLOG="odoc_update_signlog",t.ODOC_ADJUST_LOG="odoc_adjust_log",t.ODOC_ASSIGN_REMARK_LIST="odoc_assign_remark_list",t.ODOC_REJECT_DIALOG="odoc_reject_dialog",t.ODOC_NUMBER="odoc_number",t.ODOC_DISPATCH_DOC_DIALOG="odoc_dispatch_doc_dialog"},function(e,t,o){e.exports={default:o(311),__esModule:!0}},function(e,t,o){e.exports={default:o(108),__esModule:!0}},function(e,t,o){e.exports=!o(31)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,o){"use strict";t.__esModule=!0;var n=o(332),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return(0,r.default)(e)}},function(e,t,o){(function(e,n){var r;(function(){function a(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function i(e,t,o,n){for(var r=-1,a=null==e?0:e.length;++r<a;){var i=e[r];t(n,i,o(i),e)}return n}function s(e,t){for(var o=-1,n=null==e?0:e.length;++o<n&&!1!==t(e[o],o,e););return e}function l(e,t){for(var o=null==e?0:e.length;o--&&!1!==t(e[o],o,e););return e}function c(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(!t(e[o],o,e))return!1;return!0}function u(e,t){for(var o=-1,n=null==e?0:e.length,r=0,a=[];++o<n;){var i=e[o];t(i,o,e)&&(a[r++]=i)}return a}function d(e,t){return!!(null==e?0:e.length)&&_(e,t,0)>-1}function p(e,t,o){for(var n=-1,r=null==e?0:e.length;++n<r;)if(o(t,e[n]))return!0;return!1}function f(e,t){for(var o=-1,n=null==e?0:e.length,r=Array(n);++o<n;)r[o]=t(e[o],o,e);return r}function h(e,t){for(var o=-1,n=t.length,r=e.length;++o<n;)e[r+o]=t[o];return e}function m(e,t,o,n){var r=-1,a=null==e?0:e.length;for(n&&a&&(o=e[++r]);++r<a;)o=t(o,e[r],r,e);return o}function v(e,t,o,n){var r=null==e?0:e.length;for(n&&r&&(o=e[--r]);r--;)o=t(o,e[r],r,e);return o}function g(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}function y(e){return e.split("")}function b(e){return e.match(Mt)||[]}function w(e,t,o){var n;return o(e,function(e,o,r){if(t(e,o,r))return n=o,!1}),n}function S(e,t,o,n){for(var r=e.length,a=o+(n?1:-1);n?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function _(e,t,o){return t===t?Q(e,t,o):S(e,I,o)}function C(e,t,o,n){for(var r=o-1,a=e.length;++r<a;)if(n(e[r],t))return r;return-1}function I(e){return e!==e}function k(e,t){var o=null==e?0:e.length;return o?P(e,t)/o:Ae}function T(e){return function(t){return null==t?oe:t[e]}}function E(e){return function(t){return null==e?oe:e[t]}}function D(e,t,o,n,r){return r(e,function(e,r,a){o=n?(n=!1,e):t(o,e,r,a)}),o}function O(e,t){var o=e.length;for(e.sort(t);o--;)e[o]=e[o].value;return e}function P(e,t){for(var o,n=-1,r=e.length;++n<r;){var a=t(e[n]);a!==oe&&(o=o===oe?a:o+a)}return o}function W(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}function R(e,t){return f(t,function(t){return[t,e[t]]})}function A(e){return function(t){return e(t)}}function x(e,t){return f(t,function(t){return e[t]})}function L(e,t){return e.has(t)}function F(e,t){for(var o=-1,n=e.length;++o<n&&_(t,e[o],0)>-1;);return o}function M(e,t){for(var o=e.length;o--&&_(t,e[o],0)>-1;);return o}function N(e,t){for(var o=e.length,n=0;o--;)e[o]===t&&++n;return n}function j(e){return"\\"+ko[e]}function z(e,t){return null==e?oe:e[t]}function B(e){return vo.test(e)}function q(e){return go.test(e)}function K(e){for(var t,o=[];!(t=e.next()).done;)o.push(t.value);return o}function U(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}function V(e,t){return function(o){return e(t(o))}}function H(e,t){for(var o=-1,n=e.length,r=0,a=[];++o<n;){var i=e[o];i!==t&&i!==le||(e[o]=le,a[r++]=o)}return a}function G(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}function J(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=[e,e]}),o}function Q(e,t,o){for(var n=o-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function Y(e,t,o){for(var n=o+1;n--;)if(e[n]===t)return n;return n}function X(e){return B(e)?Z(e):qo(e)}function $(e){return B(e)?ee(e):y(e)}function Z(e){for(var t=ho.lastIndex=0;ho.test(e);)++t;return t}function ee(e){return e.match(ho)||[]}function te(e){return e.match(mo)||[]}var oe,ne=200,re="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ae="Expected a function",ie="__lodash_hash_undefined__",se=500,le="__lodash_placeholder__",ce=1,ue=2,de=4,pe=1,fe=2,he=1,me=2,ve=4,ge=8,ye=16,be=32,we=64,Se=128,_e=256,Ce=512,Ie=30,ke="...",Te=800,Ee=16,De=1,Oe=2,Pe=1/0,We=9007199254740991,Re=1.7976931348623157e308,Ae=NaN,xe=4294967295,Le=xe-1,Fe=xe>>>1,Me=[["ary",Se],["bind",he],["bindKey",me],["curry",ge],["curryRight",ye],["flip",Ce],["partial",be],["partialRight",we],["rearg",_e]],Ne="[object Arguments]",je="[object Array]",ze="[object AsyncFunction]",Be="[object Boolean]",qe="[object Date]",Ke="[object DOMException]",Ue="[object Error]",Ve="[object Function]",He="[object GeneratorFunction]",Ge="[object Map]",Je="[object Number]",Qe="[object Null]",Ye="[object Object]",Xe="[object Proxy]",$e="[object RegExp]",Ze="[object Set]",et="[object String]",tt="[object Symbol]",ot="[object Undefined]",nt="[object WeakMap]",rt="[object WeakSet]",at="[object ArrayBuffer]",it="[object DataView]",st="[object Float32Array]",lt="[object Float64Array]",ct="[object Int8Array]",ut="[object Int16Array]",dt="[object Int32Array]",pt="[object Uint8Array]",ft="[object Uint8ClampedArray]",ht="[object Uint16Array]",mt="[object Uint32Array]",vt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,St=RegExp(bt.source),_t=RegExp(wt.source),Ct=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(Ot.source),Wt=/^\s+|\s+$/g,Rt=/^\s+/,At=/\s+$/,xt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Mt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zt=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Kt=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gt=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Yt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="["+Yt+"]",$t="["+Qt+"]",Zt="[a-z\\xdf-\\xf6\\xf8-\\xff]",eo="[^\\ud800-\\udfff"+Yt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",to="\\ud83c[\\udffb-\\udfff]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",no="[\\ud800-\\udbff][\\udc00-\\udfff]",ro="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ao="(?:"+Zt+"|"+eo+")",io="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",so="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",oo,no].join("|")+")[\\ufe0e\\ufe0f]?"+io+")*",lo="[\\ufe0e\\ufe0f]?"+io+so,co="(?:"+["[\\u2700-\\u27bf]",oo,no].join("|")+")"+lo,uo="(?:"+["[^\\ud800-\\udfff]"+$t+"?",$t,oo,no,"[\\ud800-\\udfff]"].join("|")+")",po=RegExp("['’]","g"),fo=RegExp($t,"g"),ho=RegExp(to+"(?="+to+")|"+uo+lo,"g"),mo=RegExp([ro+"?"+Zt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Xt,ro,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Xt,ro+ao,"$"].join("|")+")",ro+"?"+ao+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ro+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",co].join("|"),"g"),vo=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bo=-1,wo={};wo[st]=wo[lt]=wo[ct]=wo[ut]=wo[dt]=wo[pt]=wo[ft]=wo[ht]=wo[mt]=!0,wo[Ne]=wo[je]=wo[at]=wo[Be]=wo[it]=wo[qe]=wo[Ue]=wo[Ve]=wo[Ge]=wo[Je]=wo[Ye]=wo[$e]=wo[Ze]=wo[et]=wo[nt]=!1;var So={};So[Ne]=So[je]=So[at]=So[it]=So[Be]=So[qe]=So[st]=So[lt]=So[ct]=So[ut]=So[dt]=So[Ge]=So[Je]=So[Ye]=So[$e]=So[Ze]=So[et]=So[tt]=So[pt]=So[ft]=So[ht]=So[mt]=!0,So[Ue]=So[Ve]=So[nt]=!1;var _o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Co={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Io={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},To=parseFloat,Eo=parseInt,Do="object"==typeof e&&e&&e.Object===Object&&e,Oo="object"==typeof self&&self&&self.Object===Object&&self,Po=Do||Oo||Function("return this")(),Wo="object"==typeof t&&t&&!t.nodeType&&t,Ro=Wo&&"object"==typeof n&&n&&!n.nodeType&&n,Ao=Ro&&Ro.exports===Wo,xo=Ao&&Do.process,Lo=function(){try{var e=Ro&&Ro.require&&Ro.require("util").types;return e||xo&&xo.binding&&xo.binding("util")}catch(e){}}(),Fo=Lo&&Lo.isArrayBuffer,Mo=Lo&&Lo.isDate,No=Lo&&Lo.isMap,jo=Lo&&Lo.isRegExp,zo=Lo&&Lo.isSet,Bo=Lo&&Lo.isTypedArray,qo=T("length"),Ko=E(_o),Uo=E(Co),Vo=E(Io),Ho=function e(t){function o(e){if(tl(e)&&!pp(e)&&!(e instanceof y)){if(e instanceof r)return e;if(pu.call(e,"__wrapped__"))return $a(e)}return new r(e)}function n(){}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=oe}function y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xe,this.__views__=[]}function E(){var e=new y(this.__wrapped__);return e.__actions__=Ar(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ar(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ar(this.__views__),e}function Q(){if(this.__filtered__){var e=new y(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Z(){var e=this.__wrapped__.value(),t=this.__dir__,o=pp(e),n=t<0,r=o?e.length:0,a=_a(0,r,this.__views__),i=a.start,s=a.end,l=s-i,c=n?s:i-1,u=this.__iteratees__,d=u.length,p=0,f=qu(l,this.__takeCount__);if(!o||!n&&r==l&&f==l)return vr(e,this.__actions__);var h=[];e:for(;l--&&p<f;){c+=t;for(var m=-1,v=e[c];++m<d;){var g=u[m],y=g.iteratee,b=g.type,w=y(v);if(b==Oe)v=w;else if(!w){if(b==De)continue e;break e}}h[p++]=v}return h}function ee(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function Mt(){this.__data__=$u?$u(null):{},this.size=0}function Qt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Yt(e){var t=this.__data__;if($u){var o=t[e];return o===ie?oe:o}return pu.call(t,e)?t[e]:oe}function Xt(e){var t=this.__data__;return $u?t[e]!==oe:pu.call(t,e)}function $t(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=$u&&t===oe?ie:t,this}function Zt(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function eo(){this.__data__=[],this.size=0}function to(e){var t=this.__data__,o=Go(t,e);return!(o<0)&&(o==t.length-1?t.pop():Tu.call(t,o,1),--this.size,!0)}function oo(e){var t=this.__data__,o=Go(t,e);return o<0?oe:t[o][1]}function no(e){return Go(this.__data__,e)>-1}function ro(e,t){var o=this.__data__,n=Go(o,e);return n<0?(++this.size,o.push([e,t])):o[n][1]=t,this}function ao(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function io(){this.size=0,this.__data__={hash:new ee,map:new(Ju||Zt),string:new ee}}function so(e){var t=ya(this,e).delete(e);return this.size-=t?1:0,t}function lo(e){return ya(this,e).get(e)}function co(e){return ya(this,e).has(e)}function uo(e,t){var o=ya(this,e),n=o.size;return o.set(e,t),this.size+=o.size==n?0:1,this}function ho(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new ao;++t<o;)this.add(e[t])}function mo(e){return this.__data__.set(e,ie),this}function vo(e){return this.__data__.has(e)}function go(e){var t=this.__data__=new Zt(e);this.size=t.size}function _o(){this.__data__=new Zt,this.size=0}function Co(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o}function Io(e){return this.__data__.get(e)}function ko(e){return this.__data__.has(e)}function Do(e,t){var o=this.__data__;if(o instanceof Zt){var n=o.__data__;if(!Ju||n.length<ne-1)return n.push([e,t]),this.size=++o.size,this;o=this.__data__=new ao(n)}return o.set(e,t),this.size=o.size,this}function Oo(e,t){var o=pp(e),n=!o&&dp(e),r=!o&&!n&&hp(e),a=!o&&!n&&!r&&bp(e),i=o||n||r||a,s=i?W(e.length,au):[],l=s.length;for(var c in e)!t&&!pu.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Pa(c,l))||s.push(c);return s}function Wo(e){var t=e.length;return t?e[Xn(0,t-1)]:oe}function Ro(e,t){return Ja(Ar(e),Zo(t,0,e.length))}function xo(e){return Ja(Ar(e))}function Lo(e,t,o){(o===oe||Bs(e[t],o))&&(o!==oe||t in e)||Xo(e,t,o)}function qo(e,t,o){var n=e[t];pu.call(e,t)&&Bs(n,o)&&(o!==oe||t in e)||Xo(e,t,o)}function Go(e,t){for(var o=e.length;o--;)if(Bs(e[o][0],t))return o;return-1}function Jo(e,t,o,n){return ud(e,function(e,r,a){t(n,e,o(e),a)}),n}function Qo(e,t){return e&&xr(t,Fl(t),e)}function Yo(e,t){return e&&xr(t,Ml(t),e)}function Xo(e,t,o){"__proto__"==t&&Pu?Pu(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}function $o(e,t){for(var o=-1,n=t.length,r=$c(n),a=null==e;++o<n;)r[o]=a?oe:Al(e,t[o]);return r}function Zo(e,t,o){return e===e&&(o!==oe&&(e=e<=o?e:o),t!==oe&&(e=e>=t?e:t)),e}function en(e,t,o,n,r,a){var i,l=t&ce,c=t&ue,u=t&de;if(o&&(i=r?o(e,n,r,a):o(e)),i!==oe)return i;if(!el(e))return e;var d=pp(e);if(d){if(i=ka(e),!l)return Ar(e,i)}else{var p=_d(e),f=p==Ve||p==He;if(hp(e))return Cr(e,l);if(p==Ye||p==Ne||f&&!r){if(i=c||f?{}:Ta(e),!l)return c?Fr(e,Yo(i,e)):Lr(e,Qo(i,e))}else{if(!So[p])return r?e:{};i=Ea(e,p,l)}}a||(a=new go);var h=a.get(e);if(h)return h;a.set(e,i),yp(e)?e.forEach(function(n){i.add(en(n,t,o,n,e,a))}):vp(e)&&e.forEach(function(n,r){i.set(r,en(n,t,o,r,e,a))});var m=u?c?ha:fa:c?Ml:Fl,v=d?oe:m(e);return s(v||e,function(n,r){v&&(r=n,n=e[r]),qo(i,r,en(n,t,o,r,e,a))}),i}function tn(e){var t=Fl(e);return function(o){return on(o,e,t)}}function on(e,t,o){var n=o.length;if(null==e)return!n;for(e=nu(e);n--;){var r=o[n],a=t[r],i=e[r];if(i===oe&&!(r in e)||!a(i))return!1}return!0}function nn(e,t,o){if("function"!=typeof e)throw new iu(ae);return kd(function(){e.apply(oe,o)},t)}function rn(e,t,o,n){var r=-1,a=d,i=!0,s=e.length,l=[],c=t.length;if(!s)return l;o&&(t=f(t,A(o))),n?(a=p,i=!1):t.length>=ne&&(a=L,i=!1,t=new ho(t));e:for(;++r<s;){var u=e[r],h=null==o?u:o(u);if(u=n||0!==u?u:0,i&&h===h){for(var m=c;m--;)if(t[m]===h)continue e;l.push(u)}else a(t,h,n)||l.push(u)}return l}function an(e,t){var o=!0;return ud(e,function(e,n,r){return o=!!t(e,n,r)}),o}function sn(e,t,o){for(var n=-1,r=e.length;++n<r;){var a=e[n],i=t(a);if(null!=i&&(s===oe?i===i&&!pl(i):o(i,s)))var s=i,l=a}return l}function ln(e,t,o,n){var r=e.length;for(o=yl(o),o<0&&(o=-o>r?0:r+o),n=n===oe||n>r?r:yl(n),n<0&&(n+=r),n=o>n?0:bl(n);o<n;)e[o++]=t;return e}function cn(e,t){var o=[];return ud(e,function(e,n,r){t(e,n,r)&&o.push(e)}),o}function un(e,t,o,n,r){var a=-1,i=e.length;for(o||(o=Oa),r||(r=[]);++a<i;){var s=e[a];t>0&&o(s)?t>1?un(s,t-1,o,n,r):h(r,s):n||(r[r.length]=s)}return r}function dn(e,t){return e&&pd(e,t,Fl)}function pn(e,t){return e&&fd(e,t,Fl)}function fn(e,t){return u(t,function(t){return Xs(e[t])})}function hn(e,t){t=Sr(t,e);for(var o=0,n=t.length;null!=e&&o<n;)e=e[Qa(t[o++])];return o&&o==n?e:oe}function mn(e,t,o){var n=t(e);return pp(e)?n:h(n,o(e))}function vn(e){return null==e?e===oe?ot:Qe:Ou&&Ou in nu(e)?Sa(e):Ba(e)}function gn(e,t){return e>t}function yn(e,t){return null!=e&&pu.call(e,t)}function bn(e,t){return null!=e&&t in nu(e)}function wn(e,t,o){return e>=qu(t,o)&&e<Bu(t,o)}function Sn(e,t,o){for(var n=o?p:d,r=e[0].length,a=e.length,i=a,s=$c(a),l=1/0,c=[];i--;){var u=e[i];i&&t&&(u=f(u,A(t))),l=qu(u.length,l),s[i]=!o&&(t||r>=120&&u.length>=120)?new ho(i&&u):oe}u=e[0];var h=-1,m=s[0];e:for(;++h<r&&c.length<l;){var v=u[h],g=t?t(v):v;if(v=o||0!==v?v:0,!(m?L(m,g):n(c,g,o))){for(i=a;--i;){var y=s[i];if(!(y?L(y,g):n(e[i],g,o)))continue e}m&&m.push(g),c.push(v)}}return c}function _n(e,t,o,n){return dn(e,function(e,r,a){t(n,o(e),r,a)}),n}function Cn(e,t,o){t=Sr(t,e),e=Ka(e,t);var n=null==e?e:e[Qa(gi(t))];return null==n?oe:a(n,e,o)}function In(e){return tl(e)&&vn(e)==Ne}function kn(e){return tl(e)&&vn(e)==at}function Tn(e){return tl(e)&&vn(e)==qe}function En(e,t,o,n,r){return e===t||(null==e||null==t||!tl(e)&&!tl(t)?e!==e&&t!==t:Dn(e,t,o,n,En,r))}function Dn(e,t,o,n,r,a){var i=pp(e),s=pp(t),l=i?je:_d(e),c=s?je:_d(t);l=l==Ne?Ye:l,c=c==Ne?Ye:c;var u=l==Ye,d=c==Ye,p=l==c;if(p&&hp(e)){if(!hp(t))return!1;i=!0,u=!1}if(p&&!u)return a||(a=new go),i||bp(e)?ca(e,t,o,n,r,a):ua(e,t,l,o,n,r,a);if(!(o&pe)){var f=u&&pu.call(e,"__wrapped__"),h=d&&pu.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,v=h?t.value():t;return a||(a=new go),r(m,v,o,n,a)}}return!!p&&(a||(a=new go),da(e,t,o,n,r,a))}function On(e){return tl(e)&&_d(e)==Ge}function Pn(e,t,o,n){var r=o.length,a=r,i=!n;if(null==e)return!a;for(e=nu(e);r--;){var s=o[r];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){s=o[r];var l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===oe&&!(l in e))return!1}else{var d=new go;if(n)var p=n(c,u,l,e,t,d);if(!(p===oe?En(u,c,pe|fe,n,d):p))return!1}}return!0}function Wn(e){return!(!el(e)||La(e))&&(Xs(e)?yu:Kt).test(Ya(e))}function Rn(e){return tl(e)&&vn(e)==$e}function An(e){return tl(e)&&_d(e)==Ze}function xn(e){return tl(e)&&Zs(e.length)&&!!wo[vn(e)]}function Ln(e){return"function"==typeof e?e:null==e?Tc:"object"==typeof e?pp(e)?Bn(e[0],e[1]):zn(e):xc(e)}function Fn(e){if(!Fa(e))return zu(e);var t=[];for(var o in nu(e))pu.call(e,o)&&"constructor"!=o&&t.push(o);return t}function Mn(e){if(!el(e))return za(e);var t=Fa(e),o=[];for(var n in e)("constructor"!=n||!t&&pu.call(e,n))&&o.push(n);return o}function Nn(e,t){return e<t}function jn(e,t){var o=-1,n=qs(e)?$c(e.length):[];return ud(e,function(e,r,a){n[++o]=t(e,r,a)}),n}function zn(e){var t=ba(e);return 1==t.length&&t[0][2]?Na(t[0][0],t[0][1]):function(o){return o===e||Pn(o,e,t)}}function Bn(e,t){return Ra(e)&&Ma(t)?Na(Qa(e),t):function(o){var n=Al(o,e);return n===oe&&n===t?Ll(o,e):En(t,n,pe|fe)}}function qn(e,t,o,n,r){e!==t&&pd(t,function(a,i){if(r||(r=new go),el(a))Kn(e,t,i,o,qn,n,r);else{var s=n?n(Va(e,i),a,i+"",e,t,r):oe;s===oe&&(s=a),Lo(e,i,s)}},Ml)}function Kn(e,t,o,n,r,a,i){var s=Va(e,o),l=Va(t,o),c=i.get(l);if(c)return void Lo(e,o,c);var u=a?a(s,l,o+"",e,t,i):oe,d=u===oe;if(d){var p=pp(l),f=!p&&hp(l),h=!p&&!f&&bp(l);u=l,p||f||h?pp(s)?u=s:Ks(s)?u=Ar(s):f?(d=!1,u=Cr(l,!0)):h?(d=!1,u=Dr(l,!0)):u=[]:cl(l)||dp(l)?(u=s,dp(s)?u=Sl(s):el(s)&&!Xs(s)||(u=Ta(l))):d=!1}d&&(i.set(l,u),r(u,l,n,a,i),i.delete(l)),Lo(e,o,u)}function Un(e,t){var o=e.length;if(o)return t+=t<0?o:0,Pa(t,o)?e[t]:oe}function Vn(e,t,o){var n=-1;return t=f(t.length?t:[Tc],A(ga())),O(jn(e,function(e,o,r){return{criteria:f(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return Pr(e,t,o)})}function Hn(e,t){return Gn(e,t,function(t,o){return Ll(e,o)})}function Gn(e,t,o){for(var n=-1,r=t.length,a={};++n<r;){var i=t[n],s=hn(e,i);o(s,i)&&nr(a,Sr(i,e),s)}return a}function Jn(e){return function(t){return hn(t,e)}}function Qn(e,t,o,n){var r=n?C:_,a=-1,i=t.length,s=e;for(e===t&&(t=Ar(t)),o&&(s=f(e,A(o)));++a<i;)for(var l=0,c=t[a],u=o?o(c):c;(l=r(s,u,l,n))>-1;)s!==e&&Tu.call(s,l,1),Tu.call(e,l,1);return e}function Yn(e,t){for(var o=e?t.length:0,n=o-1;o--;){var r=t[o];if(o==n||r!==a){var a=r;Pa(r)?Tu.call(e,r,1):fr(e,r)}}return e}function Xn(e,t){return e+Lu(Vu()*(t-e+1))}function $n(e,t,o,n){for(var r=-1,a=Bu(xu((t-e)/(o||1)),0),i=$c(a);a--;)i[n?a:++r]=e,e+=o;return i}function Zn(e,t){var o="";if(!e||t<1||t>We)return o;do{t%2&&(o+=e),(t=Lu(t/2))&&(e+=e)}while(t);return o}function er(e,t){return Td(qa(e,t,Tc),e+"")}function tr(e){return Wo(Ql(e))}function or(e,t){var o=Ql(e);return Ja(o,Zo(t,0,o.length))}function nr(e,t,o,n){if(!el(e))return e;t=Sr(t,e);for(var r=-1,a=t.length,i=a-1,s=e;null!=s&&++r<a;){var l=Qa(t[r]),c=o;if(r!=i){var u=s[l];c=n?n(u,l,s):oe,c===oe&&(c=el(u)?u:Pa(t[r+1])?[]:{})}qo(s,l,c),s=s[l]}return e}function rr(e){return Ja(Ql(e))}function ar(e,t,o){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),o=o>r?r:o,o<0&&(o+=r),r=t>o?0:o-t>>>0,t>>>=0;for(var a=$c(r);++n<r;)a[n]=e[n+t];return a}function ir(e,t){var o;return ud(e,function(e,n,r){return!(o=t(e,n,r))}),!!o}function sr(e,t,o){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t===t&&r<=Fe){for(;n<r;){var a=n+r>>>1,i=e[a];null!==i&&!pl(i)&&(o?i<=t:i<t)?n=a+1:r=a}return r}return lr(e,t,Tc,o)}function lr(e,t,o,n){t=o(t);for(var r=0,a=null==e?0:e.length,i=t!==t,s=null===t,l=pl(t),c=t===oe;r<a;){var u=Lu((r+a)/2),d=o(e[u]),p=d!==oe,f=null===d,h=d===d,m=pl(d);if(i)var v=n||h;else v=c?h&&(n||p):s?h&&p&&(n||!f):l?h&&p&&!f&&(n||!m):!f&&!m&&(n?d<=t:d<t);v?r=u+1:a=u}return qu(a,Le)}function cr(e,t){for(var o=-1,n=e.length,r=0,a=[];++o<n;){var i=e[o],s=t?t(i):i;if(!o||!Bs(s,l)){var l=s;a[r++]=0===i?0:i}}return a}function ur(e){return"number"==typeof e?e:pl(e)?Ae:+e}function dr(e){if("string"==typeof e)return e;if(pp(e))return f(e,dr)+"";if(pl(e))return ld?ld.call(e):"";var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function pr(e,t,o){var n=-1,r=d,a=e.length,i=!0,s=[],l=s;if(o)i=!1,r=p;else if(a>=ne){var c=t?null:yd(e);if(c)return G(c);i=!1,r=L,l=new ho}else l=t?[]:s;e:for(;++n<a;){var u=e[n],f=t?t(u):u;if(u=o||0!==u?u:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(u)}else r(l,f,o)||(l!==s&&l.push(f),s.push(u))}return s}function fr(e,t){return t=Sr(t,e),null==(e=Ka(e,t))||delete e[Qa(gi(t))]}function hr(e,t,o,n){return nr(e,t,o(hn(e,t)),n)}function mr(e,t,o,n){for(var r=e.length,a=n?r:-1;(n?a--:++a<r)&&t(e[a],a,e););return o?ar(e,n?0:a,n?a+1:r):ar(e,n?a+1:0,n?r:a)}function vr(e,t){var o=e;return o instanceof y&&(o=o.value()),m(t,function(e,t){return t.func.apply(t.thisArg,h([e],t.args))},o)}function gr(e,t,o){var n=e.length;if(n<2)return n?pr(e[0]):[];for(var r=-1,a=$c(n);++r<n;)for(var i=e[r],s=-1;++s<n;)s!=r&&(a[r]=rn(a[r]||i,e[s],t,o));return pr(un(a,1),t,o)}function yr(e,t,o){for(var n=-1,r=e.length,a=t.length,i={};++n<r;){var s=n<a?t[n]:oe;o(i,e[n],s)}return i}function br(e){return Ks(e)?e:[]}function wr(e){return"function"==typeof e?e:Tc}function Sr(e,t){return pp(e)?e:Ra(e,t)?[e]:Ed(Cl(e))}function _r(e,t,o){var n=e.length;return o=o===oe?n:o,!t&&o>=n?e:ar(e,t,o)}function Cr(e,t){if(t)return e.slice();var o=e.length,n=_u?_u(o):new e.constructor(o);return e.copy(n),n}function Ir(e){var t=new e.constructor(e.byteLength);return new Su(t).set(new Su(e)),t}function kr(e,t){var o=t?Ir(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function Tr(e){var t=new e.constructor(e.source,zt.exec(e));return t.lastIndex=e.lastIndex,t}function Er(e){return sd?nu(sd.call(e)):{}}function Dr(e,t){var o=t?Ir(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Or(e,t){if(e!==t){var o=e!==oe,n=null===e,r=e===e,a=pl(e),i=t!==oe,s=null===t,l=t===t,c=pl(t);if(!s&&!c&&!a&&e>t||a&&i&&l&&!s&&!c||n&&i&&l||!o&&l||!r)return 1;if(!n&&!a&&!c&&e<t||c&&o&&r&&!n&&!a||s&&o&&r||!i&&r||!l)return-1}return 0}function Pr(e,t,o){for(var n=-1,r=e.criteria,a=t.criteria,i=r.length,s=o.length;++n<i;){var l=Or(r[n],a[n]);if(l){if(n>=s)return l;return l*("desc"==o[n]?-1:1)}}return e.index-t.index}function Wr(e,t,o,n){for(var r=-1,a=e.length,i=o.length,s=-1,l=t.length,c=Bu(a-i,0),u=$c(l+c),d=!n;++s<l;)u[s]=t[s];for(;++r<i;)(d||r<a)&&(u[o[r]]=e[r]);for(;c--;)u[s++]=e[r++];return u}function Rr(e,t,o,n){for(var r=-1,a=e.length,i=-1,s=o.length,l=-1,c=t.length,u=Bu(a-s,0),d=$c(u+c),p=!n;++r<u;)d[r]=e[r];for(var f=r;++l<c;)d[f+l]=t[l];for(;++i<s;)(p||r<a)&&(d[f+o[i]]=e[r++]);return d}function Ar(e,t){var o=-1,n=e.length;for(t||(t=$c(n));++o<n;)t[o]=e[o];return t}function xr(e,t,o,n){var r=!o;o||(o={});for(var a=-1,i=t.length;++a<i;){var s=t[a],l=n?n(o[s],e[s],s,o,e):oe;l===oe&&(l=e[s]),r?Xo(o,s,l):qo(o,s,l)}return o}function Lr(e,t){return xr(e,wd(e),t)}function Fr(e,t){return xr(e,Sd(e),t)}function Mr(e,t){return function(o,n){var r=pp(o)?i:Jo,a=t?t():{};return r(o,e,ga(n,2),a)}}function Nr(e){return er(function(t,o){var n=-1,r=o.length,a=r>1?o[r-1]:oe,i=r>2?o[2]:oe;for(a=e.length>3&&"function"==typeof a?(r--,a):oe,i&&Wa(o[0],o[1],i)&&(a=r<3?oe:a,r=1),t=nu(t);++n<r;){var s=o[n];s&&e(t,s,n,a)}return t})}function jr(e,t){return function(o,n){if(null==o)return o;if(!qs(o))return e(o,n);for(var r=o.length,a=t?r:-1,i=nu(o);(t?a--:++a<r)&&!1!==n(i[a],a,i););return o}}function zr(e){return function(t,o,n){for(var r=-1,a=nu(t),i=n(t),s=i.length;s--;){var l=i[e?s:++r];if(!1===o(a[l],l,a))break}return t}}function Br(e,t,o){function n(){return(this&&this!==Po&&this instanceof n?a:e).apply(r?o:this,arguments)}var r=t&he,a=Ur(e);return n}function qr(e){return function(t){t=Cl(t);var o=B(t)?$(t):oe,n=o?o[0]:t.charAt(0),r=o?_r(o,1).join(""):t.slice(1);return n[e]()+r}}function Kr(e){return function(t){return m(Sc(tc(t).replace(po,"")),e,"")}}function Ur(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var o=cd(e.prototype),n=e.apply(o,t);return el(n)?n:o}}function Vr(e,t,o){function n(){for(var i=arguments.length,s=$c(i),l=i,c=va(n);l--;)s[l]=arguments[l];var u=i<3&&s[0]!==c&&s[i-1]!==c?[]:H(s,c);return(i-=u.length)<o?oa(e,t,Jr,n.placeholder,oe,s,u,oe,oe,o-i):a(this&&this!==Po&&this instanceof n?r:e,this,s)}var r=Ur(e);return n}function Hr(e){return function(t,o,n){var r=nu(t);if(!qs(t)){var a=ga(o,3);t=Fl(t),o=function(e){return a(r[e],e,r)}}var i=e(t,o,n);return i>-1?r[a?t[i]:i]:oe}}function Gr(e){return pa(function(t){var o=t.length,n=o,a=r.prototype.thru;for(e&&t.reverse();n--;){var i=t[n];if("function"!=typeof i)throw new iu(ae);if(a&&!s&&"wrapper"==ma(i))var s=new r([],!0)}for(n=s?n:o;++n<o;){i=t[n];var l=ma(i),c="wrapper"==l?bd(i):oe;s=c&&xa(c[0])&&c[1]==(Se|ge|be|_e)&&!c[4].length&&1==c[9]?s[ma(c[0])].apply(s,c[3]):1==i.length&&xa(i)?s[l]():s.thru(i)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&pp(n))return s.plant(n).value();for(var r=0,a=o?t[r].apply(this,e):n;++r<o;)a=t[r].call(this,a);return a}})}function Jr(e,t,o,n,r,a,i,s,l,c){function u(){for(var g=arguments.length,y=$c(g),b=g;b--;)y[b]=arguments[b];if(h)var w=va(u),S=N(y,w);if(n&&(y=Wr(y,n,r,h)),a&&(y=Rr(y,a,i,h)),g-=S,h&&g<c){var _=H(y,w);return oa(e,t,Jr,u.placeholder,o,y,_,s,l,c-g)}var C=p?o:this,I=f?C[e]:e;return g=y.length,s?y=Ua(y,s):m&&g>1&&y.reverse(),d&&l<g&&(y.length=l),this&&this!==Po&&this instanceof u&&(I=v||Ur(I)),I.apply(C,y)}var d=t&Se,p=t&he,f=t&me,h=t&(ge|ye),m=t&Ce,v=f?oe:Ur(e);return u}function Qr(e,t){return function(o,n){return _n(o,e,t(n),{})}}function Yr(e,t){return function(o,n){var r;if(o===oe&&n===oe)return t;if(o!==oe&&(r=o),n!==oe){if(r===oe)return n;"string"==typeof o||"string"==typeof n?(o=dr(o),n=dr(n)):(o=ur(o),n=ur(n)),r=e(o,n)}return r}}function Xr(e){return pa(function(t){return t=f(t,A(ga())),er(function(o){var n=this;return e(t,function(e){return a(e,n,o)})})})}function $r(e,t){t=t===oe?" ":dr(t);var o=t.length;if(o<2)return o?Zn(t,e):t;var n=Zn(t,xu(e/X(t)));return B(t)?_r($(n),0,e).join(""):n.slice(0,e)}function Zr(e,t,o,n){function r(){for(var t=-1,l=arguments.length,c=-1,u=n.length,d=$c(u+l),p=this&&this!==Po&&this instanceof r?s:e;++c<u;)d[c]=n[c];for(;l--;)d[c++]=arguments[++t];return a(p,i?o:this,d)}var i=t&he,s=Ur(e);return r}function ea(e){return function(t,o,n){return n&&"number"!=typeof n&&Wa(t,o,n)&&(o=n=oe),t=gl(t),o===oe?(o=t,t=0):o=gl(o),n=n===oe?t<o?1:-1:gl(n),$n(t,o,n,e)}}function ta(e){return function(t,o){return"string"==typeof t&&"string"==typeof o||(t=wl(t),o=wl(o)),e(t,o)}}function oa(e,t,o,n,r,a,i,s,l,c){var u=t&ge,d=u?i:oe,p=u?oe:i,f=u?a:oe,h=u?oe:a;t|=u?be:we,(t&=~(u?we:be))&ve||(t&=~(he|me));var m=[e,t,r,f,d,h,p,s,l,c],v=o.apply(oe,m);return xa(e)&&Id(v,m),v.placeholder=n,Ha(v,e,t)}function na(e){var t=ou[e];return function(e,o){if(e=wl(e),(o=null==o?0:qu(yl(o),292))&&Nu(e)){var n=(Cl(e)+"e").split("e");return n=(Cl(t(n[0]+"e"+(+n[1]+o)))+"e").split("e"),+(n[0]+"e"+(+n[1]-o))}return t(e)}}function ra(e){return function(t){var o=_d(t);return o==Ge?U(t):o==Ze?J(t):R(t,e(t))}}function aa(e,t,o,n,r,a,i,s){var l=t&me;if(!l&&"function"!=typeof e)throw new iu(ae);var c=n?n.length:0;if(c||(t&=~(be|we),n=r=oe),i=i===oe?i:Bu(yl(i),0),s=s===oe?s:yl(s),c-=r?r.length:0,t&we){var u=n,d=r;n=r=oe}var p=l?oe:bd(e),f=[e,t,o,n,r,u,d,a,i,s];if(p&&ja(f,p),e=f[0],t=f[1],o=f[2],n=f[3],r=f[4],s=f[9]=f[9]===oe?l?0:e.length:Bu(f[9]-c,0),!s&&t&(ge|ye)&&(t&=~(ge|ye)),t&&t!=he)h=t==ge||t==ye?Vr(e,t,s):t!=be&&t!=(he|be)||r.length?Jr.apply(oe,f):Zr(e,t,o,n);else var h=Br(e,t,o);return Ha((p?hd:Id)(h,f),e,t)}function ia(e,t,o,n){return e===oe||Bs(e,cu[o])&&!pu.call(n,o)?t:e}function sa(e,t,o,n,r,a){return el(e)&&el(t)&&(a.set(t,e),qn(e,t,oe,sa,a),a.delete(t)),e}function la(e){return cl(e)?oe:e}function ca(e,t,o,n,r,a){var i=o&pe,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var u=-1,d=!0,p=o&fe?new ho:oe;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],h=t[u];if(n)var m=i?n(h,f,u,t,e,a):n(f,h,u,e,t,a);if(m!==oe){if(m)continue;d=!1;break}if(p){if(!g(t,function(e,t){if(!L(p,t)&&(f===e||r(f,e,o,n,a)))return p.push(t)})){d=!1;break}}else if(f!==h&&!r(f,h,o,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ua(e,t,o,n,r,a,i){switch(o){case it:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!a(new Su(e),new Su(t)));case Be:case qe:case Je:return Bs(+e,+t);case Ue:return e.name==t.name&&e.message==t.message;case $e:case et:return e==t+"";case Ge:var s=U;case Ze:var l=n&pe;if(s||(s=G),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=fe,i.set(e,t);var u=ca(s(e),s(t),n,r,a,i);return i.delete(e),u;case tt:if(sd)return sd.call(e)==sd.call(t)}return!1}function da(e,t,o,n,r,a){var i=o&pe,s=fa(e),l=s.length;if(l!=fa(t).length&&!i)return!1;for(var c=l;c--;){var u=s[c];if(!(i?u in t:pu.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=i;++c<l;){u=s[c];var h=e[u],m=t[u];if(n)var v=i?n(m,h,u,t,e,a):n(h,m,u,e,t,a);if(!(v===oe?h===m||r(h,m,o,n,a):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(p=!1)}return a.delete(e),a.delete(t),p}function pa(e){return Td(qa(e,oe,ci),e+"")}function fa(e){return mn(e,Fl,wd)}function ha(e){return mn(e,Ml,Sd)}function ma(e){for(var t=e.name+"",o=ed[t],n=pu.call(ed,t)?o.length:0;n--;){var r=o[n],a=r.func;if(null==a||a==e)return r.name}return t}function va(e){return(pu.call(o,"placeholder")?o:e).placeholder}function ga(){var e=o.iteratee||Ec;return e=e===Ec?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function ya(e,t){var o=e.__data__;return Aa(t)?o["string"==typeof t?"string":"hash"]:o.map}function ba(e){for(var t=Fl(e),o=t.length;o--;){var n=t[o],r=e[n];t[o]=[n,r,Ma(r)]}return t}function wa(e,t){var o=z(e,t);return Wn(o)?o:oe}function Sa(e){var t=pu.call(e,Ou),o=e[Ou];try{e[Ou]=oe;var n=!0}catch(e){}var r=mu.call(e);return n&&(t?e[Ou]=o:delete e[Ou]),r}function _a(e,t,o){for(var n=-1,r=o.length;++n<r;){var a=o[n],i=a.size;switch(a.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=qu(t,e+i);break;case"takeRight":e=Bu(e,t-i)}}return{start:e,end:t}}function Ca(e){var t=e.match(Lt);return t?t[1].split(Ft):[]}function Ia(e,t,o){t=Sr(t,e);for(var n=-1,r=t.length,a=!1;++n<r;){var i=Qa(t[n]);if(!(a=null!=e&&o(e,i)))break;e=e[i]}return a||++n!=r?a:!!(r=null==e?0:e.length)&&Zs(r)&&Pa(i,r)&&(pp(e)||dp(e))}function ka(e){var t=e.length,o=new e.constructor(t);return t&&"string"==typeof e[0]&&pu.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function Ta(e){return"function"!=typeof e.constructor||Fa(e)?{}:cd(Cu(e))}function Ea(e,t,o){var n=e.constructor;switch(t){case at:return Ir(e);case Be:case qe:return new n(+e);case it:return kr(e,o);case st:case lt:case ct:case ut:case dt:case pt:case ft:case ht:case mt:return Dr(e,o);case Ge:return new n;case Je:case et:return new n(e);case $e:return Tr(e);case Ze:return new n;case tt:return Er(e)}}function Da(e,t){var o=t.length;if(!o)return e;var n=o-1;return t[n]=(o>1?"& ":"")+t[n],t=t.join(o>2?", ":" "),e.replace(xt,"{\n/* [wrapped with "+t+"] */\n")}function Oa(e){return pp(e)||dp(e)||!!(Eu&&e&&e[Eu])}function Pa(e,t){var o=typeof e;return!!(t=null==t?We:t)&&("number"==o||"symbol"!=o&&Vt.test(e))&&e>-1&&e%1==0&&e<t}function Wa(e,t,o){if(!el(o))return!1;var n=typeof t;return!!("number"==n?qs(o)&&Pa(t,o.length):"string"==n&&t in o)&&Bs(o[t],e)}function Ra(e,t){if(pp(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!pl(e))||(Et.test(e)||!Tt.test(e)||null!=t&&e in nu(t))}function Aa(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function xa(e){var t=ma(e),n=o[t];if("function"!=typeof n||!(t in y.prototype))return!1;if(e===n)return!0;var r=bd(n);return!!r&&e===r[0]}function La(e){return!!hu&&hu in e}function Fa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||cu)}function Ma(e){return e===e&&!el(e)}function Na(e,t){return function(o){return null!=o&&(o[e]===t&&(t!==oe||e in nu(o)))}}function ja(e,t){var o=e[1],n=t[1],r=o|n,a=r<(he|me|Se),i=n==Se&&o==ge||n==Se&&o==_e&&e[7].length<=t[8]||n==(Se|_e)&&t[7].length<=t[8]&&o==ge;if(!a&&!i)return e;n&he&&(e[2]=t[2],r|=o&he?0:ve);var s=t[3];if(s){var l=e[3];e[3]=l?Wr(l,s,t[4]):s,e[4]=l?H(e[3],le):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Rr(l,s,t[6]):s,e[6]=l?H(e[5],le):t[6]),s=t[7],s&&(e[7]=s),n&Se&&(e[8]=null==e[8]?t[8]:qu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function za(e){var t=[];if(null!=e)for(var o in nu(e))t.push(o);return t}function Ba(e){return mu.call(e)}function qa(e,t,o){return t=Bu(t===oe?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=Bu(n.length-t,0),s=$c(i);++r<i;)s[r]=n[t+r];r=-1;for(var l=$c(t+1);++r<t;)l[r]=n[r];return l[t]=o(s),a(e,this,l)}}function Ka(e,t){return t.length<2?e:hn(e,ar(t,0,-1))}function Ua(e,t){for(var o=e.length,n=qu(t.length,o),r=Ar(e);n--;){var a=t[n];e[n]=Pa(a,o)?r[a]:oe}return e}function Va(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}function Ha(e,t,o){var n=t+"";return Td(e,Da(n,Xa(Ca(n),o)))}function Ga(e){var t=0,o=0;return function(){var n=Ku(),r=Ee-(n-o);if(o=n,r>0){if(++t>=Te)return arguments[0]}else t=0;return e.apply(oe,arguments)}}function Ja(e,t){var o=-1,n=e.length,r=n-1;for(t=t===oe?n:t;++o<t;){var a=Xn(o,r),i=e[a];e[a]=e[o],e[o]=i}return e.length=t,e}function Qa(e){if("string"==typeof e||pl(e))return e;var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function Ya(e){if(null!=e){try{return du.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Xa(e,t){return s(Me,function(o){var n="_."+o[0];t&o[1]&&!d(e,n)&&e.push(n)}),e.sort()}function $a(e){if(e instanceof y)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=Ar(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Za(e,t,o){t=(o?Wa(e,t,o):t===oe)?1:Bu(yl(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var r=0,a=0,i=$c(xu(n/t));r<n;)i[a++]=ar(e,r,r+=t);return i}function ei(e){for(var t=-1,o=null==e?0:e.length,n=0,r=[];++t<o;){var a=e[t];a&&(r[n++]=a)}return r}function ti(){var e=arguments.length;if(!e)return[];for(var t=$c(e-1),o=arguments[0],n=e;n--;)t[n-1]=arguments[n];return h(pp(o)?Ar(o):[o],un(t,1))}function oi(e,t,o){var n=null==e?0:e.length;return n?(t=o||t===oe?1:yl(t),ar(e,t<0?0:t,n)):[]}function ni(e,t,o){var n=null==e?0:e.length;return n?(t=o||t===oe?1:yl(t),t=n-t,ar(e,0,t<0?0:t)):[]}function ri(e,t){return e&&e.length?mr(e,ga(t,3),!0,!0):[]}function ai(e,t){return e&&e.length?mr(e,ga(t,3),!0):[]}function ii(e,t,o,n){var r=null==e?0:e.length;return r?(o&&"number"!=typeof o&&Wa(e,t,o)&&(o=0,n=r),ln(e,t,o,n)):[]}function si(e,t,o){var n=null==e?0:e.length;if(!n)return-1;var r=null==o?0:yl(o);return r<0&&(r=Bu(n+r,0)),S(e,ga(t,3),r)}function li(e,t,o){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return o!==oe&&(r=yl(o),r=o<0?Bu(n+r,0):qu(r,n-1)),S(e,ga(t,3),r,!0)}function ci(e){return(null==e?0:e.length)?un(e,1):[]}function ui(e){return(null==e?0:e.length)?un(e,Pe):[]}function di(e,t){return(null==e?0:e.length)?(t=t===oe?1:yl(t),un(e,t)):[]}function pi(e){for(var t=-1,o=null==e?0:e.length,n={};++t<o;){var r=e[t];n[r[0]]=r[1]}return n}function fi(e){return e&&e.length?e[0]:oe}function hi(e,t,o){var n=null==e?0:e.length;if(!n)return-1;var r=null==o?0:yl(o);return r<0&&(r=Bu(n+r,0)),_(e,t,r)}function mi(e){return(null==e?0:e.length)?ar(e,0,-1):[]}function vi(e,t){return null==e?"":ju.call(e,t)}function gi(e){var t=null==e?0:e.length;return t?e[t-1]:oe}function yi(e,t,o){var n=null==e?0:e.length;if(!n)return-1;var r=n;return o!==oe&&(r=yl(o),r=r<0?Bu(n+r,0):qu(r,n-1)),t===t?Y(e,t,r):S(e,I,r,!0)}function bi(e,t){return e&&e.length?Un(e,yl(t)):oe}function wi(e,t){return e&&e.length&&t&&t.length?Qn(e,t):e}function Si(e,t,o){return e&&e.length&&t&&t.length?Qn(e,t,ga(o,2)):e}function _i(e,t,o){return e&&e.length&&t&&t.length?Qn(e,t,oe,o):e}function Ci(e,t){var o=[];if(!e||!e.length)return o;var n=-1,r=[],a=e.length;for(t=ga(t,3);++n<a;){var i=e[n];t(i,n,e)&&(o.push(i),r.push(n))}return Yn(e,r),o}function Ii(e){return null==e?e:Hu.call(e)}function ki(e,t,o){var n=null==e?0:e.length;return n?(o&&"number"!=typeof o&&Wa(e,t,o)?(t=0,o=n):(t=null==t?0:yl(t),o=o===oe?n:yl(o)),ar(e,t,o)):[]}function Ti(e,t){return sr(e,t)}function Ei(e,t,o){return lr(e,t,ga(o,2))}function Di(e,t){var o=null==e?0:e.length;if(o){var n=sr(e,t);if(n<o&&Bs(e[n],t))return n}return-1}function Oi(e,t){return sr(e,t,!0)}function Pi(e,t,o){return lr(e,t,ga(o,2),!0)}function Wi(e,t){if(null==e?0:e.length){var o=sr(e,t,!0)-1;if(Bs(e[o],t))return o}return-1}function Ri(e){return e&&e.length?cr(e):[]}function Ai(e,t){return e&&e.length?cr(e,ga(t,2)):[]}function xi(e){var t=null==e?0:e.length;return t?ar(e,1,t):[]}function Li(e,t,o){return e&&e.length?(t=o||t===oe?1:yl(t),ar(e,0,t<0?0:t)):[]}function Fi(e,t,o){var n=null==e?0:e.length;return n?(t=o||t===oe?1:yl(t),t=n-t,ar(e,t<0?0:t,n)):[]}function Mi(e,t){return e&&e.length?mr(e,ga(t,3),!1,!0):[]}function Ni(e,t){return e&&e.length?mr(e,ga(t,3)):[]}function ji(e){return e&&e.length?pr(e):[]}function zi(e,t){return e&&e.length?pr(e,ga(t,2)):[]}function Bi(e,t){return t="function"==typeof t?t:oe,e&&e.length?pr(e,oe,t):[]}function qi(e){if(!e||!e.length)return[];var t=0;return e=u(e,function(e){if(Ks(e))return t=Bu(e.length,t),!0}),W(t,function(t){return f(e,T(t))})}function Ki(e,t){if(!e||!e.length)return[];var o=qi(e);return null==t?o:f(o,function(e){return a(t,oe,e)})}function Ui(e,t){return yr(e||[],t||[],qo)}function Vi(e,t){return yr(e||[],t||[],nr)}function Hi(e){var t=o(e);return t.__chain__=!0,t}function Gi(e,t){return t(e),e}function Ji(e,t){return t(e)}function Qi(){return Hi(this)}function Yi(){return new r(this.value(),this.__chain__)}function Xi(){this.__values__===oe&&(this.__values__=vl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?oe:this.__values__[this.__index__++]}}function $i(){return this}function Zi(e){for(var t,o=this;o instanceof n;){var r=$a(o);r.__index__=0,r.__values__=oe,t?a.__wrapped__=r:t=r;var a=r;o=o.__wrapped__}return a.__wrapped__=e,t}function es(){var e=this.__wrapped__;if(e instanceof y){var t=e;return this.__actions__.length&&(t=new y(this)),t=t.reverse(),t.__actions__.push({func:Ji,args:[Ii],thisArg:oe}),new r(t,this.__chain__)}return this.thru(Ii)}function ts(){return vr(this.__wrapped__,this.__actions__)}function os(e,t,o){var n=pp(e)?c:an;return o&&Wa(e,t,o)&&(t=oe),n(e,ga(t,3))}function ns(e,t){return(pp(e)?u:cn)(e,ga(t,3))}function rs(e,t){return un(us(e,t),1)}function as(e,t){return un(us(e,t),Pe)}function is(e,t,o){return o=o===oe?1:yl(o),un(us(e,t),o)}function ss(e,t){return(pp(e)?s:ud)(e,ga(t,3))}function ls(e,t){return(pp(e)?l:dd)(e,ga(t,3))}function cs(e,t,o,n){e=qs(e)?e:Ql(e),o=o&&!n?yl(o):0;var r=e.length;return o<0&&(o=Bu(r+o,0)),dl(e)?o<=r&&e.indexOf(t,o)>-1:!!r&&_(e,t,o)>-1}function us(e,t){return(pp(e)?f:jn)(e,ga(t,3))}function ds(e,t,o,n){return null==e?[]:(pp(t)||(t=null==t?[]:[t]),o=n?oe:o,pp(o)||(o=null==o?[]:[o]),Vn(e,t,o))}function ps(e,t,o){var n=pp(e)?m:D,r=arguments.length<3;return n(e,ga(t,4),o,r,ud)}function fs(e,t,o){var n=pp(e)?v:D,r=arguments.length<3;return n(e,ga(t,4),o,r,dd)}function hs(e,t){return(pp(e)?u:cn)(e,Ds(ga(t,3)))}function ms(e){return(pp(e)?Wo:tr)(e)}function vs(e,t,o){return t=(o?Wa(e,t,o):t===oe)?1:yl(t),(pp(e)?Ro:or)(e,t)}function gs(e){return(pp(e)?xo:rr)(e)}function ys(e){if(null==e)return 0;if(qs(e))return dl(e)?X(e):e.length;var t=_d(e);return t==Ge||t==Ze?e.size:Fn(e).length}function bs(e,t,o){var n=pp(e)?g:ir;return o&&Wa(e,t,o)&&(t=oe),n(e,ga(t,3))}function ws(e,t){if("function"!=typeof t)throw new iu(ae);return e=yl(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ss(e,t,o){return t=o?oe:t,t=e&&null==t?e.length:t,aa(e,Se,oe,oe,oe,oe,t)}function _s(e,t){var o;if("function"!=typeof t)throw new iu(ae);return e=yl(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=oe),o}}function Cs(e,t,o){t=o?oe:t;var n=aa(e,ge,oe,oe,oe,oe,oe,t);return n.placeholder=Cs.placeholder,n}function Is(e,t,o){t=o?oe:t;var n=aa(e,ye,oe,oe,oe,oe,oe,t);return n.placeholder=Is.placeholder,n}function ks(e,t,o){function n(t){var o=p,n=f;return p=f=oe,y=t,m=e.apply(n,o)}function r(e){return y=e,v=kd(s,t),b?n(e):m}function a(e){var o=e-g,n=e-y,r=t-o;return w?qu(r,h-n):r}function i(e){var o=e-g,n=e-y;return g===oe||o>=t||o<0||w&&n>=h}function s(){var e=ep();if(i(e))return l(e);v=kd(s,a(e))}function l(e){return v=oe,S&&p?n(e):(p=f=oe,m)}function c(){v!==oe&&gd(v),y=0,p=g=f=v=oe}function u(){return v===oe?m:l(ep())}function d(){var e=ep(),o=i(e);if(p=arguments,f=this,g=e,o){if(v===oe)return r(g);if(w)return gd(v),v=kd(s,t),n(g)}return v===oe&&(v=kd(s,t)),m}var p,f,h,m,v,g,y=0,b=!1,w=!1,S=!0;if("function"!=typeof e)throw new iu(ae);return t=wl(t)||0,el(o)&&(b=!!o.leading,w="maxWait"in o,h=w?Bu(wl(o.maxWait)||0,t):h,S="trailing"in o?!!o.trailing:S),d.cancel=c,d.flush=u,d}function Ts(e){return aa(e,Ce)}function Es(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new iu(ae);var o=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=o.cache;if(a.has(r))return a.get(r);var i=e.apply(this,n);return o.cache=a.set(r,i)||a,i};return o.cache=new(Es.Cache||ao),o}function Ds(e){if("function"!=typeof e)throw new iu(ae);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Os(e){return _s(2,e)}function Ps(e,t){if("function"!=typeof e)throw new iu(ae);return t=t===oe?t:yl(t),er(e,t)}function Ws(e,t){if("function"!=typeof e)throw new iu(ae);return t=null==t?0:Bu(yl(t),0),er(function(o){var n=o[t],r=_r(o,0,t);return n&&h(r,n),a(e,this,r)})}function Rs(e,t,o){var n=!0,r=!0;if("function"!=typeof e)throw new iu(ae);return el(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),ks(e,t,{leading:n,maxWait:t,trailing:r})}function As(e){return Ss(e,1)}function xs(e,t){return ip(wr(t),e)}function Ls(){if(!arguments.length)return[];var e=arguments[0];return pp(e)?e:[e]}function Fs(e){return en(e,de)}function Ms(e,t){return t="function"==typeof t?t:oe,en(e,de,t)}function Ns(e){return en(e,ce|de)}function js(e,t){return t="function"==typeof t?t:oe,en(e,ce|de,t)}function zs(e,t){return null==t||on(e,t,Fl(t))}function Bs(e,t){return e===t||e!==e&&t!==t}function qs(e){return null!=e&&Zs(e.length)&&!Xs(e)}function Ks(e){return tl(e)&&qs(e)}function Us(e){return!0===e||!1===e||tl(e)&&vn(e)==Be}function Vs(e){return tl(e)&&1===e.nodeType&&!cl(e)}function Hs(e){if(null==e)return!0;if(qs(e)&&(pp(e)||"string"==typeof e||"function"==typeof e.splice||hp(e)||bp(e)||dp(e)))return!e.length;var t=_d(e);if(t==Ge||t==Ze)return!e.size;if(Fa(e))return!Fn(e).length;for(var o in e)if(pu.call(e,o))return!1;return!0}function Gs(e,t){return En(e,t)}function Js(e,t,o){o="function"==typeof o?o:oe;var n=o?o(e,t):oe;return n===oe?En(e,t,oe,o):!!n}function Qs(e){if(!tl(e))return!1;var t=vn(e);return t==Ue||t==Ke||"string"==typeof e.message&&"string"==typeof e.name&&!cl(e)}function Ys(e){return"number"==typeof e&&Nu(e)}function Xs(e){if(!el(e))return!1;var t=vn(e);return t==Ve||t==He||t==ze||t==Xe}function $s(e){return"number"==typeof e&&e==yl(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=We}function el(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tl(e){return null!=e&&"object"==typeof e}function ol(e,t){return e===t||Pn(e,t,ba(t))}function nl(e,t,o){return o="function"==typeof o?o:oe,Pn(e,t,ba(t),o)}function rl(e){return ll(e)&&e!=+e}function al(e){if(Cd(e))throw new eu(re);return Wn(e)}function il(e){return null===e}function sl(e){return null==e}function ll(e){return"number"==typeof e||tl(e)&&vn(e)==Je}function cl(e){if(!tl(e)||vn(e)!=Ye)return!1;var t=Cu(e);if(null===t)return!0;var o=pu.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&du.call(o)==vu}function ul(e){return $s(e)&&e>=-We&&e<=We}function dl(e){return"string"==typeof e||!pp(e)&&tl(e)&&vn(e)==et}function pl(e){return"symbol"==typeof e||tl(e)&&vn(e)==tt}function fl(e){return e===oe}function hl(e){return tl(e)&&_d(e)==nt}function ml(e){return tl(e)&&vn(e)==rt}function vl(e){if(!e)return[];if(qs(e))return dl(e)?$(e):Ar(e);if(Du&&e[Du])return K(e[Du]());var t=_d(e);return(t==Ge?U:t==Ze?G:Ql)(e)}function gl(e){if(!e)return 0===e?e:0;if((e=wl(e))===Pe||e===-Pe){return(e<0?-1:1)*Re}return e===e?e:0}function yl(e){var t=gl(e),o=t%1;return t===t?o?t-o:t:0}function bl(e){return e?Zo(yl(e),0,xe):0}function wl(e){if("number"==typeof e)return e;if(pl(e))return Ae;if(el(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=el(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Wt,"");var o=qt.test(e);return o||Ut.test(e)?Eo(e.slice(2),o?2:8):Bt.test(e)?Ae:+e}function Sl(e){return xr(e,Ml(e))}function _l(e){return e?Zo(yl(e),-We,We):0===e?e:0}function Cl(e){return null==e?"":dr(e)}function Il(e,t){var o=cd(e);return null==t?o:Qo(o,t)}function kl(e,t){return w(e,ga(t,3),dn)}function Tl(e,t){return w(e,ga(t,3),pn)}function El(e,t){return null==e?e:pd(e,ga(t,3),Ml)}function Dl(e,t){return null==e?e:fd(e,ga(t,3),Ml)}function Ol(e,t){return e&&dn(e,ga(t,3))}function Pl(e,t){return e&&pn(e,ga(t,3))}function Wl(e){return null==e?[]:fn(e,Fl(e))}function Rl(e){return null==e?[]:fn(e,Ml(e))}function Al(e,t,o){var n=null==e?oe:hn(e,t);return n===oe?o:n}function xl(e,t){return null!=e&&Ia(e,t,yn)}function Ll(e,t){return null!=e&&Ia(e,t,bn)}function Fl(e){return qs(e)?Oo(e):Fn(e)}function Ml(e){return qs(e)?Oo(e,!0):Mn(e)}function Nl(e,t){var o={};return t=ga(t,3),dn(e,function(e,n,r){Xo(o,t(e,n,r),e)}),o}function jl(e,t){var o={};return t=ga(t,3),dn(e,function(e,n,r){Xo(o,n,t(e,n,r))}),o}function zl(e,t){return Bl(e,Ds(ga(t)))}function Bl(e,t){if(null==e)return{};var o=f(ha(e),function(e){return[e]});return t=ga(t),Gn(e,o,function(e,o){return t(e,o[0])})}function ql(e,t,o){t=Sr(t,e);var n=-1,r=t.length;for(r||(r=1,e=oe);++n<r;){var a=null==e?oe:e[Qa(t[n])];a===oe&&(n=r,a=o),e=Xs(a)?a.call(e):a}return e}function Kl(e,t,o){return null==e?e:nr(e,t,o)}function Ul(e,t,o,n){return n="function"==typeof n?n:oe,null==e?e:nr(e,t,o,n)}function Vl(e,t,o){var n=pp(e),r=n||hp(e)||bp(e);if(t=ga(t,4),null==o){var a=e&&e.constructor;o=r?n?new a:[]:el(e)&&Xs(a)?cd(Cu(e)):{}}return(r?s:dn)(e,function(e,n,r){return t(o,e,n,r)}),o}function Hl(e,t){return null==e||fr(e,t)}function Gl(e,t,o){return null==e?e:hr(e,t,wr(o))}function Jl(e,t,o,n){return n="function"==typeof n?n:oe,null==e?e:hr(e,t,wr(o),n)}function Ql(e){return null==e?[]:x(e,Fl(e))}function Yl(e){return null==e?[]:x(e,Ml(e))}function Xl(e,t,o){return o===oe&&(o=t,t=oe),o!==oe&&(o=wl(o),o=o===o?o:0),t!==oe&&(t=wl(t),t=t===t?t:0),Zo(wl(e),t,o)}function $l(e,t,o){return t=gl(t),o===oe?(o=t,t=0):o=gl(o),e=wl(e),wn(e,t,o)}function Zl(e,t,o){if(o&&"boolean"!=typeof o&&Wa(e,t,o)&&(t=o=oe),o===oe&&("boolean"==typeof t?(o=t,t=oe):"boolean"==typeof e&&(o=e,e=oe)),e===oe&&t===oe?(e=0,t=1):(e=gl(e),t===oe?(t=e,e=0):t=gl(t)),e>t){var n=e;e=t,t=n}if(o||e%1||t%1){var r=Vu();return qu(e+r*(t-e+To("1e-"+((r+"").length-1))),t)}return Xn(e,t)}function ec(e){return Vp(Cl(e).toLowerCase())}function tc(e){return(e=Cl(e))&&e.replace(Ht,Ko).replace(fo,"")}function oc(e,t,o){e=Cl(e),t=dr(t);var n=e.length;o=o===oe?n:Zo(yl(o),0,n);var r=o;return(o-=t.length)>=0&&e.slice(o,r)==t}function nc(e){return e=Cl(e),e&&_t.test(e)?e.replace(wt,Uo):e}function rc(e){return e=Cl(e),e&&Pt.test(e)?e.replace(Ot,"\\$&"):e}function ac(e,t,o){e=Cl(e),t=yl(t);var n=t?X(e):0;if(!t||n>=t)return e;var r=(t-n)/2;return $r(Lu(r),o)+e+$r(xu(r),o)}function ic(e,t,o){e=Cl(e),t=yl(t);var n=t?X(e):0;return t&&n<t?e+$r(t-n,o):e}function sc(e,t,o){e=Cl(e),t=yl(t);var n=t?X(e):0;return t&&n<t?$r(t-n,o)+e:e}function lc(e,t,o){return o||null==t?t=0:t&&(t=+t),Uu(Cl(e).replace(Rt,""),t||0)}function cc(e,t,o){return t=(o?Wa(e,t,o):t===oe)?1:yl(t),Zn(Cl(e),t)}function uc(){var e=arguments,t=Cl(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function dc(e,t,o){return o&&"number"!=typeof o&&Wa(e,t,o)&&(t=o=oe),(o=o===oe?xe:o>>>0)?(e=Cl(e),e&&("string"==typeof t||null!=t&&!gp(t))&&!(t=dr(t))&&B(e)?_r($(e),0,o):e.split(t,o)):[]}function pc(e,t,o){return e=Cl(e),o=null==o?0:Zo(yl(o),0,e.length),t=dr(t),e.slice(o,o+t.length)==t}function fc(e,t,n){var r=o.templateSettings;n&&Wa(e,t,n)&&(t=oe),e=Cl(e),t=Ip({},t,r,ia);var a,i,s=Ip({},t.imports,r.imports,ia),l=Fl(s),c=x(s,l),u=0,d=t.interpolate||Gt,p="__p += '",f=ru((t.escape||Gt).source+"|"+d.source+"|"+(d===kt?jt:Gt).source+"|"+(t.evaluate||Gt).source+"|$","g"),h="//# sourceURL="+(pu.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++bo+"]")+"\n";e.replace(f,function(t,o,n,r,s,l){return n||(n=r),p+=e.slice(u,l).replace(Jt,j),o&&(a=!0,p+="' +\n__e("+o+") +\n'"),s&&(i=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),p+="';\n";var m=pu.call(t,"variable")&&t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(i?p.replace(vt,""):p).replace(gt,"$1").replace(yt,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Hp(function(){return tu(l,h+"return "+p).apply(oe,c)});if(v.source=p,Qs(v))throw v;return v}function hc(e){return Cl(e).toLowerCase()}function mc(e){return Cl(e).toUpperCase()}function vc(e,t,o){if((e=Cl(e))&&(o||t===oe))return e.replace(Wt,"");if(!e||!(t=dr(t)))return e;var n=$(e),r=$(t);return _r(n,F(n,r),M(n,r)+1).join("")}function gc(e,t,o){if((e=Cl(e))&&(o||t===oe))return e.replace(At,"");if(!e||!(t=dr(t)))return e;var n=$(e);return _r(n,0,M(n,$(t))+1).join("")}function yc(e,t,o){if((e=Cl(e))&&(o||t===oe))return e.replace(Rt,"");if(!e||!(t=dr(t)))return e;var n=$(e);return _r(n,F(n,$(t))).join("")}function bc(e,t){var o=Ie,n=ke;if(el(t)){var r="separator"in t?t.separator:r;o="length"in t?yl(t.length):o,n="omission"in t?dr(t.omission):n}e=Cl(e);var a=e.length;if(B(e)){var i=$(e);a=i.length}if(o>=a)return e;var s=o-X(n);if(s<1)return n;var l=i?_r(i,0,s).join(""):e.slice(0,s);if(r===oe)return l+n;if(i&&(s+=l.length-s),gp(r)){if(e.slice(s).search(r)){var c,u=l;for(r.global||(r=ru(r.source,Cl(zt.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var d=c.index;l=l.slice(0,d===oe?s:d)}}else if(e.indexOf(dr(r),s)!=s){var p=l.lastIndexOf(r);p>-1&&(l=l.slice(0,p))}return l+n}function wc(e){return e=Cl(e),e&&St.test(e)?e.replace(bt,Vo):e}function Sc(e,t,o){return e=Cl(e),t=o?oe:t,t===oe?q(e)?te(e):b(e):e.match(t)||[]}function _c(e){var t=null==e?0:e.length,o=ga();return e=t?f(e,function(e){if("function"!=typeof e[1])throw new iu(ae);return[o(e[0]),e[1]]}):[],er(function(o){for(var n=-1;++n<t;){var r=e[n];if(a(r[0],this,o))return a(r[1],this,o)}})}function Cc(e){return tn(en(e,ce))}function Ic(e){return function(){return e}}function kc(e,t){return null==e||e!==e?t:e}function Tc(e){return e}function Ec(e){return Ln("function"==typeof e?e:en(e,ce))}function Dc(e){return zn(en(e,ce))}function Oc(e,t){return Bn(e,en(t,ce))}function Pc(e,t,o){var n=Fl(t),r=fn(t,n);null!=o||el(t)&&(r.length||!n.length)||(o=t,t=e,e=this,r=fn(t,Fl(t)));var a=!(el(o)&&"chain"in o)||!!o.chain,i=Xs(e);return s(r,function(o){var n=t[o];e[o]=n,i&&(e.prototype[o]=function(){var t=this.__chain__;if(a||t){var o=e(this.__wrapped__);return(o.__actions__=Ar(this.__actions__)).push({func:n,args:arguments,thisArg:e}),o.__chain__=t,o}return n.apply(e,h([this.value()],arguments))})}),e}function Wc(){return Po._===this&&(Po._=gu),this}function Rc(){}function Ac(e){return e=yl(e),er(function(t){return Un(t,e)})}function xc(e){return Ra(e)?T(Qa(e)):Jn(e)}function Lc(e){return function(t){return null==e?oe:hn(e,t)}}function Fc(){return[]}function Mc(){return!1}function Nc(){return{}}function jc(){return""}function zc(){return!0}function Bc(e,t){if((e=yl(e))<1||e>We)return[];var o=xe,n=qu(e,xe);t=ga(t),e-=xe;for(var r=W(n,t);++o<e;)t(o);return r}function qc(e){return pp(e)?f(e,Qa):pl(e)?[e]:Ar(Ed(Cl(e)))}function Kc(e){var t=++fu;return Cl(e)+t}function Uc(e){return e&&e.length?sn(e,Tc,gn):oe}function Vc(e,t){return e&&e.length?sn(e,ga(t,2),gn):oe}function Hc(e){return k(e,Tc)}function Gc(e,t){return k(e,ga(t,2))}function Jc(e){return e&&e.length?sn(e,Tc,Nn):oe}function Qc(e,t){return e&&e.length?sn(e,ga(t,2),Nn):oe}function Yc(e){return e&&e.length?P(e,Tc):0}function Xc(e,t){return e&&e.length?P(e,ga(t,2)):0}t=null==t?Po:Ho.defaults(Po.Object(),t,Ho.pick(Po,yo));var $c=t.Array,Zc=t.Date,eu=t.Error,tu=t.Function,ou=t.Math,nu=t.Object,ru=t.RegExp,au=t.String,iu=t.TypeError,su=$c.prototype,lu=tu.prototype,cu=nu.prototype,uu=t["__core-js_shared__"],du=lu.toString,pu=cu.hasOwnProperty,fu=0,hu=function(){var e=/[^.]+$/.exec(uu&&uu.keys&&uu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mu=cu.toString,vu=du.call(nu),gu=Po._,yu=ru("^"+du.call(pu).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bu=Ao?t.Buffer:oe,wu=t.Symbol,Su=t.Uint8Array,_u=bu?bu.allocUnsafe:oe,Cu=V(nu.getPrototypeOf,nu),Iu=nu.create,ku=cu.propertyIsEnumerable,Tu=su.splice,Eu=wu?wu.isConcatSpreadable:oe,Du=wu?wu.iterator:oe,Ou=wu?wu.toStringTag:oe,Pu=function(){try{var e=wa(nu,"defineProperty");return e({},"",{}),e}catch(e){}}(),Wu=t.clearTimeout!==Po.clearTimeout&&t.clearTimeout,Ru=Zc&&Zc.now!==Po.Date.now&&Zc.now,Au=t.setTimeout!==Po.setTimeout&&t.setTimeout,xu=ou.ceil,Lu=ou.floor,Fu=nu.getOwnPropertySymbols,Mu=bu?bu.isBuffer:oe,Nu=t.isFinite,ju=su.join,zu=V(nu.keys,nu),Bu=ou.max,qu=ou.min,Ku=Zc.now,Uu=t.parseInt,Vu=ou.random,Hu=su.reverse,Gu=wa(t,"DataView"),Ju=wa(t,"Map"),Qu=wa(t,"Promise"),Yu=wa(t,"Set"),Xu=wa(t,"WeakMap"),$u=wa(nu,"create"),Zu=Xu&&new Xu,ed={},td=Ya(Gu),od=Ya(Ju),nd=Ya(Qu),rd=Ya(Yu),ad=Ya(Xu),id=wu?wu.prototype:oe,sd=id?id.valueOf:oe,ld=id?id.toString:oe,cd=function(){function e(){}return function(t){if(!el(t))return{};if(Iu)return Iu(t);e.prototype=t;var o=new e;return e.prototype=oe,o}}();o.templateSettings={escape:Ct,evaluate:It,interpolate:kt,variable:"",imports:{_:o}},o.prototype=n.prototype,o.prototype.constructor=o,r.prototype=cd(n.prototype),r.prototype.constructor=r,y.prototype=cd(n.prototype),y.prototype.constructor=y,ee.prototype.clear=Mt,ee.prototype.delete=Qt,ee.prototype.get=Yt,ee.prototype.has=Xt,ee.prototype.set=$t,Zt.prototype.clear=eo,Zt.prototype.delete=to,Zt.prototype.get=oo,Zt.prototype.has=no,Zt.prototype.set=ro,ao.prototype.clear=io,ao.prototype.delete=so,ao.prototype.get=lo,ao.prototype.has=co,ao.prototype.set=uo,ho.prototype.add=ho.prototype.push=mo,ho.prototype.has=vo,go.prototype.clear=_o,go.prototype.delete=Co,go.prototype.get=Io,go.prototype.has=ko,go.prototype.set=Do;var ud=jr(dn),dd=jr(pn,!0),pd=zr(),fd=zr(!0),hd=Zu?function(e,t){return Zu.set(e,t),e}:Tc,md=Pu?function(e,t){return Pu(e,"toString",{configurable:!0,enumerable:!1,value:Ic(t),writable:!0})}:Tc,vd=er,gd=Wu||function(e){return Po.clearTimeout(e)},yd=Yu&&1/G(new Yu([,-0]))[1]==Pe?function(e){return new Yu(e)}:Rc,bd=Zu?function(e){return Zu.get(e)}:Rc,wd=Fu?function(e){return null==e?[]:(e=nu(e),u(Fu(e),function(t){return ku.call(e,t)}))}:Fc,Sd=Fu?function(e){for(var t=[];e;)h(t,wd(e)),e=Cu(e);return t}:Fc,_d=vn;(Gu&&_d(new Gu(new ArrayBuffer(1)))!=it||Ju&&_d(new Ju)!=Ge||Qu&&"[object Promise]"!=_d(Qu.resolve())||Yu&&_d(new Yu)!=Ze||Xu&&_d(new Xu)!=nt)&&(_d=function(e){var t=vn(e),o=t==Ye?e.constructor:oe,n=o?Ya(o):"";if(n)switch(n){case td:return it;case od:return Ge;case nd:return"[object Promise]";case rd:return Ze;case ad:return nt}return t});var Cd=uu?Xs:Mc,Id=Ga(hd),kd=Au||function(e,t){return Po.setTimeout(e,t)},Td=Ga(md),Ed=function(e){var t=Es(e,function(e){return o.size===se&&o.clear(),e}),o=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Dt,function(e,o,n,r){t.push(n?r.replace(Nt,"$1"):o||e)}),t}),Dd=er(function(e,t){return Ks(e)?rn(e,un(t,1,Ks,!0)):[]}),Od=er(function(e,t){var o=gi(t);return Ks(o)&&(o=oe),Ks(e)?rn(e,un(t,1,Ks,!0),ga(o,2)):[]}),Pd=er(function(e,t){var o=gi(t);return Ks(o)&&(o=oe),Ks(e)?rn(e,un(t,1,Ks,!0),oe,o):[]}),Wd=er(function(e){var t=f(e,br);return t.length&&t[0]===e[0]?Sn(t):[]}),Rd=er(function(e){var t=gi(e),o=f(e,br);return t===gi(o)?t=oe:o.pop(),o.length&&o[0]===e[0]?Sn(o,ga(t,2)):[]}),Ad=er(function(e){var t=gi(e),o=f(e,br);return t="function"==typeof t?t:oe,t&&o.pop(),o.length&&o[0]===e[0]?Sn(o,oe,t):[]}),xd=er(wi),Ld=pa(function(e,t){var o=null==e?0:e.length,n=$o(e,t);return Yn(e,f(t,function(e){return Pa(e,o)?+e:e}).sort(Or)),n}),Fd=er(function(e){return pr(un(e,1,Ks,!0))}),Md=er(function(e){var t=gi(e);return Ks(t)&&(t=oe),pr(un(e,1,Ks,!0),ga(t,2))}),Nd=er(function(e){var t=gi(e);return t="function"==typeof t?t:oe,pr(un(e,1,Ks,!0),oe,t)}),jd=er(function(e,t){return Ks(e)?rn(e,t):[]}),zd=er(function(e){return gr(u(e,Ks))}),Bd=er(function(e){var t=gi(e);return Ks(t)&&(t=oe),gr(u(e,Ks),ga(t,2))}),qd=er(function(e){var t=gi(e);return t="function"==typeof t?t:oe,gr(u(e,Ks),oe,t)}),Kd=er(qi),Ud=er(function(e){var t=e.length,o=t>1?e[t-1]:oe;return o="function"==typeof o?(e.pop(),o):oe,Ki(e,o)}),Vd=pa(function(e){var t=e.length,o=t?e[0]:0,n=this.__wrapped__,a=function(t){return $o(t,e)};return!(t>1||this.__actions__.length)&&n instanceof y&&Pa(o)?(n=n.slice(o,+o+(t?1:0)),n.__actions__.push({func:Ji,args:[a],thisArg:oe}),new r(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(oe),e})):this.thru(a)}),Hd=Mr(function(e,t,o){pu.call(e,o)?++e[o]:Xo(e,o,1)}),Gd=Hr(si),Jd=Hr(li),Qd=Mr(function(e,t,o){pu.call(e,o)?e[o].push(t):Xo(e,o,[t])}),Yd=er(function(e,t,o){var n=-1,r="function"==typeof t,i=qs(e)?$c(e.length):[];return ud(e,function(e){i[++n]=r?a(t,e,o):Cn(e,t,o)}),i}),Xd=Mr(function(e,t,o){Xo(e,o,t)}),$d=Mr(function(e,t,o){e[o?0:1].push(t)},function(){return[[],[]]}),Zd=er(function(e,t){if(null==e)return[];var o=t.length;return o>1&&Wa(e,t[0],t[1])?t=[]:o>2&&Wa(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,un(t,1),[])}),ep=Ru||function(){return Po.Date.now()},tp=er(function(e,t,o){var n=he;if(o.length){var r=H(o,va(tp));n|=be}return aa(e,n,t,o,r)}),op=er(function(e,t,o){var n=he|me;if(o.length){var r=H(o,va(op));n|=be}return aa(t,n,e,o,r)}),np=er(function(e,t){return nn(e,1,t)}),rp=er(function(e,t,o){return nn(e,wl(t)||0,o)});Es.Cache=ao;var ap=vd(function(e,t){t=1==t.length&&pp(t[0])?f(t[0],A(ga())):f(un(t,1),A(ga()));var o=t.length;return er(function(n){for(var r=-1,i=qu(n.length,o);++r<i;)n[r]=t[r].call(this,n[r]);return a(e,this,n)})}),ip=er(function(e,t){var o=H(t,va(ip));return aa(e,be,oe,t,o)}),sp=er(function(e,t){var o=H(t,va(sp));return aa(e,we,oe,t,o)}),lp=pa(function(e,t){return aa(e,_e,oe,oe,oe,t)}),cp=ta(gn),up=ta(function(e,t){return e>=t}),dp=In(function(){return arguments}())?In:function(e){return tl(e)&&pu.call(e,"callee")&&!ku.call(e,"callee")},pp=$c.isArray,fp=Fo?A(Fo):kn,hp=Mu||Mc,mp=Mo?A(Mo):Tn,vp=No?A(No):On,gp=jo?A(jo):Rn,yp=zo?A(zo):An,bp=Bo?A(Bo):xn,wp=ta(Nn),Sp=ta(function(e,t){return e<=t}),_p=Nr(function(e,t){if(Fa(t)||qs(t))return void xr(t,Fl(t),e);for(var o in t)pu.call(t,o)&&qo(e,o,t[o])}),Cp=Nr(function(e,t){xr(t,Ml(t),e)}),Ip=Nr(function(e,t,o,n){xr(t,Ml(t),e,n)}),kp=Nr(function(e,t,o,n){xr(t,Fl(t),e,n)}),Tp=pa($o),Ep=er(function(e,t){e=nu(e);var o=-1,n=t.length,r=n>2?t[2]:oe;for(r&&Wa(t[0],t[1],r)&&(n=1);++o<n;)for(var a=t[o],i=Ml(a),s=-1,l=i.length;++s<l;){var c=i[s],u=e[c];(u===oe||Bs(u,cu[c])&&!pu.call(e,c))&&(e[c]=a[c])}return e}),Dp=er(function(e){return e.push(oe,sa),a(Ap,oe,e)}),Op=Qr(function(e,t,o){null!=t&&"function"!=typeof t.toString&&(t=mu.call(t)),e[t]=o},Ic(Tc)),Pp=Qr(function(e,t,o){null!=t&&"function"!=typeof t.toString&&(t=mu.call(t)),pu.call(e,t)?e[t].push(o):e[t]=[o]},ga),Wp=er(Cn),Rp=Nr(function(e,t,o){qn(e,t,o)}),Ap=Nr(function(e,t,o,n){qn(e,t,o,n)}),xp=pa(function(e,t){var o={};if(null==e)return o;var n=!1;t=f(t,function(t){return t=Sr(t,e),n||(n=t.length>1),t}),xr(e,ha(e),o),n&&(o=en(o,ce|ue|de,la));for(var r=t.length;r--;)fr(o,t[r]);return o}),Lp=pa(function(e,t){return null==e?{}:Hn(e,t)}),Fp=ra(Fl),Mp=ra(Ml),Np=Kr(function(e,t,o){return t=t.toLowerCase(),e+(o?ec(t):t)}),jp=Kr(function(e,t,o){return e+(o?"-":"")+t.toLowerCase()}),zp=Kr(function(e,t,o){return e+(o?" ":"")+t.toLowerCase()}),Bp=qr("toLowerCase"),qp=Kr(function(e,t,o){return e+(o?"_":"")+t.toLowerCase()}),Kp=Kr(function(e,t,o){return e+(o?" ":"")+Vp(t)}),Up=Kr(function(e,t,o){return e+(o?" ":"")+t.toUpperCase()}),Vp=qr("toUpperCase"),Hp=er(function(e,t){try{return a(e,oe,t)}catch(e){return Qs(e)?e:new eu(e)}}),Gp=pa(function(e,t){return s(t,function(t){t=Qa(t),Xo(e,t,tp(e[t],e))}),e}),Jp=Gr(),Qp=Gr(!0),Yp=er(function(e,t){return function(o){return Cn(o,e,t)}}),Xp=er(function(e,t){return function(o){return Cn(e,o,t)}}),$p=Xr(f),Zp=Xr(c),ef=Xr(g),tf=ea(),of=ea(!0),nf=Yr(function(e,t){return e+t},0),rf=na("ceil"),af=Yr(function(e,t){return e/t},1),sf=na("floor"),lf=Yr(function(e,t){return e*t},1),cf=na("round"),uf=Yr(function(e,t){return e-t},0);return o.after=ws,o.ary=Ss,o.assign=_p,o.assignIn=Cp,o.assignInWith=Ip,o.assignWith=kp,o.at=Tp,o.before=_s,o.bind=tp,o.bindAll=Gp,o.bindKey=op,o.castArray=Ls,o.chain=Hi,o.chunk=Za,o.compact=ei,o.concat=ti,o.cond=_c,o.conforms=Cc,o.constant=Ic,o.countBy=Hd,o.create=Il,o.curry=Cs,o.curryRight=Is,o.debounce=ks,o.defaults=Ep,o.defaultsDeep=Dp,o.defer=np,o.delay=rp,o.difference=Dd,o.differenceBy=Od,o.differenceWith=Pd,o.drop=oi,o.dropRight=ni,o.dropRightWhile=ri,o.dropWhile=ai,o.fill=ii,o.filter=ns,o.flatMap=rs,o.flatMapDeep=as,o.flatMapDepth=is,o.flatten=ci,o.flattenDeep=ui,o.flattenDepth=di,o.flip=Ts,o.flow=Jp,o.flowRight=Qp,o.fromPairs=pi,o.functions=Wl,o.functionsIn=Rl,o.groupBy=Qd,o.initial=mi,o.intersection=Wd,o.intersectionBy=Rd,o.intersectionWith=Ad,o.invert=Op,o.invertBy=Pp,o.invokeMap=Yd,o.iteratee=Ec,o.keyBy=Xd,o.keys=Fl,o.keysIn=Ml,o.map=us,o.mapKeys=Nl,o.mapValues=jl,o.matches=Dc,o.matchesProperty=Oc,o.memoize=Es,o.merge=Rp,o.mergeWith=Ap,o.method=Yp,o.methodOf=Xp,o.mixin=Pc,o.negate=Ds,o.nthArg=Ac,o.omit=xp,o.omitBy=zl,o.once=Os,o.orderBy=ds,o.over=$p,o.overArgs=ap,o.overEvery=Zp,o.overSome=ef,o.partial=ip,o.partialRight=sp,o.partition=$d,o.pick=Lp,o.pickBy=Bl,o.property=xc,o.propertyOf=Lc,o.pull=xd,o.pullAll=wi,o.pullAllBy=Si,o.pullAllWith=_i,o.pullAt=Ld,o.range=tf,o.rangeRight=of,o.rearg=lp,o.reject=hs,o.remove=Ci,o.rest=Ps,o.reverse=Ii,o.sampleSize=vs,o.set=Kl,o.setWith=Ul,o.shuffle=gs,o.slice=ki,o.sortBy=Zd,o.sortedUniq=Ri,o.sortedUniqBy=Ai,o.split=dc,o.spread=Ws,o.tail=xi,o.take=Li,o.takeRight=Fi,o.takeRightWhile=Mi,o.takeWhile=Ni,o.tap=Gi,o.throttle=Rs,o.thru=Ji,o.toArray=vl,o.toPairs=Fp,o.toPairsIn=Mp,o.toPath=qc,o.toPlainObject=Sl,o.transform=Vl,o.unary=As,o.union=Fd,o.unionBy=Md,o.unionWith=Nd,o.uniq=ji,o.uniqBy=zi,o.uniqWith=Bi,o.unset=Hl,o.unzip=qi,o.unzipWith=Ki,o.update=Gl,o.updateWith=Jl,o.values=Ql,o.valuesIn=Yl,o.without=jd,o.words=Sc,o.wrap=xs,o.xor=zd,o.xorBy=Bd,o.xorWith=qd,o.zip=Kd,o.zipObject=Ui,o.zipObjectDeep=Vi,o.zipWith=Ud,o.entries=Fp,o.entriesIn=Mp,o.extend=Cp,o.extendWith=Ip,Pc(o,o),o.add=nf,o.attempt=Hp,o.camelCase=Np,o.capitalize=ec,o.ceil=rf,o.clamp=Xl,o.clone=Fs,o.cloneDeep=Ns,o.cloneDeepWith=js,o.cloneWith=Ms,o.conformsTo=zs,o.deburr=tc,o.defaultTo=kc,o.divide=af,o.endsWith=oc,o.eq=Bs,o.escape=nc,o.escapeRegExp=rc,o.every=os,o.find=Gd,o.findIndex=si,o.findKey=kl,o.findLast=Jd,o.findLastIndex=li,o.findLastKey=Tl,o.floor=sf,o.forEach=ss,o.forEachRight=ls,o.forIn=El,o.forInRight=Dl,o.forOwn=Ol,o.forOwnRight=Pl,o.get=Al,o.gt=cp,o.gte=up,o.has=xl,o.hasIn=Ll,o.head=fi,o.identity=Tc,o.includes=cs,o.indexOf=hi,o.inRange=$l,o.invoke=Wp,o.isArguments=dp,o.isArray=pp,o.isArrayBuffer=fp,o.isArrayLike=qs,o.isArrayLikeObject=Ks,o.isBoolean=Us,o.isBuffer=hp,o.isDate=mp,o.isElement=Vs,o.isEmpty=Hs,o.isEqual=Gs,o.isEqualWith=Js,o.isError=Qs,o.isFinite=Ys,o.isFunction=Xs,o.isInteger=$s,o.isLength=Zs,o.isMap=vp,o.isMatch=ol,o.isMatchWith=nl,o.isNaN=rl,o.isNative=al,o.isNil=sl,o.isNull=il,o.isNumber=ll,o.isObject=el,o.isObjectLike=tl,o.isPlainObject=cl,o.isRegExp=gp,o.isSafeInteger=ul,o.isSet=yp,o.isString=dl,o.isSymbol=pl,o.isTypedArray=bp,o.isUndefined=fl,o.isWeakMap=hl,o.isWeakSet=ml,o.join=vi,o.kebabCase=jp,o.last=gi,o.lastIndexOf=yi,o.lowerCase=zp,o.lowerFirst=Bp,o.lt=wp,o.lte=Sp,o.max=Uc,o.maxBy=Vc,o.mean=Hc,o.meanBy=Gc,o.min=Jc,o.minBy=Qc,o.stubArray=Fc,o.stubFalse=Mc,o.stubObject=Nc,o.stubString=jc,o.stubTrue=zc,o.multiply=lf,o.nth=bi,o.noConflict=Wc,o.noop=Rc,o.now=ep,o.pad=ac,o.padEnd=ic,o.padStart=sc,o.parseInt=lc,o.random=Zl,o.reduce=ps,o.reduceRight=fs,o.repeat=cc,o.replace=uc,o.result=ql,o.round=cf,o.runInContext=e,o.sample=ms,o.size=ys,o.snakeCase=qp,o.some=bs,o.sortedIndex=Ti,o.sortedIndexBy=Ei,o.sortedIndexOf=Di,o.sortedLastIndex=Oi,o.sortedLastIndexBy=Pi,o.sortedLastIndexOf=Wi,o.startCase=Kp,o.startsWith=pc,o.subtract=uf,o.sum=Yc,o.sumBy=Xc,o.template=fc,o.times=Bc,o.toFinite=gl,o.toInteger=yl,o.toLength=bl,o.toLower=hc,o.toNumber=wl,o.toSafeInteger=_l,o.toString=Cl,o.toUpper=mc,o.trim=vc,o.trimEnd=gc,o.trimStart=yc,o.truncate=bc,o.unescape=wc,o.uniqueId=Kc,o.upperCase=Up,o.upperFirst=Vp,o.each=ss,o.eachRight=ls,o.first=fi,Pc(o,function(){var e={};return dn(o,function(t,n){pu.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION="4.17.15",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),s(["drop","take"],function(e,t){y.prototype[e]=function(o){o=o===oe?1:Bu(yl(o),0);var n=this.__filtered__&&!t?new y(this):this.clone();return n.__filtered__?n.__takeCount__=qu(o,n.__takeCount__):n.__views__.push({size:qu(o,xe),type:e+(n.__dir__<0?"Right":"")}),n},y.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var o=t+1,n=o==De||3==o;y.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ga(e,3),type:o}),t.__filtered__=t.__filtered__||n,t}}),s(["head","last"],function(e,t){var o="take"+(t?"Right":"");y.prototype[e]=function(){return this[o](1).value()[0]}}),s(["initial","tail"],function(e,t){var o="drop"+(t?"":"Right");y.prototype[e]=function(){return this.__filtered__?new y(this):this[o](1)}}),y.prototype.compact=function(){return this.filter(Tc)},y.prototype.find=function(e){return this.filter(e).head()},y.prototype.findLast=function(e){return this.reverse().find(e)},y.prototype.invokeMap=er(function(e,t){return"function"==typeof e?new y(this):this.map(function(o){return Cn(o,e,t)})}),y.prototype.reject=function(e){return this.filter(Ds(ga(e)))},y.prototype.slice=function(e,t){e=yl(e);var o=this;return o.__filtered__&&(e>0||t<0)?new y(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),t!==oe&&(t=yl(t),o=t<0?o.dropRight(-t):o.take(t-e)),o)},y.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},y.prototype.toArray=function(){return this.take(xe)},dn(y.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),i=o[a?"take"+("last"==t?"Right":""):t],s=a||/^find/.test(t);i&&(o.prototype[t]=function(){var t=this.__wrapped__,l=a?[1]:arguments,c=t instanceof y,u=l[0],d=c||pp(t),p=function(e){var t=i.apply(o,h([e],l));return a&&f?t[0]:t};d&&n&&"function"==typeof u&&1!=u.length&&(c=d=!1);var f=this.__chain__,m=!!this.__actions__.length,v=s&&!f,g=c&&!m;if(!s&&d){t=g?t:new y(this);var b=e.apply(t,l);return b.__actions__.push({func:Ji,args:[p],thisArg:oe}),new r(b,f)}return v&&g?e.apply(this,l):(b=this.thru(p),v?a?b.value()[0]:b.value():b)})}),s(["pop","push","shift","sort","splice","unshift"],function(e){var t=su[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(pp(o)?o:[],e)}return this[n](function(o){return t.apply(pp(o)?o:[],e)})}}),dn(y.prototype,function(e,t){var n=o[t];if(n){var r=n.name+"";pu.call(ed,r)||(ed[r]=[]),ed[r].push({name:t,func:n})}}),ed[Jr(oe,me).name]=[{name:"wrapper",func:oe}],y.prototype.clone=E,y.prototype.reverse=Q,y.prototype.value=Z,o.prototype.at=Vd,o.prototype.chain=Qi,o.prototype.commit=Yi,o.prototype.next=Xi,o.prototype.plant=Zi,o.prototype.reverse=es,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=ts,o.prototype.first=o.prototype.head,Du&&(o.prototype[Du]=$i),o}();Po._=Ho,(r=function(){return Ho}.call(t,o,t,n))!==oe&&(n.exports=r)}).call(this)}).call(t,o(197),o(80)(e))},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,o){var n=o(73)("wks"),r=o(61),a=o(18).Symbol,i="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=i&&a[e]||(i?a:r)("Symbol."+e))}).store=n},function(e,t,o){var n=o(30),r=o(85),a=o(71),i=Object.defineProperty;t.f=o(22)?Object.defineProperty:function(e,t,o){if(n(e),t=a(t,!0),n(o),r)try{return i(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},function(e,t){var o=Array.isArray;e.exports=o},function(e,t,o){function n(e){if(null==e)return!0;if(l(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||d(e)||i(e)))return!e.length;var t=a(e);if(t==p||t==f)return!e.size;if(u(e))return!r(e).length;for(var o in e)if(m.call(e,o))return!1;return!0}var r=o(207),a=o(83),i=o(137),s=o(28),l=o(105),c=o(103),u=o(104),d=o(138),p="[object Map]",f="[object Set]",h=Object.prototype,m=h.hasOwnProperty;e.exports=n},function(e,t,o){var n=o(25);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,o){var n=o(46);e.exports=function(e,t,o){if(n(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,r){return e.call(t,o,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,o){var n=o(58),r=o(49);e.exports=function(e){return n(r(e))}},function(e,t,o){e.exports={default:o(286),__esModule:!0}},function(e,t,o){var n=o(200),r="object"==typeof self&&self&&self.Object===Object&&self,a=n||r||Function("return this")();e.exports=a},function(e,t,o){var n=o(27),r=o(47);e.exports=o(22)?function(e,t,o){return n.f(e,t,r(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var r=o(6),a=n(r),i=o(52),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(9),f=o(0),h=o(24),m=f.WeaLocaleProvider.getLabel,v=[1,!0],g=[0,!1],y=function(){function e(){var t=this;(0,c.default)(this,e),this.showMsg=function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";-1!=v.indexOf(e)||"success"==r?t.showSuccessMsg(o,n):-1!=g.indexOf(e)||"errors"==r?t.showErrorMsg(o,n):t.showWarningMsg(o,n)},this.showSuccessMsg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments[2];p.message.success(e||m(83551,"保存成功！"),t,o)},this.showErrorMsg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments[2];p.message.error(e||m(84544,"保存失败！"),t,o)},this.showWarningMsg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments[2];p.message.warning(e||m(506341,"数据异常,请联系管理员!"),t,o)},this.showConfirm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m(22575,"系统提醒消息"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments[2],n=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m(83446,"确定"),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:m(201,"取消");p.Modal.confirm({title:e,content:t,okText:r,cancelText:a,onOk:function(){"function"==typeof o&&o()},onCancel:function(){"function"==typeof n&&n()}})},this.showWarning=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m(22575,"系统提醒消息"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments[2];p.Modal.warning({title:e,content:t,okText:m(826,"确定"),onOk:function(){"function"==typeof o&&o()},onCancel:function(){"function"==typeof o&&o()}})},this.checkRemark=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.remark,o=void 0===t?"":t,n=!1;return o.length>0&&(n=!0),n},this.saveFormSignature=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"remark",n=!0;if("object"===(0,s.default)(window.saveAutographMul)){var r="";window.saveAutographMul&&window.saveAutographMul["wfWeaAutographComp"+o]&&(r=window.saveAutographMul["wfWeaAutographComp"+o](t)),!0===r||-1==r&&0==t?n=!0:!isNaN(r)&&parseInt(r)>0?e.workflowRequestLogId=r:("-2"==r?p.message.warning(m(386186,'"签字意见"未填写'),2):p.message.warning(m(528568,"签章保存失败"),2),n=!1)}else p.message.warning(m(528569,"签章组件未加载成功")),n=!1;return n},this.updateRemarkByWfRemark=function(){var e={};if(window.REMARK_CK_REF&&window.REMARK_CK_REF.refs.signInput){var t=window.REMARK_CK_REF.refs.signInput.state,o=t.signdocids,n=void 0===o?"":o,r=t.signdocreplacedata,i=void 0===r?[]:r,s=t.signworkflowids,l=void 0===s?"":s,c=t.signworkflowreplacedata,u=void 0===c?[]:c,d=t.remarkLocation,p=void 0===d?"":d,f=t.annexdocinfos,m=void 0===f?[]:f,v=t.signHandWritten,g=t.remarkLocationInfo;if(window.CK_REF&&window.CK_REF.remark){var y=window.CK_REF.remark&&window.CK_REF.remark.getData(),b=e.remark,w=void 0===b?"":b;(0,h.trim)(y).length>0&&(e.remark=w||y),((0,h.trim)(y).length>0||i.length>0||u.length>0||m.length>0||(0,h.trim)(p).length>0||v.fileid>0||void 0==v.fileid)&&(e.signdocids=n,e.signdocreplacedata=i,e.signHandWritten=v,e.signhandwrittenid=v.fileid||0,e.signworkflowids=l,e.signworkflowreplacedata=u,e.remarkLocation=p,e.remarkLocationInfo=g,e.annexdocinfos=m)}}return(0,a.default)({},e)}}return(0,d.default)(e,[{key:"verifyRemarkMustInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",o=e.signMustInputTypes,n=void 0===o?[]:o,r=e.isSignMustInput,a=void 0===r?"":r;e.isFormSignature;return"1"==a||"2"==a&&n.indexOf("forwardflag"+t)>-1}}]),e}();t.Base=y},function(e,t,o){var n=o(49);e.exports=function(e){return Object(n(e))}},function(e,t,o){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,s,l=n(e),c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var u in o)a.call(o,u)&&(l[u]=o[u]);if(r){s=r(o);for(var d=0;d<s.length;d++)i.call(o,s[d])&&(l[s[d]]=o[s[d]])}}return l}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o="";if(window.odocTransferUtil&&window.odocTransferUtil.getLable&&"function"===typeof window.odocTransferUtil.getLable)try{o=window.odocTransferUtil.getLable(e,t)||""}catch(e){}return""===o?d(e,t):o}function a(e){var t=e.compKey,o=void 0===t?"":t,n=e.children,r=void 0===n?null:n,a=e.Comp,i=void 0===a?null:a,l=(e.store,e.compProps),u=void 0===l?{}:l,d=e.ecId,p=void 0===d?"":d,f=(e._this,e.ref),h=(e.otherProps,r);if(i){var m={};f&&(m=(0,s.default)({},m,{ref:f})),h=c.default.createElement(i,(0,s.default)({ecId:p},u,m),r)}return""!==o&&window.odocTransferUtil&&window.odocTransferUtil.registerMiddleware&&(h=window.odocTransferUtil.registerMiddleware(o,h,e)||null),h}Object.defineProperty(t,"__esModule",{value:!0});var i=o(6),s=n(i);t.odocGetLabel=r,t.OverrideWedget=a;var l=o(7),c=n(l),u=o(0),d=u.WeaLocaleProvider.getLabel},function(e,t,o){var n=o(86),r=o(74);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t){function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=o},function(e,t){function o(e){return null!=e&&"object"==typeof e}e.exports=o},function(e,t,o){var n,r;!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===r)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?e.exports=o:(n=[],void 0!==(r=function(){return o}.apply(t,n))&&(e.exports=r))}()},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(258),a=n(r),i=o(265),s=n(i),l="function"===typeof s.default&&"symbol"===typeof a.default?function(e){return typeof e}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"===typeof s.default&&"symbol"===l(a.default)?function(e){return"undefined"===typeof e?"undefined":l(e)}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"===typeof e?"undefined":l(e)}},function(e,t,o){"use strict";t.__esModule=!0;var n=o(12),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,o){return t in e?(0,r.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(e,t,o){function n(e,t){var o=a(e,t);return r(o)?o:void 0}var r=o(415),a=o(420);e.exports=n},function(e,t,o){function n(e){if(!a(e))return!1;var t=r(e);return t==s||t==l||t==i||t==c}var r=o(68),a=o(43),i="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";e.exports=n},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_56__},function(e,t,o){"use strict";function n(e,t){var o=[];return e.forEach(function(e){var n=t.find(function(t){return t.key==e.key})||{};o.push((0,d.default)({},n,e,{dataParams:(0,d.default)({},n.dataParams||{},e.dataParams||{}),browserProps:(0,d.default)({},n.browserProps||{},e.browserProps||{})}))}),o}function r(e){e&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.nativeEvent&&(e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),e.nativeEvent.preventDefault&&e.nativeEvent.preventDefault()))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(e+"?"+h(t)).length>("IE"==m.browser?2e3:6e3)?"POST":"GET"}function i(e){if(!e)return!1;var t=e.type,o=e.isSingle,n=e.dataParams,r=window.ecBrowserConfig||{},a=r.typeList,i=a||[];return!o&&(162===t||"162"===t?-1!==i.indexOf(""+n.type):257===t||"257"===t?-1!==i.indexOf("tree."+n.treeid):-1!==i.indexOf(""+t))}function s(e){if(!e)return!1;var t=e.type,o=e.dataParams,n=window.ecBrowserConfig||{},r=n.pageConfigList,a=n.defaultPageSize,i=r||[],s=a||10,l=s;return i.map(function(e){e.browserType==t?l=e.pageSize:161!=t&&162!=t||e.browserType==o.type&&(l=e.pageSize)}),l}function l(e){if(!e)return!1;var t=e.type,o=window.ecBrowserConfig||{},n=o.selectAllTypeList,r=o.defaultSelectAllMaxSize,a=n||["17"],i=r||500;return-1!==a.indexOf(""+t)?i:0}function c(e){return"string"===typeof e?e.replace(/<[^<>]+>/g,""):e}Object.defineProperty(t,"__esModule",{value:!0}),t.text=void 0;var u=o(6),d=function(e){return e&&e.__esModule?e:{default:e}}(u);t.joinArray=n,t.stopPropagation=r,t.getMethod=a,t.getValueWarp=i,t.getPageSize=s,t.getSelectAllMaxSize=l,t.filterHtmlInText=c;var p=o(0),f=p.WeaTools.EncryBase,h=p.WeaTools.getFd,m=p.WeaTools.ua,v=f.desensitization,g=f.encryption,y=f.replaceEncryption,b=f.Encry;t.text=function(e,t,o){var n="";if(void 0!==e[t]&&(n=e[t]),void 0!==e[t+"span"]&&(n=e[t+"span"]),!o){if(v(n))return React.createElement(b,{ecId:"_Encry@42nobx",value:n});g(n)&&(n=y(n))}return n}},function(e,t,o){var n=o(48);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,o){var n=o(60),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var o=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:o)(e)}},function(e,t){var o=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+n).toString(36))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reSigning=t.delList=t.getWorkflowListByTypeForDemo=t.getBaseInfoForDemo=t.getRegistrationFormData=t.changeWordToPdf=t.smartRegistration=t.saveRegistrationFormData=t.getRegistrationForm=t.getMenuType=t.getRequstId=t.createChangeFlowList=t.postWebSendDocCondition=t.setWorkflowConfig=t.getWorkflowConfigCondition=t.getWorkflowConfig=t.createworkflow=t.sendbackDoc=t.rejectDoc=t.manualSigninDoc=t.signinDoc=t.receiveDoc=t.getBaseinfo=t.getCondition=t.getList=void 0;var n=o(0);t.getList=function(e){return n.WeaTools.callApi("/api/offical/receiveDoc/getList","POST",e)},t.getCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/condition","POST",e)},t.getBaseinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getBaseinfo","POST",e)},t.receiveDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/receiveDoc","POST",e)},t.signinDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/signinDoc","POST",e)},t.manualSigninDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/manualSigninDoc","POST",e)},t.rejectDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/rejectDoc","POST",e)},t.sendbackDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/sendbackDoc","POST",e)},t.createworkflow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/createworkflow","POST",e)},t.getWorkflowConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getWorkflowConfig","POST",e)},t.getWorkflowConfigCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getWorkflowConfigCondition","POST",e)},t.setWorkflowConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/setWorkflowConfig","POST",e)},t.postWebSendDocCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/postWebSendDocCondition","POST",e)},t.createChangeFlowList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/odoc/odocCenter/createChangeFlowList","POST",e)},t.getRequstId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/createflowByWS","POST",e)},t.getMenuType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getMenuType","POST",e)},t.getRegistrationForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getRegistrationForm","POST",e)},t.saveRegistrationFormData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/saveRegistrationFormData","POST",e)},t.smartRegistration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/smartRegistration","POST",e)},t.changeWordToPdf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/changeWordToPdf","POST",e)},t.getRegistrationFormData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getRegistrationFormData","POST",e)},t.getBaseInfoForDemo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getBaseInfoForDemo","POST",e)},t.getWorkflowListByTypeForDemo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/getWorkflowListByTypeForDemo","POST",e)},t.delList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/del","POST",e)},t.reSigning=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/receiveDoc/ReSigning","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(9),g=o(8),y=o(11),b=o(0);o(91);var w=o(171),S=n(w),_=b.WeaLocaleProvider.getLabel,C=function(e){function t(){var e,o,n,r;(0,s.default)(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return o=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.onOperatesClick=function(e,t,o){var r=n.state.listStore,a=o.href.replace(/(javascript\:)|(\(\))/g,function(){return""});if("reqListUtil.doForward;"===a){var i={requestid:e.requestid,nodeid:e.currentnodeid,showForward:!0,forwardflag:"1",forwardOperators:""};r.setForwardParams(i),r.setDoForward(!0)}"reqListUtil.doPrint;"===a&&doPrintRequest(e.requestid,e.creater),"doReadIt;"===a&&doReadRequest(e.requestid)},r=o,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){}},{key:"changeTab",value:function(e){var t=this.state.listStore;t.setSelectedTab(e);var o=t.selectedTab;t.searchStore.setOtherSearchParams({officalType:o}),t.buildSearchCondition()}},{key:"renderSearchAdForm",value:function(){var e=this.state.listStore;return m.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SearchComponent@ax4lsq",searchStore:e.searchStore,listStore:e})}},{key:"renderRightAndDropMenus",value:function(){var e=this.state.listStore;return[{key:"1",disabled:!1,icon:m.default.createElement("i",{className:"icon-coms-search"}),content:_("197","搜索"),onClick:function(){return e.doSearch()}}]}},{key:"renderSearchAdButtons",value:function(){var e=this.state.listStore;return[m.default.createElement(v.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@hv518k@search",type:"primary",onClick:function(){return e.doSearch()}},_("197","搜索")),m.default.createElement(v.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@bnukvo@reset",type:"ghost",onClick:function(){e.resetForm(),e.setSearchsBaseValue("")}},_("2022","重置")),m.default.createElement(v.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@45jo5r@cancel",type:"ghost",onClick:function(){e.resetForm(),e.searchStore.changeShowSearchAd(!1)}},_("31129","取消"))]}},{key:"render",value:function(){return m.default.createElement("span",null)}},{key:"searchCustomRender",value:function(e,t){var o=this,n=[];return e.isFormInit&&(0,g.toJS)(t).map(function(t,r){var a=[];t.items.map(function(t){a.push({com:m.default.createElement(b.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@1x6ve4@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},m.default.createElement(y.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@1fvyln@"+t.domkey[0],fieldConfig:t,form:e})),col:2,hide:e.isHide(t,function(e,o){return""==o.officalType&&("签报环节"==t.label||"收文环节"==t.label||"发文环节"==t.label)||("1"==o.officalType&&("签报环节"==t.label||"收文环节"==t.label)||("2"==o.officalType&&("签报环节"==t.label||"发文环节"==t.label)||"3"==o.officalType&&("收文环节"==t.label||"发文环节"==t.label)))})})}),n.push(m.default.createElement(b.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@v3tqb0@"+r,needTigger:!1,title:t.title,showGroup:t.defaultshow,items:a}))}),n}}]),t}(m.default.Component);t.default=C},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomReportList=t.getOdocDocReportEchartDetailListCondition=t.getOdocDocReportEchartDetailList=t.getOdocDocReportDetailCondition=t.getOdocDocReportDetailList=t.getOdocDocReportEchartData=t.getOdocDocReportSearchCondition=t.getOdocReportEchartDetailListCondition=t.getOdocReportEchartDetailList=t.getOdocReportDetailCondition=t.getOdocReportDetailList=t.getOdocReportEchartData=t.getOdocReportCountData=t.getOdocReportSearchCondition=void 0;var n=o(0);t.getOdocReportSearchCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportSearchCondition","POST",e)},t.getOdocReportCountData=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportCountData","POST",e)},t.getOdocReportEchartData=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportEchartData","POST",e)},t.getOdocReportDetailList=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportDetailList","POST",e)},t.getOdocReportDetailCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportDetailCondition","POST",e)},t.getOdocReportEchartDetailList=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportEchartDetailList","POST",e)},t.getOdocReportEchartDetailListCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/getOdocReportEchartDetailListCondition","POST",e)},t.getOdocDocReportSearchCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocDocReport/getOdocDocReportSearchCondition","POST",e)},t.getOdocDocReportEchartData=function(e){return n.WeaTools.callApi("/api/odoc/odocDocReport/getOdocDocReportEchartData","POST",e)},t.getOdocDocReportDetailList=function(e){return n.WeaTools.callApi("/api/odoc/odocDocReport/getOdocDocReportDetailList","POST",e)},t.getOdocDocReportDetailCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocDocReport/getOdocDocReportDetailCondition","POST",e)},t.getOdocDocReportEchartDetailList=function(e){return n.WeaTools.callApi("/api/odoc/odocDocReport/getOdocDocReportEchartDetailList","POST",e)},t.getOdocDocReportEchartDetailListCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocDocReport/GetOdocDocEchartDetailCondition","POST",e)},t.getCustomReportList=function(e){return n.WeaTools.callApi("/api/odoc/odocReport/list","POST",e)}},function(e,t,o){e.exports=o(361)},function(e,t,o){"use strict";t.__esModule=!0;var n=o(190),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,o){function n(a,i){try{var s=t[a](i),l=s.value}catch(e){return void o(e)}if(!s.done)return r.default.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}},function(e,t,o){function n(e){return r(e,a|i)}var r=o(199),a=1,i=4;e.exports=n},function(e,t,o){function n(e){return null==e?void 0===e?l:s:c&&c in Object(e)?a(e):i(e)}var r=o(81),a=o(416),i=o(417),s="[object Null]",l="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformConfirmMsg=t.getRelateFieldValue=t.getRelateFieldValues=t.showGlobalError=t.showGlobalMessage=t.convertSpecialChar=void 0;var n=o(9),r={"font-size":"18px"},a={margin:"0 5px","font-weight":"bold",color:"#2db7f5"},i=(t.convertSpecialChar=function(e){return e=e.toString(),e=e.replace(/<br>/gi,"\n"),e=e.replace(/&nbsp;/gi," "),e=e.replace(/&lt;/gi,"<"),e=e.replace(/&gt;/gi,">"),e=e.replace(/&quot;/gi,'"'),e=e.replace(/&amp;/gi,"&")},t.showGlobalMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"string"===typeof e?n.message.success(React.createElement("span",{style:r,dangerouslySetInnerHTML:{__html:e}}),t):n.message.success(React.createElement("span",{style:r}),t)},t.showGlobalError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"string"===typeof e?n.message.error(React.createElement("span",{style:r,dangerouslySetInnerHTML:{__html:e}}),t):n.message.error(React.createElement("span",{style:r},e),t)},t.getRelateFieldValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],o=arguments[2],n={},r=o.mainData,a=o.detailMap,i=o.fieldAttrMap;return e.map(function(e){var o="";if(i.has(e.toString())){var s=i.get(e.toString()).tableMark;if("main"===s)o=r.has("field"+e)?r.get("field"+e).value:"";else if(s.indexOf("detail_")>-1){var l=a.get(s),c=l.detailData;o=c.has("field"+e+"_"+t)?c.get("field"+e+"_"+t).value:""}}n[e]=o.toString()}),n});t.getRelateFieldValue=function(e,t,o){return i([e],t,o)[e]||""},t.transformConfirmMsg=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,s="",l="";t.length>i?(l=t.join(", "),s=t.slice(0,i).join(", ")+"..."):s=t.join(", ");var c=e.indexOf("$username"),u=c+"$username".length,d=e.substring(0,c),p=e.substring(u),f="";if(l.length>0){var h=React.createElement("span",{style:r},l);f=React.createElement(n.Tooltip,{ecId:"_Tooltip@ksqmn8",placement:"rightTop",title:h},React.createElement("span",{style:o},s))}else f=React.createElement("span",{style:o},s);return React.createElement("span",{style:r},d,f,p)}},function(e,t,o){var n=o(25),r=o(18).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,o){var n=o(25);e.exports=function(e,t){if(!n(e))return e;var o,r;if(t&&"function"==typeof(o=e.toString)&&!n(r=o.call(e)))return r;if("function"==typeof(o=e.valueOf)&&!n(r=o.call(e)))return r;if(!t&&"function"==typeof(o=e.toString)&&!n(r=o.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,o){var n=o(73)("keys"),r=o(61);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,o){var n=o(15),r=o(18),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:o(50)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){"use strict";var n=o(260)(!0);o(114)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=n(t,o),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports={}},function(e,t,o){var n=o(27).f,r=o(37),a=o(26)("toStringTag");e.exports=function(e,t,o){e&&!r(e=o?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,o){var n=o(32),r=o(186),a=o(187),i=o(30),s=o(59),l=o(120),c={},u={},t=e.exports=function(e,t,o,d,p){var f,h,m,v,g=p?function(){return e}:l(e),y=n(o,d,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(f=s(e.length);f>b;b++)if((v=t?y(i(h=e[b])[0],h[1]):y(e[b]))===c||v===u)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=r(m,y,h.value,t))===c||v===u)return v};t.BREAK=c,t.RETURN=u},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,o){var n=o(35),r=n.Symbol;e.exports=r},function(e,t,o){function n(e){return i(e)?r(e):a(e)}var r=o(205),a=o(207),i=o(105);e.exports=n},function(e,t,o){var n=o(449),r=o(135),a=o(450),i=o(216),s=o(451),l=o(68),c=o(201),u=c(n),d=c(r),p=c(a),f=c(i),h=c(s),m=l;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||a&&"[object Promise]"!=m(a.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),o="[object Object]"==t?e.constructor:void 0,n=o?c(o):"";if(n)switch(n){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_84__},function(e,t,o){e.exports=!o(22)&&!o(31)(function(){return 7!=Object.defineProperty(o(70)("div"),"a",{get:function(){return 7}}).a})},function(e,t,o){var n=o(37),r=o(33),a=o(111)(!1),i=o(72)("IE_PROTO");e.exports=function(e,t){var o,s=r(e),l=0,c=[];for(o in s)o!=i&&n(s,o)&&c.push(o);for(;t.length>l;)n(s,o=t[l++])&&(~a(c,o)||c.push(o));return c}},function(e,t,o){var n=o(30),r=o(262),a=o(74),i=o(72)("IE_PROTO"),s=function(){},l=function(){var e,t=o(70)("iframe"),n=a.length;for(t.style.display="none",o(163).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function(e,t){var o;return null!==e?(s.prototype=n(e),o=new s,s.prototype=null,o[i]=e):o=l(),void 0===t?o:r(o,t)}},function(e,t,o){o(263);for(var n=o(18),r=o(36),a=o(77),i=o(26)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],d=u&&u.prototype;d&&!d[i]&&r(d,i,c),a[c]=a.Array}},function(e,t,o){e.exports={default:o(281),__esModule:!0}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateForm=t.affirmDeleted=void 0;var n=o(9),r=o(0),a=r.WeaLocaleProvider.getLabel,i=n.Modal.confirm;t.affirmDeleted=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.title,n=void 0===o?"":o,r=t.content,s=void 0===r?"":r,l=t.okText,c=void 0===l?"":l,u=t.cancelText,d=void 0===u?"":u,p=t.onCancel,f=void 0===p?null:p;i({title:n||a("131329","信息确认"),content:s||a("33435","确定要删除选中的记录吗？"),okText:c||a("163","是"),cancelText:d||a("30587","否"),onOk:function(){return e()},onCancel:function(){return f&&f()}})},t.validateForm=function(e,t,o){e.validate().then(function(e){e.isValid?t&&t():o?o():e.showErrors()})}},function(e,t,o){"use strict";var n=o(0);window.openSPA4SingleTab=function(e,t){window.openSPA4Single(e,t,!0)},window.openSPA4Single=function(e,t,o){var n=(new Date).getTime(),r=window.ecologyContentPath||"",a=r+"/spa/workflow/static4form/index.html?_rdm="+n;e+="&preloadkey="+n+"&timestamp="+n,function(e){var t=r+"/api/workflow/reqform/loadForm?ispreload=1&";t+=e.split("?")[1],jQuery.ajax({type:"POST",url:t})}(e);var i=screen.availWidth-10,s=screen.availHeight-50,l="";o||(l="top=0,left=0,",l+="width="+i+",",l+="height="+s+",",l+="directories=no,status=yes,toolbar=no,location=no,",l+="menubar=no,scrollbars=yes,resizable=yes"),window.open(a+"#"+e,"",l)},window.doPrintRequest=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="requestid="+e+"&f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0"+o;openFullWindowHaveBar("/workflow/request/PrintRequestForward.jsp?"+n)},window.doReadRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.WeaTools.callApi("/api/workflow/reqlist/doReadIt","POST",{opertype:"single",requestid:e,f_weaver_belongto_userid:t,f_weaver_belongto_usertype:"0"}).then(function(){window._table.reLoad()})},window.showallreceived=function(e,t){jQuery.ajax({url:"/workflow/search/WorkflowUnoperatorPersons.jsp?requestid="+e+"&returntdid="+t,type:"post",success:function(e){try{jQuery("#"+t).html(jQuery.trim(e)),jQuery("#"+t).parent().attr("title",jQuery.trim(e).replace(/[\r\n]/gm,""))}catch(e){}}})},window.getDoing=function(e,t){var o=window.ecologyContentPath||"";jQuery.ajax({url:o+"/api/odoc/odocNewTodoList/getOperatorPersons?requestid="+e+"&persontype=1",type:"post",dataType:"json",success:function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}}})},window.getNoDo=function(e,t){var o=window.ecologyContentPath||"";jQuery.ajax({url:o+"/api/odoc/odocNewTodoList/getOperatorPersons?requestid="+e+"&persontype=0",type:"post",dataType:"json",success:function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}}})},window.ShowAllUnopertors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=jQuery("#"+t+e+o+"span").html(),a=jQuery("#"+t+e+o+"spanAll").html(),i=jQuery("#"+t+e+o+"button").css("display"),s=jQuery("#"+t+e+o+"buttonAll").css("display"),l=window.__currentStore?window.__currentStore.tableStore.dataKey:"";r.length>0&&0==a.length?n.WeaTools.callApi("/api/workflow/reqlist/getUnoperators","POST",{requestid:e,realuserid:t,actiontype:"single",showAll:"true",moduleId:o,dataKey:l}).then(function(n){jQuery("#"+t+e+o+"span").html(n[t+""+e+o+"loding"]),jQuery("#"+t+e+o+"spanAll").html(r),jQuery("#"+t+e+o+"button").css("display",s),jQuery("#"+t+e+o+"buttonAll").css("display",i)}):(jQuery("#"+t+e+o+"span").html(a),jQuery("#"+t+e+o+"spanAll").html(r),jQuery("#"+t+e+o+"button").css("display",s),jQuery("#"+t+e+o+"buttonAll").css("display",i))},window.ShowAllUnopertors2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=window.__currentStore?window.__currentStore.tableStore.dataKey:"";n.WeaTools.callApi("/api/workflow/reqlist/getUnoperators","POST",{requestid:e,realuserid:t,actiontype:"single",showAll:"false",moduleId:o,dataKey:r}).then(function(n){jQuery("#"+t+e+o+"loding").html(n[t+""+e+o+"loding"])})},window.openFullWindowHaveBarForWFList=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{document.getElementById("wflist_"+t+"span").innerHTML=""}catch(e){}openFullWindowHaveBar(e,o)},window.openFullWindowHaveBar=function(e,t){var o=screen.availWidth-10,n=screen.availHeight-50,r="top=0,left=0,";if(r+="width="+o+",",r+="height="+n+",",r+="directories=no,status=yes,toolbar=no,location=no,",r+="menubar=no,scrollbars=yes,resizable=yes",e=new RegExp("^"+(window.ecologyContentPath||"")).test(e)?e:(window.ecologyContentPath||"")+e,parseInt(t,0)>0)var a=window.open(e,"",r),i=setInterval(function(){a.closed&&(clearInterval(i),window._table.reLoad())},t);else window.open(e,"",r)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,d.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u=o(12),d=n(u),p=o(14),f=n(p),h=o(21),m=n(h),v=o(6),g=n(v),y=o(3),b=n(y),w=o(1),S=n(w),_=o(2),C=n(_),I=o(4),k=n(I),T=o(295),E=n(T),D=o(5),O=n(D),P=o(8),W=o(9),R=o(11),A=o(125),x=n(A),L=o(300),F=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(L),M=(i=P.action.bound,s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,S.default)(this,t);var o=(0,k.default)(this,(t.__proto__||(0,b.default)(t)).call(this));return r(o,"showBatchBtn",l,o),o.locationquery={},r(o,"setShowBatchBtn",c,o),o.getColumns=function(e){return e.map(function(e){return e})},o.setPageTitle(e),!Object.prototype.hasOwnProperty.call(e,"isNew")||1!=e.isNew&&"true"!=e.isNew?(o.API_TABCOUNT="/api/odoc/odocTodoList/getTodoCount",o.showNewSearch=!1):(o.tabComponentParams={getDataList:function(e){return o.doSearch(e)},searchType:["base","advanced"],getFormUrl:"/api/odoc/odocTodoList/getCondition",tabUrl:"/api/odoc/odocTodoList/getTodoCount",tabParams:e,searchParams:e,tabKey:"officalType",baseSearchName:"requestname",moreTimeGetCondition:!0},Object.prototype.hasOwnProperty.call(e,"officalType")&&(o.tabComponentParams.tabUrl=void 0,o.tabComponentParams.tabKey=void 0),o.showNewSearch=!0),o.locationquery=e,o}return(0,O.default)(t,e),(0,C.default)(t,[{key:"buildTabs",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=(0,g.default)({},o,this.locationquery),(0,E.default)(t.prototype.__proto__||(0,b.default)(t.prototype),"buildTabs",this).call(this,e,o)}},{key:"getSearchsBaseValue",value:function(){return this.searchStore.form.getFormParams().requestname}},{key:"setSearchsBaseValue",value:function(e){this.searchStore.form.updateFields({requestname:{value:e}}),this.searchStore.isSearched()}},{key:"getTopBtns",value:function(){return[React.createElement(W.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@fythy3@bacthSubmit",type:"ghost",disabled:this.showBatchBtn},this.getLabel2("17598","批量提交"))]}},{key:"handleSelectedRowsChange",value:function(e){this.setSelectedRows(e),this.selectedRows.length>0?this.setShowBatchBtn(!1):this.setShowBatchBtn(!0)}},{key:"doSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.searchStore.getFormParams();return o=(0,g.default)({officalType:1},o,this.searchStore.otherSearchParams,this.locationquery,t),F.getTodoList(o).then(function(o){e.searchStore.tableStore.getDatas(o.generateParams.sessionkey,t.current||1)}),this.searchStore.setShowSearchAd(!1),this}},{key:"buildSearchCondition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,m.default)(t,t,this.searchStore.otherSearchParams,this.locationquery),F.getCondition(t).then(function(o){e.searchStore.form=new R.WeaForm,e.searchStore.setSearchCondition(o);var n=o.conditions||o.condition;e.searchStore.form.initFormFields(n),e.doSearch(t)})}},{key:"resetForm",value:function(){this.searchStore.resetSearchForm(),this.setSearchsBaseValue("")}},{key:"setPageTitle",value:function(e){"todo"==e.type&&(this.setTopTitle(this.getLabel2(384728,"待办公文")),"1"==e.officalType&&this.setTopTitle(this.getLabel2("33769","待办发文")),"2"==e.officalType&&this.setTopTitle(this.getLabel2("33787","待办收文")),"3"==e.officalType&&this.setTopTitle(this.getLabel2("382113","待办签报"))),"done"==e.type&&(this.setTopTitle(this.getLabel2(507087,"已办公文")),"1"==e.officalType&&this.setTopTitle(this.getLabel2("33770","已办发文")),"2"==e.officalType&&this.setTopTitle(this.getLabel2("33789","已办收文")),"3"==e.officalType&&this.setTopTitle(this.getLabel2("382115","已办签报"))),"toview"==e.type&&(this.setTopTitle(this.getLabel2(509711,"待阅公文")),"1"==e.officalType&&this.setTopTitle(this.getLabel2("509714","待阅发文")),"2"==e.officalType&&this.setTopTitle(this.getLabel2("509715","待阅收文")),"3"==e.officalType&&this.setTopTitle(this.getLabel2("509716","待阅签报"))),"viewed"==e.type&&(this.setTopTitle(this.getLabel2(509710,"已阅公文")),"1"==e.officalType&&this.setTopTitle(this.getLabel2("509717","已阅发文")),"2"==e.officalType&&this.setTopTitle(this.getLabel2("509718","已阅收文")),"3"==e.officalType&&this.setTopTitle(this.getLabel2("509719","已阅签报")))}}]),t}(x.default),l=a(s.prototype,"showBatchBtn",[P.observable],{enumerable:!0,initializer:function(){return!0}}),c=a(s.prototype,"setShowBatchBtn",[P.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.showBatchBtn=t}}}),a(s.prototype,"doSearch",[i],(0,f.default)(s.prototype,"doSearch"),s.prototype),s);t.default=M},function(e,t,o){e.exports={default:o(303),__esModule:!0}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=o(327),a=n(r),i=o(330),s=n(i),l=o(331),c=n(l),u=o(336),d=n(u),p=o(337),f=n(p),h=o(92),m=n(h),v=o(173),g=n(v),y=o(175),b=n(y),w=o(339),S=n(w),_=o(341),C=n(_),I=o(342),k=n(I),T=o(343),E=n(T),D=o(344),O=n(D),P=o(345),W=n(P),R=o(347),A=n(R),x=o(349),L=n(x),F=o(351),M=n(F),N=o(353),j=n(N),z=o(355),B=n(z),q=o(357),K=n(q),U=o(359),V=n(U),H=o(360),G=n(H),J=o(371),Q=n(J),Y=o(373),X=n(Y),$=o(375),Z=n($),ee=o(377),te=n(ee),oe=o(378),ne=n(oe),re=o(379),ae=n(re),ie=o(381),se=n(ie),le=o(382),ce=n(le),ue=o(397),de=n(ue),pe=o(398),fe=n(pe),he=o(399),me=n(he),ve=o(401),ge=n(ve),ye=o(403),be=n(ye),we=o(464),Se=n(we),_e=o(465),Ce=n(_e),Ie=o(466),ke=n(Ie),Te=o(468),Ee=n(Te),De=o(470),Oe=n(De),Pe=o(472),We=n(Pe),Re=o(473),Ae=o(474),xe=n(Ae),Le=o(475),Fe=n(Le),Me=o(476),Ne=n(Me),je=o(477),ze=n(je),Be=o(479),qe=n(Be),Ke=o(481),Ue=n(Ke);e.exports={collectionSend:new a.default,collectionReceive:new s.default,receiveDoc:new c.default,sendDoc:new d.default,centerStore:new f.default,todoStore:new m.default,odocLibraryStore:new g.default,searchReqStore:new b.default,accountListStore:new S.default,reportStore:new C.default,reportFlowDetailListDialogStore:new k.default,reportDocDetailListDialogStore:new E.default,reportFlowEchartDetailListDialogStore:new O.default,reportDocEchartDetailListDialogStore:new W.default,privateGroupSetingStore:new A.default,docVersionStore:new L.default,recPostDocUnitStore:new M.default,openModelStore:new j.default,odocFinishStore:new B.default,addOdocRequestStore:new K.default,baseTableStore:new V.default,tabComponentStore:G.default,superviseStore:new Q.default,trackingWorkflowStore:new X.default,customPageStore:new Z.default,customReportStore:new te.default,odocPrintMouldStore:new ne.default,docTemplateStore:new ae.default,odocCompsStore:new se.default,odocRequestStore:new ce.default,withDrawStore:new de.default,managerWithDrawStore:new fe.default,updateOperatorStore:new me.default,odocSignGroupStore:new ge.default,odocTypeChangeStore:new be.default,updateSignLogStore:new ke.default,appendSignLogStore:new Se.default,appendSelfSignLogStore:new Ce.default,adjustLogStore:new Ee.default,odocSignApprovalStore:new Oe.default,registDocStore:new We.default,onlineEditStore:new Re.OnlineEditStore,odocModelEssayStore:new xe.default,odocModelAndSensitiveStore:new Fe.default,odocRequestRejectStore:new Ne.default,odocNumberStore:new ze.default,subWorkflowStore:new qe.default,odocDispatchStore:new Ue.default}},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n){o&&(0,O.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function i(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D=o(12),O=r(D),P=o(6),W=r(P),R=o(53),A=r(R),x=o(14),L=r(x),F=o(1),M=r(F),N=o(2),j=r(N),z=o(8),B=o(11),q=o(62),K=n(q),U=o(328),V=n(U),H=o(329),G=n(H),J=o(123),Q=n(J),Y=B.WeaTableNew.TableStore,X=(s=function(){function e(){var t=this;(0,M.default)(this,e),a(this,"loading",l,this),a(this,"ifShowSearchAd",c,this),a(this,"tableStore",u,this),a(this,"dataKey",d,this),a(this,"viewcondition",p,this),a(this,"adSearchForm",f,this),a(this,"conditioninfo",h,this),a(this,"topTab",m,this),a(this,"pagetitle",v,this),a(this,"CHANGE_MODE",g,this),a(this,"leftTree",y,this),a(this,"leftTreeCount",b,this),a(this,"leftTreeCountType",w,this),a(this,"selectedTreeKey",S,this),a(this,"hasRight",_,this),a(this,"isUseTriSubWorkflow",C,this),a(this,"setStoreAttr",I,this),a(this,"reinitWeaForm",k,this),this.setInterfaces=function(){if("receiveDoc"===t.pageName)t.interfaceOfGetCondition=K.getCondition.bind(t),t.interfaceOfDeleteTableData=K.getList.bind(t),t.interfaceOfGetBaseinfo=K.getBaseinfo;else if("collectionReceive"===t.pageName)t.interfaceOfGetCondition=V.getCondition.bind(t),t.interfaceOfDeleteTableData=V.getList.bind(t),t.interfaceOfGetBaseinfo=V.getBaseinfo,t.interfaceOfGetTreeData=V.getTreeNode;else if("sendDoc"===t.pageName)t.interfaceOfGetCondition=Q.getCondition.bind(t),t.interfaceOfDeleteTableData=Q.getList.bind(t),t.interfaceOfGetBaseinfo=Q.getBaseinfo;else if("collectionSend"===t.pageName){var e=window.location.href.indexOf("officalType")+12,o=window.location.href.substring(e,e+1);t.interfaceOfGetCondition=G.getCondition.bind(t,o),t.interfaceOfDeleteTableData=G.getList.bind(t,o),t.interfaceOfGetBaseinfo=G.getBaseinfo.bind(t,o),t.interfaceOfGetTreeData=G.getTreeNode.bind(t,o)}},a(this,"initData",T,this),a(this,"doSearch",E,this),this.interfaceOfGetCondition=null,this.interfaceOfDeleteTableData=null,this.interfaceOfGetBaseinfo=null,this.interfaceOfGetTreeData=null}return(0,j.default)(e,[{key:"getTreeData",value:function(){var e=this;this.interfaceOfGetTreeData().then(function(t){e.leftTree=t.treedata,e.leftTreeCount=t.treecount,e.leftTreeCountType=t.countcfg})}}]),e}(),l=i(s.prototype,"loading",[z.observable],{enumerable:!0,initializer:function(){return!1}}),c=i(s.prototype,"ifShowSearchAd",[z.observable],{enumerable:!0,initializer:function(){return!1}}),u=i(s.prototype,"tableStore",[z.observable],{enumerable:!0,initializer:function(){return new Y}}),d=i(s.prototype,"dataKey",[z.observable],{enumerable:!0,initializer:function(){return"0"}}),p=i(s.prototype,"viewcondition",[z.observable],{enumerable:!0,initializer:function(){return"0"}}),f=i(s.prototype,"adSearchForm",[z.observable],{enumerable:!0,initializer:function(){return new B.WeaForm}}),h=i(s.prototype,"conditioninfo",[z.observable],{enumerable:!0,initializer:function(){return""}}),m=i(s.prototype,"topTab",[z.observable],{enumerable:!0,initializer:function(){return[]}}),v=i(s.prototype,"pagetitle",[z.observable],{enumerable:!0,initializer:function(){return""}}),g=i(s.prototype,"CHANGE_MODE",[z.observable],{enumerable:!0,initializer:function(){return"WS"}}),y=i(s.prototype,"leftTree",[z.observable],{enumerable:!0,initializer:function(){return[]}}),b=i(s.prototype,"leftTreeCount",[z.observable],{enumerable:!0,initializer:function(){return{}}}),w=i(s.prototype,"leftTreeCountType",[z.observable],{enumerable:!0,initializer:function(){return[]}}),S=i(s.prototype,"selectedTreeKey",[z.observable],{enumerable:!0,initializer:function(){return""}}),_=i(s.prototype,"hasRight",[z.observable],{enumerable:!0,initializer:function(){return!0}}),C=i(s.prototype,"isUseTriSubWorkflow",[z.observable],{enumerable:!0,initializer:function(){return!1}}),I=i(s.prototype,"setStoreAttr",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o){e[t]=o}}}),i(s.prototype,"getTreeData",[z.action],(0,L.default)(s.prototype,"getTreeData"),s.prototype),k=i(s.prototype,"reinitWeaForm",[z.action],{enumerable:!0,initializer:function(){return function(e,t,o){e[t]=new B.WeaForm,e[t].initFormFields(o)}}}),T=i(s.prototype,"initData",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{compParams:{viewcondition:e.viewcondition}};e.viewcondition=t.compParams.viewcondition,e.setStoreAttr("loading",!0),e.setInterfaces(t.compParams.viewcondition),e.interfaceOfGetBaseinfo({menuType:t.compParams.menuType,isInnerChange:t.compParams.isInnerChange}).then((0,z.action)("getBaseinfoSucc",function(t){e.pagetitle=t.pagetitle,e.topTab=t.groupinfo,e.CHANGE_MODE=t.CHANGE_MODE,e.isUseTriSubWorkflow="1"==t.isUseTriSubWorkflow})).then((0,z.action)("setBaseinfoSucc",function(){e.interfaceOfGetCondition({menuType:t.compParams.menuType,isInnerChange:t.compParams.isInnerChange,state:t.compParams.state?t.compParams.state:"0"}).then((0,z.action)("getConditionSucc",function(o){var n=o.condition;e.conditioninfo=n,e.adSearchForm.initFormFields(e.conditioninfo),"collectionSend"===e.pageName||"collectionReceive"===e.pageName?(e.doSearch({ifAdFormCgWhenCgTab:!1,behavior:"changeTab",viewcondition:t.compParams.viewcondition,otherInterfaceParams:{viewcondition:t.compParams.viewcondition}}),e.getTreeData()):"receiveDoc"===e.pageName||"sendDoc"===e.pageName?e.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"changeTab",viewconditiondomkey:t.compParams.viewconditiondomkey,viewcondition:t.compParams.viewcondition,otherInterfaceParams:{menuType:t.compParams.menuType,isInnerChange:t.compParams.isInnerChange,state:t.compParams.state,batchType:t.compParams.batchType||""}}):e.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"changeTab",viewconditiondomkey:t.compParams.viewconditiondomkey,viewcondition:t.compParams.viewcondition})}))}))}}}),E=i(s.prototype,"doSearch",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];e.setStoreAttr("loading",!0);var n=t.behavior,r=t.ifAdFormCgWhenCgTab,a=e.adSearchForm.getFormParams();if("search"===n){if(!0===r){var i=t.viewconditiondomkey;e.topTab.some(function(e){return e.viewcondition==a[i]})&&(e.viewcondition=a[i])}}else if("changeTab"===n){var s=t.viewcondition;if(e.viewcondition=s,!0===r){var l=t.viewconditiondomkey;e.viewcondition=s,"DateGroup"===t.linkedFormType?e.adSearchForm.updateFields((0,A.default)({},l,{value:[s]})):e.adSearchForm.updateFields((0,A.default)({},l,{value:s}))}}else if("changeLefTreeMenu"===n){var c=t.ifAdFormCgWhenCgLefTreeMenu;if(!0===c){var u=t.menuDomkey,d=t.menuValObj;e.adSearchForm.updateFields((0,A.default)({},u,d))}}e.tableStore=new Y,e.interfaceOfDeleteTableData((0,W.default)({},e.adSearchForm.getFormParams(),t.otherInterfaceParams)).then((0,z.action)("fetchDataSuccess",function(t){e.hasRight=0!=t.hasRight,t.sessionkey&&e.tableStore.getDatas(t.sessionkey,1),e.dataKey=t.sessionkey,e.setStoreAttr("loading",!1),o&&o(e.viewcondition)}))}}}),s);t.default=X},function(e,t,o){e.exports={default:o(383),__esModule:!0}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteDirection=t.checkSeal=t.hasSeal=t.isSeal=t.getOdocTabManagerDatas=t.removeFollowRequest=t.doFollowRequest=t.doEndPersonTreat=t.isEndTreatPerson=t.flowReject=t.loadRejectData=t.loadRejectConfig=t.loadAssginRemarkList=t.loadAssginRemarkCount=t.forceArchive=t.getLastOperateInfo=t.flowNext=t.getTableList=t.saveData=t.loadMarkInfo=t.importData=t.loadData=t.loadConfig=void 0;var n=o(0);t.loadConfig=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadConfig","POST",e)},t.loadData=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadData","POST",e)},t.importData=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/importData","POST",e)},t.loadMarkInfo=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadMarkInfo","POST",e)},t.saveData=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/saveData","POST",e)},t.getTableList=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/getTableList","POST",e)},t.flowNext=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/flowNext","POST",e)},t.getLastOperateInfo=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/getLastOperateInfo","POST",e)},t.forceArchive=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/forceArchive","POST",e)},t.loadAssginRemarkCount=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadAssginRemarkCount","POST",e)},t.loadAssginRemarkList=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadAssginRemarkList","POST",e)},t.loadRejectConfig=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadRejectConfig","POST",e)},t.loadRejectData=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/loadRejectData","POST",e)},t.flowReject=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/flowReject","POST",e)},t.isEndTreatPerson=function(e){return n.WeaTools.callApi("/api/odoc/odocMenuOperate/getIsEndTreatPerson","GET",e)},t.doEndPersonTreat=function(e){return n.WeaTools.callApi("/api/odoc/odocMenuOperate/doEndPersonTreat","POST",e)},t.doFollowRequest=function(e){return n.WeaTools.callApi("/api/odoc/odocNewTodoList/addTracksReq","POST",e)},t.removeFollowRequest=function(e){return n.WeaTools.callApi("/api/odoc/odocNewTodoList/removeTracksReq","POST",e)},t.getOdocTabManagerDatas=function(e){return n.WeaTools.callApi("/api/odoc/odocMenuOperate/getOdocTabManagerDatas","GET",e)},t.isSeal=function(e){return n.WeaTools.callApi("/api/odoc/hq/isSeal","POST",e)},t.hasSeal=function(e){return n.WeaTools.callApi("/api/odoc/hq/hasSeal","POST",e)},t.checkSeal=function(e){return n.WeaTools.callApi("/api/odoc/hq/checkSeal","POST",e)},t.deleteDirection=function(e){return n.WeaTools.callApi("/api/odoc/odocrequest/deleteDirection","POST",e)}},function(e,t,o){function n(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}var r=o(405),a=o(406),i=o(407),s=o(408),l=o(409);n.prototype.clear=r,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,o){function n(e,t){for(var o=e.length;o--;)if(r(e[o][0],t))return o;return-1}var r=o(134);e.exports=n},function(e,t,o){var n=o(54),r=n(Object,"create");e.exports=r},function(e,t,o){function n(e,t){var o=e.__data__;return r(t)?o["string"==typeof t?"string":"hash"]:o.map}var r=o(429);e.exports=n},function(e,t,o){function n(e,t,o,n){var i=!o;o||(o={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=n?n(o[c],e[c],c,o,e):void 0;void 0===u&&(u=e[c]),i?a(o,c,u):r(o,c,u)}return o}var r=o(203),a=o(204);e.exports=n},function(e,t,o){(function(e){var n=o(35),r=o(437),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u}).call(t,o(80)(e))},function(e,t){function o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=o},function(e,t,o){function n(e){return null!=e&&a(e.length)&&!r(e)}var r=o(55),a=o(139);e.exports=n},function(e,t,o){function n(e){return"symbol"==typeof e||a(e)&&r(e)==i}var r=o(68),a=o(44),i="[object Symbol]";e.exports=n},function(e,t,o){function n(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var r=o(106),a=1/0;e.exports=n},function(e,t,o){o(109),e.exports=o(15).Object.assign},function(e,t,o){var n=o(17);n(n.S+n.F,"Object",{assign:o(110)})},function(e,t,o){"use strict";var n=o(22),r=o(42),a=o(75),i=o(51),s=o(39),l=o(58),c=Object.assign;e.exports=!c||o(31)(function(){var e={},t={},o=Symbol(),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[o]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var o=s(e),c=arguments.length,u=1,d=a.f,p=i.f;c>u;)for(var f,h=l(arguments[u++]),m=d?r(h).concat(d(h)):r(h),v=m.length,g=0;v>g;)f=m[g++],n&&!p.call(h,f)||(o[f]=h[f]);return o}:c},function(e,t,o){var n=o(33),r=o(59),a=o(112);e.exports=function(e){return function(t,o,i){var s,l=n(t),c=r(l.length),u=a(i,c);if(e&&o!=o){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===o)return e||u||0;return!e&&-1}}},function(e,t,o){var n=o(60),r=Math.max,a=Math.min;e.exports=function(e,t){return e=n(e),e<0?r(e+t,0):a(e,t)}},function(e,t,o){var n=o(17),r=o(15),a=o(31);e.exports=function(e,t){var o=(r.Object||{})[e]||Object[e],i={};i[e]=t(o),n(n.S+n.F*a(function(){o(1)}),"Object",i)}},function(e,t,o){"use strict";var n=o(50),r=o(17),a=o(162),i=o(36),s=o(77),l=o(261),c=o(78),u=o(161),d=o(26)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,o,h,m,v,g){l(o,t,h);var y,b,w,S=function(e){if(!p&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new o(this,e)}}return function(){return new o(this,e)}},_=t+" Iterator",C="values"==m,I=!1,k=e.prototype,T=k[d]||k["@@iterator"]||m&&k[m],E=T||S(m),D=m?C?S("entries"):E:void 0,O="Array"==t?k.entries||T:T;if(O&&(w=u(O.call(new e)))!==Object.prototype&&w.next&&(c(w,_,!0),n||"function"==typeof w[d]||i(w,d,f)),C&&T&&"values"!==T.name&&(I=!0,E=function(){return T.call(this)}),n&&!g||!p&&!I&&k[d]||i(k,d,E),s[t]=E,s[_]=f,m)if(y={values:C?E:S("values"),keys:v?E:S("keys"),entries:D},g)for(b in y)b in k||a(k,b,y[b]);else r(r.P+r.F*(p||I),t,y);return y}},function(e,t,o){t.f=o(26)},function(e,t,o){var n=o(61)("meta"),r=o(25),a=o(37),i=o(27).f,s=0,l=Object.isExtensible||function(){return!0},c=!o(31)(function(){return l(Object.preventExtensions({}))}),u=function(e){i(e,n,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},p=function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},f=function(e){return c&&h.NEED&&l(e)&&!a(e,n)&&u(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:d,getWeak:p,onFreeze:f}},function(e,t,o){var n=o(18),r=o(15),a=o(50),i=o(115),s=o(27).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t,o){var n=o(51),r=o(47),a=o(33),i=o(71),s=o(37),l=o(85),c=Object.getOwnPropertyDescriptor;t.f=o(22)?c:function(e,t){if(e=a(e),t=i(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,o){var n=o(121),r=o(26)("iterator"),a=o(77);e.exports=o(15).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[n(e)]}},function(e,t,o){var n=o(48),r=o(26)("toStringTag"),a="Arguments"==n(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,o,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=i(t=Object(e),r))?o:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,o){"use strict";function n(e,t){var o=this,n=e.conditioninfo,i=e.adSearchForm,s=i.isFormInit,l=[];return s&&n.map(function(e,n){var s=[];e.items&&e.items.map(function(e){e&&s.push({com:React.createElement(a.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@g3gxyg@"+e.domkey[0],label:""+e.label,labelCol:{span:""+e.labelcol},ratio1to2:!0,error:i.getError(e),tipPosition:"bottom",wrapperCol:{span:""+e.fieldcol}},React.createElement(r.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@c9akvn@"+e.domkey[0],fieldConfig:e,form:i,onEnterSearch:function(){return"function"==typeof t&&t()}})),colSpan:1})}),l.push(React.createElement(a.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@selw5o@"+n,needTigger:!0,title:e.title,showGroup:e.defaultshow,items:s}))}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=o(11),a=o(0)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revokedDoc=t.resendDoc=t.cancelledDoc=t.postWebSendDocCondition=t.getSendDocinfo=t.setReceiveSendUnitInfo=t.getReceiveSendUnitInfo=t.sendDoc=t.getBaseinfo=t.getCondition=t.getList=void 0;var n=o(0);t.getList=function(e){return n.WeaTools.callApi("/api/offical/sendDoc/getList","POST",e)},t.getCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/condition","POST",e)},t.getBaseinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/getBaseinfo","POST",e)},t.sendDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/sendDoc","POST",e)},t.getReceiveSendUnitInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/getReceiveSendUnitInfo","POST",e)},t.setReceiveSendUnitInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/setReceiveSendUnitInfo","POST",e)},t.getSendDocinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/getWebAddresseeList","POST",e)},t.postWebSendDocCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/postWebSendDocCondition","POST",e)},t.cancelledDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/cancelledDoc","POST",e)},t.resendDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/resendDoc","POST",e)},t.revokedDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/revokedDoc","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(0),g=v.WeaLocaleProvider.getLabel,y=function(e){function t(e){(0,c.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.render=function(){return m.default.createElement("div",{style:{position:"relative",height:"100%"}},m.default.createElement(v.WeaAlertPage,(0,a.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaAlertPage@nd817c"},o.state),m.default.createElement("div",{style:{color:"#000"}},g("514387","你没有访问当前页面的权限！"))))},o.state={iconSize:100},o}return(0,f.default)(t,e),t}(m.default.Component);t.default=y},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,_.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S=o(12),_=n(S),C=o(1),I=n(C),k=o(2),T=n(k),E=o(8),D=o(0),O=o(296),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(O),W=o(126),R=n(W),A=D.WeaLocaleProvider.getLabel,x=(i=function(){function e(){var t=this;(0,I.default)(this,e),r(this,"topTitle",s,this),r(this,"S_TAB",l,this),r(this,"API_CONDITION",c,this),r(this,"API_DATALIST",u,this),r(this,"API_TABCOUNT",d,this),r(this,"showDropMenu",p,this),r(this,"tabs",f,this),r(this,"tabsCount",h,this),r(this,"selectedTab",m,this),r(this,"selectedRows",v,this),r(this,"searchStore",g,this),r(this,"doForward",y,this),r(this,"forwardParams",b,this),r(this,"setTopTitle",w,this),this.setTabs=function(e){t.tabs=e},this.setTabsCount=function(e){t.tabsCount=e},this.setSelectedTab=function(e){t.selectedTab=e},this.setSelectedRows=function(e){t.selectedRows=e},this.setDoForward=function(e){t.doForward=e},this.setForwardParams=function(e){t.forwardParams=e},this.buildTabs=this.buildTabs.bind(this)}return(0,T.default)(e,[{key:"buildTabs",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};""!=this.API_TABCOUNT&&P.flexibleCallApi(this.API_TABCOUNT,o).then(function(e){var o=e.datalist,n=[],r={};o.forEach(function(e){var t={color:"#000000",showcount:!0,groupid:e.officalType,title:e.title,viewcondition:e.officalType};n.push(t),r[e.officalType]=e.count}),t.setTabs(n),t.setTabsCount(r)})}},{key:"getSearchsBaseValue",value:function(){return""}},{key:"setSearchsBaseValue",value:function(){}},{key:"getTopBtns",value:function(){return[]}},{key:"handleSelectedRowsChange",value:function(){}},{key:"getLabel2",value:function(e,t){return A(e,t)}},{key:"getColumns",value:function(){}}]),e}(),s=a(i.prototype,"topTitle",[E.observable],{enumerable:!0,initializer:function(){return""}}),l=a(i.prototype,"S_TAB",[E.observable],{enumerable:!0,initializer:function(){return{KEYPARAM:"viewcondition",COUNTPARAM:"groupid",SEARCHTYPE:["base","advanced"]}}}),c=a(i.prototype,"API_CONDITION",[E.observable],{enumerable:!0,initializer:function(){return""}}),u=a(i.prototype,"API_DATALIST",[E.observable],{enumerable:!0,initializer:function(){return""}}),d=a(i.prototype,"API_TABCOUNT",[E.observable],{enumerable:!0,initializer:function(){return""}}),p=a(i.prototype,"showDropMenu",[E.observable],{enumerable:!0,initializer:function(){return!0}}),f=a(i.prototype,"tabs",[E.observable],{enumerable:!0,initializer:function(){return[]}}),h=a(i.prototype,"tabsCount",[E.observable],{enumerable:!0,initializer:function(){return{}}}),m=a(i.prototype,"selectedTab",[E.observable],{enumerable:!0,initializer:function(){return 1}}),v=a(i.prototype,"selectedRows",[E.observable],{enumerable:!0,initializer:function(){return[]}}),g=a(i.prototype,"searchStore",[E.observable],{enumerable:!0,initializer:function(){return new R.default}}),y=a(i.prototype,"doForward",[E.observable],{enumerable:!0,initializer:function(){return!1}}),b=a(i.prototype,"forwardParams",[E.observable],{enumerable:!0,initializer:function(){return{}}}),w=a(i.prototype,"setTopTitle",[E.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.topTitle=t}}}),i);t.default=x},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,b.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y=o(12),b=n(y),w=o(14),S=n(w),_=o(89),C=n(_),I=o(172),k=n(I),T=o(1),E=n(T),D=o(2),O=n(D),P=o(8),W=o(11),R=W.WeaTableNew.TableStore,A=(i=function(){function e(){var t=this;(0,E.default)(this,e),r(this,"form",s,this),r(this,"searchType",l,this),r(this,"searchType_display_fw",c,this),r(this,"searchType_display_sw",u,this),r(this,"searchType_display_qb",d,this),r(this,"showSearchAd",p,this),r(this,"tableStore",f,this),r(this,"otherSearchParams",h,this),r(this,"searched",m,this),r(this,"keywords",v,this),r(this,"setSearchCondition",g,this),this.setShowSearchAd=function(e){t.showSearchAd=e},this.setOtherSearchParams=function(e){t.otherSearchParams=e},this.setSearched=function(e){t.searched=e},this.setKeywords=function(e){t.keywords=e},this.setSearchType=function(e){t.searchType=e},this.setSearchType_display_fw=function(e){t.searchType_display_fw=e},this.setSearchType_display_sw=function(e){t.searchType_display_sw=e},this.setSearchType_display_qb=function(e){t.searchType_display_qb=e}}return(0,O.default)(e,[{key:"getFormParams",value:function(){return this.form.getFormParams()}},{key:"changeShowSearchAd",value:function(e){this.setShowSearchAd(e)}},{key:"resetSearchForm",value:function(){this.setSearchType_display_fw("none"),this.setSearchType_display_sw("none"),this.setSearchType_display_qb("none"),this.form.resetForm(),this.isSearched()}},{key:"isSearched",value:function(){this.setSearched(!1);var e=k.default,t=!0,o=!1,n=void 0;try{for(var r,a=(0,C.default)(e(this.form.getFormParams()));!(t=(r=a.next()).done);t=!0){var i=r.value;""!=i&&0!=i&&" "!=i&&i&&this.setSearched(!0)}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}}]),e}(),s=a(i.prototype,"form",[P.observable],{enumerable:!0,initializer:function(){return new W.WeaForm}}),l=a(i.prototype,"searchType",[P.observable],{enumerable:!0,initializer:function(){return 1}}),c=a(i.prototype,"searchType_display_fw",[P.observable],{enumerable:!0,initializer:function(){return"none"}}),u=a(i.prototype,"searchType_display_sw",[P.observable],{enumerable:!0,initializer:function(){return"none"}}),d=a(i.prototype,"searchType_display_qb",[P.observable],{enumerable:!0,initializer:function(){return"none"}}),a(i.prototype,"getFormParams",[P.action],(0,S.default)(i.prototype,"getFormParams"),i.prototype),p=a(i.prototype,"showSearchAd",[P.observable],{enumerable:!0,initializer:function(){return!1}}),f=a(i.prototype,"tableStore",[P.observable],{enumerable:!0,initializer:function(){return new R}}),h=a(i.prototype,"otherSearchParams",[P.observable],{enumerable:!0,initializer:function(){return{}}}),m=a(i.prototype,"searched",[P.observable],{enumerable:!0,initializer:function(){return!1}}),v=a(i.prototype,"keywords",[P.observable],{enumerable:!0,initializer:function(){return[]}}),g=a(i.prototype,"setSearchCondition",[P.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.searchCondition=t}}}),i);t.default=A},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,l,c=o(52),u=n(c),d=o(20),p=n(d),f=o(6),h=n(f),m=o(3),v=n(m),g=o(1),y=n(g),b=o(2),w=n(b),S=o(4),_=n(S),C=o(5),I=n(C),k=o(7),T=n(k),E=o(0),D=o(11),O=o(10),P=o(9),W=o(8),R=E.WeaLocaleProvider.getLabel,A=(r=(0,O.inject)("tabComponentStore"))(a=(0,O.observer)((s=i=function(e){function t(e){(0,y.default)(this,t);var o=(0,_.default)(this,(t.__proto__||(0,v.default)(t)).call(this,e));l.call(o);var n=e.showSearchGroup,r=void 0!==n&&n,a=e.searchType;return o.onClickSearchBtn=o.onClickSearchBtn.bind(o),o.getTabData=o.getTabData.bind(o),o.searchType=r?["advanced"]:a,o.leftStyle={width:"calc(100% - 250px)"},o}return(0,I.default)(t,e),(0,w.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getFormUrl,o=void 0===t?"":t,n=e.tabComponentStore,r=e.tabUrl,a=void 0===r?"":r,i=e.searchCustomRender,s=e.searchParams,l=void 0===s?{}:s,c=e.tabParams,u=void 0===c?{}:c,d=e.selectedTabKey,p=void 0===d?"0":d,f=e.initGetTabData,h=void 0===f||f,m=e.initGetForm,v=void 0===m||m,g=e.baseSearchName;if(""!=o){var y=!!i;v&&n.getSearchFormItem(o,l,g,y)}n.setMobxState({selectedKey:p,tabParams:u,searchValue:l.requestname}),a&&h&&this.getTabData(a,u)}},{key:"componentWillUnmount",value:function(){this.props.tabComponentStore.initData()}},{key:"render",value:function(){var e=this,t=this.props,o=t.tabComponentStore,n=t.showSearchGroup,r=void 0!==n&&n,a=t.searchType,i=o.showSearchAd,s=o.setShowSearchAd,l=o.tabData,c=o.selectedKey,u=o.topTabCount,d=o.searchValue,p=o.searchForm,f=o.items,m=f&&(0,W.toJS)(f).length||0,v=m>4?"148px":m>0?"74px":"0px";return this.searchType=0==m?a:["advanced"],T.default.createElement("div",{className:"odoc-tabCom"},T.default.createElement(E.WeaTab,(0,h.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@2mowj1",datas:(0,W.toJS)(l),counts:(0,W.toJS)(u),selectedKey:c||"0",keyParam:"viewcondition",countParam:"groupid",onChange:this.changeTab,showSearchAd:i,setShowSearchAd:s,buttonsAd:this.getSearchFormButtons(),searchsAd:this.getSearchForm(),advanceHeight:"auto",onSearch:this.onSearch,searchsBaseValue:d,onSearchChange:this.synSearchsBaseValue,leftStyle:this.leftStyle},this.props,{searchType:this.searchType})),r&&!i&&m>0&&T.default.createElement(P.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@mvkuha",type:"primary",className:"searchBtn",onClick:function(){return e.onClickSearchBtn({},!1,!1)}},R(387355,"搜索")),r&&T.default.createElement("div",{className:"odoc-tabCom-searchGroup",style:{height:v}},T.default.createElement("div",{className:"odoc-tabCom-searchGroup-items"},p.isFormInit&&f.map(function(t){return T.default.createElement(E.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@wqzvea@"+t.domkey[0],label:""+t.label,labelCol:{span:8},wrapperCol:{span:16}},T.default.createElement(D.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@2sw0rt@"+t.domkey[0],fieldConfig:t,form:p,onChange:e.onChange,onBlur:e.onBlur,onEnterSearch:e.onEnterSearch}))}))))}},{key:"getSearchForm",value:function(){var e=this.props,t=e.tabComponentStore,o=e.searchCustomRender,n=t.searchForm,r=t.conditions,a=t.setShowSearchAd,i={onChange:this.onChange,onBlur:this.onBlur,closeSearch:function(){return a(!1)}};return o?o(n,(0,W.toJS)(r),i):T.default.createElement(E.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@rdmn4s",ref:"scroll",className:"newUnit"},n.render({needTigger:!0},{onChange:this.onChange,onBlur:this.onBlur,onEnterSearch:this.onEnterSearch}))}},{key:"getSearchFormButtons",value:function(){var e=this,t=this.props,o=t.tabComponentStore,n=t.tabKey,r=t.baseSearchName,a=o.searchForm,i=o.setShowSearchAd,s=o.selectedKey,l=o.searchValue,c=a.getFormParams();return r&&(c[r]=l),n&&(c[n]=s),[T.default.createElement(P.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@ci89ds@search",type:"primary",onClick:function(){return e.onClickSearchBtn({},!1,!1)}},R(387355,"搜索")),T.default.createElement(P.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@jkh3if@reset",type:"ghost",onClick:this.resetForm},R(2022,"重置")),T.default.createElement(P.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@bx39l3@cancel",type:"ghost",onClick:function(){return i(!1)}},R(31129,"取消"))]}},{key:"getTabData",value:function(){var e=this.props,t=e.tabComponentStore,o=e.tabUrl,n=void 0===o?"":o,r=e.tabParams,a=void 0===r?{}:r;""!=n&&t.getTabData(n,a)}},{key:"getSearchFormItem",value:function(e){var t=this.props,o=t.tabComponentStore,n=t.getFormUrl,r=t.searchParams,a=void 0===r?{}:r,i=t.searchCustomRender,s=t.tabKey,l=t.baseSearchName;if(""!=n){s&&(a[s]=o.selectedKey);var c=!!i;return o.getSearchFormItem(n,(0,h.default)({},e,a),l,c)}}},{key:"onClickSearchBtn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2],n=arguments[3],r=this.props,a=r.getDataList,i=r.tabComponentStore,s=r.tabUrl,l=r.tabKey,c=r.baseSearchName,u=r.showSearchGroup,d=i.searchForm,p=i.fastForm,f=i.selectedKey,m=i.searchValue,v=d.getFormParams();u&&(v=(0,h.default)({},v,p.getFormParams())),s&&l&&(v[l]=f),c&&(v[c]=m),v=(0,h.default)({},v,e),a(v,t,o,n),i.setShowSearchAd(!1)}},{key:"changeFields",value:function(e){this.props.tabComponentStore.searchForm.updateFields(e,!1)}},{key:"getFormParams",value:function(){var e=this.props,t=e.baseSearchName,o=e.tabComponentStore,n=e.tabKey,r=o.selectedKey,a=o.searchForm,i=o.searchValue,s=a.getFormParams();return n&&(s[n]=r),t&&(s[t]=i),s}}]),t}(k.PureComponent),l=function(){var e=this;this.synSearchsBaseValue=function(t){var o=e.props,n=o.tabComponentStore,r=o.baseSearchName,a=n.searchForm,i=n.setMobxState;if(void 0!=a.getFormParams()[r]){var s={};s[r]={value:t},a.updateFields(s,!1),i({searchValue:t})}else i({searchValue:t})},this.changeTab=function(t){var o=e.props,n=o.getDataList,r=o.tabComponentStore,a=o.tabKey,i=o.baseSearchName,s=o.getFormUrl,l=void 0===s?"":s,c=o.moreTimeGetCondition,u=void 0!==c&&c,d=o.searchCustomRender,p=o.searchParams,f=void 0===p?{}:p,m=o.changeTabFun,v=r.searchForm,g=r.fastForm,y=r.searchValue,b=(0,h.default)({},v.getFormParams(),g.getFormParams());if(a){b[a]=t;({})[a]=t}if(i&&(b[i]=y),r.selectedKey=t,!m&&n(b),m&&m(t,b),u&&""!=l){a&&(f[a]=t);var w=!!d;r.getSearchFormItem(l,f,i,w)}},this.onSearch=function(t){var o=e.props,n=o.getDataList,r=o.baseSearchName,a=o.tabComponentStore,i=o.tabKey,s=o.showSearchGroup,l=a.selectedKey,c=a.searchForm,u=a.fastForm,d=c.getFormParams();s&&(d=(0,h.default)({},d,u.getFormParams())),i&&(d[i]=l),r?(d[r]=t,n(d,!1,!1)):n(d,!1,!1)},this.onChange=function(t){var o=e.props,n=o.baseSearchName,r=o.tabComponentStore,a=o.showSearchGroup,i=r.setMobxState,s=r.fastForm,l=r.searchForm,c=r.items,u=c&&(0,W.toJS)(c).length||0,d=(0,p.default)(t)[0];if("string"!=typeof t[d].value||(0,p.default)(t[d]).length>1){var f=Object.hasOwnProperty.call(s.getFormParams(),d)&&Object.hasOwnProperty.call(l.getFormParams(),d);a&&u>0&&f&&(s.updateFields(t),l.updateFields(t))}t[n]&&i({searchValue:t[n].value})},this.onBlur=function(t,o){var n=e.props,r=n.tabComponentStore,a=n.showSearchGroup,i=r.fastForm,s=r.searchForm,l=r.items,c=l&&(0,W.toJS)(l).length||0,d="object"==("undefined"===typeof t?"undefined":(0,u.default)(t))?t:o,f=(0,p.default)(d)[0],h=Object.hasOwnProperty.call(i.getFormParams(),f)&&Object.hasOwnProperty.call(s.getFormParams(),f);a&&c>0&&h&&(i.updateFields(d),s.updateFields(d))},this.resetForm=function(){var t=e.props.tabComponentStore,o=t.searchForm,n=t.setMobxState,r=t.fastForm,a=t.conditions,i=t.fastFormConditions;o.resetForm(),r.resetForm(),n({searchValue:""}),o.initFormFields((0,W.toJS)(a)),r.initFormFields((0,W.toJS)(i))},this.onEnterSearch=function(){return e.onClickSearchBtn({},!1,!1)}},a=s))||a)||a;t.default=A},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,l,c,u=o(93),d=n(u),p=o(3),f=n(p),h=o(1),m=n(h),v=o(2),g=n(v),y=o(4),b=n(y),w=o(5),S=n(w),_=o(7),C=n(_),I=o(10),k=o(9),T=o(0),E=o(8),D=o(176),O=n(D),P=o(177),W=n(P),R=o(178),A=n(R),x=o(179),L=n(x),F=T.WeaLocaleProvider.getLabel,M=(r=(0,I.inject)("reportStore"),a=(0,I.inject)("reportFlowDetailListDialogStore"),i=(0,I.inject)("reportFlowEchartDetailListDialogStore"),s=(0,I.inject)("reportDocDetailListDialogStore"),l=(0,I.inject)("reportDocEchartDetailListDialogStore"),r(c=a(c=i(c=s(c=l(c=(0,I.observer)(c=function(e){function t(e){(0,m.default)(this,t);var o=(0,b.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));if(o.showMoreDialog=function(){var e=o.props,t=e.reportFlowEchartDetailListDialogStore,n=e.reportDocEchartDetailListDialogStore;"flowchart1"==o.state.option2.id?t.showDialog():"docchart1"==o.state.option2.id?n.showDialog(1):"docchart2"==o.state.option2.id?n.showDialog(2):"docchart4"==o.state.option2.id?n.showDialog(4):"docchart5"==o.state.option2.id&&n.showDialog(5)},e.params&&e.params.id){var n=o.getEcharTitle(e.params.id);o.state={option2:{id:o.type,tooltip:{},legend:{},grid:{left:"3%",right:"1%",bottom:"3%",containLabel:!0},xAxis:{},yAxis:{},series:[]},title:n,hasData:!1}}else o.state={option2:{id:o.props.id||o.props.echart.id,tooltip:o.props.echart.tooltip,legend:o.props.echart.legend,grid:{left:"3%",right:"1%",bottom:"3%",containLabel:!0},xAxis:o.props.echart.xAxis,yAxis:o.props.echart.yAxis,series:o.props.echart.series},title:o.props.title,hasData:!1};return o.downImage=o.downImage.bind(o),o}return(0,S.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){if(!this.props.echart){var e=this.props.reportStore,t=e.doSearch;switch(this.props.params.id){case"propose":t({dateType:0,orgtype:1,officaltype:""});break;case"post":t({dateType:0,orgtype:1,officaltype:"1"});break;case"receive":t({dateType:0,orgtype:1,officaltype:"2"});break;case"sign":t({dateType:0,orgtype:1,officaltype:"3"})}}}},{key:"componentWillReceiveProps",value:function(e){var t=this,o=this.state.option2;this.props.echart!==e.echart&&(o.legend=e.echart.legend,o.xAxis=e.echart.xAxis,o.yAxis=e.echart.yAxis,o.series=e.echart.series,o.tooltip=e.echart.tooltip),this.setState({option2:o,hasData:!1}),o.series&&o.series.forEach(function(e){e.data.forEach(function(e){(0,d.default)(e)>0&&t.setState({hasData:!0})})}),this.refs.chart&&this.refs.chart.paint(),this.props.title!==e.title&&this.setState({title:e.title})}},{key:"shouldComponentUpdate",value:function(e,t){if(t.title!==this.state.title||t.hasData!==this.state.hasData)return!0}},{key:"render",value:function(){var e=this,t=this.state,o=t.option2,n=t.title,r=t.hasData,a=this.props,i=a.reportFlowEchartDetailListDialogStore,s=a.reportStore,l=a.reportFlowDetailListDialogStore,c=a.params,u=a.echart,d=a.reportDocDetailListDialogStore,p=a.reportDocEchartDetailListDialogStore,f=s.echart1,h=s.echart2,m=s.searchParamsFlow,v=s.searchParamsDoc,g=o,y=this.props.params&&this.props.params.id;u||(this.getSingleReport(),g={id:"propose"==c.id?"flowchart1":"flowchart2",tooltip:"propose"==c.id?(0,E.toJS)(f.tooltip):(0,E.toJS)(h.tooltip),legend:"propose"==c.id?(0,E.toJS)(f.legend):(0,E.toJS)(h.legend),grid:{left:"3%",right:"1%",bottom:"3%",containLabel:!0},xAxis:"propose"==c.id?f.xAxis:h.xAxis,yAxis:"propose"==c.id?f.yAxis:h.yAxis,series:"propose"==c.id?(0,E.toJS)(f.series):(0,E.toJS)(h.series)});var b=window.navigator.appVersion.includes("Trident"),w=[C.default.createElement(T.WeaMoreButton,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaMoreButton@mljesx@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1}})],S=[C.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@lpjmbk@export",type:"primary",onClick:function(){return l.tableStore.exportAll()}},F("28343","导出Excel")),C.default.createElement(T.WeaMoreButton,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaMoreButton@3hutsh@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1}})],I=[C.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@v5bu8c@export",type:"primary",onClick:function(){return d.tableStore.exportAll()}},F("28343","导出Excel")),C.default.createElement(T.WeaMoreButton,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaMoreButton@vpa76j@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1}})],D=[C.default.createElement(T.WeaMoreButton,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaMoreButton@dxvpvz@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1}})],P="";return c&&c.id&&"propose"!=c.id&&(P="col_flowchart2"),C.default.createElement(k.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@2xjecz",className:"odoc-reportchart"},r&&C.default.createElement(T.WeaReportCard,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReportCard@ox8uqe",title:n,className:"report-card "+P,operations:C.default.createElement("div",null,C.default.createElement("span",{onClick:this.showMoreDialog,className:"cursor-pointer more",style:{paddingRight:"10px"}},F("17499","更多")),!b&&C.default.createElement("span",{className:"icon-coms-download2 cursor-pointer more",onClick:function(){return e.downImage()}}))},C.default.createElement(T.WeaEchart,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaEchart@toy993",ref:"chart",chartName:"",option:g,chartAction:function(t){return e.chartAction(t)}})),!r&&C.default.createElement("div",{className:"report-row echart-nodata"},C.default.createElement(T.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@3ykmxk",icon:"icon-coms-blank"},C.default.createElement("div",{style:{color:"#000"}},F(83553,"暂无数据")))),y&&C.default.createElement(_.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@o90k18"},C.default.createElement(T.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@iiwolh",title:F("383719","公文流程拟办排名"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:i.visable,style:{width:950,height:700},hasScroll:!0,onCancel:i.hideDialog,buttons:w},C.default.createElement(O.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportFlowEchartDetailListDialogComponent@twsayw",searchParams:(0,E.toJS)(m),name:i.condition_name})),C.default.createElement(T.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@ek47ye",title:F("383302","具体流程清单"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:l.visable,hasScroll:!0,style:{width:950,height:700},onCancel:l.hideDialog,buttons:S},C.default.createElement(W.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportFlowDetailListDialogComponent@ez1ud4",searchParams:(0,E.toJS)(m),status:l.condition_status,key:l.condition_key})),C.default.createElement(T.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@3qcccc",title:F("383855","具体公文清单"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:d.visable,style:{width:950,height:700},hasScroll:!0,onCancel:d.hideDialog,buttons:I},C.default.createElement(A.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportDocDetailListDialogComponent@27atlg",searchParams:(0,E.toJS)(v),status:d.condition_status,key:d.condition_key})),C.default.createElement(T.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@fllm7t",title:p.getDialogTitleName(),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:p.visable,style:{width:950,height:700},hasScroll:!0,onCancel:p.hideDialog,buttons:D},C.default.createElement(L.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportDocEchartDetailListDialogComponent@qusv9y",searchParams:(0,E.toJS)(v),name:p.condition_name,analyseType:p.condition_analyseType}))))}},{key:"chartAction",value:function(e){var t=this.props,o=t.reportFlowDetailListDialogStore,n=t.reportDocDetailListDialogStore;e.off("click"),e.on("click",function(t){var r=e.getModel().option,a=r.id;if("flowchart1"==a){var i=r.series[t.seriesIndex].status,s=r.series[t.seriesIndex].dataKey[t.dataIndex];o.showDialog(i,s)}if("flowchart2"==a){var l=r.series[t.seriesIndex].dataKey[t.dataIndex];o.showDialog("0",l)}if("docchart1"==a||"docchart2"==a||"docchart3"==a||"docchart4"==a||"docchart5"==a){var c=r.series[t.seriesIndex].dataKey[t.dataIndex];n.showDialog(c)}})}},{key:"downImage",value:function(){var e=document.createElement("a");e.href=this.refs.chart.chart.getDataURL({type:"PNG",pixelRatio:1}),e.download="download.PNG",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"getSingleReport",value:function(){var e=this,t=this.props.reportStore.echart1;t.series&&(0,E.toJS)(t.series).forEach(function(t){t.data.forEach(function(t){(0,d.default)(t)>0&&e.setState({hasData:!0})})})}},{key:"getEcharTitle",value:function(e){var t=F("383719","公文流程拟办排名")+"（Top5）";return this.type="flowchart1","post"==e?(t=F("383721","发文环节统计"),this.type="flowchart2"):"receive"==e?(t=F("510617","收文环节统计"),this.type="flowchart2"):"sign"==e&&(t=F("510618","签报环节统计"),this.type="flowchart2"),t}}]),t}(C.default.Component))||c)||c)||c)||c)||c)||c);t.default=M},function(e,t){e.exports=function(e,t,o,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(o+": incorrect invocation!");return e}},function(e,t,o){"use strict";function n(e){var t,o;this.promise=new e(function(e,n){if(void 0!==t||void 0!==o)throw TypeError("Bad Promise constructor");t=e,o=n}),this.resolve=r(t),this.reject=r(o)}var r=o(46);e.exports.f=function(e){return new n(e)}},function(e,t,o){var n=o(36);e.exports=function(e,t,o){for(var r in t)o&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignInput=t.getSqlWhere=t.saveSignSetting=t.odocAppendDatas=void 0;var n=o(0);t.odocAppendDatas=function(e){return n.WeaTools.callApi("/api/odoc/signInputAppend/odocAppendDatas","POST",e)},t.saveSignSetting=function(e){return n.WeaTools.callApi("/api/odoc/signInputAppend/saveSignSetting","POST",e)},t.getSqlWhere=function(e){return n.WeaTools.callApi("/api/odoc/signInputAppend/getSqlWhere","POST",e)},t.getSignInput=function(e){return n.WeaTools.callApi("/api/workflow/reqform/signInput","POST",e)}},function(e,t,o){function n(e){var t=this.__data__=new r(e);this.size=t.size}var r=o(98),a=o(410),i=o(411),s=o(412),l=o(413),c=o(414);n.prototype.clear=a,n.prototype.delete=i,n.prototype.get=s,n.prototype.has=l,n.prototype.set=c,e.exports=n},function(e,t){function o(e,t){return e===t||e!==e&&t!==t}e.exports=o},function(e,t,o){var n=o(54),r=o(35),a=n(r,"Map");e.exports=a},function(e,t,o){function n(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}var r=o(421),a=o(428),i=o(430),s=o(431),l=o(432);n.prototype.clear=r,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,o){var n=o(436),r=o(44),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return r(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,o){var n=o(438),r=o(140),a=o(141),i=a&&a.isTypedArray,s=i?r(i):n;e.exports=s},function(e,t){function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=o},function(e,t){function o(e){return function(t){return e(t)}}e.exports=o},function(e,t,o){(function(e){var n=o(200),r="object"==typeof t&&t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===r,s=i&&n.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,o(80)(e))},function(e,t,o){var n=o(446),r=o(210),a=Object.prototype,i=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return i.call(e,t)}))}:r;e.exports=l},function(e,t,o){function n(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=o(217);e.exports=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doSearchOdocContent=t.getTableDatas=t.getSenWordsList=t.modelRepText=t.getSearchCondition=t.deleteModelShare=t.saveModelShare=t.getModelShareItems=t.getModelShareList=t.deleteModel=t.saveModel=t.getModelFormItems=t.getMyModelList=void 0;var n=o(0);t.getMyModelList=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/getMyModelList","POST",e)},t.getModelFormItems=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/getModelFormItems","POST",e)},t.saveModel=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/saveModel","POST",e)},t.deleteModel=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/deleteModel","POST",e)},t.getModelShareList=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/getModelShareList","POST",e)},t.getModelShareItems=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/getModelShareItems","POST",e)},t.saveModelShare=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/saveModelShare","POST",e)},t.deleteModelShare=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/deleteModelShare","POST",e)},t.getSearchCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/getSearchCondition","POST",e)},t.modelRepText=function(e){return n.WeaTools.callApi("/api/odoc/odocModelSet/modelRepText","POST",e)},t.getSenWordsList=function(e){return n.WeaTools.callApi("/api/odoc/odocSenWordSet/getSenWordsList","POST",e)},t.getTableDatas=function(e){return n.WeaTools.callApi("/api/ec/dev/table/datas","POST",e)},t.doSearchOdocContent=function(e){return n.WeaTools.callApi("/api/fullsearch/base/doSearch","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(10),_=o(11),C=o(127),I=n(C),k=o(124),T=n(k),E=o(9),D=o(8),O=o(13),P=n(O),W=_.WeaTableNew.WeaTable,R=w.WeaLocaleProvider.getLabel,A=w.WeaDropdown.ButtonSelect,x=(r=(0,S.inject)("baseTableStore"))(a=(0,S.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.exportAll=function(){var e=o.props.baseTableStore,t=e.sessionkey;w.WeaTools.callApi("/api/ec/dev/table/export","POST",{dataKey:t,filetype:"",filename:""}).then(function(e){return window.location.href=(0,P.default)(e.url)})},o.showCustomCol=function(){var e=o.props.baseTableStore,t=e.tableStore;t.setColSetVisible(!0),t.tableColSet(!0)},o.onOperatesClick=function(e,t,n,r){(0,o.props.onOperatesClick)(e,r,n)},o.getRowSelection=function(){var e=o.props.baseTableStore;return{selectedRowKeys:e.selectedRowKeys,onChange:e.tableOnSelect}},o.getTableDataBySearch=o.getTableDataBySearch.bind(o),o.getTableDatasByDirect=o.getTableDatasByDirect.bind(o),o.getTabData=o.getTabData.bind(o),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.baseTableStore,o=e.tableUrl,n=e.tableParams,r=e.tableListNumber,a=void 0===r?-1:r;(0,t.setMobxState)({tableUrl:o,tableParams:n,tableListNumber:a})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.baseTableStore,o=e.tabKey,n=e.selectedTabKey,r=e.tabUrl,a=e.canGetTableData,i=void 0===a||a,s=e.tableParams,l=e.tableUrl,c=void 0===l?"":l,u=t.getTableDatas,d=t.setMobxState,p={};r&&o?(p[o]=n||"0",i&&u(p,!1,!1),!i&&d({tableParams:p})):c.indexOf("receiveDoc")>"-1"?i&&u(s,!1,!1):i&&u(null,!1,!1)}},{key:"componentWillUnmount",value:function(){this.props.baseTableStore.init()}},{key:"render",value:function(){var e=this.props,t=e.className,o=void 0===t?"odoc-tableBase":t,n=e.topTitle,r=void 0===n?"":n,a=e.getOtherDom,i=void 0===a?null:a,l=e.weaTopProps,c=void 0===l?{}:l,u=e.needTop,d=void 0===u||u,p=e.rightMenuOtherProps,f=void 0===p?{}:p;return e.baseTableStore.hasRight?b.default.createElement("div",{className:o},b.default.createElement(w.WeaRightMenu,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@xih1mt",datas:this.getRightMenuData()},f),d&&b.default.createElement(w.WeaTop,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@t8ufp9",title:r,icon:b.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#f14a2d",buttons:this.getButtons()},c),this.getContent()),!d&&this.getContent()),"function"===typeof i?i():null):b.default.createElement(T.default,null)}},{key:"getButtons",value:function(){var e=this,t=this.props,o=t.getTopBtns,n=t.baseTableStore,r=t.showCustomCol,a=void 0!==r&&r,i=n.selectedRowKeys,s=n.selecteDatas,l=n.clearSelectKey,c=n.setMobxState,u=n.buttonKey,d=[];return"function"==typeof o&&o().map(function(t,o){t.isDropDown?(t.datas.forEach(function(e){e.needCheck&&(e.disabled=!((0,D.toJS)(i).length>0))}),d.push(b.default.createElement(A,{ecId:(e&&e.props&&e.props.ecId||"")+"_ButtonSelect@rz7jfm@"+o,btnProps:{disabled:!!t.needCheck&&!((0,D.toJS)(i).length>0)},datas:t.datas,selectedKey:u||t.datas[0].key,btnOnClick:function(e){return t.btnOnClick(e,(0,D.toJS)(i),(0,D.toJS)(s),l)},menuOnClick:function(e){c({buttonKey:e}),t.menuOnClick(e)}}))):d.push(b.default.createElement(E.Button,{ecId:(e&&e.props&&e.props.ecId||"")+"_Button@wumr33@"+o,type:"primary",onClick:function(){return t.onClick((0,D.toJS)(i),(0,D.toJS)(s),l)},disabled:!!t.needCheck&&!((0,D.toJS)(i).length>0)},t.title))}),a&&d.push(b.default.createElement(E.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@pc4ru1@showcol",type:"primary",onClick:this.showCustomCol},R("32535","显示列定制"))),d}},{key:"getRightMenuData",value:function(){var e=this,t=this.props,o=t.getTopBtns,n=t.rightMenuDatas,r=t.baseTableStore,a=t.moreRightDatas,i=void 0===a?[]:a,s=t.showCustomCol,l=void 0!==s&&s,c=t.showExportTable,u=void 0!==c&&c,d=r.selectedRowKeys,p=r.selecteDatas,f=r.clearSelectKey,h=r.clear;if(n)return n;var m=[],v=0;return"function"==typeof o&&o().map(function(e){var t={};e.datas?e.datas.map(function(o){e.buttonKey==o.key&&(t={key:""+v,disabled:!!e.needCheck&&!((0,D.toJS)(d).length>0),onClick:function(){return e.btnOnClick(o.key,(0,D.toJS)(d),(0,D.toJS)(p),h)},content:o.show,icon:o.icon},m.push(t),v++)}):(t={key:""+v,disabled:!!e.needCheck&&!((0,D.toJS)(d).length>0),onClick:function(){return e.onClick((0,D.toJS)(d),(0,D.toJS)(p),f)},content:e.title,icon:e.icon},v++,m.push(t))}),i.map(function(e){var t={key:""+v,disabled:!!e.needCheck&&!((0,D.toJS)(d).length>0),onClick:function(){return e.onClick((0,D.toJS)(d),(0,D.toJS)(p),f)},content:e.title,icon:e.icon};v++,m.push(t)}),m.push({key:""+v,disabled:!1,onClick:function(){return e.getTableDataBySearch({},!1,!1)},content:R("388113","搜索"),icon:b.default.createElement("i",{className:"icon-coms-search"})}),l&&(v++,m.push({key:""+v,disabled:!1,onClick:this.showCustomCol,content:R("32535","显示列定制"),icon:b.default.createElement("i",{className:"icon-coms-home"})})),u&&(v++,m.push({key:""+v,disabled:!1,onClick:this.exportAll,content:R("28343","导出Excel"),icon:b.default.createElement("i",{className:"icon-coms-export"})})),m}},{key:"getTableDataBySearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2];this.refs.tabComp.wrappedInstance.onClickSearchBtn(e,t,o)}},{key:"getTableDatasByDirect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2],n=arguments[3],r=arguments[4];this.props.baseTableStore.getTableDatas(e,t,o,n,r)}},{key:"getTabData",value:function(){this.refs.tabComp.wrappedInstance.getTabData()}},{key:"resetForm",value:function(){this.refs.tabComp.wrappedInstance.resetForm()}},{key:"getSearchFormItem",value:function(e){return this.refs.tabComp.wrappedInstance.getSearchFormItem(e)}},{key:"getContent",value:function(){var e=this.props,t=e.tabUrl,o=e.searchFormUrl,n=e.getColumns,r=e.tabKey,a=e.selectedTabKey,i=void 0===a?"0":a,l=e.tabParams,c=e.searchParams,u=e.baseSearchName,d=void 0===u?"requestname":u,p=e.searchType,f=e.weaTabProps,h=e.weaTableProps,m=e.baseTableStore,v=e.changeTabFun,g=void 0===v?null:v,w=e.showSearchGroup,S=void 0!==w&&w,_=m.getTableDatas,C=m.tableStore;return b.default.createElement(y.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@flk7cm"},b.default.createElement(I.default,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_TabComponent@nfcpxy",tabKey:r,getDataList:_,baseSearchName:d,searchType:p,tabUrl:t,tabParams:l,getFormUrl:o,searchParams:c,selectedTabKey:i,changeTabFun:g,ref:"tabComp",showSearchGroup:S},f)),b.default.createElement(W,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@4lyqiw",comsWeaTableStore:C,getColumns:n||null,rowSelection:this.getRowSelection(),onOperatesClick:this.onOperatesClick,needScroll:!0,hasOrder:!0},h)))}}]),t}(y.Component))||a)||a;t.default=x},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(10),w=o(11),S=o(0),_=o(8),C=o(503),I=n(C),k=o(504),T=n(k),E=o(19),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(E),O=(w.WeaTableNew.WeaTable,S.WeaLocaleProvider.getLabel),P=.9*window.innerWidth,W=.9*window.innerHeight,R=(r=(0,b.inject)("odocTypeChangeStore","odocCompsStore"))(a=(0,b.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.onCancel=function(){var e=o.props,t=e.onClose;e.odocTypeChangeStore;t&&"function"==typeof t&&t(D.ODOC_CHANGE_ODOC_TYPE_DIALOG)},o.getButtons=function(){var e=o.props.odocTypeChangeStore,t=e.mode,n=e.getContent,r=e.submitChanges,a=e.loading,i=e.setProperty,s=e.formLoading,l=[g.default.createElement(y.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@5zdz9y@submit",type:"primary",disabled:a||s,onClick:function(){return r(o.onCancel)}},O("519017","提交变更"))];return 1===t&&l.push(g.default.createElement(y.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@5zdz9y@submit",type:"primary",disabled:a||s,onClick:function(){i({showChangeRecord:!0}),n()}},O(19765,"变更记录"))),l.push(g.default.createElement(y.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@5zdz9y@submit",type:"primary",onClick:function(){o.onCancel()}},O(31129,"取消"))),l},o.getDialogMoreBtns=function(){var e=o.props.odocTypeChangeStore,t=e.mode,n=e.getContent,r=e.submitChanges,a=e.loading,i=e.setProperty,s=e.formLoading,l=o,c=[{key:"1",disabled:a||s,icon:g.default.createElement("i",{className:"icon-coms-Upload-successfully"}),content:O("519017","提交变更"),onClick:function(){return r(o.onCancel)}}];return 1===t&&c.push({key:"2",disabled:a||s,icon:g.default.createElement("i",{className:"icon-coms-rizhizhongxin"}),content:O(19765,"变更记录"),onClick:function(){i({showChangeRecord:!0}),n()}}),c.push({key:"3",disabled:!1,icon:g.default.createElement("i",{className:"icon-coms02-Cancel-leave"}),content:O(31129,"取消"),onClick:function(){l.onCancel()}}),{datas:c}},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.odocTypeChangeStore,o=e.odocCompsStore,n=t.setProperty,r=(t.getContent,o.dialogParam),a=void 0===r?{}:r,i=a.mode,s=void 0===i?1:i,l=o.requestParam,c=void 0===l?{}:l;n({requestParam:(0,_.toJS)(c),mode:s})}},{key:"render",value:function(){var e=this.props.odocTypeChangeStore,t=(e.changeForm,e.tableTitle,e.tableStore,e.submitChanges,e.loading,e.mode),o=e.setProperty,n=e.showSlideModal,r=this.props.odocCompsStore,a=void 0===r?{}:r,i=a.dialogVisible,s=i.get(D.ODOC_CHANGE_ODOC_TYPE_DIALOG);return g.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@th7768",icon:"icon-coms-official",iconBgcolor:"red",hasScroll:!0,title:O("510382","文种变更"),visible:s,style:{width:0==t?"800px":P+"px",height:0==t?"450px":W+"px"},buttons:this.getButtons(),onCancel:this.onCancel,moreBtn:this.getDialogMoreBtns()},0===t&&g.default.createElement(I.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocTypeChangeOldComponent@gtlrpe"}),g.default.createElement("div",{style:{display:1===t?"block":"none",width:"100%",height:"100%"}},1===t&&g.default.createElement(T.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocTypeChangeNewComponent@g5vl5y"})),n&&g.default.createElement("div",{className:"odoc-type-change-mask",onClick:function(){o({showSlideModal:!1})}}))}}]),t}(g.default.Component))||a)||a;t.default=R},function(module,exports,__webpack_require__){"use strict";(function(module){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function utf16ToUtf8(e){if(e){var t,o,n=[],r=e.length;for(t=0;t<r;t++)o=e.charCodeAt(t),o>0&&o<=127?n.push(e.charAt(t)):o>=128&&o<=2047?n.push(String.fromCharCode(192|o>>6&31),String.fromCharCode(128|63&o)):o>=2048&&o<=65535&&n.push(String.fromCharCode(224|o>>12&15),String.fromCharCode(128|o>>6&63),String.fromCharCode(128|63&o));return n.join("")}}function utf8ToUtf16(e){if(e){var t,o,n,r=[],a=e.length;for(t=0;t<a;t++)o=[],o.push(e.charCodeAt(t)),0==(o[0]>>7&255)?r.push(e.charAt(t)):6==(o[0]>>5&255)?(o.push(e.charCodeAt(++t)),n=[],n.push(31&o[0]),n.push(63&o[1]),r.push(String.fromCharCode(n[0]<<6|n[1]))):14==(o[0]>>4&255)&&(o.push(e.charCodeAt(++t)),o.push(e.charCodeAt(++t)),n=[],n.push(o[0]<<4|o[1]>>2&15),n.push((3&o[1])<<6|63&o[2]),r.push(String.fromCharCode(n[0]<<8|n[1])));return r.join("")}}function currentTime(){var e=new Date,t=e.getFullYear(),o=e.getMonth()+1,n=e.getDate(),r=e.getHours(),a=e.getMinutes(),i=t+"";return o<10&&(i+="0"),i+=o+"",n<10&&(i+="0"),i+=n+"",r<10&&(i+="0"),i+=r+"",a<10&&(i+="0"),i+=a}function getHtmlURL(e){var t=function(){var e=document.location.toString();return-1!=(e=decodeURI(e)).indexOf("/")&&(e=e.substring(0,e.lastIndexOf("/"))),e}();return t=0!=t.length?t.concat("/"+e):t.concat("./"+e)}function OnShowDialog(e,t,o,n,r){if(!wps.WpsApplication().ActiveDocument)return void alert("WPS当前没有可操作文档！");"undefined"!=typeof r&&null!=r||(r=!0),n*=window.devicePixelRatio,o*=window.devicePixelRatio;var a=getHtmlURL(e);wps.ShowDialog(a,t,o,n,r)}function handleResultBody(e){return e.Body,""}function closeWpsIfNoDocument(){var e=wps.WpsApplication(),t=e.Documents;t&&0!=t.Count||(wps.ApiEvent.Cancel=!0)}function activeTab(){wps.ribbonUI&&wps.ribbonUI.ActivateTab("WPSWorkExtTab")}function showOATab(){wps.PluginStorage.setItem("ShowOATabDocActive",pCheckIfOADoc()),wps.ribbonUI.Invalidate()}function getDemoTemplatePath(){var e=document.location.toString();return e=decodeURI(e),-1!=e.indexOf("/")&&(e=e.substring(0,e.lastIndexOf("/"))),0!==e.length&&(e=e.concat("/template/红头文件.docx")),e.startsWith("file:///")&&(e=e.substr("file:///".length)),e}function getDemoSealPath(){var e=document.location.toString();return e=decodeURI(e),-1!=e.indexOf("/")&&(e=e.substring(0,e.lastIndexOf("/"))),0!==e.length&&(e=e.concat("/template/OA模板：公章.png")),e.startsWith("file:///")&&(e=e.substr("file:///".length)),e}function pGetParamName(e,t){var o=e.indexOf(t);return e=e.substring(o+t.length)}function pGetFileName(e,t){var o=e.getResponseHeader("Content-Disposition"),n="";if(o){var r=pGetParamName(o,"filename=");n=r?decodeURIComponent(r):"petro"+Date.getTime()}else var n=t.substring(t.lastIndexOf("/")+1);return n}function StringToUint8Array(e){var t,o,n,r;t=e.length,o=new ArrayBuffer(t),n=new Uint8Array(o);for(var r=0;r<t;++r)n[r]=String.prototype.charCodeAt.call(e,r);return o}function DownloadFile(e,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var n=pGetFileName(o,e),r=wps.Env.GetTempPath()+"/"+n,a=new FileReader;a.onload=function(){wps.FileSystem.writeAsBinaryString(r,a.result),t(r)},a.readAsBinaryString(o.response)}},o.open("GET",e),o.responseType="blob",o.send()}function UploadFile(e,t,o,n,r,a){var i=new XMLHttpRequest;i.open("POST",o);var s=wps.FileSystem.readAsBinaryString(t),l=new FakeFormData;if(""!=n&&"undefined"!=typeof n||(n="file"),l.append(n,{name:utf16ToUtf8(e),type:"application/octet-stream",getAsBinary:function(){return s}}),i.onreadystatechange=function(){4==i.readyState&&(200==i.status?r(i.response):a(i.response))},i.setRequestHeader("Cache-Control","no-cache"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.fake){i.setRequestHeader("Content-Type","multipart/form-data; boundary="+l.boundary);var c=StringToUint8Array(l.toString());i.send(c)}else i.send(l)}function NotifyToServer(e){$.ajax({url:e,async:!0,method:"post",dataType:"json"})}function UpdateEditState(e,t,o,n){var r={openUrl:t,docId:o,state:n};$.ajax({url:e,async:!1,data:r,method:"post",dataType:"json",success:function(e){},error:function(e){}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WpsInvoke=void 0;var _stringify=__webpack_require__(34),_stringify2=_interopRequireDefault(_stringify),_typeof2=__webpack_require__(52),_typeof3=_interopRequireDefault(_typeof2),_defineProperty2=__webpack_require__(53),_defineProperty3=_interopRequireDefault(_defineProperty2),resWpsInvoke=null,OA_DOOR=(0,_defineProperty3.default)({templateDataUrl:void 0,templateBaseURL:void 0,redHeadsPath:void 0,getRedHeadPath:void 0,bookmarkPath:void 0},"redHeadsPath",void 0);String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.endWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substring(this.length-e.length)==e},String.prototype.startWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substr(0,e.length)==e},window.WpsApi={OA_DOOR:OA_DOOR,utf16ToUtf8:utf16ToUtf8,utf8ToUtf16:utf8ToUtf16,currentTime:currentTime,getHtmlURL:getHtmlURL,OnShowDialog:OnShowDialog,handleResultBody:handleResultBody,closeWpsIfNoDocument:closeWpsIfNoDocument,activeTab:activeTab,showOATab:showOATab,getDemoTemplatePath:getDemoTemplatePath,getDemoSealPath:getDemoSealPath,pGetParamName:pGetParamName,pGetFileName:pGetFileName,StringToUint8Array:StringToUint8Array,DownloadFile:DownloadFile,UploadFile:UploadFile,NotifyToServer:NotifyToServer,UpdateEditState:UpdateEditState},function(e){function t(){this.fake=!0,this.boundary="--------FormData"+Math.random(),this._fields=[]}e.FakeFormData||(t.prototype.append=function(e,t){this._fields.push([e,t])},t.prototype.toString=function(){var e=this.boundary,t="";return this._fields.forEach(function(o){if(t+="--"+e+"\r\n",o[1].name){var n=o[1];t+='Content-Disposition: form-data; name="'+o[0]+'"; filename="'+n.name+'"\r\n',t+="Content-Type: "+n.type+"\r\n\r\n",t+=n.getAsBinary()+"\r\n"}else t+='Content-Disposition: form-data; name="'+o[0]+'";\r\n\r\n',t+=o[1]+"\r\n"}),t+="--"+e+"--"},e.FakeFormData=t)}(window),function(e,t){"object"===(0,_typeof3.default)(module)&&"object"===(0,_typeof3.default)(module.exports)?module.exports=t(e,!0):t(e)}("undefined"!==typeof window?window:void 0,function(window,noGlobal){function getHttpObj(){var e=null;if(IEVersion()<10)try{e=new XDomainRequest}catch(t){e=new createXHR}else e=new createXHR;return e}function createXHR(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"==typeof ActiveXObject)throw new Error("您的浏览器不支持XHR对象");for(var e=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}function startWps(e){function t(o){if(o<=0){if(bFinished)return;return bFinished=!0,void(e.callback&&e.callback({status:2,message:"请允许浏览器打开WPS Office"}))}var n=getHttpObj();n.open("POST",e.url),n.onload=function(t){bFinished=!0,e.callback&&e.callback({status:0,response:IEVersion()<10?n.responseText:t.target.response})},n.ontimeout=n.onerror=function(r){n.bTimeout=!0,o==e.tryCount&&e.bPop&&(window.location.href="ksoWPSCloudSvr://start=RelayHttpServer"),setTimeout(function(){t(o-1)},1e3)},IEVersion()<10&&(n.onreadystatechange=function(){4==n.readyState&&(n.bTimeout||(200===n.status?n.onload():n.onerror()))}),n.timeout=e.timeout,n.send(e.sendData)}if(!bFinished&&!e.concurrent)return void(e.callback&&e.callback({status:1,message:"上一次请求没有完成"}));bFinished=!1,t(e.tryCount)}function func_btoa(e){for(var t,o,n=String(e),r=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";n.charAt(0|r)||(a="=",r%1);i+=a.charAt(63&t>>8-r%1*8)){if((o=n.charCodeAt(r+=.75))>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|o}return i}function IEVersion(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,o=e.indexOf("Edge")>-1&&!t,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var r=parseFloat(RegExp.$1);return 7==r?7:8==r?8:9==r?9:10==r?10:6}return o?20:n?11:30}function WpsStart(clientType,name,func,param,useHttps,callback,tryCount,bPop){var startInfo={name:name,function:func,info:param.param,jsPluginsXml:param.jsPluginsXml},strData=(0,_stringify2.default)(startInfo);if(IEVersion()<10)try{eval("strData = '"+(0,_stringify2.default)(startInfo)+"';")}catch(e){}var baseData=encode(strData),url="http://127.0.0.1:58890/"+clientType+"/runParams";useHttps&&(url="https://127.0.0.1:58891/"+clientType+"/runParams");var data="ksowebstartup"+clientType+"://"+baseData;startWps({url:url,sendData:data,callback:callback,tryCount:tryCount,bPop:bPop,timeout:5e3,concurrent:!1})}function WpsStartWrap(e,t,o,n,r){WpsStart(e,t,o,n,!1,r,4,!0)}function WpsStartWrapHttps(e,t,o,n,r){WpsStart(e,t,o,n,!0,r,4,!0)}function WpsStartWrapExInner(clientType,name,func,param,useHttps,callback,tryCount,bPop){var rspUrl="http://127.0.0.1:58890/transferEcho/runParams";useHttps&&(rspUrl="https://127.0.0.1:58891/transferEcho/runParams");var time=new Date,cmdId="js"+time.getTime()+"_"+exId,infocontent=(0,_stringify2.default)(param.param),funcEx="var res = "+func,cbCode="var xhr = new XMLHttpRequest();xhr.open('POST', '"+rspUrl+"');xhr.send(JSON.stringify({id: '"+cmdId+"', response: res}));",infoEx=infocontent+");"+cbCode+"void(0",startInfo={name:name,function:funcEx,info:infoEx,jsPluginsXml:param.jsPluginsXml},strData=(0,_stringify2.default)(startInfo);if(IEVersion()<10)try{eval("strData = '"+(0,_stringify2.default)(startInfo)+"';")}catch(e){}var baseData=encode(strData),url="http://127.0.0.1:58890/transfer/runParams";useHttps&&(url="https://127.0.0.1:58891/transfer/runParams");var data="ksowebstartup"+clientType+"://"+baseData,wrapper={id:cmdId,app:clientType,data:data};wrapper=(0,_stringify2.default)(wrapper),startWps({url:url,sendData:wrapper,callback:callback,tryCount:tryCount,bPop:bPop,timeout:0,concurrent:!0})}function WpsStartWrapVersionInner(e,t,o,n,r,a){if("wait"==serverVersion){var i="http://127.0.0.1:58890/version";r&&(i="https://127.0.0.1:58891/version"),startWps({url:i,data:"",callback:function(i){if(0!==i.status)return void a(i);serverVersion=i.response,""===serverVersion?WpsStart(e,t,o,n,r,a,1,!1):WpsStartWrapExInner(e,t,o,n,r,a,1,!1)},tryCount:4,bPop:!0,timeout:5e3})}else""===serverVersion?WpsStartWrap(e,t,o,n,r,a):WpsStartWrapExInner(e,t,o,n,r,a,1,!0)}function RegWebNotify(e,t,o){if(!RegWebNotifyID){RegWebNotifyID=(new Date).valueOf()+"";var n={id:RegWebNotifyID,name:t,type:e},r=function e(){var t=WpsInvoke.CreateXHR();t.onload=function(n){o(t.responseText),window.setTimeout(e,300)},t.onerror=function(t){window.setTimeout(e,1e4)},t.ontimeout=function(t){window.setTimeout(e,1e4)},IEVersion()<10&&(t.onreadystatechange=function(){4==t.readyState&&(t.bTimeout||(200===t.status?t.onload():t.onerror()))}),t.open("POST","http://127.0.0.1:58890/askwebnotify",!0),t.send((0,_stringify2.default)(n))};window.setTimeout(r,2e3)}}function WpsStartWrapVersion(e,t,o,n,r,a){WpsStartWrapVersionInner(e,t,o,{jsPluginsXml:a||"",param:"object"==("undefined"===typeof n?"undefined":(0,_typeof3.default)(n))?n:JSON.parse(n)},!1,r)}function WpsStartWrapHttpsVersion(e,t,o,n,r,a){WpsStartWrapVersionInner(e,t,o,{jsPluginsXml:a||"",param:"object"==("undefined"===typeof n?"undefined":(0,_typeof3.default)(n))?n:JSON.parse(n)},!0,r)}function WpsAddonGetAllConfig(e){startWps({url:"http://127.0.0.1:58890/publishlist",type:"GET",sendData:void 0,callback:e,tryCount:10,bPop:!0,timeout:5e3,concurrent:!1})}function WpsAddonVerifyStatus(e,t){var o=getHttpObj(),n="false"===e.online,r=n?e.url:e.url+"ribbon.xml";o.open("POST","http://localhost:58890/redirect/runParams"),o.onload=function(e){t(n&&0==!e.target.response.indexOf("7z")?{status:1,msg:"不是有效的7z格式"+r}:n||0!=!e.target.response.indexOf("<customUI")?{status:0,msg:"OK"}:{status:1,msg:"不是有效的ribbon.xml, "+r})},o.onerror=function(e){o.bTimeout=!0,t({status:2,msg:"网页路径不可访问，如果是跨域问题，不影响使用"+r})},o.ontimeout=function(e){o.bTimeout=!0,t({status:3,msg:"访问超时"+r})},IEVersion()<10&&(o.onreadystatechange=function(){4==o.readyState&&(o.bTimeout||(200===o.status?o.onload():o.onerror()))}),o.timeout=5e3;var a={method:"get",url:r,data:""},i=FormatSendData(a);o.send(i)}function WpsAddonHandleEx(e,t,o){startWps({url:"http://localhost:58890/deployaddons/runParams",type:"POST",sendData:FormatData(e,t),callback:o,tryCount:1,bPop:!0,timeout:5e3,concurrent:!1})}function WpsAddonEnable(e,t){WpsAddonHandleEx(e,"enable",t)}function WpsAddonDisable(e,t){WpsAddonHandleEx(e,"disable",t)}function FormatData(e,t){return FormatSendData({cmd:t,name:e.name,url:e.url,addonType:e.addonType,online:e.online,version:e.version,time:(new Date).getTime()})}function FormatSendData(data){var strData=(0,_stringify2.default)(data);return IEVersion()<10&&eval("strData = '"+(0,_stringify2.default)(strData)+"';"),encode(strData)}var bFinished=!0,fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))};"function"!==typeof window.btoa&&(window.btoa=func_btoa);var encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(e)},exId=0,serverVersion="wait",RegWebNotifyID=null,WpsInvoke={InvokeAsHttp:WpsStartWrapVersion,InvokeAsHttps:WpsStartWrapHttpsVersion,RegWebNotify:RegWebNotify,ClientType:{wps:"wps",et:"et",wpp:"wpp"},CreateXHR:getHttpObj};resWpsInvoke=WpsInvoke;var WpsAddonMgr={getAllConfig:WpsAddonGetAllConfig,verifyStatus:WpsAddonVerifyStatus,enable:WpsAddonEnable,disable:WpsAddonDisable};return"undefined"===typeof noGlobal&&(window.WpsAddonMgr=WpsAddonMgr),{WpsInvoke:WpsInvoke,WpsAddonMgr:WpsAddonMgr,version:"1.0.3"}}),window.WpsInvoke=resWpsInvoke;var WpsInvoke=exports.WpsInvoke=resWpsInvoke}).call(exports,__webpack_require__(80)(module))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_148__},function(e,t,o){function n(e,t){return r(e,t)}var r=o(150);e.exports=n},function(e,t,o){function n(e,t,o,i,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:r(e,t,o,i,n,s))}var r=o(528),a=o(44);e.exports=n},function(e,t){function o(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}e.exports=o},function(e,t,o){function n(e){return"string"==typeof e||!a(e)&&i(e)&&r(e)==s}var r=o(68),a=o(28),i=o(44),s="[object String]";e.exports=n},function(e,t,o){function n(e){return e&&e.length?r(e):[]}var r=o(227);e.exports=n},function(e,t,o){function n(e,t,o){return t===t?i(e,t,o):r(e,a,o)}var r=o(536),a=o(537),i=o(538);e.exports=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.defaultState=t.initialState=t.orgInfoArr=t.contentTypeMap=t.formCb=void 0;var n=o(6),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=(t.formCb={},t.contentTypeMap={1:"dk_hasPgTable",2:"noPgTable",3:"Tree",4:"hasPgTable",5:"iframe",6:"hrmTree",7:"hrmTreeGroup",8:"hrmTable"},t.orgInfoArr=["4","57","167","168","164","194","169","170"],t.initialState={showSearchAd:!1,loadAllTreeData:!1,scaleHeight:0,count:0,current:1,pageSize:10,selectedAllCurrent:0,inputValue:"",date2during:"",contentType:"",isAccount:!1,checkStrictly:!0,showAllbranch:!1,showDls:!1,isInSearch:!1,outerAdHeight:0,selectedDialogVisible:!1,leftCheckedData:[],rightCheckedData:[],leftTreeCheckedKeys:[],leftTreeCheckedData:[],leftGroupCheckedKeys:[],leftGroupCheckedData:[],leftExpandKeys:[],leftSelectKeys:[]});t.defaultState=(0,r.default)({},a,{visible:!1,loading:!0,fetchDataLoading:!1,data:[],loadModal:!1,modalloaded:!1,activeKey:"1",quickSearch:"",selectedData:[],inputId:"id",inputName:"name",inputTop:[],inputBottom:[],columns:[],tabsFromApi:[],dataKey:"",dataOfListWithkey:[],dataOfListWithoutKeyAndPg:[],dataOfListWithoutKeyButPg:[],dataIconBgColor:"",dataIconFontColor:"",idCache:"",nameCache:"",listDatas:[],treeDatas:[],groupTreeDatas:[],leftTreeDatas:[],defaultExpandedKeys:[],companyId:"1",companyList:[],hasRight:0,browserConditions:[],browserConditionsOuter:[],showCheckedDatas:!1,urlOfIframeInDialogParrentHeight:"100%",urlOfIframeInDialog:""}),t.defaultProps={dataURL:"/api/public/browser/data/",conditionURL:"/api/public/browser/condition/",destUrl:"/api/public/browser/destData/",leftTreeUrl:"/api/public/browser/data/",tabsUrl:"/api/common/browser/tab/list?type=",type:"7",viewAttr:2,icon:"icon-toolbar-Organization-list",iconBgcolor:"#4a90e2",iconFontColor:"#fff",topPrefix:"wea",desc:"",fieldName:"",onChange:"",isSingle:!0,hasRadio:!1,hideOps:!1,showCheckStrictly:!0,defaultCheckStrictly:!0,checkStrictlyKey:"alllevel",showDls:!1,hasScroll:!0,isDetail:"",isLoadAll:!1,isAutoComplete:0,memorise:!1,scrollx:!1,noOperate:!0,needCallDest:!0,clickNameExpandFirst:!1,linkUrl:"",dataParams:{},conditionDataParams:{},completeParams:{},leftTreeParams:{datatype:"tree"},tabsParams:{},inputStyle:{},modalStyle:{width:784},contentHeight:460,hasAdd:!1,ddUrl:"",addOnClick:"",dropMenuKey:"companyId",displaySearchAdInBar:!1,displaySearchAdInBarRow:2,displaySearchAdInBarCol:4,displaySearchAd:!0,forceShowAll:!0,maxDataLength:80,maxShowDataLength:50,enableScale:!1,onModalScale:"",scaledPageSize:0}},function(e,t,o){function n(e,t){if(r(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!a(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}var r=o(28),a=o(106),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,i,s=o(6),l=n(s),c=o(3),u=n(c),d=o(1),p=n(d),f=o(2),h=n(f),m=o(4),v=n(m),g=o(5),y=n(g),b=o(7),w=n(b),S=o(9),_=o(0),C=o(564),I=n(C),k=o(149),T=n(k),E=o(573),D=n(E),O=o(57),P=o(576),W=o(584),R=n(W),A=S.Tree.TreeNode,x=_.WeaLocaleProvider.getLabel,L=null,F=function(e,t){return(e||[]).map(function(e){var o=(0,O.text)(t,e);return"string"!==typeof o?w.default.createElement("span",{style:{display:"inline-block",marginRight:5,lineHeight:2}},o):w.default.createElement("span",{style:{marginRight:5},dangerouslySetInnerHTML:{__html:o}})})},M=(a=r=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.call(o),o.state={key:"",loading:!1,visible:!1,showData:[]},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.data!==e.data||this.state.key!==t.key||this.props.checkedKeys!==e.checkedKeys}},{key:"componentDidMount",value:function(){this.setShowData()}},{key:"componentWillReceiveProps",value:function(e){var t=this,o=e.data;if(!(0,T.default)(this.props.data,o)){var n=this.getShowData(e,this.state.key);this.setState({showData:n},function(){t.forceUpdate()})}}},{key:"count",value:function(e){return"all"===e.type?e.count:(e.users||[]).length}},{key:"onSelectedGroupExpand",value:function(e,t){(0,O.stopPropagation)(e);var o=this.props.onSelectedGroupExpand;"function"===typeof o&&o(t)}},{key:"generateTreeNodes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=this.props,n=o.inputId,r=(o.type,[]);return this.isCrm()?(this.nodeIds=[],this.nodeObj={},t.map(function(t,o){var n=e.getItemRender(t,o);r.push(w.default.createElement(A,{ecId:e.props.ecId+"_TreeNode@lcst8d@"+o,title:n,name:t.lastname,jobtitlename:t.jobtitlename,key:t.nodeid,isLeaf:!0,id:t.id,type:t.type})),e.nodeIds.push(t.nodeid),e.nodeObj[t.nodeid]=t})):n&&(this.nodeIds=[],this.nodeObj={},t.map(function(t,o){var a=e.getItemRender(t,o);r.push(w.default.createElement(A,{ecId:e.props.ecId+"_TreeNode@yudi7t@"+o,title:a,key:t[n],isLeaf:!0})),e.nodeIds.push(t[n]),e.nodeObj[t[n]]=t})),r}},{key:"onDrop",value:function(e){var t=this,o=e.dragNodesKeys,n=e.node.props.eventKey,r=[];this.nodeIds.filter(function(e){return-1===o.indexOf(e)}).forEach(function(e){e===n&&o.forEach(function(e){return r.push(t.nodeObj[e])}),r.push(t.nodeObj[e])}),this.props.onDrag&&this.props.onDrag(r)}},{key:"render",value:function(){var e=this,t=this.props,o=t.visible,n=t.checkedKeys,r=t.height,a=t.data,i=t.inputId,s=t.forceShowAll,c=t.getDataKey,u=t.maxShowDataLength,d=this.state,p=d.showData,f=d.loading,h=this.hideExtra(p),m=p.length;return h&&(p=p.slice(0,u)),h=!0,w.default.createElement("div",{className:"wea-transfer-right"},w.default.createElement(_.WeaInputSearch,{ecId:this.props.ecId+"_WeaInputSearch@z4mggf",onSearchChange:(0,D.default)(this.onSearchChange,200).bind(this),placeholder:x(83788,"请输入关键字搜索"),value:this.state.key}),w.default.createElement(S.Spin,{ecId:this.props.ecId+"_Spin@aso7zi",spinning:f},w.default.createElement("div",{style:{height:(r||400)-(h?35:0),overflowY:"auto"}},w.default.createElement(P.SortableList,{ecId:this.props.ecId+"_SortableList@m328iv",onChange:function(t){var o=t.map(function(t){return a.find(function(o){return(c?c(o):o[e.isCrm()?"nodeid":i])==t})}).filter(function(e){return!!e});h&&(o=o.concat(a.slice(u))),e.props.onDrag&&e.props.onDrag(o)}},p.map(function(t,o){return w.default.createElement(P.SortableListItem,{ecId:e.props.ecId+"_SortableListItem@rb866v@"+o,key:c?c(t):t[e.isCrm()?"nodeid":i],data:t,draggable:!0,selectable:!0,multiple:!0,selectedKeys:n,getDataKey:c||function(t){return t[e.isCrm()?"nodeid":i]},getItemRender:function(t){return e.getItemRender(t,o)},onSelect:e.checkHandler,onDoubleClick:e.onDoubleClick,onDragStart:e.onDragStart})})))),w.default.createElement("div",{ecId:this.props.ecId+"_div@b8ckgm",className:"show-all-selected-data"},w.default.createElement("span",null,x(83303,"已选"),"(",p.length,")")),h&&!1&&[w.default.createElement("div",{ecId:this.props.ecId+"_div@ybjb43",className:"show-all-selected-data",onClick:function(){return e.onVisibleChange(!0)}},w.default.createElement("span",null,x(-1,"查看全部$s条数据").replace("$s",m)))],!s&&w.default.createElement(R.default,(0,l.default)({},this.props,{ecId:this.props.ecId+"_SelectedDialog@gawonm",onVisibleChange:this.onVisibleChange,dialogProps:{visible:o}})))}}]),t}(w.default.Component),i=function(){var e=this;this.isCrm=function(){var t=e.props.type;return 1==t||17==t},this.hideExtra=function(t){var o=e.props,n=o.data,r=o.maxDataLength,a=o.forceShowAll;return t=t||n,!a&&t.length>r},this.setShowData=function(t,o){t=t||e.props,o=o||e.state.key;var n=e.getShowData(t,o),r=!1;t.needLoading&&(r=!0,setTimeout(function(){e.setState({showData:e.getShowData(t,o),loading:!1},function(){e.forceUpdate()})},500),n=n.slice(0,t.maxShowDataLength)),e.setState({showData:n,loading:r},function(){e.forceUpdate()})},this.getShowData=function(t,o){t=t||e.props,o=o||e.state.key||"";var n=t,r=n.data,a=n.inputId,i=n.inputName,s=n.inputTop,l=r||[];return e.isCrm()?(0,I.default)(o)&&(l=l.filter(function(e){var t=!1;return t=e.lastname.indexOf((0,I.default)(o))>-1,!t&&e.pingyinname&&(t=e.pingyinname.indexOf((0,I.default)(o))>-1),t})):a&&(0,I.default)(o)&&(l=l.filter(function(e){return s.length>0?e[s[0]].indexOf((0,I.default)(o))>-1:e[i]&&e[i].indexOf((0,I.default)(o))>-1})),l},this.getItemRender=function(t,o){var n=e.props,r=n.inputId,a=(n.inputName,n.inputTop),i=n.inputBottom,s=(n.type,n.hideNum),c=n.isShowGroup,u=(n.showAvatar,n.displayGroup),d=(0,l.default)({},t||{}),p=null;if(e.isCrm()){var f=[];if(d.departmentname&&f.push(d.departmentname),d.supsubcompanyname&&f.push(d.supsubcompanyname),d.subcompanyname&&f.push(d.subcompanyname),d.crmNames=f.join("／"),"resource"==d.type){var h=void 0;try{d.requestParams&&(h=JSON.parse(d.requestParams))}catch(e){h=void 0}p=w.default.createElement("div",{className:"tree-title sortable-list-item resource"},window.odocHrmResourceShowAvatar&&w.default.createElement(_.WeaAvatar,{ecId:e.props.ecId+"_WeaAvatar@zx21xy@"+o,className:"wea-tree-hr-portrait",userId:d.id,requestParams:h}),w.default.createElement("div",{className:"resource-content breakall"},w.default.createElement("div",null,a||i?F(a,d):[w.default.createElement("span",{className:"lastname",title:d.lastname},d.lastname),w.default.createElement("span",{className:"jobtitlename gray",title:d.jobtitlename},d.jobtitlename)]),w.default.createElement("div",null,a||i?F(i,d):w.default.createElement("div",{className:"overflow gray",title:d.crmNames},d.crmNames))))}else p=w.default.createElement("div",{className:"tree-title sortable-list-item"},w.default.createElement("span",{className:"tree-title-icon"},"dept"===d.type?w.default.createElement("i",{className:"icon-mail-folder"}):w.default.createElement("i",{className:"icon-process-scene"})),w.default.createElement("span",{className:"tree-title-name "+(c?"has-expand-icon":""),title:d.lastname},d.lastname,!s&&!u&&"("+e.count(d)+")"),c&&!u&&w.default.createElement("span",{ecId:e.props.ecId+"_span@6im2n8@"+o,title:x(520392,"拆分显示"),className:"tree-title-expand",onClick:function(t){return e.onSelectedGroupExpand(t,d)},onDoubleClick:O.stopPropagation},w.default.createElement("i",{className:"icon-coms02-split"})))}else if(r){var m=F(a,d),v=F(i,d);p=w.default.createElement("div",{className:"item-wrap"},w.default.createElement("div",{className:"item-top"},m),w.default.createElement("div",{className:"item-bottom"},v))}return p},this.onSearchChange=function(t){e.setState({key:t}),e.setShowData(null,t)},this.onVisibleChange=function(t){var o=e.props.onVisibleChange;"function"===typeof o&&o(t)},this.reset=function(){e.setState({key:""})},this.checkHandler=function(t,o){var n=e;clearTimeout(L),L=setTimeout(function(){n.props.checkedCb&&n.props.checkedCb(t)},200)},this.onDoubleClick=function(t){clearTimeout(L),e.props.onDoubleClick&&e.props.onDoubleClick(t)},this.onDragStart=function(t){clearTimeout(L),e.props.checkedCb&&e.props.checkedCb([])}},a);t.default=M},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_158__},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0);o(613);var b=o(40),w=n(b),S=y.WeaLocaleProvider.getLabel,_=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.onChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props.allFunction,n=void 0===t?{}:t,r=n.changecallback;"function"==typeof r&&r(e)},o.changeRemarkInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.workflowStores,r=void 0===n?{}:n,a=t.allFunction,i=void 0===a?{}:a,s=i.changecallback,l=r.globalStore,c=void 0===l?{}:l,u=c.changeSubmitParam;"function"==typeof u&&u(e),"function"==typeof s&&s(e)},o.state={hasLoad:!1},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};window.eventRegister&&window.eventRegister.loadModule("workfolwPublic",t)}},{key:"componentDidUpdate",value:function(){if(this.state.hasLoad){var e=this.props.coreparams,t=e.refid,o=void 0===t?(new Date).getTime():t,n=o+"Edit";window["REMARK_CK_REF"+n]=this.refs[o]}}},{key:"render",value:function(){var e=this.state.hasLoad,t=g.default.createElement("div",null);if(e){var o=window.weaWorkflowPublic.WfSignInput,n=this.props,r=n.workflowStores,i=n.coreparams,s=i.signInputRequired,l=void 0!==s&&s,c=i.refid,u=void 0===c?(new Date).getTime():c,d=i.premarkinfo,p=void 0===d?{}:d,f=r.globalStore,h=void 0===f?{}:f,m=h.commonParam,v=void 0===m?{}:m,y=h.markInfo,b=void 0===y?{}:y,_=h.loadMarkInfo;b&&(p.phraseInfo=b.phraseInfo),b=(0,w.default)({remarkInfo:{handWrittenSignSwitch:-1}},b,p);var C=v.requestid,I=v.requestType,k=b,T=k.remarkInfo,E=void 0===T?{}:T;!E.remarkLocationInfo&&E.remarkLocation&&(E.remarkLocationInfo=E.remarkLocation),t=g.default.createElement("div",null,g.default.createElement("div",{className:"OdocSignInputTitle"},g.default.createElement("i",{className:"icon-coms-Need-feedback"}),g.default.createElement("span",null,S(17614,"签字意见")),l&&g.default.createElement("span",{className:"signInputRequired"}," (",S(18019,"必填"),")")),g.default.createElement(o,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@91k91x",ref:u,markInfo:b,requestType:I,requestid:C,isShowSignInput:!0,editorId:u+"Edit",maxHeight:150},E,{changeRemarkInfo:this.changeRemarkInfo,onChange:this.onChange,saveCallBack:_})))}return t}}]),t}(v.Component);t.default=y.WeaTools.tryCatch(g.default,function(e){return g.default.createElement(y.WeaErrorPage,{ecId:"_WeaErrorPage@77jm38",msg:e.error?e.error:S(385218,"对不起，该页面异常，请联系管理员！")})},{error:""})(_)},function(e,t,o){var n=o(37),r=o(39),a=o(72)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,o){e.exports=o(36)},function(e,t,o){var n=o(18).document;e.exports=n&&n.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,o){var n=o(48);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,o){var n=o(86),r=o(74).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendBackCondt=t.rejectCondt=void 0;var n=o(0),r=n.WeaLocaleProvider.getLabel;t.rejectCondt=[{defaultshow:!0,title:r("533947","拒收理由"),showGroup:!0,col:1,items:[{conditionType:"TEXTAREA",domkey:["detail"],minRows:4,maxRows:6,viewAttr:3,label:r("533947","拒收理由"),rules:"required|string",style:{width:"98%"}}]}],t.sendBackCondt=[{defaultshow:!0,title:r("533948","退回理由"),showGroup:!0,col:1,items:[{conditionType:"TEXTAREA",domkey:["detail"],minRows:4,viewAttr:3,maxRows:6,label:r("533948","退回理由"),rules:"required|string",style:{width:"98%"}}]}]},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e.selectedRowKeys.join(",")}function a(e,t){var o=e.dataKey;t.setColSetVisible(o,!0),t.tableColSet(o,!0)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("collectionSend"===e.pageName||"collectionReceive"===e.pageName)e.doSearch({ifAdFormCgWhenCgTab:!1,behavior:"search",otherInterfaceParams:{viewcondition:e.viewcondition}});else if("receiveDoc"===e.pageName){var o={menuType:e.menuType,isInnerChange:e.isInnerChange,state:e.viewcondition};"receiptRegistration"==e.menuType&&(o={menuType:"receiptRegistration"}),e.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"search",viewconditiondomkey:t,otherInterfaceParams:o})}else e.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"search",viewconditiondomkey:t,otherInterfaceParams:{menuType:e.menuType,isInnerChange:e.isInnerChange}});e.setStoreAttr("ifShowSearchAd",!1)}function s(e){e.loading=!0;var t={isInnerChange:e.isInnerChange};w.receiveDoc(t).then(function(t){E(t,e)})}function l(e,t){var o={};(0,y.default)(o,T(e),{status:t},{isInnerChange:e.isInnerChange}),w.signinDoc(o).then(function(t){E(t,e)})}function c(e,t){var o=e.manualSigninForm.getFormParams(),n=T(e),r={};(0,y.default)(r,o,n,{status:t},{isInnerChange:e.isInnerChange}),w.manualSigninDoc(r).then(function(t){E(t,e),e.setStoreAttr("ifShowManualSigninForm",!1)})}function u(e,t){var o=e.intelligentSigninForm.getFormParams(),n=T(e),r={};(0,y.default)(r,o,n,{status:t},{isInnerChange:e.isInnerChange}),w.intelligentSigninDoc(r).then(function(t){E(t,e),e.setStoreAttr("ifShowIntelligentSigninForm",!1)})}function d(e,t){var o=e.rejectForm.getFormParams(),n=T(e),r={};(0,y.default)(r,o,n,{status:t},{isInnerChange:e.isInnerChange}),w.rejectDoc(r).then(function(t){E(t,e),e.setStoreAttr("ifShowRejectForm",!1)})}function p(e,t){var o=e.sendBackForm.getFormParams(),n=T(e),r={};(0,y.default)(r,o,n,{status:t},{isInnerChange:e.isInnerChange}),w.sendbackDoc(r).then(function(t){E(t,e),e.setStoreAttr("ifSendBackForm",!1)})}function f(e){e.showCreatFlow=!0}function h(e){e.loading=!0;var t={ids:e.currentId||e.selectRowId.join(","),status:1,isInnerChange:e.isInnerChange};_.sendDoc(t).then(function(t){E(t,e)})}function m(e){e.showRegistDialog()}function v(e){e.delList(e.currentId||e.selectRowId.join(","))}Object.defineProperty(t,"__esModule",{value:!0});var g=o(21),y=function(e){return e&&e.__esModule?e:{default:e}}(g);t.getSelectedRowKeys=r,t.onColSetBtnClick=a,t.onSearchBtnClick=i,t.onreceiveDocBtnClick=s,t.onSigninDocBtnClick=l,t.onManualSigninBtnClick=c,t.onIntelligentSigninBtnClick=u,t.onRejectDocBtnClick=d,t.onSendbackBtnClick=p,t.onCreateWorkflowBtnClick=f,t.onsendDocBtnClick=h,t.eleRegist=m,t.batchDeleteList=v;var b=o(62),w=n(b),S=o(123),_=n(S),C=o(9),I=o(0),k=I.WeaLocaleProvider.getLabel,T=function(e){return e.setStoreAttr("loading",!0),{ids:e.currentId||e.selectRowId.join(",")}},E=function(e,t){var o=e.api_status,n=e.api_message;o?""==n?C.message.success(k("30700","操作成功")):C.message.success(n):C.message.error(n),t.setStoreAttr("loading",!1),t.selectRowId=[],t.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"search",viewconditiondomkey:"state",otherInterfaceParams:{menuType:t.menuType,isInnerChange:t.isInnerChange}})}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(10),b=o(0),w=o(11),S=o(9),_=o(8),C=o(13),I=n(C),k=b.WeaLocaleProvider.getLabel,T=(r=(0,y.inject)("registDocStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.registDocStore.getBaseInfoForDemo()}},{key:"render",value:function(){var e=this.props.registDocStore,t=e.eleRegistShow,o=e.eleRegistShowOnCancel,n=e.createWorkflowDialog,r=e.createWorkflowOnCancel;return g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@7flxh0"},g.default.createElement(b.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@vp52ht",title:k(500190,"来文智能登记"),visible:t,icon:"icon-coms-official",iconBgcolor:"#F14A2D",onCancel:o,buttons:this.getDialogBtn(),style:{width:"90%",height:"600px"},className:"doc-receiveRigist-smartRegist"},this.eleRegist()),g.default.createElement(b.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@4i6ms6",title:k(500190,"创建流程"),visible:n,icon:"icon-coms-official",iconBgcolor:"#F14A2D",onCancel:function(){return r({cancel:!0})},style:{width:"65%",height:"600px"},className:"doc-receiveRigist-smartRegist"},this.getCreatWorkflowDailog()))}},{key:"getCommonDialog",value:function(){var e=this.props.registDocStore,t=e.registProcessShow,o=e.type,n=e.secondDialogOncCancel,r=k(500086,"登记处理"),a=this.getRegistProcessBtn();return"1"==o?r=k(500190,"收文智能登记"):"2"==o&&(r=k(500278,"二维码扫码登记")),g.default.createElement(b.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@frljqh",title:r,visible:t,icon:"icon-coms-official",iconBgcolor:"#F14A2D",onCancel:function(){return n()},buttons:a,style:{width:"80%"},className:"odoc-receiveDialog-secondDialog"},this.registProcessContent())}},{key:"getDialogBtn",value:function(){var e=this,t=this.props.registDocStore,o=t.smartRegistration,n=t.loading,r=t.fileInfoArr,a=t.registDailogKey,i=t.step,s=t.nextTept,l=t.eleRegistShowOnCancel,c=!((0,_.toJS)(r.Document_Text).length>0),u=[];return"1"==i?("3"==a&&u.push(g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@nyevc2@sign",type:"primary",onClick:function(){return s()},disabled:c||n}," ",k(500086,"登记处理"))),"0"!=a&&"1"!=a||u.push(g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@swgvfv@next",type:"primary",onClick:function(){return o()},disabled:c||n},k(1402,"下一步")),g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@wc6y67@clean",type:"primary",onClick:function(){return e.clear()}}," ",k(311,"清除"))),u.push(g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@gyl8se@cancel",type:"primary",onClick:function(){return l()}},k(31129,"取消")))):"2"==i&&(u=this.getRegistProcessBtn()),"2"==a&&(u=this.getRegistProcessBtn()),u}},{key:"clear",value:function(){var e=this.props.registDocStore;this.refs.uploadText.setState({listT:[]}),e.setMobxState({fileId:{},fileInfoArr:{Document_Attachments:[],Document_Text:[]}})}},{key:"getSmartRegistDialog",value:function(){var e=this.props.registDocStore,t=e.setFileInfo,o=e.fileInfoArr,n=(0,_.toJS)(o.Document_Text)[0]&&(0,_.toJS)(o.Document_Text)[0].filename||"",r="";return(0,_.toJS)(o.Document_Attachments).forEach(function(e){r+=e.filename+" "}),g.default.createElement("div",{className:"dialogContent"},g.default.createElement("img",{src:(0,I.default)("/images/ecology9/odoc/smartRegistIcon.png"),style:{width:74,height:74}}),g.default.createElement(S.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@tgndj6",className:"Document_Attachments"},g.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@n3qx1y",span:10,offset:7},g.default.createElement("input",{type:"text",ref:"Document_Text",id:"Document_Text",value:n,disabled:!0,placeholder:k("384197","请上传文件")}),g.default.createElement(b.WeaUpload,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaUpload@7semcs",uploadUrl:"/api/doc/upload/uploadFile",category:"string",onChange:function(e,o){return t("Document_Text",e,o,"smartRegist")},ref:"uploadText",limitType:"pdf,doc,docx",maxFilesNumber:1},g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@lb6rsv",type:"primary"},k(500085,"上传正文"))))),g.default.createElement(S.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@7zcisi",className:"Document_Attachments"},g.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@onqjim",span:10,offset:7},g.default.createElement("input",{type:"text",id:"Document_Attachments",disabled:!0,value:r,placeholder:k("384197","请上传文件"),ref:"Document_Attachments"}),g.default.createElement(b.WeaUpload,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaUpload@o4h5qe",uploadUrl:"/api/doc/upload/uploadFile",category:"string",onChange:function(e,o){return t("Document_Attachments",e,o,"smartRegist")},ref:"uploadAttachments",datas:(0,_.toJS)(o.Document_Attachments),showClearAll:!0},g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@vg7fi3",type:"primary"},k(128095,"上传附件"))))))}},{key:"handworkDialogChildren",value:function(){var e=this,t=this.props.registDocStore,o=t.handworkForm,n=t.handwordCondition,r=t.registDailogKey,a=o.isFormInit,i=[];return a&&(0,_.toJS)(n).map(function(n,a){var s=[];n.items.map(function(n){var a={};a=n.conditionType.toUpperCase()==b.WeaTools.types.UPLOAD&&"Document_Text"==n.domkey[0]?g.default.createElement(b.WeaUpload,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaUpload@ubjofc@"+n.domkey[0],uploadUrl:"/api/doc/upload/uploadFile",category:"string",maxUploadSize:5,listType:"list",maxFilesNumber:1,multiSelection:!1,viewAttr:n.viewAttr,limitType:"pdf,doc,docx,jpg,png,gif",onChange:function(e,o){return t.setFileInfo("Document_Text",e,o)},clearWhenReset:!1,showClearAll:!1,datas:(0,_.toJS)(t.fileInfoArr.Document_Text)||[]}):n.conditionType.toUpperCase()==b.WeaTools.types.UPLOAD&&"Document_Attachments"==n.domkey[0]?g.default.createElement(b.WeaUpload,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaUpload@atmsgy@"+n.domkey[0],uploadUrl:"/api/doc/upload/uploadFile",category:"string",maxUploadSize:5,listType:"list",multiSelection:!0,viewAttr:n.viewAttr,onChange:function(e,o){return t.setFileInfo("Document_Attachments",e,o)},clearWhenReset:!1,showClearAll:!1,datas:(0,_.toJS)(t.fileInfoArr.Document_Attachments)||[]}):n.conditionType.toUpperCase()==b.WeaTools.types.BROWSER?g.default.createElement(w.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@8sf8or@"+n.domkey[0],fieldConfig:n,form:o}):g.default.createElement(w.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@5ttthj@"+n.domkey[0],fieldConfig:n,form:o}),("0"!=r&&"1"!=r&&("2"!=r||n.conditionType.toUpperCase()!=b.WeaTools.types.UPLOAD)||"Document_Text"!=n.domkey[0]&&"Document_Attachments"!=n.domkey[0])&&("Document_Text"==n.domkey[0]||"Issued_Number_of_Document"==n.domkey[0]||"Main_Receiver_Department"==n.domkey[0]||"Copy_to_Department"==n.domkey[0]?s.push({com:g.default.createElement(b.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@zcslli@"+n.domkey[0],hasBorder:!0,label:""+n.label,labelCol:{span:"6"},error:o.getError(n),tipPosition:"bottom",wrapperCol:{span:"18"}},a),col:n.colSpan,hide:o.isHide(n,function(){return!1})}):s.push({com:g.default.createElement(b.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@au5qz8@"+n.domkey[0],hasBorder:!0,label:""+n.label,labelCol:{span:"6"},error:o.getError(n),tipPosition:"bottom",wrapperCol:{span:"18"}},a),col:n.colSpan,hide:o.isHide(n,function(){return!1})}))}),"0"==r||"1"==r||"2"==r?0==a?i.push(g.default.createElement(b.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@szr7aj@"+a,needTigger:!1,title:"",showGroup:n.defaultshow,items:s,className:"handworkRegist"})):i.unshift(g.default.createElement(b.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@3uvnsj@"+a,needTigger:!1,title:"",showGroup:n.defaultshow,items:s,className:"handworkRegist"})):i.push(g.default.createElement(b.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@hkpclg@"+a,needTigger:!1,title:"",showGroup:n.defaultshow,items:s,className:"handworkRegist"}))}),i}},{key:"registProcessContent",value:function(){var e=this.props.registDocStore.type;return g.default.createElement("div",{className:"odoc_registProcessDialog"},g.default.createElement("div",{className:"registProcess-left"},"0"==e&&this.registProcess(),"1"==e&&this.registProcess(),"2"==e&&g.default.createElement("div",{className:"sweepCodeContent"},this.sweepCodeRegist()),"3"==e&&this.registProcess()),g.default.createElement("div",{className:"registProcess-right"},this.handworkDialogChildren()),g.default.createElement("div",{className:"clearFloat"}))}},{key:"getRegistProcessBtn",value:function(){var e=this.props.registDocStore,t=e.loading,o=e.registSave,n=e.previousTept,r=e.selectRowId,a=e.isReceivecheck,i=e.registDailogKey,s=e.eleRegistShowOnCancel,l=!((0,_.toJS)(r).length>0);return a?[g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@bmn0y8@ok",type:"primary",onClick:function(){return s()},disabled:t},k(500111,"确定"))]:[("0"==i||"1"==i||"3"==i)&&l&&g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@5gdl7r@prev",type:"primary",onClick:function(){return n()}},k(1876,"上一步")),g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@vo8iy2@dispose",type:"primary",onClick:function(){return o(!0)},disabled:t},k("","收文处理")),g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@j6ia4g@save",type:"primary",onClick:o,disabled:t},k(500114,"登记保存")),g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@qim3lt@cancel",type:"primary",onClick:function(){return s()}},k(31129,"取消"))]}},{key:"registProcess",value:function(){var e=this.props.registDocStore,t=e.fileId,o=e.fileInfoArr,n=e.docId,r="";r=(0,_.toJS)(o.Document_Text)[0]&&"pdf"==(0,_.toJS)(o.Document_Text)[0].fileExtendName&&t.Document_Text?t.Document_Text:n;var a="/docs/pdfview/web/pdfViewer.jsp?odocSmartRegist=1&canPrint=false&canDownload=false&pdfimagefileid="+r;return g.default.createElement("iframe",{src:(0,I.default)(a),width:"100%",height:"100%",frameBorder:"0",title:"iframe"})}},{key:"sweepCodeRegist",value:function(){var e=this.props.registDocStore;return g.default.createElement("div",{className:"doc-receiveRigist-smartRegist"},g.default.createElement("div",{className:"dialogContent"},g.default.createElement(S.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@log6iq",className:"sweepCodeUpload"},g.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@3vd297"},g.default.createElement("input",{type:"text",id:"sweepCode",disabled:!0,placeholder:k("384197","请上传文件"),ref:"sweepCode"}),g.default.createElement(b.WeaUpload,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaUpload@51yhah",uploadUrl:"/api/doc/upload/uploadFile",category:"string",onChange:function(t,o){return e.setFileInfo("sweepCode",t,o,"smartRegist")},ref:"uploadAttachments"},g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@dl0zlc",type:"primary"},k("500369","上传二维码")))))))}},{key:"eleRegist",value:function(){var e=this.props.registDocStore,t=e.registDailogKey,o=e.changeTab,n=e.step,r=e.isShowAllTab,a=[{color:"#fea468",groupid:"flowRes",showcount:!0,title:k("501799","扫码登记"),viewcondition:2},{color:"#9766fd",groupid:"flowOver",showcount:!0,title:k("391004","手工登记"),viewcondition:3}];return r&&a.push({groupid:"flowRes",title:k("504656","电子登记"),viewcondition:0},{groupid:"flowRes",title:k("504657","拍照登记"),viewcondition:1}),g.default.createElement("div",{className:""},"1"==n&&g.default.createElement(b.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@yzbyvj",datas:a,keyParam:"viewcondition",countParam:"groupid",selectedKey:t,onChange:function(e){return o(e)}}),"1"==n&&g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@1x7zn8"},"0"==t&&this.getSmartRegistDialog(),"1"==t&&this.getPhotoRegist(),"3"==t&&this.handworkDialogChildren()),"2"==n&&g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@ycgplr"},("0"==t||"1"==t)&&this.registProcessContent(),"3"==t&&this.registProcessContent()),"2"==t&&this.registProcessContent())}},{key:"getPhotoRegist",value:function(){var e=this,t=this.props.registDocStore,o=t.setFileInfo,n=t.fileInfoArr,r=[];(0,_.toJS)(n.Document_Text)&&(0,_.toJS)(n.Document_Text).length>0&&(0,_.toJS)(n.Document_Text).map(function(e){r.push('<p class="photoFileNameList" title="'+e.filename+'">'+e.filename+"</p>")});var a=r.join("");return g.default.createElement("div",{className:"doc-receiveRigist-smartRegist"},g.default.createElement("div",{className:"dialogContent"},g.default.createElement(S.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@1snwou",className:"Document_Attachments"},g.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@67l0fb",span:10,offset:7},""==a&&g.default.createElement(b.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@4l26h0",icon:"icon-coms-blank"},g.default.createElement("div",{style:{color:"#000"}}," ",k("517306","没有上传任何文件")," ")),""!=a&&g.default.createElement("div",{className:"photoNameBox"},g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@6dfp4e"},g.default.createElement("div",{className:"box-title"},k("517307","已上传文件")),g.default.createElement("div",{className:"box-content",ref:function(t){return e.photoValue=t},dangerouslySetInnerHTML:{__html:a}}))),g.default.createElement(b.WeaUpload,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaUpload@j4i5wt",uploadUrl:"/api/doc/upload/uploadFile",category:"string",onChange:function(e,t){return o("Document_Text",e,t,"smartRegist")},ref:"uploadText",limitType:"jpg,png,gif"},g.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@76h1vx",type:"primary"},k(500085,"上传图片")))))))}},{key:"getCreatWorkflowDailog",value:function(){var e=this.props.registDocStore,t=e.tabs,o=e.workflowKeys,n=e.changeWorkflowTab;return g.default.createElement("div",null,g.default.createElement(b.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@orm7pu",datas:t,keyParam:"viewcondition",countParam:"groupid",selectedKey:o,onChange:n}),g.default.createElement("div",{className:"odoc_wolkflowList"},this.getWorkflowBox()))}},{key:"getWorkflowBox",value:function(){var e=this.props.registDocStore,t=e.workflowData;return(0,_.toJS)(t).map(function(t){return g.default.createElement("div",{className:"workflowItem",key:t.workflowid,onClick:function(){return e.openCreatFlowWindow(t.workflowid,t.workflowname)}},g.default.createElement("a",{className:"flowWorkName"},t.workflowname),g.default.createElement("div",{className:"addButton"},"+"))})}}]),t}(v.Component))||a)||a;t.default=T},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(2),p=n(d),f=o(4),h=n(f),m=o(5),v=n(m),g=o(7),y=n(g),b=o(10),w=o(0),S=o(11),_=S.WeaTableNew.WeaTable,C=w.WeaLocaleProvider.getLabel,I=S.WeaTableNew.TableStore,k=(0,b.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return o.onSearch=function(e){o.getAttachmentList("",{docsubject:e})},o.getAttachmentList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)({attachment:e||o.state.attachmentIds},t);w.WeaTools.callApi("/api/offical/receiveDoc/getAttachmentList","GET",n).then(function(e){e.sessionkey&&o.state.attachmentTable.getDatas(e.sessionkey,1,10)})},o.state={attachmentTable:new I,attachmentIds:""},o}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.attachmentIds;this.getAttachmentList(e),this.setState({attachmentIds:e})}},{key:"render",value:function(){var e=this.props,t=e.attachmentVisible,o=e.attachmentTitle,n=e.closeAttachment,r=this.state.attachmentTable;return y.default.createElement(w.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@vp52ht",title:y.default.createElement("p",{style:{color:"#4d7ad8"},dangerouslySetInnerHTML:{__html:C("30276","相关文件")+"-"+o}}),visible:t,icon:"icon-coms-official",iconBgcolor:"#F14A2D",onCancel:n,style:{width:"40%",height:"600px"},className:"doc-receive-attachmentDialog",buttons:[y.default.createElement(w.WeaMoreButton,{datas:[],collectParams:{favouritetype:2,objid:0,importantlevel:1}})]},y.default.createElement("div",{className:"doc-receive-attachmentDialog-search"},y.default.createElement(w.WeaInputSearch,{onSearch:this.onSearch})),y.default.createElement("div",{className:"doc-receive-attachmentDialog-table"},y.default.createElement(_,{comsWeaTableStore:r,needScroll:!0})))}}]),t}(g.Component))||r;t.default=k},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(11),g=o(0),y=function(e){function t(){var e,o,n,r;(0,s.default)(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return o=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){var t=n.props.searchStore;t.isSearched(),e.officalType&&t.form.updateFields({docnode:{value:""}}),2==t.searchType&&e.officalType&&("1"==e.officalType.value?(t.setSearchType_display_fw("block"),t.setSearchType_display_sw("none"),t.setSearchType_display_qb("none")):"2"==e.officaltype.value?(t.setSearchType_display_fw("none"),t.setSearchType_display_sw("block"),t.setSearchType_display_qb("none")):"3"==e.officaltype.value?(t.setSearchType_display_fw("none"),t.setSearchType_display_sw("none"),t.setSearchType_display_qb("block")):(t.setSearchType_display_fw("none"),t.setSearchType_display_sw("none"),t.setSearchType_display_qb("none")))},n.onBlur=function(){},r=o,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.searchStore,n=t.listStore,r=o.searchCondition.condition||o.searchCondition.conditions,a=o.form,i=a.isFormInit,s=[];return i&&r.map(function(t){var r=[];t.items.map(function(t){2==o.searchType&&"发文环节"==t.label?r.push(m.default.createElement("div",{style:{display:o.searchType_display_fw}},m.default.createElement(g.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@jsd387@"+t.domkey[0],label:""+t.label,labelCol:{span:4},error:a.getError(t),tipPosition:"bottom",wrapperCol:{span:20}},m.default.createElement(v.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@lnrgfo@"+t.domkey[0],fieldConfig:t,form:a,onChange:e.onChange,onBlur:e.onBlur,onEnterSearch:n.doSearch})))):2==o.searchType&&"收文环节"==t.label?r.push(m.default.createElement("div",{style:{display:o.searchType_display_sw}},m.default.createElement(g.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@1z7ri3@"+t.domkey[0],label:""+t.label,labelCol:{span:4},error:a.getError(t),tipPosition:"bottom",wrapperCol:{span:20}},m.default.createElement(v.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@owalhl@"+t.domkey[0],fieldConfig:t,form:a,onChange:e.onChange,onBlur:e.onBlur,onEnterSearch:n.doSearch})))):2==o.searchType&&"签报环节"==t.label?r.push(m.default.createElement("div",{style:{display:o.searchType_display_qb}},m.default.createElement(g.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@69e868@"+t.domkey[0],label:""+t.label,labelCol:{span:4},error:a.getError(t),tipPosition:"bottom",wrapperCol:{span:20}},m.default.createElement(v.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@x7dbqw@"+t.domkey[0],fieldConfig:t,form:a,onChange:e.onChange,onBlur:e.onBlur,onEnterSearch:n.doSearch})))):r.push(m.default.createElement(g.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@oznkn4@"+t.domkey[0],label:""+t.label,labelCol:{span:4},error:a.getError(t),tipPosition:"bottom",wrapperCol:{span:20}},m.default.createElement(v.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@hhv043@"+t.domkey[0],fieldConfig:t,form:a,onChange:e.onChange,onBlur:e.onBlur,onEnterSearch:n.doSearch}))),s=r})}),m.default.createElement("div",{className:"wea-odoc-advanced-searchsAd"},s)}}]),t}(m.default.Component);t.default=y},function(e,t,o){e.exports={default:o(297),__esModule:!0}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(93),a=n(r),i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(9),b=o(125),w=n(b),S=o(307),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(S),C=function(e){function t(){(0,d.default)(this,t);var e=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.getColumns=function(t){return t.map(function(t){return"id"==t.dataIndex?(0,s.default)({},t,{render:function(t,o){var n='  <table  style={{ width:400,height:120, border: 1 ,fontSize:12 }} cellSpacing="8" >',r=JSON.parse(o.odocinfospan),i=0;return r.forEach(function(e){e.showname==getLabel("24986","标题")&&(e.showname="标&emsp;&emsp;题"),0==i&&(n+="<tr>"),n+="<th colspan='"+e.shownamecolspan+"'>"+e.showname+"：<i><i/></td>",n+="<td width='350' colspan='"+e.showvaluecolspan+"'>"+e.showvalue+"</td>",(i+=(0,a.default)(e.shownamecolspan)+(0,a.default)(e.showvaluecolspan))>=2&&(n+="</tr>",i=0)}),n+="</table>",React.createElement(y.Popover,{ecId:(e&&e.props&&e.props.ecId||"")+"_Popover@z9eex8@popover",overlayClassName:"wea-odoc-library-popover",placement:"bottomLeft",content:React.createElement("div",{dangerouslySetInnerHTML:{__html:n}}),trigger:"hover"},React.createElement("div",{dangerouslySetInnerHTML:{__html:o.idspan}}))}}):t})},e.setTopTitle(e.getLabel2("383001","公文库")),e.API_TABCOUNT="",e}return(0,g.default)(t,e),(0,f.default)(t,[{key:"getSearchsBaseValue",value:function(){return this.searchStore.form.getFormParams().odocSubject}},{key:"setSearchsBaseValue",value:function(e){this.searchStore.form.updateFields({odocSubject:{value:e}}),this.searchStore.isSearched()}},{key:"doSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.getLibraryList(t).then(function(o){var n=o.sessionKey||o.generateParams.sessionkey;e.searchStore.tableStore.getDatas(n,t.current||1)}),this.searchStore.setShowSearchAd(!1),this}},{key:"buildSearchCondition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.getCondition(t).then(function(t){e.searchStore.setSearchCondition(t);var n=t.condition;if(e.searchStore.form.initFormFields(n),e.searchStore.setKeywords(t.condition[0].searchHotTerm.dataList),e.searchStore.form.updateFields({odocSubject:{value:o.odocSubject}}),o.odoctype){var r=o.odoctype.split("|");e.searchStore.form.updateFields({odoctype:{value:[r[0],[r[1],r[2]]],valueSpan:["odocType"]}})}if(o.topictype){var a=o.topictype.split("|");e.searchStore.form.updateFields({topictype:{value:[a[0],[a[1],a[2]]],valueSpan:["odocTopicType"]}})}if(e.searchStore.form.updateFields({dispatchnum:{value:o.dispatchnum}}),o.writtendateselect){var i=o.writtendateselect.split("|");e.searchStore.form.updateFields({writtendateselect:{value:[i[0],[i[1],i[2]]],valueSpan:["odocTopicType"]}})}e.searchStore.form.updateFields({readstatus:{value:o.readstatus}}),e.searchStore.form.updateFields({perIntensive:{value:o.perIntensive}}),e.searchStore.isSearched(),e.doSearch()})}},{key:"resetForm",value:function(){this.searchStore.resetSearchForm(),this.setSearchsBaseValue("")}}]),t}(w.default);t.default=C},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,i=o(14),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(8),S=o(125),_=n(S),C=o(309),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(C),k=o(0),T=o(11),E=(r=w.action.bound,a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return o.getColumns=function(e){return e.map(function(e){return e})},o.setTopTitle(o.getLabel2("384729","公文流程查询")),o.API_TABCOUNT="",o.searchStore.setSearchType(2),!Object.prototype.hasOwnProperty.call(e,"isNew")||1!=e.isNew&&"true"!=e.isNew?o.showNewSearch=!1:(o.tabComponentParams={getFormUrl:"/api/odoc/odocTodoList/getCustomCondition",searchParams:e,baseSearchName:"requestname"},o.tabComponentParams={getDataList:function(e){return o.doSearch(e)},searchType:["base","advanced"],getFormUrl:"/api/odoc/odocTodoList/getCustomCondition",searchParams:e,baseSearchName:"requestname"},Object.prototype.hasOwnProperty.call(e,"officalType")&&("1"==e.officalType&&o.setTopTitle(o.getLabel2("","发文查询")),"2"==e.officalType&&o.setTopTitle(o.getLabel2("","收文查询")),"3"==e.officalType&&o.setTopTitle(o.getLabel2("","签报查询"))),o.showNewSearch=!0),o.locationquery=e,o}return(0,b.default)(t,e),(0,m.default)(t,[{key:"getSearchsBaseValue",value:function(){return this.searchStore.form.getFormParams().requestname}},{key:"setSearchsBaseValue",value:function(e){this.searchStore.form.updateFields({requestname:{value:e}}),this.searchStore.isSearched()}},{key:"doSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.searchStore.getFormParams();return o=(0,c.default)({},o,this.searchStore.otherSearchParams,this.locationquery,t),I.getSearchReqList(o).then(function(t){e.searchStore.tableStore.getDatas(t.generateParams.sessionkey)}),this.searchStore.setShowSearchAd(!1),this}},{key:"buildSearchCondition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I.getCondition(t).then(function(t){e.searchStore.setSearchCondition(t);var o=t.condition;e.searchStore.form.initFormFields(o),e.doSearch()})}},{key:"resetForm",value:function(){this.searchStore.resetSearchForm(),this.setSearchsBaseValue("")}},{key:"searchCustomRender",value:function(e,t,o){var n=this,r=[];return e.isFormInit&&(0,w.toJS)(t).map(function(t,a){var i=[];t.items.map(function(t){i.push({com:React.createElement(k.WeaFormItem,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaFormItem@oye3sx@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},React.createElement(T.WeaSwitch,(0,c.default)({ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSwitch@doiic1@"+t.domkey[0],fieldConfig:t,form:e},o))),col:2,hide:e.isHide(t,function(e,o){return"0"==o.officalType&&("签报环节"==t.label||"收文环节"==t.label||"发文环节"==t.label)||("1"==o.officalType&&("签报环节"==t.label||"收文环节"==t.label)||("2"==o.officalType&&("签报环节"==t.label||"发文环节"==t.label)||"3"==o.officalType&&("收文环节"==t.label||"发文环节"==t.label)))})})}),r.push(React.createElement(k.WeaSearchGroup,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSearchGroup@h919j5@"+a,needTigger:!1,title:t.title,showGroup:t.defaultshow,items:i}))}),r}}]),t}(_.default),function(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(a.prototype,"doSearch",[r],(0,s.default)(a.prototype,"doSearch"),a.prototype),a);t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s=o(21),l=n(s),c=o(6),u=n(c),d=o(3),p=n(d),f=o(1),h=n(f),m=o(2),v=n(m),g=o(4),y=n(g),b=o(5),w=n(b),S=o(7),_=n(S),C=o(10),I=o(11),k=o(0),T=o(8),E=I.WeaTableNew.WeaTable,D=(r=(0,C.inject)("reportStore"),a=(0,C.inject)("reportFlowEchartDetailListDialogStore"),r(i=a(i=(0,C.observer)(i=function(e){function t(){var e,o,n,r;(0,h.default)(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=n=(0,y.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),n.getColumns=function(e){return e.map(function(e){return"num"==e.dataIndex?(0,u.default)({},e,{render:function(t,o){return _.default.createElement(k.WeaProgress,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaProgress@vxuafo@"+e.dataIndex,percent:o.numspan,format:function(){return o.num}})}}):e})},n.doSearch=function(){var e=n.props,t=e.searchParams,o=e.reportFlowEchartDetailListDialogStore,r=o.condition_name,a=o.doSearch;t.name=r,a(t)},r=o,(0,y.default)(n,r)}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.reportFlowEchartDetailListDialogStore;if(this.props.searchParams!==e.searchParams){var o=e.searchParams,n={name:e.name};(0,l.default)(o,o,n),t.doSearch(o)}}},{key:"componentDidMount",value:function(){var e=this.props.reportFlowEchartDetailListDialogStore,t=this.props.searchParams,o={name:e.condition_name};(0,l.default)(t,t,o),e.doSearch(t)}},{key:"renderSearchAdForm",value:function(){var e=this,t=this.props.reportFlowEchartDetailListDialogStore,o=(0,T.toJS)(t.searchCondition.condition),n=t.form,r=n.isFormInit,a=[];return r&&o.map(function(t,o){var r=[];t.items.map(function(t){var o=2;t.conditionType.toUpperCase()==k.WeaTools.types.CASCADER&&(o=1),r.push({com:_.default.createElement(k.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@uofco2@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:n.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},_.default.createElement(I.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@l38f6y@"+t.domkey[0],fieldConfig:t,form:n,onEnterSearch:e.doSearch})),col:o,hide:n.isHide(t,function(){return!1})})}),a.push(_.default.createElement(k.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@blusc3@"+o,needTigger:!1,showGroup:!0,items:r}))}),_.default.createElement("div",null,a)}},{key:"render",value:function(){var e=this,t=this.props.reportFlowEchartDetailListDialogStore;return _.default.createElement("div",null,_.default.createElement(k.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@aikao1",searchType:["base"],showSearchAd:t.showSearchAd,onSearch:function(){return e.doSearch()},onSearchChange:function(e){return t.setSearchsBaseValue(e)}}),_.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@8ewltc",hasOrder:!0,needScroll:!0,comsWeaTableStore:t.tableStore,getColumns:this.getColumns,scroll:{y:550}}))}}]),t}(_.default.Component))||i)||i)||i);t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s=o(21),l=n(s),c=o(3),u=n(c),d=o(1),p=n(d),f=o(2),h=n(f),m=o(4),v=n(m),g=o(5),y=n(g),b=o(7),w=n(b),S=o(9),_=o(10),C=o(11),I=o(0),k=o(8),T=I.WeaLocaleProvider.getLabel,E=C.WeaTableNew.WeaTable,D=(r=(0,_.inject)("reportStore"),a=(0,_.inject)("reportFlowDetailListDialogStore"),r(i=a(i=(0,_.observer)(i=function(e){function t(){var e,o,n,r;(0,p.default)(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=n=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(i))),n.getColumns=function(e){return e.map(function(e){return e})},r=o,(0,v.default)(n,r)}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.reportFlowDetailListDialogStore;if(this.props.searchParams!==e.searchParams||this.props.status!==e.status||this.props.key!==e.key){var o=e.searchParams,n={status:t.condition_status},r={echartKey:t.condition_key};(0,l.default)(o,o,n),(0,l.default)(o,o,r),t.doSearch(o)}}},{key:"componentDidMount",value:function(){var e=this.props.reportFlowDetailListDialogStore;e.buildSearchCondition();var t=this.props.searchParams,o={status:e.condition_status},n={echartKey:e.condition_key};(0,l.default)(t,t,o),(0,l.default)(t,t,n),e.doSearch(t)}},{key:"renderSearchAdForm",value:function(){var e=this,t=this.props.reportFlowDetailListDialogStore,o=(0,k.toJS)(t.searchCondition.conditions)||(0,k.toJS)(t.searchCondition.condition),n=t.form,r=n.isFormInit,a=[];return r&&o.map(function(t,o){var r=[];t.items.map(function(t){var o=2;t.conditionType.toUpperCase()==I.WeaTools.types.CASCADER&&(o=1),r.push({com:w.default.createElement(I.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@jkgzna@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:n.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},w.default.createElement(C.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@4yps18@"+t.domkey[0],fieldConfig:t,form:n,onEnterSearch:function(){return e.doSearch()}})),col:o,hide:n.isHide(t,function(){return!1})})}),a.push(w.default.createElement(I.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@c1cgs5@"+o,needTigger:!1,showGroup:!0,items:r}))}),w.default.createElement("div",null,a)}},{key:"doSearch",value:function(){var e=this.props.reportFlowDetailListDialogStore,t=this.props.searchParams,o={status:e.condition_status},n={echartKey:e.condition_key};(0,l.default)(t,t,o),(0,l.default)(t,t,n);var r=(0,l.default)({},t,e.getFormParams());e.doSearch(r)}},{key:"renderSearchAdButtons",value:function(){var e=this,t=this.props.reportFlowDetailListDialogStore;return[w.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@qtxqvk@search",type:"primary",onClick:function(){return e.doSearch()}},T("197","搜索")),w.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@df4t7y@reset",type:"ghost",onClick:function(){return t.form.reset()}},T("2022","重置")),w.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@qa4f7k@cancel",type:"ghost",onClick:function(){return t.changeShowSearchAd(!1)}},T("31129","取消"))]}},{key:"render",value:function(){var e=this,t=this.props.reportFlowDetailListDialogStore;return w.default.createElement(I.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@2plz1t",datas:this.rightMenuDatas()},w.default.createElement(I.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@w9dsje",searchType:["base","advanced"],showSearchAd:t.showSearchAd,setShowSearchAd:function(e){return t.changeShowSearchAd(e)},buttonsAd:this.renderSearchAdButtons(),searchsAd:this.renderSearchAdForm(),onSearch:function(){return e.doSearch()},searchsBaseValue:t.getSearchsBaseValue(),onSearchChange:function(e){return t.setSearchsBaseValue(e)}}),w.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@98svz9",hasOrder:!0,needScroll:!0,scroll:{y:550},loading:t.loading,comsWeaTableStore:t.tableStore,getColumns:this.getColumns}))}},{key:"rightMenuDatas",value:function(){var e=this.props.reportFlowDetailListDialogStore.tableStore;return[{key:"1",icon:w.default.createElement("i",{className:"icon-coms-home"}),content:T("32535","显示列定制"),onClick:function(){e.setColSetVisible(!0),e.tableColSet(!0)}}]}}]),t}(w.default.Component))||i)||i)||i);t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s=o(93),l=n(s),c=o(6),u=n(c),d=o(21),p=n(d),f=o(3),h=n(f),m=o(1),v=n(m),g=o(2),y=n(g),b=o(4),w=n(b),S=o(5),_=n(S),C=o(7),I=n(C),k=o(9),T=o(10),E=o(11),D=o(0),O=o(8),P=D.WeaLocaleProvider.getLabel,W=E.WeaTableNew.WeaTable,R=(r=(0,T.inject)("reportStore"),a=(0,T.inject)("reportDocDetailListDialogStore"),r(i=a(i=(0,T.observer)(i=function(e){function t(e){(0,v.default)(this,t);var o=(0,w.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return o.doSearch=function(){var e=o.props.reportDocDetailListDialogStore,t=o.props.searchParams,n={status:e.condition_status},r={echartKey:e.condition_key};(0,p.default)(t,t,n),(0,p.default)(t,t,r);var a=(0,p.default)({},t,e.getFormParams());e.doSearch(a)},o.getColumns=function(e){return e.map(function(e,t){return"id"==e.dataIndex?(0,u.default)({},e,{render:function(e,n){var r='  <table  style={{ width:400,height:120, border: 1 ,fontSize:12 }} cellSpacing="8" >',a=JSON.parse(n.odocinfospan),i=0;return a.forEach(function(e){0==i&&(r+="<tr>"),r+="<th colspan='"+e.shownamecolspan+"'>"+e.showname+"：</th>",r+="<td width='350px' colspan='"+e.showvaluecolspan+"'>"+e.showvalue+"</td>",(i+=(0,l.default)(e.shownamecolspan)+(0,l.default)(e.showvaluecolspan))>=2&&(r+="</tr>",i=0)}),r+="</table>",I.default.createElement(k.Popover,{ecId:(o&&o.props&&o.props.ecId||"")+"_Popover@dtg99d@"+t,overlayClassName:"wea-odoc-library-popover",placement:"bottomLeft",content:I.default.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),trigger:"hover"},I.default.createElement("a",{dangerouslySetInnerHTML:{__html:n.idspan}}))}}):e})},o.showCustomCol=function(){var e=o.props.reportDocDetailListDialogStore.tableStore;e.setColSetVisible(!0),e.tableColSet(!0)},o.scroll={y:550},o}return(0,_.default)(t,e),(0,y.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.reportDocDetailListDialogStore;if(this.props.searchParams!==e.searchParams||this.props.status!==e.status||this.props.key!==e.key){var o=e.searchParams,n={echartKey:t.condition_key};(0,p.default)(o,o,n),t.doSearch(o)}}},{key:"componentDidMount",value:function(){var e=this.props.reportDocDetailListDialogStore;e.buildSearchCondition();var t=this.props.searchParams,o={echartKey:e.condition_key};(0,p.default)(t,t,o),e.doSearch(t)}},{key:"renderSearchAdForm",value:function(){var e=this,t=this.props.reportDocDetailListDialogStore,o=(0,O.toJS)(t.searchCondition.condition),n=t.form,r=n.isFormInit,a=[];return r&&o.map(function(t,o){var r=[];t.items.map(function(t){var o=2;t.conditionType.toUpperCase()==D.WeaTools.types.CASCADER&&(o=1),r.push({com:I.default.createElement(D.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@8dzfik@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:n.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},I.default.createElement(E.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@ical8a@"+t.domkey[0],fieldConfig:t,form:n,onEnterSearch:e.doSearch})),col:o,hide:n.isHide(t,function(){return!1})})}),a.push(I.default.createElement(D.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@zdt8bg@"+o,needTigger:!1,showGroup:!0,items:r}))}),I.default.createElement("div",null,a)}},{key:"renderSearchAdButtons",value:function(){var e=this.props.reportDocDetailListDialogStore;return[I.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@ui4dod@search",type:"primary",onClick:this.doSearch},P("197","搜索")),I.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@bdduyx@reset",type:"ghost",onClick:function(){return e.form.reset()}},P("2022","重置")),I.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@x68lc7@cancel",type:"ghost",onClick:function(){return e.changeShowSearchAd(!1)}},P("31129","取消"))]}},{key:"render",value:function(){var e=this.props.reportDocDetailListDialogStore;return I.default.createElement(D.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@e4ld5j",datas:this.rightMenuDatas()},I.default.createElement(D.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@tsde56",searchType:["base","advanced"],showSearchAd:e.showSearchAd,setShowSearchAd:e.changeShowSearchAd,buttonsAd:this.renderSearchAdButtons(),searchsAd:this.renderSearchAdForm(),onSearch:this.doSearch,searchsBaseValue:e.getSearchsBaseValue(),onSearchChange:e.setSearchsBaseValue}),I.default.createElement(W,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@c0cw3t",hasOrder:!0,needScroll:!0,comsWeaTableStore:e.tableStore,getColumns:this.getColumns,scroll:this.scroll}))}},{key:"rightMenuDatas",value:function(){return[{key:"1",icon:I.default.createElement("i",{className:"icon-coms-home"}),content:P("32535","显示列定制"),onClick:this.showCustomCol}]}}]),t}(I.default.Component))||i)||i)||i);t.default=R},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s=o(6),l=n(s),c=o(21),u=n(c),d=o(3),p=n(d),f=o(1),h=n(f),m=o(2),v=n(m),g=o(4),y=n(g),b=o(5),w=n(b),S=o(7),_=n(S),C=o(10),I=o(11),k=o(0),T=o(8),E=I.WeaTableNew.WeaTable,D=(r=(0,C.inject)("reportStore"),a=(0,C.inject)("reportDocEchartDetailListDialogStore"),r(i=a(i=(0,C.observer)(i=function(e){function t(e){(0,h.default)(this,t);var o=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return o.doSearch=function(){var e=o.props.reportDocEchartDetailListDialogStore,t=o.props.searchParams,n={analyseType:e.condition_analyseType},r={name:e.condition_name};(0,u.default)(t,t,n),(0,u.default)(t,t,r),e.doSearch(t)},o.getColumns=function(e){return e.map(function(e){return"num"==e.dataIndex?(0,l.default)({},e,{render:function(t,n){return _.default.createElement(k.WeaProgress,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaProgress@4k7l6t@"+e.dataIndex,percent:n.numspan,format:function(){return n.num}})}}):e})},o.scroll={y:550},o}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.reportDocEchartDetailListDialogStore;if(this.props.searchParams!==e.searchParams||this.props.analyseType!=e.analyseType){var o=e.searchParams,n={analyseType:e.analyseType},r={name:e.name};(0,u.default)(o,o,n),(0,u.default)(o,o,r),t.doSearch(o)}}},{key:"componentDidMount",value:function(){this.doSearch()}},{key:"renderSearchAdForm",value:function(){var e=this,t=this.props.reportDocEchartDetailListDialogStore,o=(0,T.toJS)(t.searchCondition.condition),n=t.form,r=n.isFormInit,a=[];return r&&o.map(function(t,o){var r=[];t.items.map(function(t){var o=2;t.conditionType.toUpperCase()==k.WeaTools.types.CASCADER&&(o=1),r.push({com:_.default.createElement(k.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@9lyzf8@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:n.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},_.default.createElement(I.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@ct207i@"+t.domkey[0],fieldConfig:t,form:n,onEnterSearch:e.doSearch})),col:o,hide:n.isHide(t,function(){return!1})})}),a.push(_.default.createElement(k.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@ci6dae@"+o,needTigger:!1,showGroup:!0,items:r}))}),_.default.createElement("div",null,a)}},{key:"render",value:function(){var e=this.props.reportDocEchartDetailListDialogStore;return _.default.createElement("div",null,_.default.createElement(k.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@gcjn6d",searchType:["base"],showSearchAd:e.showSearchAd,onSearch:this.doSearch,onSearchChange:e.setSearchsBaseValue}),_.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@i8zl3s",hasOrder:!0,needScroll:!0,comsWeaTableStore:e.tableStore,getColumns:this.getColumns,scroll:this.scroll}))}}]),t}(_.default.Component))||i)||i)||i);t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(10),w=o(8),S=o(0);o(91);var _=o(13),C=n(_),I=(r=(0,b.inject)("centerStore"))(a=(0,b.observer)(a=function(e){function t(){var e,o,n,r;(0,c.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),n.renderNode=function(e){return e.haschild?g.default.createElement("span",{className:"wea-odoc-center-left-tree-parentnode",title:e.name},e.name):g.default.createElement("span",{title:e.name},e.name)},n.onSelect=function(e,t,o,r){var a=n.props.centerStore,i=o[0];if(!i.haschild){a.popoverChange(!1,r),a.addWorkflowUseCount(i.workflowid);var s="workflowid="+i.workflowid+"&isagent="+i.isagent+"&beagenter="+i.beagenters+"&f_weaver_belongto_userid="+i.belongtoUsers+"&f_weaver_belongto_usertype=0";openFullWindowHaveBar((0,C.default)("/workflow/request/CreateRequestForward.jsp?"+s))}},r=o,(0,f.default)(n,r)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.centerStore;e.buildCreateReq(),e.buildCreateOffical()}},{key:"render",value:function(){return this.renderCreateReq()}},{key:"renderCreateReq",value:function(){var e=this.props.centerStore,t=(0,w.toJS)(e.createReq),o=(0,w.toJS)(e.createOffical),n=o[0].createOfficalList.length>0,r=o[1].createOfficalList.length>0,a=g.default.createElement("div",null,this.renderCreateReqTree(o[0].createOfficalList,o[0].createOfficalListKeys,"popover1")),i=g.default.createElement("div",null,this.renderCreateReqTree(o[1].createOfficalList,o[1].createOfficalListKeys,"popover2"));return g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@9123my",className:"wea-odoc-center-left-row"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@gybwma",span:"12"},n&&g.default.createElement(y.Popover,{ecId:(this&&this.props&&this.props.ecId||"")+"_Popover@3bba12",overlayClassName:"wea-odoc-center-left-popover",placement:"bottomLeft",content:a,trigger:"click",visible:e.popover1,onVisibleChange:function(t){return e.popoverChange(t,"popover1")}},g.default.createElement("div",{className:"wea-odoc-center-bigbutton-wrapper"}," ",g.default.createElement("div",{className:"wea-odoc-center-bigbutton1"},g.default.createElement("span",null,t.createReqDraft.showName)))),!n&&g.default.createElement("div",{className:"wea-odoc-center-bigbutton-wrapper"}," ",g.default.createElement("div",{className:"wea-odoc-center-bigbutton1"},g.default.createElement("span",null,t.createReqDraft.showName)))),g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@trbt5x",span:"12"},r&&g.default.createElement(y.Popover,{ecId:(this&&this.props&&this.props.ecId||"")+"_Popover@hly4ff",overlayClassName:"wea-odoc-center-left-popover",placement:"bottomLeft",content:i,trigger:"click",visible:e.popover2,onVisibleChange:function(t){return e.popoverChange(t,"popover2")}},g.default.createElement("div",{className:"wea-odoc-center-bigbutton-wrapper"},g.default.createElement("div",{className:"wea-odoc-center-bigbutton2"},g.default.createElement("span",null,t.createReqReceipt.showName)))),!r&&g.default.createElement("div",{className:"wea-odoc-center-bigbutton-wrapper"},g.default.createElement("div",{className:"wea-odoc-center-bigbutton2"},g.default.createElement("span",null,t.createReqReceipt.showName)))))}},{key:"renderCreateReqTree",value:function(e,t,o){var n=this;return g.default.createElement(S.WeaTree,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTree@yizo9b",datas:e,expandedKeys:t,hasRadio:!0,renderNode:this.renderNode,onSelect:function(e,t,r){return n.onSelect(e,t,r,o)}})}}]),t}(v.Component))||a)||a;t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(10),w=o(8),S=o(16),_=o(0),C=o(13),I=n(C),k=_.WeaLocaleProvider.getLabel,T=(r=(0,b.inject)("centerStore"),(0,S.withRouter)(a=r(a=(0,b.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.state={visible:!1,path:""},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.centerStore.buildCountOfOdocType()}},{key:"render",value:function(){var e=this,t=this.props.centerStore,o=this.state,n=o.visible,r=o.path,a=window.location,i=a.protocol,s=a.host,l=i+"//"+s+(0,I.default)("/spa/odoc/static/index.html#")+r,c=(0,w.toJS)(t.countOfOdocType),u=[];return c.dataList&&(c.dataList.sort(function(e,t){return t.count-e.count}),c.dataList.map(function(t,o){o<10&&u.push(g.default.createElement(y.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@x952t3@"+o,span:"12"},g.default.createElement("div",{onClick:function(){return e.jumpToLibrary(t.odoctype)},title:t.showname,className:"left_c1"},g.default.createElement("span",{className:"span1"},t.showname),g.default.createElement("span",{className:"span2"},t.count))))})),g.default.createElement(v.Fragment,null,g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@k7fzlc",className:"wea-odoc-center-left-row"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@srazyp"},g.default.createElement("div",{className:"wea-info-group-new"},g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@ovahct",className:"wea-info-group-new-title"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@5c2uev"},g.default.createElement("div",{className:"wea-info-group-new-title-info"},"  ",c.showname,"（",c.totalCount,"）"))),g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@80gzpr",className:"wea-info-group-new-content"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@5gp9qj"},u))))),g.default.createElement(_.WeaDialog,{visible:n,url:l,style:{width:1400,height:700},icon:"icon-coms-official",iconBgcolor:"#f14a2d",title:k("383001","公文库"),onCancel:function(){return e.setState({visible:!1})}}))}},{key:"jumpToLibrary",value:function(e){var t=this.props.location,o={conditionKeys:"odoctype",conditionVals:e},n={pathname:"/main/offical/odocLibraryNew",query:o};t.pathname.includes("odocCenter")?this.setState({visible:!0,path:"/main/offical/odocLibraryNew?conditionKeys=odoctype&conditionVals="+e+"&inDialog=true"}):S.hashHistory.push(n)}}]),t}(v.Component))||a)||a)||a);t.default=T},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(10),w=o(8),S=o(16),_=o(0),C=o(13),I=n(C),k=_.WeaLocaleProvider.getLabel,T=(r=(0,b.inject)("centerStore"),(0,S.withRouter)(a=r(a=(0,b.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.state={visible:!1,path:""},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.centerStore.buildCountOfTopicType()}},{key:"render",value:function(){return this.renderCountByTopicType()}},{key:"renderCountByTopicType",value:function(){var e=this,t=this.props.centerStore,o=(0,w.toJS)(t.countOfTopicType),n=this.state,r=n.visible,a=n.path,i=window.location,s=i.protocol,l=i.host,c=s+"//"+l+(0,I.default)("/spa/odoc/static/index.html#")+a,u=[];return o.dataList&&(o.dataList.sort(function(e,t){return t.count-e.count}),o.dataList.map(function(t,o){var n="";n=o<3?"leftspan_1":"leftspan_2",o<15&&u.push(g.default.createElement(y.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@6c6s03@"+o,span:"24"},g.default.createElement("div",{onClick:function(){return e.jumpToLibrary(t.topictype)},title:t.showname,className:"left_c2"},g.default.createElement("div",{className:"leftdiv"},g.default.createElement("span",{className:n},o+1)),g.default.createElement("span",{className:"centerspan"},t.showname),"  ",g.default.createElement("span",{className:"rightspan"},t.count))))})),g.default.createElement(v.Fragment,null,g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@8wkgit",className:"wea-odoc-center-left-row"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@m0kk0m"},g.default.createElement("div",{className:"wea-info-group-new"},g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@rm8rdu",className:"wea-info-group-new-title"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@qcvph3"},g.default.createElement("div",{className:"wea-info-group-new-title-info"}," ",o.showname,"（",o.totalCount,"）"))),g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@g6og7x",className:"wea-info-group-new-content"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@50yd80"},u))))),g.default.createElement(_.WeaDialog,{visible:r,url:c,style:{width:1400,height:700},icon:"icon-coms-official",iconBgcolor:"#f14a2d",title:k("383001","公文库"),onCancel:function(){return e.setState({visible:!1})}}))}},{key:"jumpToLibrary",value:function(e){var t=this.props.location,o={conditionKeys:"topictype",conditionVals:e},n={pathname:"/main/offical/odocLibraryNew",query:o};t.pathname.includes("odocCenter")?this.setState({visible:!0,path:"/main/offical/odocLibraryNew?conditionKeys=topictype&conditionVals="+e+"&inDialog=true"}):S.hashHistory.push(n)}}]),t}(v.Component))||a)||a)||a);t.default=T},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(8),C=o(16),I=o(0),k=o(13),T=n(k),E=I.WeaLocaleProvider.getLabel,D=(r=(0,w.inject)("centerStore"),(0,C.withRouter)(a=r(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.jumpToLibrary=function(){var e=o.props,t=e.centerStore,n=e.location,r=t.searchStore.form.getFormParams(),a=(0,s.default)({},r),i={pathname:"/main/offical/odocLibraryNew",query:a};n.pathname.includes("odocCenter")?o.setState({visible:!0,path:"/main/offical/odocLibraryNew?inDialog=true"}):C.hashHistory.push(i)},o.state={visible:!1,path:""},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.props.centerStore.buildLibrarys()}},{key:"render",value:function(){var e=this,t=this.state,o=t.visible,n=t.path,r=window.location,a=r.protocol,i=r.host,s=a+"//"+i+(0,T.default)("/spa/odoc/static/index.html#")+n;return b.default.createElement(y.Fragment,null,b.default.createElement(S.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@cd3p8h",id:"rowLibrarys",className:"wea-odoc-center-right-row"},b.default.createElement(I.WeaReportCard,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReportCard@xdujwe",title:b.default.createElement("span",null,b.default.createElement("span",{className:"icon-coms-yellow-big"},b.default.createElement("i",{className:"icon-coms-official"})),E("383001","公文库")),onMoreClick:this.jumpToLibrary},this.renderLibrarys())),b.default.createElement(I.WeaDialog,{visible:o,url:s,style:{width:1400,height:700},icon:"icon-coms-official",iconBgcolor:"#f14a2d",title:E("383001","公文库"),onCancel:function(){return e.setState({visible:!1})}}))}},{key:"renderLibrarys",value:function(){var e=this,t=this.props.centerStore,o=(0,_.toJS)(t.librarys),n=[];return o.length>0&&o.map(function(t,o){n.push(b.default.createElement(S.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@mxxkoj@"+o,span:12},b.default.createElement("div",{className:"right_c1"},b.default.createElement("div",{className:"right_c1_r"},b.default.createElement("div",{className:"right_c1_r-top"},b.default.createElement("p",{dangerouslySetInnerHTML:{__html:t.showlink}})),b.default.createElement("div",{className:"right_c1_r-bottom"},t.createdatetime,"    ")))))}),n}}]),t}(y.Component))||a)||a)||a);t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(0),w=o(10),S=o(8),_=o(16),C=o(13),I=n(C),k=b.WeaLocaleProvider.getLabel,T=(r=(0,w.inject)("centerStore"),(0,_.withRouter)(a=r(a=(0,w.observer)(a=function(e){function t(){var e,o,n,r;(0,c.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),n.jumpToTodo=function(){var e=n.props.location,t=window.location,o=t.protocol,r=t.host,a=o+"//"+r+(0,I.default)("/spa/odoc/static/index.html#/main/offical/newTodo");e.pathname.includes("odocCenter")?window.open(a):_.hashHistory.push({pathname:"/main/offical/newTodo"})},r=o,(0,f.default)(n,r)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.centerStore;e.buildTodos(),e.buildTodoTabs()}},{key:"render",value:function(){var e=this.props.centerStore;return g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@y3toml",id:"rowTodos",className:"wea-odoc-center-right-row"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@i8erjs"},g.default.createElement(b.WeaReportCard,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReportCard@w0q0wm",title:g.default.createElement("span",null,g.default.createElement("span",{className:"icon-coms-yellow-big"},g.default.createElement("i",{className:"icon-coms-Planning-tasks"})),k(384728,"待办公文")),onMoreClick:this.jumpToTodo},g.default.createElement(b.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@oqasny",datas:e.tabs,keyParam:"viewcondition",countParam:"groupid",selectedKey:e.selectedTodoTab,onChange:e.changeTodoTab}),this.renderTodos())))}},{key:"renderTodos",value:function(){var e=this,t=this.props.centerStore,o=(0,S.toJS)(t.todos),n=[];return o.length>0&&o.map(function(t,o){n.push(g.default.createElement(y.Row,{ecId:(e&&e.props&&e.props.ecId||"")+"_Row@nwdyzk@"+o},g.default.createElement(y.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@8d4070@"+o},g.default.createElement("div",{className:"right_c2"},g.default.createElement("div",{className:"right_c2_r"},g.default.createElement("div",{className:"right_c2_r-top"},g.default.createElement("p",{dangerouslySetInnerHTML:{__html:t.showlink}})),g.default.createElement("div",{className:"right_c2_r-bottom"},g.default.createElement("a",{dangerouslySetInnerHTML:{__html:t.creater}}),"    ",t.createdatetime,"    "))))))}),n}}]),t}(v.Component))||a)||a)||a);t.default=T},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(0),w=o(10),S=o(8),_=o(16),C=o(13),I=n(C),k=b.WeaLocaleProvider.getLabel,T=(r=(0,w.inject)("centerStore"),(0,_.withRouter)(a=r(a=(0,w.observer)(a=function(e){function t(){var e,o,n,r;(0,c.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),n.jumpToView=function(){var e=n.props.location,t=window.location,o=t.protocol,r=t.host,a=o+"//"+r+(0,I.default)("/spa/odoc/static/index.html#/main/offical/odocToView");e.pathname.includes("odocCenter")?window.open(a):_.hashHistory.push({pathname:"/main/offical/odocToView"})},r=o,(0,f.default)(n,r)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.centerStore;e.buildToView(),e.buildToViewTabs()}},{key:"render",value:function(){var e=this.props.centerStore;return g.default.createElement(y.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@hpmhln",id:"rowTodos",className:"wea-odoc-center-right-row"},g.default.createElement(y.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@0ai587"},g.default.createElement(b.WeaReportCard,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReportCard@4yxpu4",title:g.default.createElement("span",null,g.default.createElement("span",{className:"icon-coms-yellow-big"},g.default.createElement("i",{className:"icon-coms-Planning-tasks"})),k(509711,"待阅公文")),onMoreClick:this.jumpToView},g.default.createElement(b.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@3iriut",datas:e.toViewTabs,keyParam:"viewcondition",countParam:"groupid",selectedKey:e.selectedToViewTab,onChange:e.changeToViewTab}),this.renderTodos())))}},{key:"renderTodos",value:function(){var e=this,t=this.props.centerStore,o=(0,S.toJS)(t.toView),n=[];return o.length>0&&o.map(function(t,o){n.push(g.default.createElement(y.Row,{ecId:(e&&e.props&&e.props.ecId||"")+"_Row@dqeydq@"+o},g.default.createElement(y.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@68ufqk@"+o},g.default.createElement("div",{className:"right_c2"},g.default.createElement("div",{className:"right_c2_r"},g.default.createElement("div",{className:"right_c2_r-top"},g.default.createElement("p",{dangerouslySetInnerHTML:{__html:t.showlink}})),g.default.createElement("div",{className:"right_c2_r-bottom"},g.default.createElement("a",{dangerouslySetInnerHTML:{__html:t.creater}}),"    ",t.createdatetime,"    "))))))}),n}}]),t}(v.Component))||a)||a)||a);t.default=T},function(e,t,o){var n=o(30);e.exports=function(e,t,o,r){try{return r?t(n(o)[0],o[1]):t(o)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,o){var n=o(77),r=o(26)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},function(e,t,o){var n=o(26)("iterator"),r=!1;try{var a=[7][n]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var o=!1;try{var a=[7],i=a[n]();i.next=function(){return{done:o=!0}},a[n]=function(){return i},e(a)}catch(e){}return o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTodo=t.getDoing=void 0;var n=o(0);t.getDoing=function(e,t){var o={requestid:e,persontype:1};n.WeaTools.callApi("/api/odoc/odocNewTodoList/getOperatorPersons","POST",o).then(function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}})},t.getTodo=function(e,t){var o={requestid:e,persontype:0};n.WeaTools.callApi("/api/odoc/odocNewTodoList/getOperatorPersons","POST",o).then(function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}})}},function(e,t,o){e.exports={default:o(363),__esModule:!0}},function(e,t,o){var n=o(30),r=o(46),a=o(26)("species");e.exports=function(e,t){var o,i=n(e).constructor;return void 0===i||void 0==(o=n(i)[a])?t:r(o)}},function(e,t,o){var n,r,a,i=o(32),s=o(365),l=o(163),c=o(70),u=o(18),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};p&&f||(p=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},f=function(e){delete g[e]},"process"==o(48)(d)?n=function(e){d.nextTick(i(y,e,1))}:m&&m.now?n=function(e){m.now(i(y,e,1))}:h?(r=new h,a=r.port2,r.port1.onmessage=b,n=i(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:p,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,o){var n=o(30),r=o(25),a=o(130);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var o=a.f(e);return(0,o.resolve)(t),o.promise}},function(e,t,o){"use strict";var n=o(18),r=o(15),a=o(27),i=o(22),s=o(26)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,o){var n=o(25);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doWithDraw=t.loadWithDrawData=t.getSignInputData=void 0;var n=o(0),r=o(132);t.getSignInputData=function(e){return(0,r.getSignInput)(e)},t.loadWithDrawData=function(e){return n.WeaTools.callApi("/api/odoc/withdraw/loadWidthDrawData","POST",e)},t.doWithDraw=function(e){return n.WeaTools.callApi("/api/odoc/withdraw/doWidthDraw","POST",e)}},function(e,t,o){function n(e,t,o,A,x,L){var F,M=t&k,N=t&T,j=t&E;if(o&&(F=x?o(e,A,x,L):o(e)),void 0!==F)return F;if(!_(e))return e;var z=b(e);if(z){if(F=v(e),!M)return u(e,F)}else{var B=m(e),q=B==O||B==P;if(w(e))return c(e,M);if(B==W||B==D||q&&!x){if(F=N||q?{}:y(e),!M)return N?p(e,l(F,e)):d(e,s(F,e))}else{if(!R[B])return x?e:{};F=g(e,B,M)}}L||(L=new r);var K=L.get(e);if(K)return K;L.set(e,F),C(e)?e.forEach(function(r){F.add(n(r,t,o,r,e,L))}):S(e)&&e.forEach(function(r,a){F.set(a,n(r,t,o,a,e,L))});var U=j?N?h:f:N?keysIn:I,V=z?void 0:U(e);return a(V||e,function(r,a){V&&(a=r,r=e[a]),i(F,a,n(r,t,o,a,e,L))}),F}var r=o(133),a=o(202),i=o(203),s=o(434),l=o(440),c=o(443),u=o(444),d=o(445),p=o(447),f=o(214),h=o(448),m=o(83),v=o(452),g=o(453),y=o(458),b=o(28),w=o(103),S=o(460),_=o(43),C=o(462),I=o(82),k=1,T=2,E=4,D="[object Arguments]",O="[object Function]",P="[object GeneratorFunction]",W="[object Object]",R={};R[D]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[W]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[O]=R["[object WeakMap]"]=!1,e.exports=n},function(e,t,o){(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t;e.exports=o}).call(t,o(197))},function(e,t){function o(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,r=n.toString;e.exports=o},function(e,t){function o(e,t){for(var o=-1,n=null==e?0:e.length;++o<n&&!1!==t(e[o],o,e););return e}e.exports=o},function(e,t,o){function n(e,t,o){var n=e[t];s.call(e,t)&&a(n,o)&&(void 0!==o||t in e)||r(e,t,o)}var r=o(204),a=o(134),i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t,o){function n(e,t,o){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}var r=o(433);e.exports=n},function(e,t,o){function n(e,t){var o=i(e),n=!o&&a(e),u=!o&&!n&&s(e),p=!o&&!n&&!u&&c(e),f=o||n||u||p,h=f?r(e.length,String):[],m=h.length;for(var v in e)!t&&!d.call(e,v)||f&&("length"==v||u&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,m))||h.push(v);return h}var r=o(435),a=o(137),i=o(28),s=o(103),l=o(206),c=o(138),u=Object.prototype,d=u.hasOwnProperty;e.exports=n},function(e,t){function o(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=o},function(e,t,o){function n(e){if(!r(e))return a(e);var t=[];for(var o in Object(e))s.call(e,o)&&"constructor"!=o&&t.push(o);return t}var r=o(104),a=o(439),i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t){function o(e,t){return function(o){return e(t(o))}}e.exports=o},function(e,t,o){function n(e){return i(e)?r(e,!0):a(e)}var r=o(205),a=o(441),i=o(105);e.exports=n},function(e,t){function o(){return[]}e.exports=o},function(e,t,o){var n=o(212),r=o(213),a=o(142),i=o(210),s=Object.getOwnPropertySymbols,l=s?function(e){for(var t=[];e;)n(t,a(e)),e=r(e);return t}:i;e.exports=l},function(e,t){function o(e,t){for(var o=-1,n=t.length,r=e.length;++o<n;)e[r+o]=t[o];return e}e.exports=o},function(e,t,o){var n=o(208),r=n(Object.getPrototypeOf,Object);e.exports=r},function(e,t,o){function n(e){return r(e,i,a)}var r=o(215),a=o(142),i=o(82);e.exports=n},function(e,t,o){function n(e,t,o){var n=t(e);return a(e)?n:r(n,o(e))}var r=o(212),a=o(28);e.exports=n},function(e,t,o){var n=o(54),r=o(35),a=n(r,"Set");e.exports=a},function(e,t,o){var n=o(35),r=n.Uint8Array;e.exports=r},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(20),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(145),C=n(_),I=o(0),k=o(9),T=o(8),E=o(10),D=o(494),O=n(D),P=o(496),W=n(P),R=o(497),A=n(R),x=o(189),L=o(13),F=n(L),M=I.WeaLocaleProvider.getLabel,N=(r=(0,E.inject)("customPageStore"))(a=(0,E.observer)(a=function(e){function t(e){(0,f.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));o.getColumns=function(e){return e.map(function(e){return"wbr"==e.dataIndex?(0,c.default)({},e,{render:function(e,t){return S.default.createElement("div",{id:t.requestid+"todo"+t.userid},S.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return(0,x.getTodo)(t.requestid,t.requestid+"todo"+t.userid)}},t.wbrspan))}}):"zbr"==e.dataIndex?(0,c.default)({},e,{render:function(e,t){return S.default.createElement("div",{id:t.requestid+"doing"+t.userid},S.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return(0,x.getDoing)(t.requestid,t.requestid+"doing"+t.userid)}},t.zbrspan))}}):e})},o.onOperatesClick=function(e,t,n){if("3"==t)o.onTrack([e.requestid]);else if("1"==t){var r={requestid:e.requestid,nodeid:e.nodeid2,showForward:!0,forwardflag:"1",forwardOperators:""};o.setState({forwardParams:r,showForWard:!0})}else if("2"==t)o.doPrintRequest(e.requestid,e.userid);else if("0"==t){var a="true"===n.otherpara.split("+")[1];o.doReadRequest([e.requestid],a,e.userid)}else"4"==t&&o.onCancelTrack([e.requestid]);var i=o.props.customPageStore,s=i.setMobxState,l=i.onSupervise,c=i.reminder,u=i.checkDetails,d=i.cancelReminder,p=i.getDelayDateCondtion;s({workflowid:e.workflowid,operationType:Number(t)-5,requestid:e.requestid,superviseid:e.superviseid});var f=o.baseTableComp&&o.baseTableComp.wrappedInstance.getTableDatas||null,h=o.baseTableComp&&o.baseTableComp.wrappedInstance.getTabData||null;5==t?l():6==t?c():7==t?u():8==t?d(f,h):9==t?u():10==t&&p();var m=i.processOpinion;if("4"==t){var v=[e.requestid];o.onCancelTrack(v)}else if("11"==t){var g=[e.requestid],y=e.workflowid;m(g,y)}},o.doPrintRequest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="requestid="+e+"&f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0"+n;o.openFullWindowHaveBar((0,F.default)("/workflow/request/PrintRequestForward.jsp?")+r)},o.getOtherDom=function(){var e=o.state,t=e.forwardParams,n=e.showForWard,r=o.props.customPageStore,a=r.processOpinionHide,i=r.processOpinionVisible,s=r.showBatchSubmit,l=r.setMobxState,c=r.batchSubmitEvent;return S.default.createElement("div",null,n&&S.default.createElement(O.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_Forward@v0ocl8",forwardParams:t,callBackActions:null}),S.default.createElement(W.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_BatchSubmitComp@jvkzey",visible:s,onSubmit:function(e){return c(e,o.getTableDatas,o.getTabData)},onCancel:function(){return l({showBatchSubmit:!1})}}),S.default.createElement(A.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_SuperviseDialogComp@46yc8n",getTableDatas:o.getTableDatas,getTabData:o.getTabData}),S.default.createElement(I.WeaDialog,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@m9dqfr",title:M("125734","流转意见"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:a,visible:i,style:{width:600,height:600},hasScroll:!0},o.getDiaglogContent()))},o.getTopBtns=function(){var e=o.props.customPageStore,t=e.getButtonType,n=e.sharearg,r=e.buttonType,a=[];t.includes("1")&&"true"===n.hasBatchReadBtn&&a.push({key:"1",show:M("17598","批量提交"),icon:S.default.createElement("i",{className:"icon-coms-Approval-o"})}),t.includes("2")&&"true"===n.hasBatchSubmitBtn&&a.push({key:"2",show:M("517765","批量已读"),icon:S.default.createElement("i",{className:"icon-coms--postil"})}),t.includes("3")&&a.push({key:"3",show:M("513369","批量跟踪"),icon:S.default.createElement("i",{className:"icon-portal-operation"})}),t.includes("4")&&a.push({key:"4",show:M("517318","批量取消跟踪"),icon:S.default.createElement("i",{className:"icon-portal-operation"})});var i=[];return a.length>1?i=[{isDropDown:!0,needCheck:!0,datas:a,btnOnClick:function(e,t,n,r){return o.topBtnOnClick(e,t,n,r)},menuOnClick:function(e){return o.menuOnClick(e)},buttonKey:r}]:1==a.length&&(a[0].title=a[0].show,a[0].needCheck=!0,a[0].onClick=function(e,t,n){return o.topBtnOnClick(a[0].key,e,t,n)},i=a),i},o.changeTabFun=function(e){var t=o.props.customPageStore,n=t.getTopButton;o.resetForm(),n(e,{},o.getTableDatas,o.getSearchFormItem)},o.getRowKey=function(e){return e.randomFieldId+"_"+(e.userid||"")},o.getComponentProps=function(){var e={},t=["getColumns","topTitle","searchType","getTopBtns","tabKey","selectedTabKey","baseSearchName","tabUrl","searchFormUrl","tableUrl","tabParams","tableParams","searchParams","showCustomCol","showExportTable","showExportTable","moreTimeGetCondition","onOperatesClick","getOtherDom","changeTabFun","canGetTableData","initGetForm","weaTableProps","showSearchGroup","needTop"];return(0,s.default)(o.props).forEach(function(n){t.includes(n)&&(e[n]=o.props[n])}),e},o.getTableRef=function(e){return o.baseTableComp=e},o.batchReadRequest=function(e){var t={action:"batchRead",requestId:e.join(",")};I.WeaTools.callApi("/api/odoc/odocCustomPage/doCustomPageAction","POST",t).then(function(e){e.api_status&&(o.getTableDatas({},!1,!1),k.message.success(M("517288","已读成功")))})};var n=o.props.location,r=n.query.customListId,a=n.query.requestname;return o.state={forwardParams:{},showForWard:!1},o.getTableDatas=o.getTableDatas.bind(o),o.getTabData=o.getTabData.bind(o),o.getSearchFormItem=o.getSearchFormItem.bind(o),o.tabParams={customListId:r},o.searchParams={customListId:r,requestname:a},o.searchType=["base","advanced"],o.childProps=o.getComponentProps(),o.isView="true"==n.query.isView,o}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this;window.isOdocOpenWF=!0,window.getOdocWFList=function(){setTimeout(function(){e.getTableDatas({},!1,!1,!0,!1),e.getTabData()},3e3)};var t=this.props,o=t.customPageStore,n=t.location,r=t.customTabId,a=void 0===r?0:r,i=n.query.customListId||"2";o.setMobxState({customListId:i,tableParams:{customListId:i,btnType:o.tableParams.btnType}});var s={};n.query.conditionKeys&&(s[n.query.conditionKeys]=n.query.conditionVals),s=(0,c.default)({},s,n.query),o.getCustomPageListStatus(this.getTableDatas,this.getSearchFormItem,s,a),o.getBatchLimit()}},{key:"componentWillUnmount",value:function(){var e=this.props.customPageStore;window.isOdocOpenWF=null,window.getOdocWFList=null,e.initState()}},{key:"render",value:function(){var e=this.props,t=e.customPageStore,o=e.location,n=t.pageTitle,r=t.isOpen,a=t.tableParams,i=t.showOpeareInTable,s=o.query.customListId,l=!o.query.inDialog,u=["-13","-17","-21","-8"];return r||this.isView?S.default.createElement(C.default,(0,c.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_BaseTableComp@6e6b4c",getColumns:this.getColumns,topTitle:n,searchType:this.searchType,getTopBtns:this.getTopBtns,tabKey:"customTabId",selectedTabKey:"",baseSearchName:u.includes(s)?"odocSubject":"requestname",tabUrl:"/api/odoc/odocCustomPage/getCustomPageCount",searchFormUrl:"/api/odoc/odocCustomPage/getCustomPageCondition",tableUrl:"/api/odoc/odocCustomPage/getCustomPageList",ref:this.getTableRef,tabParams:this.tabParams,tableParams:a,searchParams:this.searchParams,showCustomCol:!0,showExportTable:!0,moreTimeGetCondition:!1,onOperatesClick:this.onOperatesClick,getOtherDom:this.getOtherDom,changeTabFun:this.changeTabFun,canGetTableData:!1,initGetForm:!1,showSearchGroup:!0,needTop:l,weaTableProps:{expandOperate:i?3:0,rowKey:this.getRowKey}},this.childProps)):0==r?S.default.createElement(I.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@ggfuf4",icon:"icon-coms-locking"},S.default.createElement("div",{style:{color:"#000"}},M("517287","此页面没有启用"))):void 0}},{key:"openFullWindowHaveBar",value:function(e){var t=screen.availWidth-10,o=screen.availHeight-50,n="top=0,left=0,";n+="width="+t+",",n+="height="+o+",",n+="directories=no,status=yes,toolbar=no,location=no,",n+="menubar=no,scrollbars=yes,resizable=yes",window.open(e,"",n)}},{key:"doReadRequest",value:function(e,t,o){var n=this,r={opertype:e.length>1?"batch":"single",requestid:e.join(",")};t&&(r=(0,c.default)({},r,{f_weaver_belongto_userid:o,f_weaver_belongto_usertype:0})),I.WeaTools.callApi("/api/workflow/reqlist/doReadIt","POST",r).then(function(e){e.api_status&&(n.getTableDatas({},!1,!1),k.message.success(M("517288","已读成功")))})}},{key:"onCancelTrack",value:function(e,t){var o=this,n={requestid:e.join(",")};I.WeaTools.callApi("/api/odoc/odocNewTodoList/removeTracksReq","POST",n).then(function(e){e.api_status&&(k.message.success(M("129248","取消成功")),t&&t(),o.getTabData(),o.getTableDatas({},!1,!1))})}},{key:"onTrack",value:function(e,t){var o=this,n={requestid:e.join(",")};I.WeaTools.callApi("/api/odoc/odocNewTodoList/addTracksReq","POST",n).then(function(e){e.api_status&&(k.message.success(M("517285","跟踪成功")),t&&t(),o.getTabData(),o.getTableDatas({},!1,!1))})}},{key:"getDiaglogContent",value:function(){var e=this.props.customPageStore,t=e.opinionList;return 0==(0,T.toJS)(t).length?S.default.createElement(I.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@x1ebj8",icon:"icon-coms-blank"},S.default.createElement("div",{style:{color:"#000"}},M(83553,"暂无数据"))):S.default.createElement("div",{className:"WFTrackDialog"},(0,T.toJS)(t).map(function(e){return S.default.createElement("div",{className:"wf-req-sign-list-content"},S.default.createElement("div",{className:"content-left",style:{paddingLeft:"48px"}},S.default.createElement("img",{src:(0,F.default)(e.img_path),className:"content-text-left-user-img"}),S.default.createElement("div",{style:{width:"132px"}},S.default.createElement("p",null,S.default.createElement("a",{href:"javaScript:openhrm("+e.displayid+")",onClick:function(e){return pointerXY(e)}},e.displayname)),S.default.createElement("span",null,S.default.createElement("a",{href:(0,F.default)("/spa/hrm/engine.html#/hrmengine/organization?showTree=false&amp;isView=1&amp;type=department&amp;id=&amp;_key=3b4uab"),target:"_blank",style:{color:"rgb(155, 155, 155)",whiteSpace:"pre-wrap"}})))),S.default.createElement("div",{className:"content-right"},S.default.createElement("div",{className:"content-right-remark-html"},S.default.createElement("p",{dangerouslySetInnerHTML:{__html:e.log_remarkHtml}})),S.default.createElement("p",{style:{lineHeight:"24px",color:"rgb(138, 138, 138)"}},S.default.createElement("span",{className:"receiveUserLable"},M("15525","接收人")," : "),S.default.createElement("span",{title:e.receiveUser,className:"receiveUser"},e.receiveUser)),S.default.createElement("p",{style:{lineHeight:"22px",marginTop:"10px",color:"rgb(154, 154, 154)"}},S.default.createElement("span",{style:{marginRight:"8px"}},e.log_operatedate," ",e.log_operatetime," "),S.default.createElement("span",null,"[",e.log_nodename," / ",e.operationname,"]"))))}))}},{key:"getTableDatas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2],n=arguments[3],r=arguments[4];this.baseTableComp&&this.baseTableComp.wrappedInstance.getTableDatasByDirect(e,t,o,n,r)}},{key:"getTabData",value:function(){this.baseTableComp&&this.baseTableComp.wrappedInstance.getTabData()}},{key:"resetForm",value:function(){this.baseTableComp&&this.baseTableComp.wrappedInstance.resetForm()}},{key:"getSearchFormItem",value:function(e){return this.baseTableComp.wrappedInstance.getSearchFormItem(e)}},{key:"topBtnOnClick",value:function(e,t,o,n){var r=this.props.customPageStore,a=r.setMobxState,i=r.secondAuth,s=r.sharearg,l=(r.batchReadInfo,t.map(function(e){return e.split("_")[0]}));"1"==e&&(a({selectedKeys:l,selectedDatas:o}),"1"==s.multisubmitnotinputsign?a({showBatchSubmit:!0}):i("",this.getTableDatas,this.getTabData)),"2"==e&&this.batchReadRequest(l),"3"==e&&this.onTrack(l,n),"4"==e&&this.onCancelTrack(l,n)}},{key:"menuOnClick",value:function(e){(0,this.props.customPageStore.setMobxState)({buttonType:e,selectedKeys:[],selectedDatas:[]}),this.getTableDatas({btnType:e},!1,!1)}}]),t}(w.Component))||a)||a;t.default=function(e){return S.default.createElement(N,(0,c.default)({ecId:"_CustomTableComp@hz40yz"},e,{key:e.location.query.customListId||"-1"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(16),g=o(498),y=n(g);o(220);var b=o(0),w=o(13),S=n(w),_=b.WeaLocaleProvider.getLabel,C=function(e){function t(e){(0,s.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e)),n=e.datas||[],r=e.showType||3;return o.state={elementType:r,datas:n,datas2:[{merge:"0",imgLeft:"1",datas:[{img:"/images/bbb_wev8.gif",title:"套红统计",info:[{type:"集团公司发文流程",items:[{itemName:"未用印文件",itemCount:10,queryParams:{}},{itemName:"已用印文件",itemCount:10,queryParams:{}}]},{type:"集团公司发文流程",items:[{itemName:"未用印文件",itemCount:10,queryParams:{}},{itemName:"已用印文件",itemCount:10,queryParams:{}}]},{type:"集团公司发文流程",items:[{itemName:"未用印文件",itemCount:10,queryParams:{}},{itemName:"已用印文件",itemCount:10,queryParams:{}}]}],jumpUrl:"/main/offical/odocLibraryNew",queryParams:{}},{title:"套红统计",img:"/images/bbb_wev8.gif",info:[{items:[{itemName:"未用印文件",itemCount:10,queryParams:{}}]},{items:[{itemName:"未用印文件",itemCount:10,queryParams:{}}]},{items:[{itemName:"未用印文件",itemCount:10,queryParams:{}}]}],jumpUrl:"/main/offical/odocLibraryNew"}]}],datas3:[{seriesData:[{name:"待办",value:466,id:"a"},{name:"已办",value:62,id:"a"},{name:"待阅",value:0,id:"a"},{name:"已阅",value:0,id:"a"},{name:"超时",value:0,id:"a"},{name:"在办",value:464,id:"a"},{name:"未办",value:2,id:"a"},{name:"已督办",value:8,id:"a"},{name:"被督办",value:4,id:"a"},{name:"跟踪",value:528,id:"a"}],legendData:["待办","已办","待阅","已阅","超时","在办","未办","已督办","被督办","跟踪"],echartsType:"2",series:[{data:[46,62,0,0,0,44,2,8,4,58],dataKey:["a","a","a","a","a","a","a"],name:"数量",type:"bar"}],xAxisData:["待办","已办","待阅","已阅","超时","在办","未办","已督办","被督办","跟踪"],title:"公文办理统计"}]},o}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({datas:e.datas,elementType:e.showType})}},{key:"render",value:function(){var e=this.state,t=e.elementType,o=e.datas;return m.default.createElement("div",{className:"odoc-protalElement"},"1"==t&&this.getFirstType(o),"2"==t&&this.getContent(o),"3"==t&&m.default.createElement(y.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_EchartsElementComp@j5py8y",echartsOption:o}))}},{key:"getContent",value:function(e){return"0"==e[0].imgLeft?this.getImageLeftContent(e[0]):this.getImageRightContent(e[0])}},{key:"getImageRightContent",value:function(e){return m.default.createElement("div",{className:"imgRightContent"},e.datas.map(function(t){return m.default.createElement("div",{className:"row"},m.default.createElement("div",{className:"layoutLeft"},m.default.createElement("div",{className:"layoutRightContent layoutRightContent-title icon-coms-Line"},t.title),t.info.map(function(e){var o=e.type?"50%":"100%",n=100/e.items.length+"%";return m.default.createElement("div",{className:"layoutRightContent"},e.type&&m.default.createElement("div",{className:"requestName textOverflow",title:e.type},e.type),m.default.createElement("div",{className:"infoDetail",style:{width:o}},e.items.map(function(e){return m.default.createElement("div",{className:"items",style:{width:n}},m.default.createElement("div",{className:"item-name textOverflow"},e.itemName),m.default.createElement("div",{className:"item-number textOverflow",onClick:function(){return v.hashHistory.push({pathname:t.jumpUrl,query:e.queryParams})}},e.itemCount,"份"))})))})),m.default.createElement("div",{className:"layoutRight"},m.default.createElement("img",{src:(0,S.default)(t.img),className:"imgBox"})),"1"==e.merge&&m.default.createElement("a",{className:"more",onClick:function(){return v.hashHistory.push({pathname:t.jumpUrl,query:t.queryParams})}},"更多>>"))}))}},{key:"getImageLeftContent",value:function(e){return m.default.createElement("div",{className:"imgLeftContent"},e.datas.map(function(t){return m.default.createElement("div",{className:"row"},m.default.createElement("div",{className:"layoutLeft"},m.default.createElement("img",{src:(0,S.default)(t.img),className:"imgBox"})),m.default.createElement("div",{className:"layoutRight"},t.info.map(function(e){var o=e.type?"50%":"100%";return m.default.createElement("div",{className:"layoutRightContent"},e.type&&m.default.createElement("div",{className:"requestName textOverflow",title:e.type},e.type),m.default.createElement("div",{className:"infoDetail",style:{width:o}},e.items.map(function(e){return m.default.createElement("div",{className:"items"},m.default.createElement("div",{className:"item-number",onClick:function(){return v.hashHistory.push({pathname:t.jumpUrl,query:e.queryParams})}},e.itemCount,"份"),m.default.createElement("div",{className:"item-name textOverflow"},e.itemName))})))})),"1"==e.merge&&m.default.createElement("a",{className:"more",onClick:function(){return v.hashHistory.push({pathname:t.jumpUrl,query:t.queryParams})}},"更多>>"))}))}},{key:"getFirstType",value:function(e){var t=e.length>0?100/e.length+"%":"100%";return e.map(function(e,o){var n=e.info.length>0?100/e.info.length+"%":"100%";return m.default.createElement("div",{className:"element1",style:{height:t,marginBottom:(e.info.length>0?"1%":"0px")+" 0px"},key:o},m.default.createElement("div",{className:"elementLeftLyout"},m.default.createElement("div",{className:"elementLeftLyout-top",style:{color:"#3876de"}},m.default.createElement("span",{onClick:function(){return v.hashHistory.push({pathname:e.jumpUrl,query:e.queryParams})},style:{cursor:"pointer"}},e.count)),m.default.createElement("div",{className:"elementLeftLyout-bottom"},e.typeName)),m.default.createElement("div",{className:"elementRightLyout"},e.info.map(function(t,o){return m.default.createElement("div",{style:{height:n},className:"listItem",key:o},m.default.createElement("div",{className:"name"},t.itemName),m.default.createElement("div",{className:"count",style:{cursor:"pointer"},onClick:function(){return v.hashHistory.push({pathname:e.jumpUrl,query:t.queryParams})}},t.itemCount,_("509855","份")))})))})}}]),t}(h.Component);t.default=C},function(e,t){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function base64Decode(e){var t,o,n,r,a,i,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=l.indexOf(e.charAt(u++)),a=l.indexOf(e.charAt(u++)),i=l.indexOf(e.charAt(u++)),s=l.indexOf(e.charAt(u++)),t=r<<2|a>>4,o=(15&a)<<4|i>>2,n=(3&i)<<6|s,c+=String.fromCharCode(t),64!=i&&(c+=String.fromCharCode(o)),64!=s&&(c+=String.fromCharCode(n));return c=_utf8_decode(c)}function _utf8_decode(e){for(var t="",o=0,n=0,r=0;o<e.length;)n=e.charCodeAt(o),n<128?(t+=String.fromCharCode(n),o++):n>191&&n<224?(r=e.charCodeAt(o+1),t+=String.fromCharCode((31&n)<<6|63&r),o+=2):(r=e.charCodeAt(o+1),c3=e.charCodeAt(o+2),t+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&c3),o+=3);return t}function setWpsOnlineEditPageId(e){wpsOnlineEdit.pageId=e}function setIsSignature(e){wpsOnlineEdit.isSignature=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setIsSignature=exports.setWpsOnlineEditPageId=exports._WpsInvoke=exports.wpsOnlineEdit=exports.wpsOperat=void 0;var _stringify=__webpack_require__(34),_stringify2=_interopRequireDefault(_stringify),_extends2=__webpack_require__(6),_extends3=_interopRequireDefault(_extends2);__webpack_require__(147);var ipAddress=window.location.protocol+"//"+window.location.host,wpsOnlineEdit={pageId:"",isSignature:!1,activeObject:window.wps&&wps.WpsApplication().ActiveDocument||null,useTemplet:function(e,t){_WpsInvoke([{InsertRedHead:{insertFileUrl:e,bkInsertFile:"Content",showMarkBooks:t}}])},showOrHideRevision:function(e){wps.WpsApplication().ActiveDocument.ShowRevisions=e},trackRevisions:function(e){wps.WpsApplication().ActiveDocument.TrackRevisions=e},onSave:function(e,t){var o=wps.WpsApplication().ActiveDocument;o.Save();var n=o.FullName,r=o.Name,a="";wpsOnlineEdit.isSignature&&(a="&hasSignatureSucceed=1"),window.WpsApi.UploadFile(r,n,"/api/odoc/OdocWps/saveFile?hasUsedTemplet="+e+a,"",t)},OnBtnSaveToServer:function(e){var t=wps.WpsApplication().ActiveDocument;if(3===t.ProtectionType)return wps.alert("当前文档不能编辑");try{var o="";jQuery.ajax({type:"POST",url:"/odoc/docs/odocSetUserInfoAjax.jsp?date="+(new Date).getTime(),data:{action:"setUserInfo"},async:!1,cache:!1,dataType:"json",success:function(e){o=e.uuid}});var n="";wpsOnlineEdit.isSignature&&(n="&hasSignatureSucceed=1");var r="docid="+e.docid+"&docSubject="+e.fileName+"&secid="+e.secid+"&workflowid="+e.workflowid+"&uuid="+o+"&extendName="+e.extendName+"&hasUsedTemplet=1"+n;t.SaveAsUrl(e.fileName+e.extendName,ipAddress+"/odoc/odoc/wpsjsAPI/upload.jsp?"+r,"file","wpsOperat.OnUploadToServerSuccess","wpsOperat.OnUploadToServerFail")}catch(e){alert("上传文件失败！请检查系统上传参数及网络环境，重新上传。")}},cancelUseTemplate:function(){jQuery.ajax({type:"POST",url:"/api/odoc/OdocWps/cancelTaoHong",data:{docId:docid},async:!1,cache:!1,dataType:"json",success:function(e){e.api_status&&(imagefileId=e.imagefileId,resData=getDownloadpath("document",e.imagefileId),wpsOnlineEdit.openLocalFile(resData))}})},onSaveAs:function(){this.activeObject.SaveAs()},exitWPS:function(){_WpsInvoke({funcs:[{ExitWPS:{}}]})},onProtect:function(e){wps.WpsApplication().ActiveDocument.Protect(3,"",e)},unProtect:function(e){wps.WpsApplication().ActiveDocument.Unprotect(e)},deleteCommont:function(e){if(e)return void this.activeObject.DeleteAllComments();for(var t=wps.WpsApplication().UserName,o=this.activeObject.Comments,n=o.Count;n>=1;n--)o.Item(n).Author==t&&o.Item(n).Delete()},acceptRevision:function(e){e?this.activeObject.Revisions.AcceptAll():this.activeObject.Revisions.RejectAll(),this.activeObject.Range(wps.WpsApplication().ActiveWindow.Selection.Start,wps.WpsApplication().ActiveWindow.Selection.Start).Select()},isSaved:function(){return this.activeObject.Saved},print:function(){return this.activeObject.PrintOut()},addBookMarks:function(e,t){e?wps.WpsApplication().ActiveDocument.Bookmarks.Add(t):wps.WpsApplication().ActiveDocument.DocumentFields.Add(t)},getBookMarks:function(e,t){for(var o={},n=e?this.activeObject.Bookmarks:this.activeObject.DocumentFields,r=1;r<=n.Count;r++){if(t&&t==n.Item(r).Name)return n.Item(r);o[n.Item(r).Name]=n.Item(r)}return o},insertPictureSignature:function(e,t){wpsOnlineEdit.trackRevisions(!1);var o=(wps.WpsApplication().ActiveWindow.Selection,100),n=100,n=200;top>360&&(top=360),o>260&&(o=260);var r=this.activeObject.Shapes.AddPicture(e,!1,!1,o,top,200,n);r.RelativeHorizontalPosition=1,r.RelativeVerticalPosition=1,r.WrapFormat.Type=3,r.ZOrder(5),wpsOnlineEdit.trackRevisions(t)},openLocalFile:function(e,t){e=ipAddress+e;var o=wps.WpsApplication().ActiveDocument.ActiveWindow.Selection;wpsOnlineEdit.trackRevisions(!1),o.WholeStory(),o.Delete();var n=wps.WpsApplication().Documents.Open(e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!1),r=n.ActiveWindow.Selection;r.WholeStory(),r.Cut(),n.Close(0),o.Paste(),wps.WpsApplication().ActiveDocument.Range(0,0).Select(),wpsOnlineEdit.trackRevisions(t)},quit:function(){wps.WpsApplication().Quit()},close:function(e,t){var o=wps.WpsApplication().Documents;if(e||t)for(var n=1;n<=o;n++)(o.item(n).docId==e||t)&&o.item(n).Close(0);else wps.WpsApplication().ActiveDocument.Close(0)},hasContent:function(){var e=wps.WpsApplication().ActiveWindow.Selection;e.WholeStory();var t=1==e.End;return wps.WpsApplication().ActiveDocument.Range(wps.WpsApplication().ActiveWindow.Selection.Start,wps.WpsApplication().ActiveWindow.SelectionStart).Select(),t},onFind:function(e){var t=document.getElementById("searchContent").value;if(t){var o="0"!=e?document.getElementById("repalceContent").value:null;wps.WpsApplication().ActiveWindow.Selection.Find.HitHighlight(t),wps.WpsApplication().ActiveWindow.Selection.Find.Execute(t,!1,!1,!1,!1,!1,!0,!0,!1,o,e)}}},_WpsInvoke=function(e){var t=window.location.protocol.indexOf("https")>1,o={};o.funcs=e,(t?WpsInvoke.InvokeAsHttps:WpsInvoke.InvokeAsHttp)(WpsInvoke.ClientType.wps,"WpsOAAssist","dispatcher",o,function(e){if(e.status){if(t&&100==e.status)return void WpsInvoke.AuthHttpesCert('请在稍后打开的网页中，点击"高级" => "继续前往"，完成授权。');alert(e.message)}else showresult(e.response)})},showresult=function showresult(resultData){var json=eval("("+resultData+")");switch(json.message){case"GetDocStatus":var docstatus=json.docstatus;if("undefined"!=typeof docstatus){var str="文档保存状态："+docstatus.saved+"\n文档字数："+docstatus.words+"\n文档页数："+docstatus.pages;alert(str)}}},wpsOperat={onSaveCallBack:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=JSON.parse(e),n={};o.status&&(n=(0,_extends3.default)({imagefileid:o.imagefileid},t)),jQuery.post("/api/odoc/OdocWps/saveFileCallback",n,function(e){if(!e.api_status)return wps.confirm("登录信息失效，请重新登录！"),void setTimeout(function(){1==wps.WpsApplication().Documents.Count?wps.WpsApplication().ActiveDocument.quit(0):wps.WpsApplication().ActiveDocument.Close(0)},1e3);wps.WpsApplication().ActiveDocument.Saved=!0,e.imagefileid=o.imagefileid;var t={action:"save",pageId:wpsOnlineEdit.pageId,datas:e};wps.OAAssist.WebNotify((0,_stringify2.default)(t)),setTimeout(function(){1==wps.WpsApplication().Documents.Count?wps.WpsApplication().Quit(0):wps.WpsApplication().ActiveDocument.Close(0)},1e3)},"json")},OnUploadToServerSuccess:function(e){var t=JSON.parse(e).Body,o=base64Decode(t),n=JSON.parse(o);if(n.api_status){var r={action:"save",pageId:wpsOnlineEdit.pageId,datas:{api_status:!0,docid:n.docid,docname:n.docname,imagefileid:n.imagefileid}};wps.WpsApplication().ActiveDocument.Saved=!0,wps.OAAssist.WebNotify((0,_stringify2.default)(r)),setTimeout(function(){1==wps.WpsApplication().Documents.Count?wps.WpsApplication().Quit(0):wps.WpsApplication().ActiveDocument.Close(0)},1e3)}},OnUploadToServerFail:function(){wps.alert("保存失败")}};window.wpsOperat=wpsOperat,exports.wpsOperat=wpsOperat,exports.wpsOnlineEdit=wpsOnlineEdit,exports._WpsInvoke=_WpsInvoke,exports.setWpsOnlineEditPageId=setWpsOnlineEditPageId,exports.setIsSignature=setIsSignature},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(145),b=n(y),w=o(0),S=o(13),_=n(S),C=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.getTodo=function(e,t){jQuery.ajax({url:(0,_.default)("/api/odoc/odocNewTodoList/getOperatorPersons?requestid="+e+"&persontype=0"),type:"post",dataType:"json",success:function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}}})},o.getDoing=function(e,t){jQuery.ajax({url:(0,_.default)("/api/odoc/odocNewTodoList/getOperatorPersons?requestid="+e+"&persontype=1"),type:"post",dataType:"json",success:function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}}})},o.doPrintRequest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="requestid="+e+"&f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0"+n;o.openFullWindowHaveBar((0,_.default)("/workflow/request/PrintRequestForward.jsp?")+r)},o.getColumns=function(e){return e.map(function(e){return"wbr"==e.dataIndex?(0,a.default)({},e,{render:function(e,t){return g.default.createElement("div",{id:t.requestid+"todo"},g.default.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return o.getTodo(t.requestid,t.requestid+"todo")}},t.wbrspan))}}):"zbr"==e.dataIndex?(0,a.default)({},e,{render:function(e,t){return g.default.createElement("div",{id:t.requestid+"doing"},g.default.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return o.getDoing(t.requestid,t.requestid+"doing")}},t.zbrspan))}}):e})},o.selectedTabKey=e.location&&e.location.query.selectedTabKey||"0",o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this;return g.default.createElement(b.default,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_BaseTableComp@gwo101",getColumns:this.getColumns,tabKey:"flowtype",tabUrl:"/api/odoc/odocNewTodoList/getTodoCount",tableUrl:"/api/odoc/odocNewTodoList/getCustomReqList",ref:"baseTableComp",onOperatesClick:function(t,o){return e.onOperatesClick(t,o)},selectedTabKey:this.selectedTabKey,tableListNumber:5,needTop:!1,weaTableProps:{pagination:!1}},this.props))}},{key:"openFullWindowHaveBar",value:function(e){var t=screen.availWidth-10,o=screen.availHeight-50,n="top=0,left=0,";n+="width="+t+",",n+="height="+o+",",n+="directories=no,status=yes,toolbar=no,location=no,",n+="menubar=no,scrollbars=yes,resizable=yes",window.open(e,"",n)}},{key:"doReadRequest",value:function(e){var t=this;w.WeaTools.callApi("/api/workflow/reqlist/doReadIt","POST",{opertype:"single",requestid:e}).then(function(){t.getTableDatas()})}}]),t}(v.Component);t.default=C},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(6),l=r(s),c=o(96),u=r(c),d=o(3),p=r(d),f=o(1),h=r(f),m=o(2),v=r(m),g=o(4),y=r(g),b=o(5),w=r(b),S=o(7),_=r(S),C=o(10),I=o(9),k=o(8),T=n(k),E=o(0),D=o(29),O=r(D),P=o(56),W=r(P),R=o(523),A=r(R),x=o(524),L=r(x),F=o(600),M=r(F),N=o(601),j=r(N),z=o(602),B=r(z),q=o(603),K=r(q),U=o(604),V=r(U),H=o(19),G=n(H),J=o(69),Q=n(J),Y=o(38);o(605);var X=o(238),$=n(X),Z=o(41),ee=(a=(0,C.inject)("odocRequestStore","odocCompsStore"))(i=(0,C.observer)(i=function(e){function t(e){(0,h.default)(this,t);var o=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return o.onSuccessCheckEvent=function(e,t){var n=o.props.onSuccess;window.odocTransferUtil&&window.odocTransferUtil.doCheckEvent?window.odocTransferUtil.doCheckEvent("transfer_submit","after",function(){n&&n(e,t)}):n&&n(e,t)},o.submitCheckEvent=function(){window.odocTransferUtil&&window.odocTransferUtil.doCheckEvent?window.odocTransferUtil.doCheckEvent("transfer_submit","before",o.doSubmit):o.doSubmit()},o.isNotEmptyList=function(){var e=o.props.odocRequestStore,t=e.nodeOperatorMap,n=void 0===t?{}:t,r=e.pageMode,a=e.selectedList,i=e.getNextDirections();n=T.toJS(n);var s=new u.default(a);return i.some(function(e){var t=e.nodeid,o=(e.linkId,n),a=o[t],i=void 0===a?{}:a,l=i.userIds,c=void 0===l?{}:l,u=c.userList,d=void 0===u?[]:u;c.userIds;return d.length>0&&(1==r||2==r&&s.has(t))})},o.getModePages=function(){var e=o.props,t=e.workflowid;e.odocRequestStore;return{modeContent1:[_.default.createElement(Z.OverrideWedget,(0,l.default)({},o.cusCompProps,{compKey:"odoc-workflow-transfer-mode1-title"}),_.default.createElement("div",{className:"title"},(0,Z.odocGetLabel)(521993,"请选择流转操作者"),_.default.createElement("div",{className:"top-buttons"},o.getTopButtons()))),_.default.createElement("div",{className:"direction-table"},_.default.createElement(Z.OverrideWedget,(0,l.default)({Comp:A.default,compKey:"odoc-workflow-transfer-mode1-table"},o.cusCompProps,{ecId:(o&&o.props&&o.props.ecId||"")+"_DirectionTable@9ligxy",compProps:{workflowid:t}})))],modeContent2:_.default.createElement(Z.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-form",Comp:L.default},o.cusCompProps,{ecId:(o&&o.props&&o.props.ecId||"")+"_DirectionForm@bdqv40"}))}},o.getCurrentDialogParam=function(){var e=o.props.odocCompsStore,t=G.ODOC_TRANSFER_DIALOG,n=e.dialogParam;n=T.toJS(n);var r=n,a=r[t];return void 0===a?{}:a},o.openDirectionDialog=o.openDirectionDialog.bind(o),o.openUsualDirectionDialog=o.openUsualDirectionDialog.bind(o),o.closeDialog=o.closeDialog.bind(o),o.doSubmit=o.doSubmit.bind(o),o.saveDirection=o.saveDirection.bind(o),o.setSelectDirection=o.setSelectDirection.bind(o),o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"loadData",value:function(){var e=this.props,t=e.dataId,o=e.odocCompsStore,n=e.odocRequestStore,r=o.requestParam,a=void 0===r?{}:r;a=T.toJS(a),delete a.markInfo;var i=(0,l.default)({dataId:t},a);n.loadData(i)}},{key:"closeDialog",value:function(){var e=this.props,t=e.onClose,o=e.odocRequestStore;t&&t(),o.resetStore()}},{key:"doSubmit",value:function(){var e=this,t=this.props,o=t.odocCompsStore,n=t.odocRequestStore,r=(t.onSuccess,o.requestParam);r=T.toJS(r);var a=r,i=a.workflowid;delete r.markInfo;var s=n.nodeConfig,c=n.formData,d=n.pageMode,p=void 0===d?0:d,f=n.workflowSet,h=void 0===f?{}:f;s=T.toJS(s),c=T.toJS(c);var m=s,v=m.radio,g=void 0!==v&&v,y=m.signType,b=void 0===y?0:y,w=m.transferType,S=void 0===w?0:w,C=m.copyType,k=void 0===C?0:C;if(g&&2==p){var E=$.checkRequiredFail(c,s),D=E.result,P=void 0!==D&&D,W=E.message,R=void 0===W?"":W;if(P)return void Q.showGlobalError(R);n.addData2SelectedList()}var A=n.btnforbiden,x=n.isend,L=n.nodeOperatorMap,F=void 0===L?{}:L,M=n.selectedList,N=void 0===M?[]:M,j=n.getNextDirections();F=T.toJS(F),N=T.toJS(N);var z=new u.default(N);if(!A){var B=[],q=new u.default,K=new u.default,U=!1,V="",H={margin:"0 5px","font-weight":"bold",color:"#2db7f5"};if(!this.isNotEmptyList())return void Q.showGlobalError((0,Z.odocGetLabel)(523407,"请至少设置1个环节的操作人员！"));if(!j.some(function(t){var o=t.nodeid,n=t.nodename,r=t.nodetype,a=t.selected,i=void 0!==a&&a,s=t.disabled,l=void 0!==s&&s,c=F,u=c[o],d=void 0===u?{}:u,f=d.userIds,h=void 0===f?{}:f,m=d.ccUserIds,v=void 0===m?{}:m,g=d.userSignType,y=void 0===g?"":g,w=d.userTransferType,C=void 0===w?"":w,I=d.userCopyType,T=void 0===I?"":I,E=v.userList,D=void 0===E?[]:E,P=h.userList,W=void 0===P?[]:P;if(i&&(1==p||2==p&&z.has(o))&&W.length>0&&(K.add(o),3==r&&(U=!0,V=n),W.forEach(function(e){var t=e.id,o=e.name,n=e.lastname;q.has(t)||(q.add(t),B.push(o||n))})),i){if(W.length<=0||2==p&&l&&!z.has(o)){var R=(0,Z.odocGetLabel)(523409,"请添加流转环节$nodename的操作人员");R=R.replace(/\$nodename/gi,'<span style="margin:0 5px;font-weight:bold;color:#2db7f5">'+n+"</span>"),Q.showGlobalError(_.default.createElement("span",{dangerouslySetInnerHTML:{__html:R}}),3)}else if(4==b&&(0,O.default)(y)||3==S&&(0,O.default)(C)||D.length>0&&3==k&&(0,O.default)(T)){var A=(0,Z.odocGetLabel)(531073,"流转环节#nodename#存在必填项为空！");A=e.replaceMsg(A,"#nodename#",n,H),Q.showGlobalError(A,3)}}return i&&(W.length<=0||2==p&&l&&!z.has(o)||4==b&&(0,O.default)(y)||3==S&&(0,O.default)(C)||D.length>0&&3==k&&(0,O.default)(T))})){if(U&&K.size>1){var G=[_.default.createElement("span",{style:H},V),_.default.createElement("span",null,(0,Z.odocGetLabel)(523408,"是归档环节，不能与其他环节同时流转，请重新选择！"))];return void Q.showGlobalError(G,3)}n.setMember({workflowid:i,btnforbiden:!0});var J="";window.CK_REF&&window.CK_REF.oDocRemark&&window.CK_REF.oDocRemark.getEditor()&&(J=window.CK_REF.oDocRemark.getEditor().getData());var X=o.workflowStores,ee=void 0===X?{}:X,te=ee.globalStore,oe=void 0===te?{}:te,ne=oe.submitParam,re=void 0===ne?{}:ne,ae=(0,l.default)({},re,{remark:J},r),ie=oe.markInfo,se=void 0===ie?{}:ie,le=se.isFormSignature,ce=se.isSignMustInput;if("1"==le){if(!(0,(new Y.Base).saveFormSignature)(ae,"1"==ce,"oDocRemark"))return}var ue=function(t){var o=t.success,r=void 0===o?0:o,a=t.msg,i=void 0===a?"":a;1==r?(Q.showGlobalMessage(i,3),window.setTimeout(function(){e.onSuccessCheckEvent(x,t),n.resetStore()},100)):2==r?window.setTimeout(function(){e.onSuccessCheckEvent(x,t),n.resetStore()},100):(n.setMember({btnforbiden:!1}),I.Modal.error({title:(0,Z.odocGetLabel)(131329,"信息确认"),content:_.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}),okText:(0,Z.odocGetLabel)(309,"关闭")}))},de=h.needaffirmance;if(!(void 0!==de&&de))return void n.flowNext(ae,ue);var pe=(0,Z.odocGetLabel)(513015,"确认将文件发送给$username处理？");U&&(pe=(0,Z.odocGetLabel)(519033,"确认将文件送阅给$username，并将流程归档？"));var fe=Q.transformConfirmMsg(pe,B,H);I.Modal.confirm({title:(0,Z.odocGetLabel)(131329,"信息确认"),content:fe,onOk:function(){n.flowNext(ae,ue)},onCancel:function(){n.setMember({btnforbiden:!1})}})}}}},{key:"replaceMsg",value:function(e,t,o,n){if(t&&t.length>0){var r=e.indexOf(t),a=r+t.length,i=e.substring(0,r),s=e.substring(a);return _.default.createElement("span",null,i,_.default.createElement("span",{style:n},o),s)}return e}},{key:"getTopButtons",value:function(){var e=(this.props.odocRequestStore,[]);return e.push(_.default.createElement(Z.OverrideWedget,(0,l.default)({compKey:"odoc-transfer-list-mode-select-direction",Comp:I.Button},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@5s3njg@select",compProps:{onClick:this.openDirectionDialog}}),(0,Z.odocGetLabel)(512917,"选择常用去向"))),e.push(_.default.createElement(Z.OverrideWedget,(0,l.default)({compKey:"odoc-transfer-list-mode-set-direction",Comp:I.Button},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@brieln@setting",compProps:{onClick:this.openUsualDirectionDialog}}),(0,Z.odocGetLabel)(512918,"设为常用去向"))),e}},{key:"saveDirection",value:function(){var e=this.props,t=e.odocRequestStore,o=e.odocCompsStore,n=o.requestParam,r=void 0===n?{}:n;r=T.toJS(r),delete r.markInfo;var a=function(){Q.showGlobalMessage((0,Z.odocGetLabel)(512221,"保存成功!")),t.controlDialogVisible(G.USUAL_DIRECTION_DIALOG,!1)};t.saveDirection((0,l.default)({},r),a)}},{key:"openUsualDirectionDialog",value:function(){var e=this.props.odocRequestStore;if(!this.isNotEmptyList())return void Q.showGlobalError((0,Z.odocGetLabel)(523407,"请至少设置1个环节的操作人员！"));e.controlDialogVisible(G.USUAL_DIRECTION_DIALOG,!0)}},{key:"setSelectDirection",value:function(e){var t=e.randomFieldId,o=this.props,n=o.odocCompsStore,r=o.odocRequestStore,a=n.requestParam,i=void 0===a?{}:a;i=T.toJS(i),delete i.markInfo;var s=(0,l.default)({dataId:t},i);r.importData(s,function(){Q.showGlobalMessage((0,Z.odocGetLabel)(30700,"操作成功！"))})}},{key:"openDirectionDialog",value:function(){this.props.odocRequestStore.controlDialogVisible(G.SELECT_DIRECTION_DIALOG,!0)}},{key:"render",value:function(){var e=this.props,t=e.visible,o=e.workflowid,n=e.odocRequestStore,r=n.dialogVisible,a=n.isend,i=n.pageMode,s=n.nodeConfig,c=void 0===s?{}:s;c=T.toJS(c);var u=c,d=u.endRequestType,p=void 0===d?1:d,f=u.dialogWidth,h=u.dialogHeight,m=u.radio,v=void 0!==m&&m,g=u.assignment,y=void 0!==g&&g,b={width:f,height:h},w=this.closeDialog,S=[],C=(0,W.default)(".wf-req")[0],k={keyboard:!1},D=this.props.title,P=(0,Z.odocGetLabel)(501196,"确定"),R=this.getCurrentDialogParam(),A=R.menuName;(0,O.default)(A)||(D=A,P=A),S.push(_.default.createElement(Z.OverrideWedget,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Button@cro4qy@ok",compKey:"odoc-transfer-dialog-submit",Comp:I.Button},this.cusCompProps,{compProps:{onClick:this.submitCheckEvent,type:"primary"}}),P)),S.push(_.default.createElement(Z.OverrideWedget,(0,l.default)({compKey:"odoc-transfer-dialog-cancel",ecId:(this&&this.props&&this.props.ecId||"")+"_Button@s6xk3v@cancel",Comp:I.Button},this.cusCompProps,{compProps:{onClick:this.closeDialog}}),(0,Z.odocGetLabel)(31129,"取消")));var x={title:D,style:b,visible:t,onCancel:w,buttons:S,layout:C,scalable:!0,browserModalProps:k},L=this.getModePages(),F=L["modeContent"+i],N=_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-workflow-transfer-page-main"}),_.default.createElement("div",{className:"odoc-page-main"},_.default.createElement("div",{className:"direction-top"},F),_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-workflow-transfer-bottom"}),_.default.createElement("div",{className:"direction-bottom"},2!=p&&_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-workflow-transfer-end-self-line"}),_.default.createElement(I.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@oju9qp"},_.default.createElement(I.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@ci5z08",span:24},_.default.createElement(Z.OverrideWedget,(0,l.default)({compKey:"odoc-workflow-transfer-end-self",Comp:E.WeaSelect,ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSelect@3qbst3"},this.cusCompProps,{compProps:{options:[{key:"1",showname:(0,Z.odocGetLabel)(507363,"结束本人处理")}],detailtype:2,value:a,onChange:function(e){n.setMember({isend:e})}}}))))),_.default.createElement(I.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@2q66j4"},_.default.createElement(I.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@0u97sf",span:24},_.default.createElement(Z.OverrideWedget,(0,l.default)({Comp:j.default,compKey:"odoc-transfer-sign-remark"},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_Remark@1fupdy",compProps:{visible:t,showTitle:!0}})))),y&&_.default.createElement(I.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@sewuzb"},_.default.createElement(I.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@7s369r",span:24},_.default.createElement(Z.OverrideWedget,(0,l.default)({Comp:B.default,compKey:"odoc-transfer-assign-remark"},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_AssignRemark@omc6n3",compProps:{visible:t}})))))))),z=null;return 2==i&&(z=v?_.default.createElement(E.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@1z9300",height:"100%"},N):_.default.createElement(I.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@j84zyc",style:{height:"100%"}},_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-transfer-mode2-left"}),_.default.createElement(I.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@vyb5g2",span:16,style:{height:"100%"}},_.default.createElement(E.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@20engx",height:"100%"},N))),_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-transfer-mode2-right"}),_.default.createElement(I.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@qoc9mr",span:8,style:{height:"100%"}},_.default.createElement(Z.OverrideWedget,(0,l.default)({compKey:"odoc-transfer-mode2-right-select-table",ecId:(this&&this.props&&this.props.ecId||"")+"_SelectedTable@vh309r",Comp:M.default},this.cusCompProps,{compProps:{openDirectionDialog:this.openDirectionDialog,openUsualDirectionDialog:this.openUsualDirectionDialog}})))))),_.default.createElement(Z.OverrideWedget,(0,l.default)({Comp:E.WeaDialog,compKey:"odoc-transfer-dialog"},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@jelcy3",compProps:(0,l.default)({},x)}),_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-workflow-transfer"}),_.default.createElement("div",{className:"odoc-workflow-transfer odoc-pagemode"+i},_.default.createElement(E.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@mwjzdr",height:"100%"},2==i?_.default.createElement(Z.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-workflow-transfer-pagemode-2"}),z):N))),r.has(G.USUAL_DIRECTION_DIALOG)&&_.default.createElement(K.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_UsualDirectionDialog@3owfgi",onSave:this.saveDirection}),r.has(G.SELECT_DIRECTION_DIALOG)&&_.default.createElement(V.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SelectDirectionDialog@pqjpn6",workflowid:o,visible:r.get(G.SELECT_DIRECTION_DIALOG),onSelect:this.setSelectDirection}))}}]),t}(_.default.Component))||i)||i;t.default=ee},function(e,t,o){function n(e,t,o,n,c,u){var d=o&s,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var m=-1,v=!0,g=o&l?new r:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var y=e[m],b=t[m];if(n)var w=d?n(b,y,m,t,e,u):n(y,b,m,e,t,u);if(void 0!==w){if(w)continue;v=!1;break}if(g){if(!a(t,function(e,t){if(!i(g,t)&&(y===e||c(y,e,o,n,u)))return g.push(t)})){v=!1;break}}else if(y!==b&&!c(y,b,o,n,u)){v=!1;break}}return u.delete(e),u.delete(t),v}var r=o(225),a=o(531),i=o(226),s=1,l=2;e.exports=n},function(e,t,o){function n(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new r;++t<o;)this.add(e[t])}var r=o(136),a=o(529),i=o(530);n.prototype.add=n.prototype.push=a,n.prototype.has=i,e.exports=n},function(e,t){function o(e,t){return e.has(t)}e.exports=o},function(e,t,o){function n(e,t,o){var n=-1,d=a,p=e.length,f=!0,h=[],m=h;if(o)f=!1,d=i;else if(p>=u){var v=t?null:l(e);if(v)return c(v);f=!1,d=s,m=new r}else m=t?[]:h;e:for(;++n<p;){var g=e[n],y=t?t(g):g;if(g=o||0!==g?g:0,f&&y===y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),h.push(g)}else d(m,y,o)||(m!==h&&m.push(y),h.push(g))}return h}var r=o(225),a=o(535),i=o(539),s=o(226),l=o(540),c=o(151),u=200;e.exports=n},function(e,t,o){function n(e,t){return e&&e.length?a(e,r(t,2)):[]}var r=o(543),a=o(227);e.exports=n},function(e,t,o){function n(e){return e===e&&!r(e)}var r=o(43);e.exports=n},function(e,t){function o(e,t){return function(o){return null!=o&&(o[e]===t&&(void 0!==t||e in Object(o)))}}e.exports=o},function(e,t,o){function n(e,t){t=r(t,e);for(var o=0,n=t.length;null!=e&&o<n;)e=e[a(t[o++])];return o&&o==n?e:void 0}var r=o(232),a=o(107);e.exports=n},function(e,t,o){function n(e,t){return r(e)?e:a(e,t)?[e]:i(s(e))}var r=o(28),a=o(156),i=o(549),s=o(233);e.exports=n},function(e,t,o){function n(e){return null==e?"":r(e)}var r=o(234);e.exports=n},function(e,t,o){function n(e){if("string"==typeof e)return e;if(i(e))return a(e,n)+"";if(s(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=o(81),a=o(552),i=o(28),s=o(106),l=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=n},function(e,t){function o(e){return e}e.exports=o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(9),m=o(7),v=n(m),g=function(e){function t(){var e,o,n,r;(0,s.default)(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return o=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.getButtons=function(e){return e.filter(function(e){return e.show}).map(function(e,t){return v.default.createElement(h.Button,{ecId:n.props.ecId+"_Button@6tkb5r@"+t,key:e.icon,type:"primary",size:"small",disabled:!e.active,onClick:e.handler},v.default.createElement("span",{title:e.title},v.default.createElement("i",{className:e.icon})))})},r=o,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,o=e.moveToRight,n=e.rightActive,r=e.rightActiveTitle,a=e.moveToLeft,i=e.leftActive,s=e.leftActiveTitle,l=e.rightPageActive,c=e.movePageToRight,u=e.rightPageActiveTitle,d=e.rightAllActive,p=e.moveAllToRight,f=e.rightAllActiveTitle,h=e.canMoveAllToRight,m=e.leftAllActive,g=e.moveAllToLeft,y=e.leftAllActiveTitle,b=[{icon:"icon-coms-Browse-box-Add-to",title:r,active:n,handler:o,show:!0},{icon:"icon-coms-Browse-box-delete",title:s,active:i,handler:a,show:!0},{icon:"icon-coms-right",title:u,active:l,handler:c,show:!0},{icon:"icon-coms-Browse-box-add-all",title:f,active:d,handler:p,show:h},{icon:"icon-coms-Browse-box-Delete-all",title:y,active:m,handler:g,show:!0}];return v.default.createElement("div",{className:t},this.getButtons(b))}}]),t}(v.default.Component);t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(!(0,j.default)(e)){var t=[];t.push(e),e=t}return e}function a(e){var t=e.subs,o=e.depts,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wea",r=[];if(!(0,A.default)(t)||!(0,A.default)(o)){[].concat((0,E.default)(t),(0,E.default)(o)).reduce(function(e,t){var o=(e||n+"0")+"-"+t;return r.push(o),o},"")}return r}function i(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(0,A.default)(e)){var r=this.props,a=r.topPrefix,i=r.defaultExpandedLevel;(0,j.default)(e)?e.forEach(function(e){e.isLeaf=!1===e.isParent||"false"===e.isParent,1==o&&(e.treeKey=a+"0-"+(e.nodeid||e.id)),e.children=e.subs||e.children,i>0&&i>=o&&n.push(e.treeKey||e.id),e.children&&e.children.length>0&&t.generateData(e.children,o+1,n)}):(e.isLeaf=!1===e.isParent||"false"===e.isParent,1==o&&(e.treeKey=a+"0-"+(e.nodeid||e.id)),e.children=e.subs||e.children,i>0&&i>=o&&n.push(e.treeKey||e.id),e.children&&e.children.length>0&&this.generateData(e.children,o+1,n))}}function s(e,t){var o=e;e.length||(o=new Array(o));var n=new Array,r=this.props.topPrefix;if(t){!function(e){for(var o=0;o<e.length;o++){var r=e[o];r.treeKey=t+"-"+(r.nodeid||r.id),"1"===r.type&&(r.treeKey+="type1"),r.isLeaf=!1===r.isParent||"false"===r.isParent,n.push(r)}}(o[0].datas)}else for(var a=0;a<o.length;a++){var i=o[a];i.treeKey=r+"0-"+(i.nodeid||i.id),i.isLeaf=!1===i.isParent||"false"===i.isParent,i.children=i.subs||i.children,n.push(i)}return n}function l(e,t,o,n){!function e(n){n.forEach(function(n){0===(t+"-").indexOf(n.treeKey+"-")&&((0,A.default)(n.children)?n.children=o:e(n.children))})}(e)}Object.defineProperty(t,"__esModule",{value:!0});var c,u,d,p=o(190),f=n(p),h=o(6),m=n(h),v=o(3),g=n(v),y=o(1),b=n(y),w=o(2),S=n(w),_=o(4),C=n(_),I=o(5),k=n(I),T=o(23),E=n(T);t.getKeys=a;var D=o(7),O=n(D),P=o(9),W=o(0),R=o(29),A=n(R),x=o(152),L=n(x),F=o(149),M=n(F),N=o(28),j=n(N),z=o(585),B=n(z),q=o(67),K=n(q),U=o(153),V=n(U),H=o(592),G=n(H),J=o(57),Q=W.WeaTools.EncryBase,Y=Q.desensitization,X=(Q.encryption,Q.replaceEncryption,P.Tree.TreeNode),$=W.WeaLocaleProvider.getLabel,Z=function(){return Math.random().toString(36).substr(2,6)},ee=function(e,t){var o=(0,J.text)(e,t);return"string"!==typeof o?O.default.createElement("span",{style:{display:"inline-block",marginRight:5,lineHeight:2}},o):O.default.createElement("span",{style:{marginRight:5},dangerouslySetInnerHTML:{__html:o}})},te=(u=c=function(e){function t(e){(0,b.default)(this,t);var o=(0,C.default)(this,(t.__proto__||(0,g.default)(t)).call(this,e));d.call(o);var n=e.defaultExpandedKeys,a=e.treeData;return o.generateData=i.bind(o),o.generateTreeNodes=s.bind(o),o.getNewTreeData=l.bind(o),o.state={expandedKeys:n||[],ztreeExpandedKeys:n||[],selectedKeys:[],treeData:r(a)||[],defaultExpandedKeys:n||[],checkedKeys:[],radioCheckedData:e.radioCheckedData||"",checkedDatas:e.checkedDatas||[],checkStrictly:e.checkStrictly||!1},o.browserTreeKey=Z(),o}return(0,k.default)(t,e),(0,S.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.ztreeMode,o=(e.isHrmTree,this.state),n=o.treeData,r=o.defaultExpandedKeys,a=[].concat((0,E.default)(r));t||(this.generateData(n,1,a),this.setState({expandedKeys:a,defaultExpandedKeys:a}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,o=t.checkedDatas,n=t.defaultCurrentUser,a=t.asynLoadAll,i=t.defaultExpandedLevel,s=this.state.treeData;if(a||i)this.fetchChildDatas();else{var l={treeData:r(s)};(0,A.default)(o)||(l.checkedKeys=this.formatCheckDatas(o)),this.setState(l,function(){(0,A.default)(n)||(0,A.default)(e.state.treeData)||e.expandChild(n,e.state.treeData[0],e.focusCurrentUser)})}}},{key:"componentWillReceiveProps",value:function(e){var t=this,o=this.props,n=o.componyParam,a=o.ztreeMode,i=(o.isHrmTree,o.defaultCurrentUser,this.state.checkStrictly),s=[].concat((0,E.default)(this.state.defaultExpandedKeys));if(n&&n!=e.componyParam&&(this.generateData(e.treeData),this.setState({expandedKeys:e.defaultExpandedKeys,treeData:r(e.treeData)})),(0,M.default)(this.props.treeData,e.treeData)||(a||(s=[],this.generateData(e.treeData,1,s)),this.setState({treeData:r(e.treeData),defaultExpandedKeys:s,expandedKeys:s},function(){(0,A.default)(e.defaultCurrentUser)||(0,A.default)(t.state.treeData)||t.expandChild(e.defaultCurrentUser,t.state.treeData[0],t.focusCurrentUser)})),"checkedDatas"in e&&void 0!=e.checkedDatas&&(!(0,M.default)(this.props.checkedDatas,e.checkedDatas)||!(0,M.default)(this.state.checkedDatas,e.checkedDatas))){var l=this.formatCheckDatas(e.checkedDatas);this.setState({checkedKeys:l,checkedDatas:e.checkedDatas})}"radioCheckedData"in e&&((0,M.default)(this.state.radioCheckedData,e.radioCheckedData)||this.setState({radioCheckedData:e.radioCheckedData})),"defaultExpandedKeys"in e&&!(0,M.default)(this.props.defaultExpandedKeys,e.defaultExpandedKeys)&&this.setState({defaultExpandedKeys:e.defaultExpandedKeys,expandedKeys:e.defaultExpandedKeys}),"checkStrictly"in e&&!(0,M.default)(i,e.checkStrictly)&&(i=e.checkStrictly,this.setState({checkStrictly:i}))}},{key:"formatCheckDatas",value:function(e){var t=[];return(0,j.default)(e)&&e.length>0&&(0,B.default)(this.treeDataList,function(o,n){e.some(function(e){return e.id==o.id&&e.type==o.type})&&t.push(n)}),t}},{key:"updateExpandedKeys",value:function(e,t){var o=this;if(t=t||this.state.expandedKeys,(0,j.default)(e)&&e.length>0){var n=[];e.forEach(function(e){return n.push(o.treeDataList[e].pid)}),(0,B.default)(this.treeDataList,function(e,o){n.some(function(t){return t==e.id})&&t.push(o)})}t=(0,V.default)([].concat((0,E.default)(t),(0,E.default)(this.state.expandedKeys))),this.setState({expandedKeys:t})}},{key:"onCheck",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){var n=o.props,r=n.isMult,a=n.checkedCb;n.checkStrictly,t.node.props.treeKey,t.checked;if(r){var i=[],s=[];e.forEach(function(e){o.isCheckedDisable(o.treeDataList[e])||(i.push(o.treeDataList[e]),s.push(o.treeDataList[e].id))}),a&&a(s,i)}};n?r(e,t):this.setState({checkedKeys:e},function(){return r(e,t)})}},{key:"onCheckedKeysChange",value:function(e){var t=this,o=this.props,n=o.isMult,r=o.onCheckedKeysChange;if(n){var a=[],i=[];e.forEach(function(e){t.isCheckedDisable(t.treeDataList[e])||(a.push(t.treeDataList[e]),i.push(t.treeDataList[e].id))}),r&&r(i,a)}}},{key:"onHrmCheck",value:function(e,t){var o=this,n=this.props,r=(n.isSingle,n.checkGroup),a=void 0===r||r,i=n.checkStrictly,s=[],l=(0,K.default)(e);l=l.filter(function(e){return"false"!==o.treeDataList[e].canClick&&"com"!==o.treeDataList[e].type});var c=l.filter(function(e){return-1===e.indexOf("resource")}),u=l.filter(function(e){return e.indexOf("resource")>-1});a?l.forEach(function(e){var t=o.treeDataList[e];!i&&c.some(function(e){return t.treeKey.indexOf(e+"-")>-1})||s.push(t)}):u.forEach(function(e){s.push(o.treeDataList[e])}),this.props.checkedCb&&this.props.checkedCb(l,s)}},{key:"onZTreeCheck",value:function(e,t){this.props.checkedCb&&this.props.checkedCb(e,t)}},{key:"resetCheck",value:function(){this.setState({checkedKeys:[]})}},{key:"resetSelect",value:function(){this.setState({selectedKeys:[]})}},{key:"onSelect",value:function(e,t){var o=this.props,n=o.isMult,r=o.isHrmTree,a=o.onSelect;if(r){var i=t.selectedNodes,s=t.node.props.eventKey;this.setHrmDatas(i,s)}else"function"===typeof a&&a(t),n||this.setTheDatas(e,t.selectedNodes)}},{key:"onHrmSelect",value:function(e,t){t&&t[0]&&"resource"===t[0].type&&this.onRadioCheck(t)}},{key:"onDoubleClick",value:function(e){this.isCheckedDisable(this.treeDataList[e])||this.props.onDoubleClick&&this.props.onDoubleClick([this.treeDataList[e]])}},{key:"setHrmDatas",value:function(e,t){for(var o=[],n=[],r=0;r<e.length;r++){var a=e[r].props;"resource"==a.type&&(o.push(a.id),n.push(a))}var i=[];jQuery.each(o,function(e,t){-1===jQuery.inArray(t,i)&&i.push(t)}),o.length>0&&this.props.setData&&this.props.setData(o,n)}},{key:"setTheDatas",value:function(e,t){var o=[],n=[],r=[];t=t||[];for(var a=0,i=t.length;a<i;a++){var s=t[a].props;s.canClick&&(o.push(s.id),n.push(s.name),r.push(e[a]))}this.setState({selectedKeys:r});var l=o.join(","),c=n.join(",");l&&"function"===typeof this.props.setRadioData&&this.props.setRadioData(l,c)}},{key:"onLoadData",value:function(e){var t=this,o=this,n=this.props,r=n.dataUrl,a=n.keyword,i=n.params,s=n.asyncOtherParams,l=void 0===s?{}:s,c=n.isAccount,u=n.showDls,d=this.props.type,p=[].concat((0,E.default)(this.state.treeData)),h=e.props,v=(h.eventKey,h.treeKey),g=h.isVirtual,y=h.type,b=(h.psubcompanyid,h.id),w=h.level,S=4==d?{isLoadSubDepartment:1,type:y,id:b,isVirtual:g}:{type:y,id:b,isVirtual:g};a&&(S.keyword=a),c&&(S.isNoAccount=1),u&&(S.showDls=1);var _=(0,m.default)({},i,l,S,{level:w});return new f.default(function(n){W.WeaTools.callApi(r,"GET",_).then(function(r){t.getNewTreeData(p,v,t.generateTreeNodes(r,e.props.treeKey),2),o.setState({treeData:p});var a=o.formatCheckDatas(o.state.checkedDatas);o.setState({checkedKeys:a}),n()}).catch(function(e){return t.props.onError&&t.props.onError(e)})})}},{key:"checkChild",value:function(e,t,o){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";e=[].concat((0,E.default)(r(e))),e.forEach(function(e){if(e.treeKey||(e.treeKey=i+"-"+(e.nodeid||e.id),"1"===e.type&&(e.treeKey+="type1")),e.children=e.subs||e.children||[],(o&&t<=o||!o||n.props.asynLoadAll)&&e.isParent)0!=e.children.length||e.isLoad||n.fetchChildDataByLevel(e,t,o,a,e.treeKey).then(function(){var r=n.state.expandedKeys,i=n.state.checkedKeys;(t<=o||0===o)&&(r.push(e.treeKey),a&&(i.push(e.treeKey),n.onCheck((0,V.default)(i),{checked:!0},!0))),n.setState({expandedKeys:r,checkedKeys:(0,V.default)(i)})}),e.children.length>0&&n.checkChild(e.children,t+1,o,a);else if(a){var r=n.state.checkedKeys;r.push(e.treeKey),n.onCheck((0,V.default)(r),{checked:!0},!0),n.setState({checkedKeys:(0,V.default)(r)})}})}},{key:"fetchChildDataByLevel",value:function(e,t,o){var n=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments[4],i=this.props,s=i.dataUrl,l=i.keyword,c=i.params,u=i.asyncOtherParams,d=void 0===u?{}:u,p=this.props.type,h=e.isVirtual,v=e.type,g=e.id,y={type:v,id:g,isVirtual:h};4==p&&(y.isLoadSubDepartment=1),l&&(y.keyword=l);var b=(0,m.default)({},c,d,y);return new f.default(function(i){W.WeaTools.callApi(s,"GET",b).then(function(s){e.children=s.datas,e.isLoad=!0;var l=[].concat((0,E.default)(n.state.treeData));n.getNewTreeData(l,a,n.generateTreeNodes(s,a)),n.setState({treeData:l});var c=n.formatCheckDatas(n.state.checkedDatas);n.setState({checkedKeys:c}),n.checkChild(e.children,t+1,o,r,a),i()}).catch(function(e){return n.props.onError&&n.props.onError(e)})})}},{key:"fetchChildDatas",value:function(){var e=[].concat((0,E.default)(this.state.treeData)),t=parseInt(this.props.defaultExpandedLevel)||1;if(!e)return!1;this.checkChild(e,1,t)}},{key:"isCheckedDisable",value:function(e){var t=this.props,o=t.filterData,n=t.inputId,r=(t.inputName,t.checkStrictly),a=t.isHrmTree;if(!e)return!0;if(!0===e.disabledCheck||"true"===e.disableCheckbox)return!0;if(a)return"false"==e.canClick||!(!o||!o.length)&&o.some(function(t){return e.id===t.id&&e.type===t.type});if(!e.canClick&&(r||!e.isParent))return!0;if(e.canClick&&!(0,A.default)(o)){var i=n||"id";return o.some(function(t){return e[i]===t[i]})}return!1}},{key:"isRadioDisable",value:function(e){return!!this.props.isHrmTree||!e.canClick||!1}},{key:"isRadioChecked",value:function(e){var t=!1,o=this.state.radioCheckedData;return(0,A.default)(o)||(t=(0,L.default)(o)?e.treeKey==o:e.id==o.id),t}},{key:"onExpandChange",value:function(e,t){var o=this.props.onExpand;o&&o(e,t),this.setState({expandedKeys:e,ztreeExpandedKeys:e})}},{key:"onRadioCheck",value:function(e){var t=this.props,o=t.ztreeMode,n=t.setRadioData,r=null;o&&e&&e.length>0?r=e[0]:e&&(r=this.treeDataList[e]),r?(this.setState({radioCheckedData:r}),n&&n(r.id,r.orgWholePathspan||r.name||r.lastname,r)):(this.setState({radioCheckedData:null}),n&&n("","",null))}},{key:"render",value:function(){var e=this,t=this.state,o=t.treeData,n=t.expandedKeys,r=t.defaultExpandedKeys,a=t.selectedKeys,i=t.checkStrictly,s=t.radioCheckedData,l=t.checkedDatas,c=t.checkedKeys,u=t.ztreeExpandedKeys,d=this.props,p=d.browserTree,f=d.isMult,h=d.hasRadio,v=d.isLoadAll,g=void 0!==v&&v,y=d.ztreeMode,b=d.isHrmTree;this.treeDataList={};var w=o.length>0?function t(o,n){return o.map(function(o,r){if(o.children)for(var a=0;a<o.children.length;a++)o.children[a].treeKey=o.treeKey+"-"+(o.children[a].nodeid||o.children[a].id),"1"===o.children[a].type&&(o.children[a].treeKey+="type1");e.treeDataList[o.treeKey]=o;var i=b?e.getHrmTitle(o):e.getTitle(o);return O.default.createElement(X,{ecId:e.props.ecId+"_TreeNode@yj3ve0@"+r,browserTree:p,level:n,isVirtual:o.isVirtual,type:o.type,title:i,name:o.name,lastname:o.lastname,jobtitlename:o.jobtitlename,key:o.treeKey,id:o.id,treeKey:o.treeKey,isLeaf:o.isLeaf,disableCheckbox:e.isCheckedDisable(o),disableRadio:e.isRadioDisable(o),radioChecked:e.isRadioChecked(o),expanded:!0,canClick:o.canClick},o.children&&t(o.children,n+1))})}(o,0):null,S={};return y&&(S={checkable:!0,ztreeMode:y,browserTree:!1,onCheck:(f?this.onZTreeCheck:function(t,o){return e.onRadioCheck(o)}).bind(this),onSelect:(b?this.onHrmSelect:this.onSelect).bind(this),getTitle:b?this.getHrmTitle:this.getTitle,checkedKeys:f?(l||[]).map(function(e){return e.id}):s&&s.id?[s.id]:[],expandedKeys:u,checkStrictly:!!f&&i}),[O.default.createElement(P.Tree,(0,m.default)({},this.props,{ecId:this.props.ecId+"_Tree@yt9cgp",className:(this.props.className||"")+" my-tree",defaultExpandedKeys:r,expandedKeys:n,onExpand:this.onExpandChange.bind(this),onSelect:this.onSelect.bind(this),onCheck:(b?this.onHrmCheck:this.onCheck).bind(this),loadData:g?null:this.onLoadData.bind(this),checkable:f,checkedKeys:this.props.checkedKeys||c,checkStrictly:i,onRadioCheck:this.onRadioCheck.bind(this),hasRadio:h,multiple:f,selectedKeys:a,needExpandChildren:!0,clickNameExpandNode:!0,clickNodeExpandChildren:!h&&!f,onDoubleClick:this.onDoubleClick.bind(this)},S),!y&&w),b&&O.default.createElement(G.default,(0,m.default)({},this.props,{ecId:this.props.ecId+"_GroupDialog@vnpkxa",ref:function(t){return e.groupDialog=t}}))]}}]),t}(O.default.Component),d=function(){var e=this;this.focusCurrentUser=function(){var t=e.props.defaultCurrentUser;(0,A.default)(t)||setTimeout(function(){var o=t[t.length-1];o=e.browserTreeKey+"-"+o;var n=document.getElementById(o);if(n){var r=n.offsetTop,a=jQuery(".scroller").has("#"+o)[0];a&&(a.scrollTop=r)}},500)},this.expandChild=function(t,o,n){if((0,A.default)(t))return void("function"==typeof n&&n());var r=t[0];if(o){var a=function(o){var a=e.state.expandedKeys;a.push(r),e.setState({expandedKeys:(0,V.default)(a)}),e.expandChild(t.slice(1),o.find(function(e){return e.treeKey=e.treeKey||r+"-"+e.nodeid,e.treeKey===t[1]}),n)};"true"===o.isParent||!0===o.isParent?0!=o.children.length||o.isLoad?a(o.children):e.fetchChildData(o).then(a):"com"==o.type&&a(o.children)}},this.fetchChildData=function(t){var o=e.props,n=o.dataUrl,r=o.keyword,a=o.params,i=o.asyncOtherParams,s=void 0===i?{}:i,l=e.props.type,c=t.isVirtual,u=t.type,d=t.id,p=t.treeKey,h={type:u,id:d,isVirtual:c};4==l&&(h.isLoadSubDepartment=1),r&&(h.keyword=r);var v=(0,m.default)({},a,s,h);return new f.default(function(o){W.WeaTools.callApi(n,"GET",v).then(function(n){t.isLoad=!0;var r=[].concat((0,E.default)(e.state.treeData));e.getNewTreeData(r,p,e.generateTreeNodes(n,{props:t})),e.setState({treeData:r}),o(n.datas)}).catch(function(t){return e.props.onError&&e.props.onError(t)})})},this.getDisplayName=function(e){var t=void 0,o=[];if(e&&e.displayKeys&&("string"===typeof e.displayKeys?o=e.displayKeys.split(","):Array.isArray(e.displayKeys)&&(o=e.displayKeys)),(0,A.default)(o)||(t=o.reduce(function(t,o,n){var r=(0,J.text)(e,o,!0);return t+=n?" "+r:"<label>"+r+"</label>"},"")),t&&Y(t)){var n=o.map(function(t){return ee(e,t)});return O.default.createElement("span",{className:"wea-tree-browser-display-name"},n)}return t&&O.default.createElement("span",{title:t.replace(/\n|(<label>)|(<\/label>)/g," "),className:"wea-tree-browser-display-name",dangerouslySetInnerHTML:{__html:t}})},this.getHrmTitle=function(t){var o=e.props,n=o.icon,r=o.hasRight,a=void 0,i=e.getDisplayName(t),s=i||t.lastname;if("com"==t.type)a=O.default.createElement("div",null,"string"===typeof n?O.default.createElement("span",{className:n}):n,s,O.default.createElement("span",{className:"wea-f12",style:{color:"#979797"}}));else if("subcom"==t.type)a=O.default.createElement("div",null,O.default.createElement("i",{className:"icon-process-scene"}),s);else if("dept"==t.type)a=O.default.createElement("div",{id:e.browserTreeKey+"-"+t.treeKey},O.default.createElement("i",{className:"icon-mail-folder"})," ",s);else if("resource"==t.type){i||(s=[O.default.createElement("span",{style:{paddingLeft:10,color:"#333"}},t.lastname),O.default.createElement("span",{style:{color:"#929390",paddingLeft:10}},t.jobtitlename)]);var l=void 0;try{t.requestParams&&(l=JSON.parse(t.requestParams))}catch(e){}a=O.default.createElement("div",{className:"wea-f12"},O.default.createElement(W.WeaAvatar,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaAvatar@rbk8zu",className:"wea-tree-hr-portrait",userId:t.id,requestParams:l}),s)}else{var c=!t.pid&&("true"===t.isPrivate||"false"===t.isPrivate&&1===r),u=!1;u=t.canEdit?t.pid&&("true"===t.isPrivate||"false"===t.isPrivate&&"true"===t.canEdit):t.pid&&("true"===t.isPrivate||"false"===t.isPrivate&&1===r);var d=t.pid&&"false"===t.isPrivate&&1!==r;a=O.default.createElement("div",null,O.default.createElement("i",{className:t.cusIcon||"icon-process-scene"}),t.cusIcon?O.default.createElement("span",{style:{paddingLeft:10}},s):O.default.createElement("span",{className:"wea-tree-node-title-content"},s),O.default.createElement("span",{className:"wea-tree-hr-node"},c&&O.default.createElement("span",{className:"wea-tree-hr-node-icon",title:$("611","添加"),onClick:function(o){return e.groupDialog&&e.groupDialog.opsHandler("add",o,t)}},O.default.createElement("i",{className:"icon-coms-Add-to"})),u&&[O.default.createElement("span",{className:"wea-tree-hr-node-icon",title:$("26473","编辑"),onClick:function(o){return e.groupDialog&&e.groupDialog.opsHandler("edit",o,t)}},O.default.createElement("i",{className:"icon-coms-edit"})),O.default.createElement("span",{className:"wea-tree-hr-node-icon",title:$(91,"删除"),onClick:function(o){return e.groupDialog&&e.groupDialog.opsHandler("delete",o,t)}},O.default.createElement("i",{className:"icon-coms-delete"}))],d&&O.default.createElement("span",{className:"wea-tree-hr-node-icon",title:$(16159,"建议"),onClick:function(o){return e.groupDialog&&e.groupDialog.opsHandler("advice",o,t)}},O.default.createElement("i",{className:"icon-coms-Advice"}))))}return a},this.getTitle=function(t){var o=e.props,n=o.isLoadUser,r=o.renderItem,a=e.getDisplayName(t)||t.displayName||t.name||t.lastname,i=O.default.createElement("div",{title:t.title||t.name||t.lastname},t.icon&&O.default.createElement("i",{className:t.icon,style:{marginRight:"5px"}}),a);if(n&&("3"==t.type||"resource"==t.type)){var s=void 0;try{t.requestParams&&(s=JSON.parse(t.requestParams))}catch(e){}i=O.default.createElement("div",null,O.default.createElement(W.WeaAvatar,{ecId:e.props.ecId+"_WeaAvatar@orska1",className:"wea-tree-hr-portrait",userId:t.id,requestParams:s}),O.default.createElement("span",{style:{paddingLeft:10}},a))}return t.isImgIcon&&(i=O.default.createElement("div",{className:"wea-f12"},O.default.createElement("img",{className:"wea-tree-hr-portrait",src:t.icon,onError:function(){return t.icon=(window.ecologyContentPath||"")+"/cloudstore/resource/pc/com/images/portrait_default.jpg"},alt:"img"}),O.default.createElement("span",{style:{paddingLeft:10}},a))),r&&(i=r(t)),i}},u);t.default=te},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkRequiredFail=void 0;var n=o(24),r=o(0),a=o(69),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);t.default=e}(a),r.WeaLocaleProvider.getLabel);t.checkRequiredFail=function(e,t){var o=t.signType,r=void 0===o?0:o,a=t.transferType,s=void 0===a?0:a,l=t.copyType,c=void 0===l?0:l,u=e.userIds,d=void 0===u?{}:u,p=e.ccUserIds,f=void 0===p?{}:p,h=e.userSignType,m=void 0===h?"":h,v=e.userTransferType,g=void 0===v?"":v,y=e.userCopyType,b=void 0===y?"":y,w=d.userList,S=void 0===w?[]:w,_=f.userList,C=void 0===_?[]:_,I=!1,k="";return k=S.length<=0?i(523429,"请选择操作人员"):i(387847,"必要信息不完整，红色星号为必填项！"),I=S.length<=0||4==r&&(0,n.isEmpty)(m)||3==s&&(0,n.isEmpty)(g)||C.length>0&&3==c&&(0,n.isEmpty)(b),{result:I,message:k}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.workflowPublicFiles=void 0;var n=o(0),r="?v"+(n.WeaTools&&n.WeaTools.ls&&n.WeaTools.ls.getStr("staticVersion")||0);t.workflowPublicFiles=["/spa/workflow/static4public/index.js"+r,"/spa/workflow/static4public/index.css"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(608),_=n(S),C=o(0),I=o(9),k=o(19),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(k),E=C.WeaLocaleProvider.getLabel,D=(r=(0,w.inject)("withDrawStore","odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.onCancel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.withDrawStore,r=t.onClose,a=n.destory;r&&"function"==typeof r&&r(e),a&&"function"==typeof a&&a(),o.setState({visible:!1})},o.getButtons=function(){var e=[],t=o.allBtns();return t&&t.map(function(t,n){e.push([b.default.createElement(I.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@6gf0r9@"+n},t),t.content)])}),e},o.allBtns=function(){var e=o.props.withDrawStore,t=e.goWithDraw,n=o.props.pluginbuttons,r=void 0===n?[]:n,a=[{key:"save",icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:E(32025,"撤回"),onClick:function(){return t(o.onCancel)},type:"primary"},{key:"close",icon:b.default.createElement("i",{className:"icon-coms-go-back"}),content:E(201,"取消"),onClick:o.onCancel,type:"ghost"}];return r&&r.length>=1&&(a=a.concat(r)),a},o.state={height:660,visible:!0},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.withDrawStore,o=e.odocCompsStore,n=void 0===o?{}:o,r=this.state.visible;try{r=n.dialogVisible.get(T.ODOC_WITHDRAW_DIALOG)}catch(e){}var a=this.state.height,i=t.coreparams,l=void 0===i?{}:i,c=l.title,u={style:{width:800,height:a},visible:r,title:c,onCancel:this.onCancel,buttons:this.getButtons(),layout:jQuery(".wf-req")[0]};return b.default.createElement("div",null,b.default.createElement(C.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@4w6bsb"},u),b.default.createElement(C.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@vp221d",datas:this.getRightMenu()},b.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_WithDrawContetn@f3w7n4",visible:r,allstore:{withDrawStore:t,odocCompsStore:n},otherparams:{height:a}}))))}},{key:"getRightMenu",value:function(){var e=[],t=this.allBtns();return t&&t.map(function(t){e.push((0,s.default)({},t))}),e}}]),t}(y.Component))||a)||a;t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(10),_=w.WeaLocaleProvider.getLabel,C=(r=(0,S.inject)("odocCompsStore"))(a=(0,S.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.onChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props.allFunction,n=void 0===t?{}:t,r=n.changecallback;"function"==typeof r&&r(e)},o.changeRemarkInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props.allstore,n=void 0===t?{}:t,r=n.workflowStores,a=void 0===r?{}:r,i=a.globalStore,s=void 0===i?{}:i,l=s.changeSubmitParam;"function"==typeof l&&l(e)},o.state={hasLoad:!1},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};window.eventRegister&&window.eventRegister.loadModule("workfolwPublic",t)}},{key:"render",value:function(){var e=this.state.hasLoad,t=b.default.createElement("div",null);if(e){var o=window.weaWorkflowPublic.WfSignInput,n=this.props,r=n.allstore,a=void 0===r?{}:r,i=n.coreparams,l=i.signInputRequired,c=void 0!==l&&l,u=i.refid,d=void 0===u?"odocSignInput":u,p=i.premarkinfo,f=void 0===p?{}:p,h=a.odocCompsStore,m=void 0===h?{}:h,v=m.workflowStores,g=void 0===v?{}:v,y=g.globalStore,w=void 0===y?{}:y,S=w.commonParam,C=void 0===S?{}:S,I=w.markInfo,k=void 0===I?{}:I,T=w.loadMarkInfo;k&&(f.phraseInfo=k.phraseInfo),k=(0,s.default)({remarkInfo:{handWrittenSignSwitch:-1}},k,f);var E=C.requestid,D=C.requestType,O=k,P=O.remarkInfo,W=void 0===P?{}:P;t=b.default.createElement("div",{style:{margin:"0 10px"}},b.default.createElement("div",{className:"signInputTitle"},b.default.createElement("i",{className:"icon-coms-Need-feedback"}),b.default.createElement("span",null,_(17614,"签字意见")),c&&b.default.createElement("span",{className:"signInputRequired"}," (",_(18019,"必填"),")")),b.default.createElement(o,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@duspar",ref:d,markInfo:k,requestType:D,requestid:E,isShowSignInput:!0,editorId:d+"Edit",maxHeight:120},W,{changeRemarkInfo:this.changeRemarkInfo,onChange:this.onChange,saveCallBack:T})))}return t}}]),t}(y.Component))||a)||a;t.default=w.WeaTools.tryCatch(b.default,function(e){return b.default.createElement(w.WeaErrorPage,{ecId:"_WeaErrorPage@x4sr9h",msg:e.error?e.error:_(385218,"对不起，该页面异常，请联系管理员！")})},{error:""})(C)},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(609),_=n(S),C=o(0),I=o(9),k=o(19),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(k),E=C.WeaLocaleProvider.getLabel,D=(r=(0,w.inject)("managerWithDrawStore","odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.onCancel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.managerWithDrawStore,r=t.onClose,a=n.destory;r&&"function"==typeof r&&r(e),a&&"function"==typeof a&&a(),o.setState({visible:!1})},o.getButtons=function(){var e=[],t=o.allBtns();return t&&t.map(function(t,n){e.push([b.default.createElement(I.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@vq4ko3@"+n},t),t.content)])}),e},o.allBtns=function(){var e=o.props.managerWithDrawStore,t=e.goWithDraw,n=o.props.pluginbuttons,r=void 0===n?[]:n,a=[{key:"save",icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:E(32025,"撤回"),onClick:function(){return t(o.onCancel)},type:"primary"},{key:"close",icon:b.default.createElement("i",{className:"icon-coms-go-back"}),content:E(201,"取消"),onClick:o.onCancel,type:"ghost"}];return r&&r.length>=1&&(a=a.concat(r)),a},o.state={height:660,visible:!0},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.managerWithDrawStore,o=e.children,n=e.odocCompsStore,r=void 0===n?{}:n,a=this.state.visible,i=t.coreparams,l=void 0===i?{}:i,c=l.title;try{var u=r.dialogVisible,d=r.dialogParam;a=u.get(T.ODOC_WITHDRAW_MANAGER_DIALOG);var p=d[T.ODOC_WITHDRAW_MANAGER_DIALOG]||{},f=p.menuName;f&&(c=f)}catch(e){}var h=this.state.height,m={style:{width:800,height:h},visible:a,title:c,onCancel:this.onCancel,buttons:this.getButtons(),layout:jQuery(".wf-req")[0]};return b.default.createElement("div",null,o,b.default.createElement(C.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@xhm6mp"},m),b.default.createElement(C.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@91bu7r",datas:this.getRightMenu()},b.default.createElement(_.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ManagerWithDrawContetn@51ybwe",visible:a,allstore:{managerWithDrawStore:t,odocCompsStore:r},otherparams:{height:h}}))))}},{key:"getRightMenu",value:function(){var e=[],t=this.allBtns();return t&&t.map(function(t){e.push((0,s.default)({},t))}),e}}]),t}(y.Component))||a)||a;t.default=D},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(6),l=r(s),c=o(3),u=r(c),d=o(1),p=r(d),f=o(2),h=r(f),m=o(4),v=r(m),g=o(5),y=r(g),b=o(7),w=r(b),S=o(10),_=o(0),C=o(9),I=o(8),k=n(I),T=o(19),E=n(T),D=o(610),O=r(D),P=_.WeaLocaleProvider.getLabel,W=(a=(0,S.inject)("updateOperatorStore","odocCompsStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.onCancel=function(){var e=o.props,t=e.updateOperatorStore,n=e.onClose,r=t.destory,a=t.changenumber;if((void 0===a?0:a)>0){var i=o.props.odocCompsStore,s=i.dialogParam,l=void 0===s?{}:s,c=l[E.ODOC_UPDATEOPERATOR_DIALOG]||{},u=c.onSuccess;"function"==typeof u&&u()}n&&"function"==typeof n&&n({cancel:!1}),r&&"function"==typeof r&&r(),o.setState({visible:!1})},o.getButtons=function(){var e=[],t=o.props.updateOperatorStore,n=t.allbuttons;return n&&n.map(function(t,n){e.push(w.default.createElement(C.Button,(0,l.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@j3au8y@"+n},t),t.content))}),e},o.initButtons=function(){o.props.updateOperatorStore.allbuttons=[{key:"close",icon:w.default.createElement("i",{className:"icon-coms-go-back"}),content:P(201,"取消"),onClick:o.onCancel,type:"ghost"}]},o.getRightMenu=function(){var e=o.props.updateOperatorStore,t=e.allbuttons,n=[];return t&&t.map(function(e){n.push((0,l.default)({},e))}),n},o.state={height:680},o.initButtons(),o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.odocCompsStore,n=t.dilogotherparams,r=void 0===n?{}:n,a=this.state,i=a.visible,s=void 0===i||i,c=a.height,u=void 0===c?680:c,d=jQuery(".wf-req")[0],p={},f=void 0;try{var h=r.subparams,m=void 0===h?{dialogType:dialogType}:h,v=o.requestParam,g=void 0===v?{}:v,y=o.dialogVisible;g=k.toJS(g),p=(0,l.default)({},g,m),s=y.get(E.ODOC_UPDATEOPERATOR_DIALOG)}catch(t){f=w.default.createElement("button",{onClick:function(){return e.setState({visible:!0})}},"打开")}p.height=u;var b=(0,l.default)({style:{width:960,height:u},title:P(130107,"加减签"),visible:s,layout:d,onCancel:this.onCancel,buttons:this.getButtons()},r);return w.default.createElement("div",{style:{height:"100%"}},f,w.default.createElement(_.WeaDialog,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@6nm194"},b),w.default.createElement(_.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@iloxo4",datas:this.getRightMenu()},w.default.createElement(O.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_UpdateOperatorContent@1f0y9t",visible:s,contentparams:p}))))}}]),t}(b.Component))||i)||i;t.default=W},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(0),C=o(8),I=o(19),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(I),T=_.WeaLocaleProvider.getLabel,E=(r=(0,w.inject)("odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.changeRemarkInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.props.odocCompsStore.workflowStores.globalStore.changeSubmitParam)(e)},o.getButtons=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[b.default.createElement(S.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@3zcycp@save",type:"primary",onClick:o.doSaveRmark},e||T(86,"保存")),b.default.createElement(S.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@r69szc@cancel",type:"ghost",onClick:o.onCancel},T(201,"取消"))]},o.onCancel=function(){var e=o.props.onClose;e&&"function"===typeof e&&e(k.ODOC_FILL_REMARK_DIALOG)},o.doSaveRmark=function(){if(!o.btnDisabled){o.btnDisabled=!0;var e=window.CK_REF.odocFillRemarkCk.getEditor().getData(),t=o.props.odocCompsStore,n=k.ODOC_FILL_REMARK_DIALOG,r=o.getCurrentDialogParam(),a=r.submitType,i=void 0===a?0:a,s=r.submitFn;1==i||2==i?s(function(){t.setDialogVisible(n,!1)},e):(window.CK_REF&&window.CK_REF.remark?window.CK_REF.remark.getEditor().setData(e):o.changeRemarkInfo({remark:e}),WfForm.rightBtn.doSave_nNew(!1),o.onCancel())}},o.getCurrentDialogParam=function(){var e=o.props.odocCompsStore,t=k.ODOC_FILL_REMARK_DIALOG,n=e.dialogParam;n=(0,C.toJS)(n);var r=n,a=r[t];return void 0===a?{}:a},o.getReceiveUserContent=function(){var e=o.getCurrentDialogParam(),t=e.receiveUserList,n=void 0===t?[]:t,r=e.submitType,a=void 0===r?0:r,i=n.map(function(e){var t=e.id,o=e.name;return b.default.createElement("a",{href:"javaScript:openhrm("+t+");",onClick:function(e){return window.pointerXY(e)},title:o,style:{"margin-right":"5px"}},o)});return 1==a&&i.length>0?b.default.createElement("div",{style:{padding:"15px 0"}},b.default.createElement("span",null,T(530851,"文件接收者预测：")),b.default.createElement("span",null,i)):null},o.state={hasLoad:!1},o.btnDisabled=!1,o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0}),e.updateRemark()};window.eventRegister&&window.eventRegister.loadModule("workfolwPublic",t)}},{key:"updateRemark",value:function(){var e=this,t=this.props.odocCompsStore;if((void 0===t?{}:t).dialogVisible.get(k.ODOC_FILL_REMARK_DIALOG)){var o=WfForm&&WfForm.getSignRemark();window.CK_REF&&window.CK_REF.odocFillRemarkCk&&window.CK_REF.odocFillRemarkCk.getEditor()?o&&window.CK_REF.odocFillRemarkCk.getEditor().setData(o):this.updateRemarkFn=window.setTimeout(function(){e.updateRemark()},300)}}},{key:"componentDidUpdate",value:function(){this.updateRemark()}},{key:"render",value:function(){var e=k.ODOC_FILL_REMARK_DIALOG,t=this.getCurrentDialogParam(),o=this.props.odocCompsStore,n=void 0===o?{}:o,r=n.dialogVisible,a=r.get(e),i=t.submitType,l=void 0===i?0:i,c=t.menuName,u=300;1==l&&(u=500);var d=T(26039,"填写意见");c&&(d=c);var p=jQuery(".wf-req")[0],f={style:{width:700,height:u},visible:a,title:d,onCancel:this.onCancel,buttons:this.getButtons(c),className:"odocFillRemark",layout:p,icon:"icon-coms-workflow",iconBgcolor:"#0179DE"},h=window.weaWorkflowPublic.WfSignInput,m=n.workflowStores,v=m.globalStore,g=v.commonParam,y=v.markInfo,w=void 0===y?{}:y,S=v.loadMarkInfo,C=g.requestid,I=g.requestType,E=w.remarkInfo,D=void 0===E?{}:E,O=this.state.hasLoad;return b.default.createElement("div",{className:"THTHTHHTH"},b.default.createElement(_.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@5ikxqu"},f),b.default.createElement("div",{style:{padding:"10px"}},this.getReceiveUserContent(),O&&b.default.createElement(h,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@9k5ncj",ref:"odocFillRemarkCk",markInfo:w,requestType:I,requestid:C,isShowSignInput:!0,editorId:"odocFillRemarkCk"},D,{maxHeight:350,changeRemarkInfo:this.changeRemarkInfo,saveCallBack:S}))),b.default.createElement(_.WeaPopoverHrm,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaPopoverHrm@bsjkl1",inDialog:!0})))}}]),t}(b.default.Component))||a)||a;t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(0),_=o(11),C=o(19),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(C),k=o(160),T=n(k),E=o(9);o(247);var D=o(8),O=S.WeaLocaleProvider.getLabel,P=(r=(0,w.inject)("appendSignLogStore","odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.loadData=function(){var e=o.props,t=e.appendSignLogStore,n=e.odocCompsStore,r=void 0===n?{}:n,a=t.doInit,i={},s=!1;try{var l=r.requestParam,c=r.dialogVisible;s=c.get(I.ODOC_APPEND_SIGNLOG),i=(0,D.toJS)(l),delete i.markInfo}catch(e){i.requestid="11014012",s=!0}s&&a(i,o.onCancel)},o.getFormContent=function(){var e=o.props.appendSignLogStore,t=e.condition,n=void 0===t?[]:t,r=e.form,a=[];return r.isFormInit&&n.length>0&&n.map(function(e,t){a.push(b.default.createElement(S.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@4esa60@"+t,needTigger:!0,title:e.title,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:b.default.createElement(S.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@f9jplu@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol},error:r.getError(e)},b.default.createElement(_.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@8g1xgd@"+e.domkey[0],fieldConfig:e,onChange:function(t){return o.onChange(t,e.otherParams)},form:r})),col:1}})}))}),b.default.createElement("div",{className:"formContetn"},a)},o.onChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.props.appendSignLogStore,r=n.controlOptions;if(void 0!==r&&r&&e&&e.appendToUseId){var a=t.otherUserAppend;void 0!==a&&a&&e.appendToUseId.value&&(0,n.getSqlWhere)({appendToUseId:e.appendToUseId.value,data:e})}},o.getSignInputContent=function(){var e=o.props.odocCompsStore,t=void 0===e?{}:e,n=o.props.appendSignLogStore,r=n.refid,a=n.sumitParams,i=n.signinput,s=n.showSignInput,l=void 0!==s&&s,c=a.signInputRequired,u=t.workflowStores,d=void 0===u?{}:u;return i=(0,D.toJS)(i),b.default.createElement("div",{className:"signInput"},l&&b.default.createElement(T.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_SignInput@7p06ll",coreparams:{title:O(514420,"代录"),refid:r,signInputRequired:c,premarkinfo:i},workflowStores:d,allFunction:{changecallback:o.changeSignInput}}))},o.changeSignInput=function(e){(0,o.props.appendSignLogStore.changeSubmitParams)(e)},o.onCancel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.appendSignLogStore,r=t.onClose,a=n.destory;"function"==typeof r&&r(e),"function"==typeof a&&a()},o.getButtons=function(){var e=[],t=o.props.appendSignLogStore,n=t.loading,r=void 0!==n&&n,a=o.allBtns();return a&&a.map(function(t,n){"close"!=t.key?(r||(t.disabled="true"),e.push([b.default.createElement(E.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@cjrov8@"+n},t),t.content)])):e.push([b.default.createElement(E.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@0d2095@"+n},t),t.content)])}),e},o.allBtns=function(){var e=o.props,t=e.appendSignLogStore,n=e.pluginbuttons,r=void 0===n?[]:n,a=e.odocCompsStore,i=void 0===a?{}:a,s=i.workflowStores,l=void 0===s?{}:s,c=t.doSave,u=[{key:"save",icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:O(520456,"代录意见"),onClick:function(){return c(l,o.onCancel)},type:"primary"},{key:"close",icon:b.default.createElement("i",{className:"icon-coms-go-back"}),content:O(201,"取消"),onClick:o.onCancel,type:"ghost"}];return r&&r.length>=1&&(u=u.concat(r)),u},o.state={height:520},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"componentWillMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props,t=e.appendSignLogStore,o=e.odocCompsStore,n=void 0===o?{}:o,r=!1;try{var a=n.dialogVisible;r=a.get(I.ODOC_APPEND_SIGNLOG)}catch(e){r=!0}var i=this.state.height,l=n.workflowStores,c=void 0===l?{}:l,u=c.globalStore,d=void 0===u?{}:u,p=d.markInfo,f=void 0===p?{}:p,h=f.isFormSignature,m=t.signinput,v=void 0===m?{}:m,g=v.isFormSignature,y=void 0===g?-1:g;i="1"==h?600:this.state.height,-1!=y&&(i="1"==y?600:this.state.height);var w=t.coreparams,_=void 0===w?{}:w,C=_.title,k=void 0===C?O(520456,"代录意见"):C,T={style:{width:800,height:i},visible:r,title:k,icon:"icon-coms-Need-feedback",onCancel:this.onCancel,buttons:this.getButtons(),layout:jQuery(".wf-req")[0]};return b.default.createElement("div",null,b.default.createElement(S.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@o81b2f"},T,{className:"signInputDialog"}),b.default.createElement(S.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@diyswp",datas:this.getRightMenu()},b.default.createElement("div",{className:"content"},this.getFormContent(),this.getSignInputContent()))))}},{key:"getRightMenu",value:function(){var e=[],t=this.props.appendSignLogStore,o=t.loading,n=void 0!==o&&o,r=this.allBtns();return r&&r.map(function(t){"close"!=t.key?(n||(t.disabled="true"),e.push((0,s.default)({},t))):e.push((0,s.default)({},t))}),e}}]),t}(y.Component))||a)||a;t.default=P},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(0),_=o(19),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(_),I=o(160),k=n(I),T=o(9);o(247);var E=o(8),D=S.WeaLocaleProvider.getLabel,O=(r=(0,w.inject)("appendSelfSignLogStore","odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.loadData=function(){var e=o.props,t=e.appendSelfSignLogStore,n=e.odocCompsStore,r=void 0===n?{}:n,a=t.doInit,i={},s=!1;try{var l=r.requestParam,c=r.dialogVisible;s=c.get(C.ODOC_APPEND_SIGNLOG_SELF),i=(0,E.toJS)(l),delete i.markInfo}catch(e){i.requestid="11014012",s=!0}s&&a(i,o.onCancel)},o.getSignInputContent=function(){var e=o.props.odocCompsStore,t=void 0===e?{}:e,n=o.props.appendSelfSignLogStore,r=n.refid,a=n.sumitParams,i=void 0===a?{}:a,s=n.signinput,l=n.showSignInput,c=void 0!==l&&l,u=i.signInputRequired,d=t.workflowStores,p=void 0===d?{}:d;return s=(0,E.toJS)(s),b.default.createElement("div",{className:"signInput"},c&&b.default.createElement(k.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_SignInput@3t80z1",coreparams:{title:D(31259,"追加"),refid:r,signInputRequired:u,premarkinfo:s},workflowStores:p,allFunction:{changecallback:o.changeSignInput}}))},o.changeSignInput=function(e){(0,o.props.appendSelfSignLogStore.changeSubmitParams)(e)},o.onCancel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.appendSelfSignLogStore,r=t.onClose,a=n.destory;"function"==typeof r&&r(e),"function"==typeof a&&a()},o.getButtons=function(){var e=[],t=o.props.appendSelfSignLogStore,n=t.loading,r=void 0!==n&&n,a=o.allBtns();return a&&a.map(function(t){"close"!=t.key?(r||(t.disabled="true"),e.push([b.default.createElement(T.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@4jr9cf@"+t.key},t),t.content)])):e.push([b.default.createElement(T.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@9rz0mz@"+t.key},t),t.content)])}),e},o.allBtns=function(){var e=o.props,t=e.appendSelfSignLogStore,n=e.pluginbuttons,r=void 0===n?[]:n,a=e.odocCompsStore,i=void 0===a?{}:a,s=i.workflowStores,l=void 0===s?{}:s,c=t.doSave,u=[{key:"save",icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:D(519035,"追加意见"),onClick:function(){return c(l,o.onCancel)},type:"primary"},{key:"close",icon:b.default.createElement("i",{className:"icon-coms-go-back"}),content:D(201,"取消"),onClick:o.onCancel,type:"ghost"}];return r&&r.length>=1&&(u=u.concat(r)),u},o.state={height:320},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"componentWillMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props,t=e.appendSelfSignLogStore,o=e.odocCompsStore,n=void 0===o?{}:o,r=!1;try{var a=n.dialogVisible;r=a.get(C.ODOC_APPEND_SIGNLOG_SELF)}catch(e){r=!0}var i=t.coreparams,l=void 0===i?{}:i,c=l.title,u=void 0===c?D(519035,"追加意见"):c,d=this.state.height,p=n.workflowStores,f=void 0===p?{}:p,h=f.globalStore,m=void 0===h?{}:h,v=m.markInfo,g=void 0===v?{}:v,y=g.isFormSignature,w=t.signinput,_=void 0===w?{}:w,I=_.isFormSignature,k=void 0===I?-1:I;d="1"==y?375:this.state.height,-1!=k&&(d="1"==k?375:this.state.height);var T={style:{width:800,height:d},visible:r,title:u,icon:"icon-coms-Need-feedback",onCancel:this.onCancel,buttons:this.getButtons(),layout:jQuery(".wf-req")[0]};return b.default.createElement("div",null,b.default.createElement(S.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@w6bcmn"},T,{className:"signInputDialog"}),b.default.createElement(S.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@ccixho",datas:this.getRightMenu()},b.default.createElement("div",{className:"content"},this.getSignInputContent()))))}},{key:"getRightMenu",value:function(){var e=[],t=this.props.appendSelfSignLogStore,o=t.loading,n=void 0!==o&&o,r=this.allBtns();return r&&r.map(function(t){"close"!=t.key?(n||(t.disabled="true"),e.push((0,s.default)({},t))):e.push((0,s.default)({},t))}),e}}]),t}(y.Component))||a)||a;t.default=O},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(0),_=o(8),C=o(19),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(C),k=o(9),T=o(160),E=n(T),D=o(614),O=n(D);o(615);var P=S.WeaLocaleProvider.getLabel,W=(r=(0,w.inject)("updateSignLogStore","odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getFormContent=function(){return b.default.createElement(O.default,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_SignLogTable@njnuvr"},o.props))},o.getSignInputContent=function(){var e=o.props,t=e.odocCompsStore,n=void 0===t?{}:t,r=e.updateSignLogStore,a=n.workflowStores,i=void 0===a?{}:a,l=r.refid,c=void 0===l?"update":l,u=r.signinput,d=void 0===u?{}:u,p=r.showSignInput,f=void 0!==p&&p,h=r.closeShowSignInput,m=r.titleparams,v=void 0===m?{}:m;d=(0,_.toJS)(d);var g=v.nodeidspan,y=v.nodeid,w=v.operatorspan,C=v.operator,I=P(17614,"签字意见");(w||C)&&(g||y)&&(I+=" : "+(w||C)+"-"+(g||y));var k=i.globalStore,T=void 0===k?{}:k,D=T.markInfo,O=void 0===D?{}:D,W=O.isFormSignature,R=d,A=R.isFormSignature,x=void 0===A?-1:A,L="1"==W?370:300;-1!=x&&(L="1"==x?370:300);var F={style:{width:800,height:L},visible:f,title:b.default.createElement("span",{dangerouslySetInnerHTML:{__html:I}}),icon:"icon-coms-Need-feedback",onCancel:h,buttons:o.getButtons(o.allSignBtns()),layout:jQuery(".wf-req")[0]};return f&&b.default.createElement(S.WeaDialog,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@ac2wwo"},F),b.default.createElement(E.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_SignInput@gre0r7",coreparams:{title:P(103,"修改"),refid:c,premarkinfo:d},workflowStores:i,allFunction:{changecallback:o.changeSignInput}}))},o.changeSignInput=function(e){var t=o.props.updateSignLogStore,n=t.changeSubmitParams,r=t.changeSignInput;n(e),r(e)},o.onCancel=function(){var e=o.props,t=e.updateSignLogStore,n=e.onClose,r=e.odocCompsStore,a=t.destory,i=t.savenumber;if((void 0===i?0:i)>0){var s=r.dialogParam,l=void 0===s?{}:s,c=l[I.ODOC_UPDATE_SIGNLOG]||{},u=c.onSuccess;"function"==typeof u&&u()}"function"==typeof n&&n(),"function"==typeof a&&a()},o.getButtons=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=o.props.updateSignLogStore,r=n.loading,a=void 0!==r&&r;return e&&e.map(function(e){"close"!=e.key?(a||(e.disabled="true"),t.push([b.default.createElement(k.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@363ndd@"+e.key},e),e.content)])):t.push([b.default.createElement(k.Button,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@zgcb8l@"+e.key},e),e.content)])}),t},o.allBtns=function(){var e=o.props.pluginbuttons,t=void 0===e?[]:e,n=[{key:"close",icon:b.default.createElement("i",{className:"icon-coms-go-back"}),content:P(201,"取消"),onClick:o.onCancel,type:"ghost"}];return t&&t.length>=1&&(n=n.concat(t)),n},o.allSignBtns=function(){var e=o.props,t=e.updateSignLogStore,n=e.pluginbuttons,r=void 0===n?[]:n,a=e.odocCompsStore,i=void 0===a?{}:a,s=i.workflowStores,l=void 0===s?{}:s,c=t.doSave,u=t.closeShowSignInput,d=[{key:"save",icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:P(826,"确定"),onClick:function(){return c(l,u)},type:"primary"},{key:"close",icon:b.default.createElement("i",{className:"icon-coms-go-back"}),content:P(201,"取消"),onClick:u,type:"ghost"}];return r&&r.length>=1&&(d=d.concat(r)),d},o.state={height:500,visible:!0},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"componentWillMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this.props,t=e.updateSignLogStore,o=e.odocCompsStore,n=t.initCoreParams,r={};try{var a=o.requestParam;a=(0,_.toJS)(a),delete a.markInfo,r=(0,s.default)({},r,a)}catch(e){r={requestid:12623619,workflowid:51022,nodeid:42530}}n(r)}},{key:"render",value:function(){var e=this.props,t=e.updateSignLogStore,o=e.odocCompsStore,n=void 0===o?{}:o,r=this.state.height,a=this.state.visible;try{var i=n.dialogVisible;a=i.get(I.ODOC_UPDATE_SIGNLOG)}catch(e){a=!0}var l=t.coreparams,c=void 0===l?{}:l,u=c.title,d=void 0===u?P(132410,"修改意见"):u,p={style:{width:1e3,height:r},visible:a,title:d,icon:"icon-coms-Need-feedback",onCancel:this.onCancel,buttons:this.getButtons(this.allBtns()),layout:jQuery(".wf-req")[0]};return b.default.createElement("div",null,b.default.createElement(S.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@18uj3i"},p,{className:"signUpdateDialog"}),b.default.createElement(S.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@5urt19",datas:this.getRightMenu()},b.default.createElement("div",{className:"content"},this.getFormContent(),this.getSignInputContent()))))}},{key:"getRightMenu",value:function(){var e=this.props.updateSignLogStore,t=e.loading,o=void 0!==t&&t,n=[],r=this.allBtns();return r&&r.map(function(e){"close"!=e.key?(o||(e.disabled="true"),n.push((0,s.default)({},e))):n.push((0,s.default)({},e))}),n}}]),t}(y.Component))||a)||a;t.default=W},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(6),l=r(s),c=o(3),u=r(c),d=o(1),p=r(d),f=o(2),h=r(f),m=o(4),v=r(m),g=o(5),y=r(g),b=o(7),w=r(b),S=o(10),_=o(0),C=o(11),I=o(9),k=o(19),T=n(k),E=o(8),D=n(E),O=_.WeaLocaleProvider.getLabel,P=C.WeaTableNew.WeaTable,W=(a=(0,S.inject)("adjustLogStore","odocCompsStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.loadData=function(){var e=o.props,t=e.odocCompsStore,n=void 0===t?{}:t,r=e.adjustLogStore,a={},i=r.initLoad;try{var s=n.requestParam;s=D.toJS(s),delete s.markInfo,a=(0,l.default)({},a,s)}catch(e){a={requestid:12623619,workflowid:51022,nodeid:42530}}i(a)},o.getTableCom=function(){var e=o.state.showSearchAd,t=void 0!==e&&e,n=o.props.adjustLogStore,r={searchType:["advanced"],advanceHeight:200,buttonsAd:o.getButtonsAdQuick(),showSearchAd:t,setShowSearchAd:function(e){return o.setState({showSearchAd:e})},searchsAd:o.getSearchs()},a=n.tableStore,i=n.loadData,s={className:"adjust_table",comsWeaTableStore:a,scroll:{y:370},expiredRefreshFun:i};return w.default.createElement("div",null,w.default.createElement(_.WeaTab,(0,l.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTab@gi13s0"},r)),a&&w.default.createElement(P,(0,l.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@1qmgzx"},s)))},o.getSearchs=function(){var e=o.props.adjustLogStore,t=e.conditions,n=e.form,r=[];return n.isFormInit&&t.map(function(e,t){r.push(w.default.createElement(_.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@prdylq@"+t,needTigger:!1,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:w.default.createElement(_.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@krf0k0@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol}},w.default.createElement(C.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@c8f1o1@"+e.domkey[0],fieldConfig:e,form:n})),col:e.conditionType.toUpperCase()==_.WeaTools.types.CASCADER?1:2}})}))}),r},o.getButtonsAdQuick=function(){var e=o.props.adjustLogStore,t=e.form,n=e.loadData;return[w.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@qp67rl@search",type:"primary",onClick:function(){n(),o.setState({showSearchAd:!1})}},O(388113,"搜索")),w.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@mzzfcj@reset",type:"ghost",onClick:function(){t.resetForm()}},O(2022,"重置")),w.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@uwroko@cancel",type:"ghost",onClick:function(){return o.setState({showSearchAd:!1})}},O(201,"取消"))]},o.onCancel=function(){var e=o.props,t=e.onClose,n=e.adjustLogStore;o.setState({visible:!1,showSearchAd:!1}),(0,n.destory)(),t&&"function"==typeof t&&t(T.ODOC_FILL_REMARK_DIALOG)},o.getButtons=function(){var e=[],t=o.allBtns();return t&&t.map(function(t,n){e.push([w.default.createElement(I.Button,(0,l.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_Button@7di5hq@"+n},t),t.content)])}),e},o.allBtns=function(){var e=o.props.pluginbuttons,t=void 0===e?[]:e,n=[{key:"close",icon:w.default.createElement("i",{className:"icon-coms-go-back"}),content:O(201,"取消"),onClick:o.onCancel,type:"ghost"}];return t&&t.length>=1&&(n=n.concat(t)),n},o.state={height:500},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"componentWillMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props.odocCompsStore,t=void 0===e?{}:e,o=!1;try{o=t.dialogVisible.get(T.ODOC_ADJUST_LOG)}catch(e){}var n=this.state.height,r={style:{width:900,height:n},visible:o,title:O(25990,"调整日志"),onCancel:this.onCancel,buttons:this.getButtons(),icon:"icon-coms-Flow-setting",iconBgcolor:"#008572"};return w.default.createElement("div",null,w.default.createElement(_.WeaDialog,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@uallva"},r),w.default.createElement(_.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@wq6tzb",datas:this.getRightMenu()},this.getTableCom())))}},{key:"getRightMenu",value:function(){var e=[],t=this.allBtns();return t&&t.map(function(t){e.push((0,l.default)({},t))}),e}}]),t}(b.Component))||i)||i;t.default=W},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(53),l=r(s),c=o(3),u=r(c),d=o(1),p=r(d),f=o(2),h=r(f),m=o(4),v=r(m),g=o(5),y=r(g),b=o(7),w=r(b),S=o(10),_=o(8),C=n(_),I=o(0),k=o(56),T=r(k),E=o(45),D=r(E),O=o(97),P=n(O),W=I.WeaLocaleProvider.getLabel,R=(a=(0,S.inject)("odocCompsStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.clickClose=function(){o.setState({isOpen:!1})},o.clickOpen=function(){o.setState({isOpen:!0})},o.getRemarkListContent=function(){var e="odoc-assign-remarklist-content",t=o.state.remarkList;return(void 0===t?[]:t).map(function(t){var o=t.remark,n=t.createUserName,r=t.createUser,a=t.createTime;return w.default.createElement("div",{className:e+"-item"},w.default.createElement("div",{className:e+"-item-remark"},o),w.default.createElement("div",{className:e+"-item-signature"},w.default.createElement("div",null,w.default.createElement("a",{href:"javaScript:openhrm("+r+");",onClick:function(e){return window.pointerXY(e)}},n)),w.default.createElement("div",{className:e+"-item-signature-time"},a)))})},o.state={remarkList:[],isOpen:!0},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.odocCompsStore,o=t.requestParam,n=void 0===o?{}:o;n=C.toJS(n);var r=n,a=r.requestid,i=r.nodeid;P.loadAssginRemarkList({requestid:a,nodeid:i}).then(function(t){var o=t.data;e.setState({remarkList:o})})}},{key:"componentDidMount",value:function(){var e=this;this.timer=window.setInterval(function(){var t=(0,T.default)(".odoc-assign-remark-win").offset(),o=t.top,n=void 0===o?102:o,r=(0,T.default)(".wf-req-form-main");if(r.length>0){var a=r.offset(),i=a.top,s=void 0===i?102:i;s>n&&(0,T.default)(".odoc-assign-remark-win").css({top:s+"px"}),e.timer>0&&(window.clearInterval(e.timer),e.timer=0)}},300),WfForm.registerAction(WfForm.ACTION_SWITCHTAB,function(e,t){"form"!=e?(0,T.default)(".odoc-assign-remark-win").hide():(0,T.default)(".odoc-assign-remark-win").show()})}},{key:"render",value:function(){var e=this.state,t=e.isOpen,o=(e.remarkList,"odoc-assign-remarklist"),n=(0,D.default)([[o],(0,l.default)({},o+"-close",!t)]);return w.default.createElement("div",{className:"odoc-assign-remark-win"},w.default.createElement("div",{className:n},w.default.createElement("div",{className:o+"-close-x",onClick:this.clickClose},w.default.createElement("span",{className:"ant-modal-close-x"})),w.default.createElement("div",{className:o+"-title",onClick:this.clickOpen},w.default.createElement("i",{className:"icon-coms-rizhizhongxin"}),w.default.createElement("span",{className:o+"-title-text"},W(531251,"交办意见"))),w.default.createElement("div",{className:o+"-content"},w.default.createElement(I.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@9au84a",height:"100%"},w.default.createElement("div",{className:o+"-content-wrapper"},this.getRemarkListContent())))),w.default.createElement(I.WeaPopoverHrm,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaPopoverHrm@intx02"}))}}]),t}(w.default.Component))||i)||i;t.default=R},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(23),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(10),C=o(8),I=o(0),k=o(9),T=o(19),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(T);o(625);var D=I.WeaLocaleProvider.getLabel,O=(r=(0,_.inject)("odocNumberStore","odocCompsStore"))(a=(0,_.observer)(a=function(e){function t(){var e,o,n,r;(0,f.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,g.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(i))),n.initInfo=function(){var e=n.props,t=e.odocNumberStore,o=e.odocCompsStore,r=o.dialogVisible,a=o.requestParam,i=void 0===a?{}:a,s=o.dialogParam,l=void 0===s?{}:s;if(r.get(E.ODOC_NUMBER)){var u=t.getBaseInfo;(0,t.setProperty)({requestParam:(0,c.default)({},i),dialogParam:(0,c.default)({},l)}),u()}},n.onCancel=function(){var e=n.props.onClose;e&&"function"==typeof e&&e(E.ODOC_NUMBER)},n.getButtons=function(){var e=n.props.odocNumberStore,t=e.saveRequestNumberConfirm,o=e.selectNumberName,r=e.clearRequestNumber,a=e.loading,i=e.dialogParam,s=i||{},l=s.showClear,c=void 0===l||l,u=[];return c&&""!=o&&(u=[S.default.createElement(k.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@szrgv1",type:"ghost",disabled:a,onClick:function(){r(n.onCancel)}},D(311,"清除"))]),u=u.concat([S.default.createElement(k.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@c9e1q4",type:"primary",disabled:a,onClick:function(){n.reserved.openModal()}},D(22785,"选择预留号")),S.default.createElement(k.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@sa023r",type:"primary",disabled:a,onClick:function(){t(n.onCancel)}},D(826,"确定"))])},n.getDialogMoreBtns=function(){var e=n.props.odocNumberStore,t=e.saveRequestNumberConfirm,o=e.selectNumberName,r=e.clearRequestNumber,a=e.loading,i=e.dialogParam,l=i||{},c=l.showClear,u=void 0===c||c,d=[];return u&&""!=o&&(d=[{key:"1",disabled:a,icon:S.default.createElement("i",{className:"icon-coms-delete"}),content:D(311,"清除"),onClick:function(){return r(n.onCancel)}}]),d=[].concat((0,s.default)(d),[{key:"2",disabled:a,icon:S.default.createElement("i",{className:"icon-coms-search"}),content:D(22785,"选择预留号"),onClick:function(){return n.reserved.openModal()}},{key:"3",disabled:a,icon:S.default.createElement("i",{className:"icon-coms-Save-as"}),content:D(826,"确定"),onClick:function(){return t(n.onCancel)}}]),{datas:d}},r=o,(0,g.default)(n,r)}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.initInfo()}},{key:"componentWillReceiveProps",value:function(e,t){this.initInfo()}},{key:"render",value:function(){var e=this,t=this.props,o=t.odocCompsStore,n=void 0===o?{}:o,r=t.odocNumberStore,a=n.dialogVisible,i=r.odocTypeOptions,s=r.numberid,l=r.numberSetMap,c=r.setProperty,u=r.serial,d=r.getPreviewStr,p=r.selectNumberid,f=void 0===p?0:p,h=r.selectSerial,m=void 0===h?0:h,v=r.selectYears,g=void 0===v?0:v,y=r.year,b=r.loading,w=r.getCurrentYearSerial,_=r.getLatestYearSerial,T=r.dialogParam,O=a.get(E.ODOC_NUMBER),P=l[s]||{},W=P.prefix,R=void 0===W?"":W,A=P.showYear,x=void 0===A?"0":A,L=P.yearPre,F=void 0===L?"":L,M=P.yearEnd,N=void 0===M?"":M,j=P.serialPre,z=void 0===j?"":j,B=P.serialEnd,q=void 0===B?"":B,K=T||{},U=K.canEdit,V=void 0===U||U,H=K.canEditType,G=void 0===H||H,J=K.canEditYear,Q=void 0===J||J,Y=K.canEditNumber,X=void 0===Y||Y,$=K.showEditNumber,Z=void 0===$||$,ee=K.showPreviewNumber,te=void 0===ee||ee,oe=K.title,ne=void 0===oe?"":oe;return S.default.createElement("div",null,S.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@36l3xn",icon:"icon-coms-official",iconBgcolor:"red",onCancel:function(){return e.onCancel()},visible:O,style:{width:600,height:200},title:""!==ne?ne:D("128536","公文编号"),hasScroll:!0,buttons:this.getButtons(),moreBtn:this.getDialogMoreBtns()},S.default.createElement("div",{style:{margin:"30px 0 20px 70px",width:"500px"},className:"wea-odoc-number-form-dialog"},S.default.createElement(k.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@rp5og0",spinning:b,size:"large"},S.default.createElement(I.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@zvonsg",label:D(531665,"文号类型"),labelCol:{span:6},wrapperCol:{span:18}},S.default.createElement(I.WeaSelect,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSelect@kpiqfz",options:(0,C.toJS)(i),value:s+"",viewAttr:V&&G?2:1,style:{marginRight:"20px",width:"300px"},onChange:function(e,t){e==f?c({numberid:e,serial:m,year:g}):(c({numberid:e}),_({numberid:e}))}})),Z&&S.default.createElement(I.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@ajw4bv",label:S.default.createElement("span",null,D("532062","文"),S.default.createElement("span",{style:{marginRight:"2em"}}),D("16992","号")),labelCol:{span:6},wrapperCol:{span:18}},S.default.createElement("div",null,R),"1"==x&&S.default.createElement("div",null,F),"1"==x&&S.default.createElement("div",null,V&&Q?S.default.createElement(I.WeaDatePicker,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDatePicker@jb0i84",type:"year",value:y+"",format:"YYYY",style:{width:"110px"},onChange:function(e){e!=y&&(e<1&&(e=y),c({year:e}),w({numberid:s,years:e}))}}):y),"1"==x&&S.default.createElement("div",null,N),S.default.createElement("div",null,z),V&&X?S.default.createElement(I.WeaInputNumber,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaInputNumber@i9phtu",defaultValue:1,value:u,min:1,style:{width:"50px"},onChange:function(e){c({serial:e||1})}}):S.default.createElement("span",{style:{marginRight:"5px"}},u),S.default.createElement("div",null,q)),te&&S.default.createElement(I.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@30ifav",label:D(23690,"效果预览"),labelCol:{span:6},wrapperCol:{span:18}},S.default.createElement("div",{style:{lineHeight:"30px"}},d)))),S.default.createElement(I.WeaBrowser,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@2bp01i",ref:function(t){return e.reserved=t},type:161,title:D(22785,"选择预留号"),replaceDatas:[],dataURL:"/api/odoc/odocNumberManage/getReservedNumberList?1=1&",completeURL:"/api/odoc/odocNumberManage/getReservedNumberList?1=1&",hasAdvanceSerach:!0,conditionURL:"/api/odoc/odocNumberManage/getReservedNumberList?condition=1&",viewAttr:3,dataParams:{id:s,dialog:1,showYear:x},customized:!0,conditionDataParams:{showYear:x},icon:"icon-coms-official",iconBgcolor:"red",onChange:function(e,t,o){o.length>0&&c({serial:o[0].serial,year:o[0].years})}})))}}]),t}(S.default.Component))||a)||a;t.default=O},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}var a=o(6),i=r(a),s=o(3),l=r(s),c=o(1),u=r(c),d=o(2),p=r(d),f=o(4),h=r(f),m=o(5),v=r(m),g=o(7),y=r(g),b=o(16),w=o(0),S=o(279),_=r(S),C=o(280),I=r(C),k=o(288),T=r(k),E=o(290),D=r(E),O=o(291),P=r(O),W=o(292),R=r(W),A=o(301),x=r(A),L=o(302),F=r(L),M=o(308),N=r(M),j=o(310),z=r(j),B=o(313),q=r(B),K=o(316),U=r(K),V=o(317),H=r(V),G=o(319),J=r(G),Q=o(320),Y=r(Q),X=o(321),$=r(X),Z=o(322),ee=r(Z),te=o(324),oe=r(te),ne=o(325),re=r(ne),ae=o(483),ie=r(ae),se=o(485),le=r(se),ce=o(486),ue=r(ce),de=o(487),pe=r(de),fe=o(488),he=r(fe),me=o(489),ve=r(me),ge=o(490),ye=r(ge),be=o(491),we=r(be),Se=o(492),_e=r(Se),Ce=o(493),Ie=r(Ce),ke=o(218),Te=r(ke),Ee=o(219),De=r(Ee),Oe=o(502),Pe=r(Oe),We=o(146),Re=r(We),Ae=o(506),xe=r(Ae),Le=o(507),Fe=r(Le),Me=o(508),Ne=r(Me),je=o(511),ze=r(je),Be=o(128),qe=r(Be),Ke=o(512),Ue=r(Ke),Ve=o(513),He=r(Ve),Ge=o(514),Je=r(Ge),Qe=o(515),Ye=r(Qe),Xe=o(180),$e=r(Xe),Ze=o(181),et=r(Ze),tt=o(182),ot=r(tt),nt=o(518),rt=r(nt),at=o(183),it=r(at),st=o(184),lt=r(st),ct=o(185),ut=r(ct),dt=o(519),pt=r(dt),ft=o(520),ht=r(ft),mt=o(521),vt=r(mt),gt=o(522),yt=r(gt),bt=o(19),wt=n(bt),St=o(626),_t=r(St),Ct=o(631),It=r(Ct);o(41),o(632);var kt=o(94),Tt=r(kt),Et=o(655),Dt=n(Et),Ot=o(252),Pt=r(Ot),Wt=w.WeaLocaleProvider.getLocaleLabel.bind(void 0,"odoc"),Rt=y.default.createElement(b.Route,{ecId:"_Route@7n5oma",path:"offical",onEnter:Wt,component:_.default},y.default.createElement(b.Route,{ecId:"_Route@773xh5",breadcrumbName:"统计子流程",path:"subWorkflowList",component:It.default}),y.default.createElement(b.Route,{ecId:"_Route@773xh6",path:"OdocNumber",component:Pt.default}),y.default.createElement(b.Route,{ecId:"_Route@773xh6",path:"OnlineEdit",component:H.default}),y.default.createElement(b.Route,{ecId:"_Route@773xh6",path:"odocSignApproval",component:xe.default}),y.default.createElement(b.Route,{ecId:"_Route@mpccwq",path:"AddOdocRequest",component:pe.default}),y.default.createElement(b.Route,{ecId:"_Route@yvenqy",path:"accountList",component:z.default}),y.default.createElement(b.Route,{ecId:"_Route@8conaw",path:"center",component:U.default}),y.default.createElement(b.Route,{ecId:"_Route@5rwcpx",path:"customPage",component:Te.default}),y.default.createElement(b.Route,{ecId:"_Route@7wapfi",path:"docVersion",component:$.default}),y.default.createElement(b.Route,{ecId:"_Route@f0noq4",path:"newTodo",component:P.default}),y.default.createElement(b.Route,{ecId:"_Route@8apv2d",path:"odocDone",component:ue.default}),y.default.createElement(b.Route,{ecId:"_Route@q9ir7h",path:"odocFinish",component:le.default}),y.default.createElement(b.Route,{ecId:"_Route@6ta6ef",path:"odocLibrary",component:F.default}),y.default.createElement(b.Route,{ecId:"_Route@p689t4",path:"odocLibraryNew",component:we.default}),y.default.createElement(b.Route,{ecId:"_Route@03mrek",path:"odocToView",component:R.default}),y.default.createElement(b.Route,{ecId:"_Route@eclsii",path:"odocViewed",component:x.default}),y.default.createElement(b.Route,{ecId:"_Route@tb5t37",path:"openModel",component:oe.default}),y.default.createElement(b.Route,{ecId:"_Route@uzbol5",path:"docTemplate",component:re.default}),y.default.createElement(b.Route,{ecId:"_Route@bheej2",path:"odocSignGroupPage",component:ie.default}),y.default.createElement(b.Route,{ecId:"_Route@5rboe0",path:"privateGroupSeting",component:J.default}),y.default.createElement(b.Route,{ecId:"_Route@v5oglm",path:"ReceiveDoc",component:I.default}),y.default.createElement(b.Route,{ecId:"_Route@h1cbe3",path:"receiveDocManage",component:he.default}),y.default.createElement(b.Route,{ecId:"_Route@8whfvz",path:"recPostUnit",component:ee.default}),y.default.createElement(b.Route,{ecId:"_Route@ioas9w",path:"registDoc",component:He.default}),y.default.createElement(b.Route,{ecId:"_Route@mdea7h",path:"report",component:q.default}),y.default.createElement(b.Route,{ecId:"_Route@h9263n",path:"searchReq",component:N.default}),y.default.createElement(b.Route,{ecId:"_Route@f31zw0",path:"sendDoc",component:T.default}),y.default.createElement(b.Route,{ecId:"_Route@elhg1s",path:"sendDocManage",component:ve.default}),y.default.createElement(b.Route,{ecId:"_Route@54t7ek",path:"signDocManage",component:ye.default}),y.default.createElement(b.Route,{ecId:"_Route@7hrx1s",path:"supervise",component:Ie.default}),y.default.createElement(b.Route,{ecId:"_Route@ijkb1f",path:"todo",component:D.default}),y.default.createElement(b.Route,{ecId:"_Route@r2w1xu",path:"trackingWF",component:_e.default}),y.default.createElement(b.Route,{ecId:"_Route@bfcz6q",path:"UploadFile",component:Y.default}),y.default.createElement(b.Route,{ecId:"_Route@n3vvt3",path:"odocPrintMould",component:vt.default}),y.default.createElement(b.Route,{ecId:"_Route@9weark",path:"portalElement",component:De.default}),y.default.createElement(b.Route,{ecId:"_Route@j9zb7w",path:"quickEntryElement",component:Pe.default}),y.default.createElement(b.Route,{ecId:"_Route@net68f",path:"odocTypeDialogCom",component:Re.default}),y.default.createElement(b.Route,{ecId:"_Route@net68f",path:"wpsJsApi",component:Ye.default}),y.default.createElement(b.Route,{ecId:"_Route@4jrfpu",path:"odocModelEssay",component:Fe.default}),y.default.createElement(b.Route,{ecId:"_Route@txq5h8",path:"OdocModelAndSensitiveCom",component:Ne.default}),y.default.createElement(b.Route,{ecId:"_Route@uj4hd9",path:"odocCenter"},y.default.createElement(b.Route,{ecId:"_Route@swkir1",path:"layoutLeftTop",component:$e.default}),y.default.createElement(b.Route,{ecId:"_Route@43n1um",path:"layoutLeftOdocType",component:et.default}),y.default.createElement(b.Route,{ecId:"_Route@3uhfnu",path:"layoutLeftTopicType",component:ot.default}),y.default.createElement(b.Route,{ecId:"_Route@idosas",path:"layoutRightSearch",component:rt.default}),y.default.createElement(b.Route,{ecId:"_Route@9smxhc",path:"layoutRightLibrary",component:it.default}),y.default.createElement(b.Route,{ecId:"_Route@uqzfav",path:"layoutRightTodo",component:lt.default}),y.default.createElement(b.Route,{ecId:"_Route@fbdxsl",path:"LayoutRightToView",component:ut.default})),y.default.createElement(b.Route,{ecId:"_Route@h6ekth",path:"odocReport",breadcrumbName:"公文报表根路由"},y.default.createElement(b.Route,{ecId:"_Route@kmzjjj",path:"flowChart/:id",component:qe.default}),y.default.createElement(b.Route,{ecId:"_Route@f8kx4h",path:"odocCount/:id",component:Ue.default})),y.default.createElement(b.Route,{ecId:"_Route@2c0h05",path:"odocPortal",breadcrumbName:"公文门户跟路由"},y.default.createElement(b.Route,{ecId:"_Route@j8m8n3",path:"odocWFManage/:id",component:ht.default}),y.default.createElement(b.Route,{ecId:"_Route@z998el",path:"odocLibrary/:id",component:pt.default})));e.exports={Route:Rt,store:Tt.default,components:(0,i.default)({uploadFileComp:y.default.createElement(Y.default,{ecId:"_UploadFileComponent@jdo7dg"})},Dt,{UploadDocFile:y.default.createElement(Je.default,{ecId:"_UploadDocFile@juaui7"}),OpenModel:y.default.createElement(oe.default,{ecId:"_OpenModelCompenent@a7jjhz"}),OdocTemplatePreview:y.default.createElement(re.default,{ecId:"_DocTemplateComponent@xfwcws"}),OdocComps2Export:y.default.createElement(yt.default,{ecId:"_OdocComps2Export@0a2i1x"}),OdocComsDialogTypes:wt,OdocEvent:new _t.default(Tt.default),OdocModelAndSensitiveCom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(o){function n(e){(0,u.default)(this,n);var t=(0,h.default)(this,(n.__proto__||(0,l.default)(n)).call(this,e));return t.state={reRender:!1},t}return(0,v.default)(n,o),(0,p.default)(n,[{key:"componentDidMount",value:function(){var e=this;w.WeaLocaleProvider.getLocaleLabelByCode("odoc").then(function(){return e.setState({reRender:!0})})}},{key:"render",value:function(){this.state.reRender;return y.default.createElement(e,(0,i.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Component@4jhe98",ref:t},this.props,this.state))}}]),n}(y.default.Component)}(Ne.default),odocModelAndSensitiveComponent:y.default.createElement(Ne.default,{ecId:"_OdocModelAndSensitiveCom@1awoie",odocModelAndSensitiveStore:Tt.default.odocModelAndSensitiveStore}),saveAsModelCom:y.default.createElement(ze.default,{ecId:"_SaveAsModelCom@c4jv17"})})}},function(e,t,o){o(255),e.exports=o(15).Object.getPrototypeOf},function(e,t,o){var n=o(39),r=o(161);o(113)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,o){o(257);var n=o(15).Object;e.exports=function(e,t,o){return n.defineProperty(e,t,o)}},function(e,t,o){var n=o(17);n(n.S+n.F*!o(22),"Object",{defineProperty:o(27).f})},function(e,t,o){e.exports={default:o(259),__esModule:!0}},function(e,t,o){o(76),o(88),e.exports=o(115).f("iterator")},function(e,t,o){var n=o(60),r=o(49);e.exports=function(e){return function(t,o){var a,i,s=String(r(t)),l=n(o),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===c||(i=s.charCodeAt(l+1))<56320||i>57343?e?s.charAt(l):a:e?s.slice(l,l+2):i-56320+(a-55296<<10)+65536)}}},function(e,t,o){"use strict";var n=o(87),r=o(47),a=o(78),i={};o(36)(i,o(26)("iterator"),function(){return this}),e.exports=function(e,t,o){e.prototype=n(i,{next:r(1,o)}),a(e,t+" Iterator")}},function(e,t,o){var n=o(27),r=o(30),a=o(42);e.exports=o(22)?Object.defineProperties:function(e,t){r(e);for(var o,i=a(t),s=i.length,l=0;s>l;)n.f(e,o=i[l++],t[o]);return e}},function(e,t,o){"use strict";var n=o(264),r=o(164),a=o(77),i=o(33);e.exports=o(114)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,o):"values"==t?r(0,e[o]):r(0,[o,e[o]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t,o){e.exports={default:o(266),__esModule:!0}},function(e,t,o){o(267),o(119),o(270),o(271),e.exports=o(15).Symbol},function(e,t,o){"use strict";var n=o(18),r=o(37),a=o(22),i=o(17),s=o(162),l=o(116).KEY,c=o(31),u=o(73),d=o(78),p=o(61),f=o(26),h=o(115),m=o(117),v=o(268),g=o(165),y=o(30),b=o(25),w=o(39),S=o(33),_=o(71),C=o(47),I=o(87),k=o(269),T=o(118),E=o(75),D=o(27),O=o(42),P=T.f,W=D.f,R=k.f,A=n.Symbol,x=n.JSON,L=x&&x.stringify,F=f("_hidden"),M=f("toPrimitive"),N={}.propertyIsEnumerable,j=u("symbol-registry"),z=u("symbols"),B=u("op-symbols"),q=Object.prototype,K="function"==typeof A&&!!E.f,U=n.QObject,V=!U||!U.prototype||!U.prototype.findChild,H=a&&c(function(){return 7!=I(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a})?function(e,t,o){var n=P(q,t);n&&delete q[t],W(e,t,o),n&&e!==q&&W(q,t,n)}:W,G=function(e){var t=z[e]=I(A.prototype);return t._k=e,t},J=K&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},Q=function(e,t,o){return e===q&&Q(B,t,o),y(e),t=_(t,!0),y(o),r(z,t)?(o.enumerable?(r(e,F)&&e[F][t]&&(e[F][t]=!1),o=I(o,{enumerable:C(0,!1)})):(r(e,F)||W(e,F,C(1,{})),e[F][t]=!0),H(e,t,o)):W(e,t,o)},Y=function(e,t){y(e);for(var o,n=v(t=S(t)),r=0,a=n.length;a>r;)Q(e,o=n[r++],t[o]);return e},X=function(e,t){return void 0===t?I(e):Y(I(e),t)},$=function(e){var t=N.call(this,e=_(e,!0));return!(this===q&&r(z,e)&&!r(B,e))&&(!(t||!r(this,e)||!r(z,e)||r(this,F)&&this[F][e])||t)},Z=function(e,t){if(e=S(e),t=_(t,!0),e!==q||!r(z,t)||r(B,t)){var o=P(e,t);return!o||!r(z,t)||r(e,F)&&e[F][t]||(o.enumerable=!0),o}},ee=function(e){for(var t,o=R(S(e)),n=[],a=0;o.length>a;)r(z,t=o[a++])||t==F||t==l||n.push(t);return n},te=function(e){for(var t,o=e===q,n=R(o?B:S(e)),a=[],i=0;n.length>i;)!r(z,t=n[i++])||o&&!r(q,t)||a.push(z[t]);return a};K||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(o){this===q&&t.call(B,o),r(this,F)&&r(this[F],e)&&(this[F][e]=!1),H(this,e,C(1,o))};return a&&V&&H(q,e,{configurable:!0,set:t}),G(e)},s(A.prototype,"toString",function(){return this._k}),T.f=Z,D.f=Q,o(166).f=k.f=ee,o(51).f=$,E.f=te,a&&!o(50)&&s(q,"propertyIsEnumerable",$,!0),h.f=function(e){return G(f(e))}),i(i.G+i.W+i.F*!K,{Symbol:A});for(var oe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;oe.length>ne;)f(oe[ne++]);for(var re=O(f.store),ae=0;re.length>ae;)m(re[ae++]);i(i.S+i.F*!K,"Symbol",{for:function(e){return r(j,e+="")?j[e]:j[e]=A(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),i(i.S+i.F*!K,"Object",{create:X,defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ie=c(function(){E.f(1)});i(i.S+i.F*ie,"Object",{getOwnPropertySymbols:function(e){return E.f(w(e))}}),x&&i(i.S+i.F*(!K||c(function(){var e=A();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,o,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(o=t=n[1],(b(t)||void 0!==e)&&!J(e))return g(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!J(t))return t}),n[1]=t,L.apply(x,n)}}),A.prototype[M]||o(36)(A.prototype,M,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,o){var n=o(42),r=o(75),a=o(51);e.exports=function(e){var t=n(e),o=r.f;if(o)for(var i,s=o(e),l=a.f,c=0;s.length>c;)l.call(e,i=s[c++])&&t.push(i);return t}},function(e,t,o){var n=o(33),r=o(166).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?s(e):r(n(e))}},function(e,t,o){o(117)("asyncIterator")},function(e,t,o){o(117)("observable")},function(e,t,o){e.exports={default:o(273),__esModule:!0}},function(e,t,o){o(274),e.exports=o(15).Object.setPrototypeOf},function(e,t,o){var n=o(17);n(n.S,"Object",{setPrototypeOf:o(275).set})},function(e,t,o){var n=o(25),r=o(30),a=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=o(32)(Function.call,o(118).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,o){return a(e,o),t?e.__proto__=o:n(e,o),e}}({},!1):void 0),check:a}},function(e,t,o){e.exports={default:o(277),__esModule:!0}},function(e,t,o){o(278);var n=o(15).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,o){var n=o(17);n(n.S,"Object",{create:o(87)})},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{style:{height:"100%"}},this.props.children)}}]),t}(m.default.Component);t.default=v},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(89),l=r(s),c=o(6),u=r(c),d=o(3),p=r(d),f=o(1),h=r(f),m=o(2),v=r(m),g=o(4),y=r(g),b=o(5),w=r(b),S=o(7),_=r(S),C=o(10),I=o(0),k=o(9),T=o(11),E=(o(8),o(62)),D=n(E),O=o(167),P=n(O),W=o(122),R=r(W),A=o(283),x=r(A),L=o(284),F=r(L),M=o(285),N=r(M),j=o(169),z=r(j),B=o(124),q=r(B),K=o(170),U=r(K),V=o(90),H=o(13),G=r(H),J=T.WeaTableNew.WeaTable,Q=I.WeaLocaleProvider.getLabel,Y=I.WeaDropdown.ButtonSelect,X=(a=(0,C.inject)("receiveDoc"))(i=(0,C.observer)(i=function(e){function t(e){(0,h.default)(this,t);var o=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return o.getColumns=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return"attachment"==e.dataIndex?(0,u.default)({},e,{title:e.title,className:"",render:function(e,t){return _.default.createElement("span",null,""!=t.attachment&&_.default.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){return o.openAttachmentDialog(t)}},t.attachmentspan),""==t.attachment&&_.default.createElement("span",null,t.attachmentspan))}}):e})},o.openAttachmentDialog=function(e){(0,o.props.receiveDoc.setMobxState)({attachmentVisible:!0,attachmentTitle:e.document_identifierspan,attachmentIds:e.attachment})},o.onOperatesClick=function(e,t,n,r){var a=o.props.receiveDoc,i=a.viewcondition,s=a.setStoreAttr,l=a.setWfDiaForm,c=a.delList,u=a.menuType,d=a.getRegistrationFormData,p=a.setMobxState,f=a.createFTPWF;if("receiveDoc"==u){if("21"==r)return p({currentId:e.id}),void a.onSigninDoc(1);if("22"==r)return void p({ifShowRejectForm:!0,currentId:e.id});if("23"==r)return p({currentId:e.id}),void p({ifSendBackForm:!0});if("24"==r)return void p({showCreatFlow:!0,currentId:e.id});if("25"==r)return p({currentId:e.id}),void a.onSigninDoc(0);if("26"==r?(p({currentId:e.id}),a.onSigninDoc(1)):"27"==r&&(p({currentStatusId:e.statusId}),o.hrmBrowser.openModal()),"1"==i){if("0"==r)p({currentId:e.id}),s("selTableIdOfcreateWF",e.id),s("createWFsn",e.sn),s("createWfid",e.workflowid),f();else if("1"==r)s("companyid",e.companyid),s("chageFlag",e.chageFlag),s("sn",e.sn),"javascript:doConfig();"===n.href&&(s("ifShowTableEdit",!1),s("ifShowLoadingAnimation",!1),l.updateFields({version:{value:e.version}},!0,!0)),s("ifShowSetWFDia",!0);else if("2"==r){var h={sn:e.sn,version:e.version,chageFlag:e.chageFlag,companyid:e.companyid,workflowid:e.workflowid};s("sn",e.sn),s("version",e.version),s("chageFlag",e.chageFlag),s("companyid",e.companyid),s("workflowid",e.workflowid),s("ifShowTableEdit",!1),s("ifShowLoadingAnimation",!1),D.getWorkflowConfig(h).then(function(e){s("ifShowTableEdit",!0),s("tableEditCols",e.columns),s("tableEditDatas",e.datas),s("tableEditTitle",e.title),a.setStoreAttr("setWfDiaFormCon",e.condition),a.setWfDiaForm.initFormFields(a.setWfDiaFormCon),s("ifShowSetWFDia",!0)})}}else"0"==i&&("0"==r?(p({currentId:e.id}),a.onSigninDoc()):"1"==r?p({ifShowRejectForm:!0,currentId:e.id}):"2"==r&&p({ifSendBackForm:!0,currentId:e.id}))}else if(a.type=e.receive_doc_type,"0"==r)p({currentId:e.id}),a.document_identifier=e.document_identifier,d();else if("1"==r)a.isReceivecheck=!0,p({currentId:e.id}),d();else if("2"==r){var m={content:Q("15097","确定要删除吗？")};(0,V.affirmDeleted)(function(){return c(e.id)},m)}},o.batchSignDoc=function(){var e=o.props.receiveDoc,t=e.isUseTriSubWorkflow,n=e.onSigninDoc;"1"==t&&n(0),"0"==t&&n(1)},o.getNewDatasOfTable=function(){setTimeout(function(){var e=o.props.receiveDoc,t=e.setWfDiaForm,n=e.setStoreAttr,r=e.chageFlag,a=e.companyid,i=e.sn;if(t.getFormParams().workflowid){n("ifShowLoadingAnimation",!0),n("ifShowTableEdit",!1);var s=(0,u.default)({},t.getFormParams(),{chageFlag:r,companyid:a,sn:i});D.getWorkflowConfig(s).then(function(e){n("ifShowLoadingAnimation",!1),n("ifShowTableEdit",!0),n("tableEditCols",e.columns),n("tableEditDatas",e.datas),n("tableEditTitle",e.title)})}},30)},o.getSearchsAdQuick=function(){var e=o.props.receiveDoc,t=[];return e.adSearchForm.isFormInit&&e.conditioninfo.map(function(n,r){t.push(_.default.createElement(I.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@kns3dy@"+r,needTigger:!1,title:n.title,showGroup:n.defaultshow,items:n.items.map(function(t){if("receiveDocType"!=t.domkey[0]&&"registrationStatus"!=t.domkey[0]&&"dealDate"!=t.domkey[0]&&"communicationUnit"!=t.domkey[0]&&"receiveDocDate"!=t.domkey[0]&&"theme"!=t.domkey[0])return{com:_.default.createElement(I.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@sd53hb@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},_.default.createElement(T.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@wdagwf@"+t.domkey[0],fieldConfig:t,form:e.adSearchForm})),col:t.conditionType.toUpperCase()==I.WeaTools.types.CASCADER?1:2}})}))}),t},o.clickBatchBtn0=function(e){var t=o.props.receiveDoc,n=t.onSigninDoc,r=t.setMobxState;"0"==e?o.batchSignDoc():"1"==e?r({ifShowRejectForm:!0}):"2"==e?r({ifSendBackForm:!0}):"3"==e?o.hrmBrowser.openModal():"4"==e&&n(1)},o.clickBatchBtn=function(e){var t=o.props.receiveDoc,n=t.onSigninDoc,r=t.setMobxState;"createWf"==e?n(1):"reject"==e&&r({ifSendBackForm:!0})},o.doSomeBatch=function(e){var t=o.props.receiveDoc,n=t.initData,r=t.isInnerChange,a=t.menuType,i=t.setMobxState;n({compParams:{viewcondition:1,viewconditiondomkey:"state",menuType:a,isInnerChange:r,state:1,batchType:e}}),i({batchType:e,selectRowId:[]})},o.closeReject=function(){var e=o.props.receiveDoc,t=e.rejectFormCon,n=e.reinitWeaForm,r=e.setMobxState;e.tableStore;(0,e.setStoreAttr)("ifShowRejectForm",!1),n(e,"rejectForm",t),r({currentId:""})},o.closeBackOut=function(){var e=o.props.receiveDoc,t=e.sendBackFormCon,n=e.reinitWeaForm,r=e.setMobxState,a=e.setStoreAttr;e.tableStore;a("ifSendBackForm",!1),n(e,"sendBackForm",t),r({currentId:""})},o.tabChange=function(e){var t=o.props.receiveDoc,n=t.setMobxState,r=t.setStoreAttr,a=t.initData,i=t.isInnerChange,s=t.menuType,l=t.adSearchForm;n({currentId:"",selectRowId:[]}),l.resetForm(),a({compParams:{viewcondition:e,viewconditiondomkey:"state",menuType:s,isInnerChange:i,state:e,batchType:"1"==e?"createWf":""}}),r("ifShowSearchAd",!1)},o.tabSearchChange=function(e){var t=o.props.receiveDoc,n=t.menuType,r=t.adSearchForm,a=t.isInnerChange,i=t.CHANGE_MODE;"receiptRegistration"==n?r.updateFields({title:{value:e}}):"0"==a&&"FTP"==i?r.updateFields({docsubject:{value:e}}):r.updateFields({documentTitle:{value:e}})},o.rowSelectionChange=function(e,t){var n=o.props.receiveDoc,r=n.setMobxState,a=n.viewcondition,i=n.setStoreAttr,s=n.isInnerChange;if(r({selectRowId:e}),"0"==a&&"1"==s){var c=[],u=!0,d=!1,p=void 0;try{for(var f,h=(0,l.default)(t);!(u=(f=h.next()).done);u=!0){var m=f.value;c.push(m.statusId)}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}r({selectRowStatusId:c})}"1"==a&&(t.length>0?(i("selTableIdOfcreateWF",t[0].id),i("createWFsn",t[0].sn),i("createWfid",t[0].workflowid)):(i("selTableIdOfcreateWF",""),i("createWFsn",""),i("createWfid","")))},o.rejectBtnClick=function(){var e=o.props.receiveDoc,t=e.rejectForm,n=e.onReject;(0,V.validateForm)(t,n,function(){return k.message.warn(Q("508377","有必填项没有填写"))})},o.setShowSearchAd=function(e){o.props.receiveDoc.setStoreAttr("ifShowSearchAd",e)},o.onSearch=function(){return o.props.receiveDoc.onSearch({behavior:"search"})},o.getRowSelection=function(){var e=o.props.receiveDoc;return{onChange:o.rowSelectionChange,rowSelection:e.selectRowId}},o.getSearchsAdQuick=o.getSearchsAdQuick.bind(o),o.hideTop=!(!e.location.query||!e.location.query.hideTop),o}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.receiveDoc,o=e.location,n=e.menuType,r=!!o.query.isReally&&o.query.isReally,a=o.query.isInnerChange?o.query.isInnerChange:"0";window.isOdocOpenWF=!0,t.setMobxState({isReally:r,isInnerChange:a}),"0"==a&&t.getFlowList(1),t.getMenuType(n),t.sendBackForm.initFormFields(P.sendBackCondt),t.rejectForm.initFormFields(P.rejectCondt),D.getWorkflowConfigCondition().then(function(e){t.setStoreAttr("setWfDiaFormCon",e),t.setWfDiaForm.initFormFields(t.setWfDiaFormCon)})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.receiveDoc,o=t.setMobxState,n=t.getFlowList,r=t.getMenuType,a=t.sendBackForm,i=t.rejectForm,s=t.setStoreAttr,l=t.setWfDiaForm,c=t.setWfDiaFormCon,u=t.isInnerChange,d=e.location,p=e.menuType,f=d.query.isInnerChange?d.query.isInnerChange:"0";f!==u&&(o({adSearchForm:new T.WeaForm,selectRowId:[],isInnerChange:f,flowListData:[],currentId:""}),"0"==u&&(n(1),n(2)),r(p),a.initFormFields(P.sendBackCondt),i.initFormFields(P.rejectCondt),D.getWorkflowConfigCondition().then(function(e){s("setWfDiaFormCon",e),l.initFormFields(c)}))}},{key:"componentWillUnmount",value:function(){this.props.receiveDoc.setMobxState({adSearchForm:new T.WeaForm,selectRowId:[],flowListData:[],currentId:""})}},{key:"render",value:function(){var e=this,t=this.props.receiveDoc,o=t.adSearchForm,n=t.loading,r=t.ifShowSearchAd,a=t.viewcondition,i=t.tableStore,s=t.sendBack,l=t.CHANGE_MODE,c=t.topTab,d=t.pagetitle,p=t.sendBackForm,f=t.rejectForm,h=t.ifShowRejectForm,m=t.ifSendBackForm,v=t.menuType,g=t.onSearch,y=t.hasRight,b=t.isInnerChange,w=t.attachmentVisible,C=t.attachmentIds,E=t.attachmentTitle,D=t.closeAttachment;if(!y)return _.default.createElement(q.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocNoRightComponent@hw5j3n"});var O="receiptRegistration"==v?o.getFormParams().title:"0"==b&&"FTP"==l?o.getFormParams().docsubject:o.getFormParams().documentTitle;return _.default.createElement("div",null,f.isFormInit&&_.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@o8fhou",title:Q("388089","拒收公文"),visible:h,icon:"icon-coms-official",iconBgcolor:"#F14A2D",onCancel:this.closeReject,buttons:[_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@qyqayi@ok",type:"primary",onClick:this.rejectBtnClick,disabled:t.loading}," ",Q("33703","确认")," ")],style:{height:200}},_.default.createElement(I.WeaSearchGroup,(0,u.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@yv209x"},P.rejectCondt[0],{items:[{com:_.default.createElement(I.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@4dpwdg@reject",error:f.getError(P.rejectCondt[0].items[0]),labelCol:""+P.rejectCondt[0].items[0].labelCol,hideLabel:!0,tipPosition:"bottom"},_.default.createElement(T.WeaSwitch,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSwitch@xjx7fv@reject",fieldConfig:P.rejectCondt[0].items[0],form:f}))}],title:Q("533947","拒收理由")}))),p.isFormInit&&_.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@tpg6g7",title:Q("388090","退回公文"),visible:m,icon:"icon-coms-official",iconBgcolor:"#F14A2D",style:{height:200},onCancel:this.closeBackOut,buttons:[_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@1mdgjv@sendBack",type:"primary",onClick:function(){return(0,V.validateForm)(p,s,function(){return k.message.warn(Q("508377","有必填项没有填写"))})},disabled:t.loading}," ",Q("33703","确认")," ")]},_.default.createElement(I.WeaSearchGroup,(0,u.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@3jev2b"},P.sendBackCondt[0],{items:[{com:_.default.createElement(I.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@eyvi7q@sendBack",labelCol:""+P.sendBackCondt[0].items[0].labelCol,error:p.getError(P.sendBackCondt[0].items[0]),hideLabel:!0,tipPosition:"bottom"},_.default.createElement(T.WeaSwitch,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSwitch@8lf9kc@sendBack",fieldConfig:P.sendBackCondt[0].items[0],form:p}))}],title:Q("533948","退回理由")}))),_.default.createElement(I.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@77uaqu",datas:this.getRightMenu()},!this.hideTop&&_.default.createElement(I.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@wwf03t",title:d,loading:n,icon:_.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#F14A2D",buttons:this.getTopButton(),showDropIcon:!0,dropMenuDatas:this.getRightMenu()},_.default.createElement(I.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@bmk8ak",datas:c,keyParam:"viewcondition",countParam:"groupid",searchType:["base","advanced"],selectedKey:a,showSearchAd:r,setShowSearchAd:this.setShowSearchAd,buttonsAd:(0,x.default)(t,"state",!1),searchsAd:(0,R.default)(t,function(){g({behavior:"changeTab"}),t.setStoreAttr("ifShowSearchAd",!1)}),onChange:this.tabChange,searchsBaseValue:O,onSearchChange:this.tabSearchChange,onSearch:this.onSearch}),_.default.createElement(J,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@4mi7c9",hasOrder:!0,needScroll:!0,onOperatesClick:this.onOperatesClick,comsWeaTableStore:i,rowSelection:this.getRowSelection(),getColumns:this.getColumns})),this.hideTop&&_.default.createElement(S.Fragment,null,_.default.createElement(I.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@bmk8ak",datas:c,keyParam:"viewcondition",countParam:"groupid",searchType:["base","advanced"],selectedKey:a,showSearchAd:r,setShowSearchAd:this.setShowSearchAd,buttonsAd:(0,x.default)(t,"state",!1),searchsAd:(0,R.default)(t,function(){g({behavior:"changeTab"}),t.setStoreAttr("ifShowSearchAd",!1)}),onChange:this.tabChange,searchsBaseValue:O,onSearchChange:this.tabSearchChange,onSearch:this.onSearch}),_.default.createElement(J,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@4mi7c9",hasOrder:!0,needScroll:!0,onOperatesClick:this.onOperatesClick,comsWeaTableStore:i,rowSelection:this.getRowSelection(),getColumns:this.getColumns}))),_.default.createElement(F.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CreatFlowDialogComponent@dckl06",selectRowId:t.selectRowId}),_.default.createElement(z.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReceiveRegistDialog@4cclx1"}),_.default.createElement(N.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SetWFDia@j6vuqa",getNewDatasOfTable:this.getNewDatasOfTable}),w&&_.default.createElement(U.default,{attachmentIds:C,attachmentVisible:w,attachmentTitle:E,closeAttachment:D}),_.default.createElement(I.WeaBrowser,{ref:function(t){return e.hrmBrowser=t},type:1,title:Q(179,"人力资源"),tabs:[{name:Q(24515,"最近"),key:"1"},{name:Q(18511,"同部门"),key:"2"},{name:Q(15089,"我的下属"),key:"3"},{name:Q(18770,"按组织结构"),key:"4",browserProps:{browserTreeCustomProps:{defaultExpandedLevel:2}}},{name:Q(81554,"常用组"),key:"5"},{name:"所有人",key:"6"}],linkUrl:"/spa/hrm/index_mobx.html#/main/hrm/card/cardInfo/",buttons:[_.default.createElement(k.Button,{type:"ghost",onClick:function(){return e.hrmBrowser.closeModal()}},"取消")],onChange:function(e,o,n){t.reSigning(e)}}))}},{key:"openWorkflow",value:function(e){var t=screen.availWidth-10,o=screen.availHeight-50,n="top=0,left=0,";n+="width="+t+",",n+="height="+o+",",n+="directories=no,status=yes,toolbar=no,location=no,",n+="menubar=no,scrollbars=yes,resizable=yes",window.open((0,G.default)("/workflow/request/ViewRequestForwardSPA.jsp?requestid="+e),"",n)}},{key:"getRightMenu",value:function(){var e=this,t=this.props,o=t.receiveDoc,n=t.location,r=o.viewcondition,a=o.menuType,i=o.showRegistDialog,s=o.selectRowId,l=o.onReceive,c=o.setMobxState,u=o.onSigninDoc,d=o.customSet,p=o.onSearch,f=o.tableStore,h=o.delList,m=o.loading,v=o.CHANGE_MODE,g=o.isUseTriSubWorkflow,y=o.batchType,b=[],w=f.selectedRowKeys.slice(),S=!(w&&w.length)||m,C=n.query.isInnerChange?n.query.isInnerChange:"0",I=!0,k=!0;return S||(I="createWf"==y,k="createWf"!=y),"receiveDoc"===a?("0"==r?b=[{key:"1",icon:_.default.createElement("i",{className:"icon-coms-leading-in"}),content:Q("18526","接收"),title:Q("18526","接收"),onClick:function(){return l()}},{key:"2",icon:_.default.createElement("i",{className:"icon-coms-search"}),content:Q("388113","搜索"),title:Q("388113","搜索"),onClick:function(){return p({behavior:"search"})}},{key:"3",icon:_.default.createElement("i",{className:"icon-coms-menu-Receive"}),disabled:S,content:Q("387687","批量签收"),title:Q("387687","批量签收"),onClick:function(){return e.batchSignDoc()}},{key:"4",icon:_.default.createElement("i",{className:"icon-coms-Clear"}),disabled:S,content:Q("387688","批量拒收"),title:Q("387688","批量拒收"),onClick:function(){return c({ifShowRejectForm:!0})}},{key:"5",icon:_.default.createElement("i",{className:"icon-coms-go-back"}),disabled:S,content:Q("83423","批量退回"),title:Q("83423","批量退回"),onClick:function(){return c({ifSendBackForm:!0})}},{key:"6",icon:_.default.createElement("i",{className:"icon-coms-home"}),content:Q("32535","显示列定制"),title:Q("32535","显示列定制"),onClick:function(){return d()}},{key:"7",icon:_.default.createElement("i",{className:"icon-coms-export"}),content:Q("28343","导出Excel"),title:Q("28343","导出Excel"),onClick:function(){return f.exportAll()}}]:"1"!=r&&"2"!=r&&"3"!=r&&"4"!=r||(b=[{key:"2",icon:_.default.createElement("i",{className:"icon-coms-search"}),content:Q("388113","搜索"),title:Q("388113","搜索"),onClick:function(){return p({behavior:"search"})}},{key:"6",icon:_.default.createElement("i",{className:"icon-coms-home"}),content:Q("32535","显示列定制"),title:Q("32535","显示列定制"),onClick:function(){return d()}},{key:"7",icon:_.default.createElement("i",{className:"icon-coms-export"}),content:Q("28343","导出Excel"),title:Q("28343","导出Excel"),onClick:function(){return f.exportAll()}}],"1"==r&&"1"!=C&&"FTP"!=v&&b.push({key:"9",icon:_.default.createElement("i",{className:"icon-coms-leading-in"}),disabled:S,content:Q("532130","批量创建流程"),title:Q("532130","批量创建流程"),onClick:function(){return c({showCreatFlow:!0})}})),"1"==C&&"0"==r&&(b.shift(),g&&b.unshift({key:"10",icon:_.default.createElement("i",{className:"icon-coms-menu-Receive"}),disabled:S,content:Q("531674","批量签收并触发"),title:Q("531674","批量签收并触发"),onClick:function(){return u(1)}}),b.unshift({key:"11",icon:_.default.createElement("i",{className:"icon-coms-menu-Receive"}),disabled:S,content:Q("532132","批量转签"),title:Q("532132","批量转签"),onClick:function(){return e.hrmBrowser.openModal()}})),"1"==C&&"1"==r&&(b.unshift({key:"10",icon:_.default.createElement("i",{className:"icon-coms-menu-Receive"}),disabled:k,content:Q("532131","批量触发流程"),title:Q("532131","批量触发流程"),onClick:function(){return u(1)}}),b.unshift({key:"11",icon:_.default.createElement("i",{className:"icon-coms-menu-Receive"}),disabled:I,content:Q("83423","批量退回"),title:Q("83423","批量退回"),onClick:function(){return c({ifSendBackForm:!0})}}))):b=[{key:"1",icon:_.default.createElement("i",{className:"icon-coms-shouxie"}),content:Q("510164","来文登记"),title:Q("510164","来文登记"),onClick:function(){return i()}},{key:"2",icon:_.default.createElement("i",{className:"icon-coms-Delete"}),content:Q("32136","批量删除"),title:Q("32136","批量删除"),disabled:S,onClick:function(){return(0,V.affirmDeleted)(function(){return h(s.join(","))})}},{key:"7",icon:_.default.createElement("i",{className:"icon-coms-export"}),content:Q("28343","导出Excel"),title:Q("28343","导出Excel"),onClick:function(){return f.exportAll()}}],b}},{key:"getTopButton",value:function(){var e=this,t=this.props,o=t.receiveDoc,n=t.location,r=o.viewcondition,a=o.menuType,i=o.setMobxState,s=o.showRegistDialog,l=o.selectRowId,c=o.delList,u=(o.onSigninDoc,o.onReceive),d=o.loading,p=o.CHANGE_MODE,f=o.isUseTriSubWorkflow,h=o.tableStore,m=[],v=h.selectedRowKeys.slice(),g=!(v&&v.length)||d;if("receiptRegistration"==a)m=[_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@tgbb7o@regist",type:"primary",onClick:function(){return s()}},Q("510164","来文登记")),_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@zytcqf@batchDelete",type:"primary",disabled:g,onClick:function(){return(0,V.affirmDeleted)(function(){return c(l.join(","))})}},Q("32136","批量删除"))];else{var y=n.query.isInnerChange?n.query.isInnerChange:"0";if("0"==r?m=[_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@s9ipet@receive",type:"primary",onClick:function(){return u()}},Q("18526","接收")),_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@gs5483@batchSign",type:"primary",disabled:g,onClick:function(){return e.batchSignDoc()}},Q("387687","批量签收")),_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@9qhbru@batchReject",type:"primary",disabled:g,onClick:function(){return i({ifShowRejectForm:!0})}},Q("387688","批量拒收")),_.default.createElement(k.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@mbfrvq@batchsendBack",type:"primary",disabled:g,onClick:function(){return i({ifSendBackForm:!0})}},Q("83423","批量退回"))]:"1"!=r&&"2"!=r&&"3"!=r&&"4"!=r||"1"==r&&"FTP"!=p&&(m=[_.default.createElement(k.Button,{type:"primary",disabled:g,onClick:function(){return i({showCreatFlow:!0})}},Q("532130","批量创建流程"))]),"1"==y)if(m.shift(),"0"==r){m=[];var b=[{key:"0",show:Q(387687,"批量签收"),selected:!0},{key:"1",show:Q(387688,"批量拒收")},{key:"2",show:Q(83423,"批量退回")},{key:"3",show:Q(532132,"批量转签")}];f&&b.push({key:"4",show:Q(531674,"批量签收并触发")}),m.unshift(_.default.createElement(Y,{datas:b,btnProps:{disabled:g},btnOnClick:function(t){return e.clickBatchBtn0(t)}}))}else if("1"==r){var w=[{key:"createWf",show:Q(532131,"批量触发流程"),selected:!0},{key:"reject",show:Q(83423,"批量退回")}];m.unshift(_.default.createElement(Y,{datas:w,btnProps:{disabled:g},btnOnClick:function(t){return e.clickBatchBtn(t)},menuOnClick:function(t){return e.doSomeBatch(t)}}))}}return m}}]),t}(_.default.Component))||i)||i;t.default=X},function(e,t,o){o(88),o(76),e.exports=o(282)},function(e,t,o){var n=o(30),r=o(120);e.exports=o(15).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){return[React.createElement(n.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@gy2gk6@search",type:"primary",onClick:function(){a.onSearchBtnClick(e,t)}},s("388113","搜索")),o?null:React.createElement(n.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@zfiu0u@reset",type:"ghost",onClick:function(){e.adSearchForm.reset()}},s("2022","重置")),o?null:React.createElement(n.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@2zo3p4@cancel",type:"ghost",onClick:function(){e.setStoreAttr("ifShowSearchAd",!1)}},s("31129","取消"))]};var n=o(9),r=o(168),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(r),i=o(0),s=i.WeaLocaleProvider.getLabel},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(9),w=o(10),S=y.WeaLocaleProvider.getLabel,_=(r=(0,w.inject)("receiveDoc"))(a=(0,w.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props.receiveDoc,o=t.setMobxState;return g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@t342u3",title:S("388475","请选择需要创建的流程"),icon:"icon-coms-workflow",iconBgcolor:"#0079de",onCancel:function(){return o({showCreatFlow:!1,currentId:""})},visible:t.showCreatFlow,buttons:[],style:{width:1e3,height:600}},g.default.createElement(b.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@rw14wn"},t.flowListData.map(function(o,n){return g.default.createElement(b.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@co47up@"+n,span:"12",className:"creatFlowCol",key:n},g.default.createElement(b.Card,{ecId:(e&&e.props&&e.props.ecId||"")+"_Card@its5r6@"+n,className:"creatCard",style:{borderTop:"3px solid "+o.color,background:"rgb(244,244,244)"}},g.default.createElement("div",{className:"creatFlowColTop"},g.default.createElement("i",{className:o.img,style:{color:""+o.color}}),g.default.createElement("span",{className:"typeName"},o.typeName,"(",o.wfCount,")")),o.wfbeans.map(function(e,o){return g.default.createElement("a",{key:o,className:"flowWorkName",onClick:function(){return t.openCreatFlowWindow(e.id,e.name)}},e.name)})))})))}}]),t}(v.Component))||a)||a;t.default=_},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(34),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(10),C=o(0),I=o(9),k=o(11),T=o(8),E=o(287),D=n(E),O=o(62),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(O),W=C.WeaLocaleProvider.getLabel,R=(r=(0,_.inject)("receiveDoc"))(a=(0,_.observer)(a=function(e){function t(e){(0,f.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return o.closeDialog=function(){var e=o.props.receiveDoc,t=e.setStoreAttr,n=e.setWfDiaForm;t("ifShowSetWFDia",!1),n.reset()},o.save=function(){var e=o.props.receiveDoc,t=e.setStoreAttr,n=e.setWfDiaForm,r=e.tableEditDatas,a=e.companyid,i=e.chageFlag,l=e.sn,u=e.onSearch;n.validate().then(function(e){if(e.isValid){var o=(0,c.default)({},n.getFormParams(),{companyid:a,chageFlag:i,sn:l,datas:(0,s.default)((0,T.toJS)(r))});P.setWorkflowConfig(o).then(function(e){e.api_status?(I.message.success("设置成功"),t("ifShowSetWFDia",!1),u({behavior:"search"})):I.message.error(e.message)})}else(0,D.default)("warning",W("384434","您还有必填项未填写"))})},o}return(0,b.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.receiveDoc,t=e.ifShowSetWFDia;return S.default.createElement(C.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@b0y50y",title:W("517308","配置流程"),visible:t,icon:"icon-coms-official",iconBgcolor:"#F14A2D",onCancel:this.closeDialog,buttons:[S.default.createElement(I.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@iecxa9@save",type:"primary",onClick:this.save},W("30986","保存"))],style:{height:500}},S.default.createElement(C.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@65npel",height:500},this.getForm(),this.getTableEdit()))}},{key:"getForm",value:function(){var e=this,t=this.props.receiveDoc,o=t.setWfDiaForm,n=t.setWfDiaFormCon;n=(0,T.toJS)(n);var r=o.isFormInit,a=[];return r&&n.map(function(t,n){var r=[];t.items.map(function(t){r.push({com:S.default.createElement(C.WeaFormItem,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaFormItem@8a61xe@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},error:o.getError(t),wrapperCol:{span:""+t.fieldcol},tipPosition:"bottom"},S.default.createElement(k.WeaSwitch,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSwitch@gzeb6h@"+t.domkey[0],fieldConfig:t,form:o,onChange:function(){e.props.getNewDatasOfTable()}})),colSpan:1})}),a.push(S.default.createElement(C.WeaSearchGroup,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaSearchGroup@k05ou5@"+n,needTigger:!0,title:t.title,showGroup:t.defaultshow,items:r,col:1}))}),a}},{key:"getTableEdit",value:function(){var e=this.props.receiveDoc,t=e.tableEditCols,o=e.tableEditDatas,n=e.tableEditTitle,r=e.ifShowTableEdit,a=e.ifShowLoadingAnimation,i=e.setStoreAttr;return r||a?a?S.default.createElement(I.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@54brg4",tip:""},S.default.createElement(C.WeaTableEdit,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTableEdit@ceygzj",columns:(0,T.toJS)(t),datas:(0,T.toJS)(o),title:n,showAdd:!1,showDelete:!1,showCopy:!1,getRowSelection:function(){return null}})):r?S.default.createElement(C.WeaTableEdit,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTableEdit@gbb6qn",columns:(0,T.toJS)(t),datas:(0,T.toJS)(o),title:n,showAdd:!1,showDelete:!1,showCopy:!1,getRowSelection:function(){return null},onChange:function(e){return i("tableEditDatas",e)}}):void 0:null}}]),t}(S.default.Component))||a)||a;t.default=R},function(e,t,o){var n=o(15),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,o){"use strict";function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i("15172","系统提示"),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return r.Modal[e]({title:o,content:t,onOk:function(){n()},okText:i("826","确定")})}Object.defineProperty(t,"__esModule",{value:!0});var r=o(9),a=o(0),i=a.WeaLocaleProvider.getLabel;t.default=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(0),_=o(9),C=o(11),I=o(8),k=o(122),T=n(k),E=o(289),D=n(E),O=o(124),P=n(O),W=o(13),R=n(W),A=o(170),x=n(A),L=S.WeaLocaleProvider.getLabel,F=C.WeaTableNew.WeaTable,M=(r=(0,w.inject)("sendDoc"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getSearchs=function(){var e=o.props.sendDoc,t=e.status,n=e.odocSendDocDialogForm,r=(0,I.toJS)(t),a=r.condition;a||(a=[]);var i=n.isFormInit,s=[];return i&&a.map(function(e,t){var r=[];e.items.map(function(e){r.push({com:b.default.createElement(S.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@vkc1hh@"+e.domkey[0],label:""+e.label,labelCol:{span:""+e.labelcol},wrapperCol:{span:""+e.fieldcol}},b.default.createElement(C.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@efanjs@"+e.domkey[0],fieldConfig:e,form:n})),colSpan:1})}),s.push(b.default.createElement(S.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@h4u838@"+t,needTigger:!0,title:e.title,showGroup:e.defaultshow,items:r,col:1}))}),s},o.getButton=function(){var e=o.props.sendDoc;return[b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@2gqewo@save",type:"primary",disabled:!1,onClick:o.save},L("30986","保存")),b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@ewap4t@close",type:"ghost",disabled:!1,onClick:e.onlyClose},L("309","关闭"))]},o.update=function(){o.props.sendDoc.odocSendDocDialogForm.updateFields({cids:{value:"",valueSpan:"",valueObj:[]}})},o.save=function(){var e=o.props.sendDoc,t=e.setReceiveSendUnitInfo,n=e.odocSendDocDialogForm,r=e.currentRequestId,a=n.getFormParams();t((0,s.default)({},a,{requestid:r}),function(){o.update()})},o.getColumns=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return"requestname"==e.dataIndex?(0,s.default)({},e,{title:e.title,className:"",render:function(e,t){return b.default.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){return o.openWindow(t.requestid,t.workflowid)}},e)}}):"attachment"==e.dataIndex?(0,s.default)({},e,{title:e.title,className:"",render:function(e,t){return b.default.createElement("span",null,""!=t.attachment&&b.default.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){return o.openAttachmentDialog(t.attachment,t.requestidspan)}},t.attachmentspan),""==t.attachment&&b.default.createElement("span",null,t.attachmentspan))}}):e})},o.getSendInfoColumns=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=o.props.sendDoc.requestidspan;return"attachment"==e.dataIndex?(0,s.default)({},e,{title:e.title,className:"",render:function(e,n){return b.default.createElement("span",null,""!=n.attachment&&b.default.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){return o.openAttachmentDialog(n.attachment,t)}},n.attachmentspan),""==n.attachment&&b.default.createElement("span",null,n.attachmentspan))}}):e})},o.openAttachmentDialog=function(e,t){(0,o.props.sendDoc.setMobxState)({attachmentVisible:!0,attachmentTitle:t,attachmentIds:e})},o.getRowSelection=function(){var e=o.props.sendDoc;return{selectedRowKeys:e.selectedRowKeys,onChange:e.onUnitRowSelect}},o.hideTop=!(!e.location.query||!e.location.query.hideTop),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.sendDoc,o=e.location;t.postWebSendDocCondition();var n=o.query.isInnerChange?o.query.isInnerChange:"0";t.setMobxState({isInnerChange:n}),t.initData({compParams:{viewcondition:0,viewconditiondomkey:"state",isInnerChange:n,state:0}})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.sendDoc,n=t.location,r=o.postWebSendDocCondition,a=o.setMobxState,i=o.initData;if(e.location.query.isInnerChange!==n.query.isInnerChange){r();var s=e.location.query.isInnerChange?e.location.query.isInnerChange:"0";a({isInnerChange:s}),i({compParams:{viewcondition:0,viewconditiondomkey:"state",isInnerChange:s,state:0}})}}},{key:"componentWillUnmount",value:function(){this.props.sendDoc.setMobxState({adSearchForm:new C.WeaForm,selectRowId:[]})}},{key:"render",value:function(){var e=this,t=this.props.sendDoc,o=t.adSearchForm,n=t.loading,r=t.ifShowSearchAd,a=t.FTPShowRecive,i=t.viewcondition,s=t.isInnerChange,l=t.tableStore,c=t.topTab,u=t.pagetitle,d=t.status,p=t.onSearch,f=t.CHANGE_MODE,h=t.rerender,m=t.hasRight,v=t.initData,g=t.requestidspan,w=t.attachmentVisible,_=t.attachmentIds,C=t.attachmentTitle,k=t.closeAttachment,E=(0,I.toJS)(d),O=E.settedUnit,W=E.otherUnit;if(!m)return b.default.createElement(P.default,null);var R="0"==s&&"FTP"==f?o.getFormParams().docsubject:o.getFormParams().doctitle;return b.default.createElement("div",null,b.default.createElement(S.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@cm9kew",datas:this.getRightMenu()},!this.hideTop&&b.default.createElement(S.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@54v9dk",title:u,loading:n,icon:b.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#F14A2D",buttons:this.getTopBtn(),showDropIcon:!0,dropMenuDatas:this.getRightMenu()},b.default.createElement(S.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@xe9s7y",datas:c,keyParam:"viewcondition",countParam:"groupid",searchType:["base","advanced"],selectedKey:i,showSearchAd:r,setShowSearchAd:function(e){return t.setStoreAttr("ifShowSearchAd",e)},hideSearchAd:function(){return t.setStoreAttr("ifShowSearchAd",!1)},buttonsAd:this.getSearchBtn(),searchsAd:(0,T.default)(t,function(){return p({behavior:"changeTab"})}),onChange:function(e){v({compParams:{viewcondition:e,viewconditiondomkey:"state",isInnerChange:s,state:e}}),o.resetForm(),t.setMobxState({selectRowId:[],requestId:[],documentIdentifier:"",selectRowBaseInfoId:[],currentBaseInfoId:"",currentId:""})},searchsBaseValue:R,onSearchChange:function(e){"1"==s?o.updateFields({doctitle:{value:e}}):"FTP"!=f?o.updateFields({doctitle:{value:e}}):o.updateFields({docsubject:{value:e}})},onSearch:function(){return p({behavior:"search"})}}),b.default.createElement(F,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTableMobx@r29m3c",hasOrder:!0,needScroll:!0,comsWeaTableStore:l,getColumns:this.getColumns,onOperatesClick:function(o,n,r,a){return t.onOperatesClick(o,n,r,a,e)},rowSelection:{onChange:t.selelctRow,selectedRowKeys:t.selectRowId}})),this.hideTop&&b.default.createElement(y.Fragment,null,b.default.createElement(S.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@xe9s7y",datas:c,keyParam:"viewcondition",countParam:"groupid",searchType:["base","advanced"],selectedKey:i,showSearchAd:r,setShowSearchAd:function(e){return t.setStoreAttr("ifShowSearchAd",e)},hideSearchAd:function(){return t.setStoreAttr("ifShowSearchAd",!1)},buttonsAd:this.getSearchBtn(),searchsAd:(0,T.default)(t,function(){return p({behavior:"changeTab"})}),onChange:function(e){o.resetForm(),p({behavior:"changeTab",viewcondition:e})},searchsBaseValue:R,onSearchChange:function(e){"1"==s?o.updateFields({doctitle:{value:e}}):"FTP"!=f?o.updateFields({doctitle:{value:e}}):o.updateFields({docsubject:{value:e}})},onSearch:function(){return p({behavior:"search"})}}),b.default.createElement(F,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTableMobx@r29m3c",hasOrder:!0,needScroll:!0,comsWeaTableStore:l,getColumns:this.getColumns,onOperatesClick:function(o,n,r,a){return t.onOperatesClick(o,n,r,a,e)},rowSelection:{onChange:t.selelctRow,selectedRowKeys:t.selectRowId}}))),b.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@1bvffi",visible:a,title:L("388097","收文单位信息"),icon:"icon-coms-official",iconBgcolor:"#F14A2D",className:"odocSendDocDialog",buttons:this.getButton(),style:{width:"785px",height:"500px"},onCancel:t.onlyClose},this.getSearchs(),b.default.createElement(D.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Collapse@601h0l",title:L("23104","流程中指定收文单位"),showGroup:!0},O&&b.default.createElement(S.WeaTable,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@byo8e2",columns:O.columns,dataSource:O.dataSource,pagination:!1})),b.default.createElement(D.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Collapse@tj2cj8",title:L("33565","其他单位"),showGroup:!0},W&&b.default.createElement(S.WeaTable,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@0y9gs1",columns:W.columns,dataSource:W.dataSource,pagination:!1}))),b.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@wv8a0w",className:"recSendInfo",title:b.default.createElement("p",{style:{color:"#4d7ad8"},dangerouslySetInnerHTML:{__html:L(535937,"收文情况")+"-"+g}}),iconBgcolor:"#f14a2d",icon:"icon-coms-official",visible:t.showRecive,buttons:this.getDocInfoDialogBtn(),onCancel:t.closeReciveDialog,draggable:!0,maskClosable:!1,style:{width:750,height:600}},b.default.createElement(S.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@d225m7",searchType:["base"],onSearch:function(e){return t.getSendDocinfo(e)}}),b.default.createElement(F,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTableMobx@mzwfss",comsWeaTableStore:t.reciveDocUnitTable,rowSelection:this.getRowSelection(),onOperatesClick:t.backout,scroll:{y:450},getColumns:this.getSendInfoColumns})),b.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@7bzg2x",title:"backout"==t.dialogType&&L(388128,"撤销公文")||"invalid"==t.dialogType&&L(388129,"作废公文"),onCancel:t.hideReasonDialog,visible:t.showReasonDialog,style:{width:550,height:212},maskClosable:!1,icon:"icon-coms-official",iconBgcolor:"#f14a2d",buttons:this.getReasonDialogBtn(),className:"sendDoc_rejectReason",key:h},b.default.createElement(S.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@8elqee",ref:"scroll",className:"rejectReason"},"backout"==t.dialogType&&t.backoutForm.render({needTigger:!1}),"invalid"==t.dialogType&&t.invalidForm.render({needTigger:!1}))),b.default.createElement(S.WeaBrowser,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@s34ucm",ref:"browser",title:L(388098,"发送其他单位"),type:"142",icon:"icon-coms-official",iconBgcolor:"#f14a2d",inputStyle:{display:"none"},onChange:t.resendSubmit,isSingle:!1,tabs:[{dataParams:{cmd:"List"},isSearch:!0,key:"1",name:L(320,"列表"),selected:!1,showOrder:0},{dataParams:{cmd:"Organization"},isSearch:!1,key:"2",name:L(16455,"组织结构"),selected:!1,showOrder:0},{dataParams:{cmd:"PublicGroup"},isSearch:!1,key:"3",name:L(17619,"公共组"),selected:!1,showOrder:0},{dataParams:{cmd:"PrivateGroup"},isSearch:!1,key:"4",name:L(17618,"私人组"),selected:!1,showOrder:0},{dataParams:{cmd:"ExternalUnit",companyType:1},isSearch:!1,key:"5",name:L(32417,"外部单位"),selected:!1,showOrder:0}],onClose:function(){}}),w&&b.default.createElement(x.default,{attachmentIds:_,attachmentVisible:w,attachmentTitle:C,closeAttachment:k}))}},{key:"getDocInfoDialogBtn",value:function(){var e=this,t=this.props.sendDoc,o=t.resendSubmit,n=t.backout,r=t.setMobxState;return[b.default.createElement(S.WeaBrowser,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@c5xhdc@sendOther",title:L(388098,"发送其他单位"),type:"142",customized:!0,inputStyle:{width:200},onChange:o,isSingle:!1,tabs:[{dataParams:{cmd:"List"},isSearch:!0,key:"1",name:L(320,"列表"),selected:!1,showOrder:0},{dataParams:{cmd:"Organization"},isSearch:!1,key:"2",name:L(16455,"组织结构"),selected:!1,showOrder:0},{dataParams:{cmd:"PublicGroup"},isSearch:!1,key:"3",name:L(17619,"公共组"),selected:!1,showOrder:0},{dataParams:{cmd:"PrivateGroup"},isSearch:!1,key:"4",name:L(17618,"私人组"),selected:!1,showOrder:0},{dataParams:{cmd:"ExternalUnit",companyType:1},isSearch:!1,key:"5",name:L(32417,"外部单位"),selected:!1,showOrder:0}],onClose:function(){r({unitArr:[],unitSelectedRowKeys:[]})}},b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@irhbgk@sendOther",type:"primary",className:"resendOther"},L(388098,"发送其他单位"))),b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@tcuybc@batchUndo",type:"primary",disabled:!(t.unitIdArr.length>0),onClick:n},L(388099,"批量撤销")),b.default.createElement(S.WeaMoreButton,{datas:[{key:"0",icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:L(388098,"发送其他单位"),onClick:function(){return e.refs.browser.openModal()}},{key:"1",disabled:!(t.unitIdArr.length>0),icon:b.default.createElement("i",{className:"icon-coms-Preservation"}),content:L(388099,"批量撤销"),onClick:function(){return n()}}],collectParams:{favouritetype:2,objid:0,importantlevel:1}})]}},{key:"getReasonDialogBtn",value:function(){var e=this,t=this.props.sendDoc,o=t.hideReasonDialog,n=t.dialogType,r=t.backoutForm,a=t.invalidForm,i=[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@tm5gil@cancel",type:"primary",onClick:o},L(31129,"取消"))];return"backout"==n?i.unshift(b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@i6pd3m",type:"primary",onClick:function(){return e.reasonCheck("backout",r)}},L(23757,"撤销"))):"invalid"==n&&i.unshift(b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@u3k117",type:"primary",onClick:function(){return e.reasonCheck("invalid",a)}},L(15358,"作废"))),i}},{key:"reasonCheck",value:function(e,t){var o=this.props.sendDoc;t.validateForm().then(function(t){t.isValid?"backout"==e?o.backoutSubmit():o.invalidSubmit():t.showErrors()})}},{key:"openWindow",value:function(e,t){var o=screen.availWidth-10,n=screen.availHeight-50,r="top=0,left=0,";r+="width="+o+",",r+="height="+n+",",r+="directories=no,status=yes,toolbar=no,location=no,",r+="menubar=no,scrollbars=yes,resizable=yes";var a="/spa/workflow/index_form.jsp#/main/workflow/req?requestid="+e+"&_workflowid="+t+"&_workflowtype=&isovertime=0";window.open((0,R.default)(a),"",r)}},{key:"getTopBtn",value:function(){var e=this,t=this.props,o=t.sendDoc,n=t.location,r=(o.selectRowId,o.viewcondition),a=o.loading,i=o.onFTPSend,s=o.setMobxState,l=o.tableStore,c=(n.query.isInnerChange&&n.query.isInnerChange,l.selectedRowKeys.slice()),u=!(c&&c.length);return"0"==r?[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@86xx7d@tatchSend",type:"primary",disabled:u,onClick:function(){return i()}},L("517319","批量发送"))]:"1"==r?[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@8g9ulg@batchSendOther",type:"primary",disabled:u||a,onClick:function(){return e.refs.browser.openModal()}},L("520733","批量发送其他单位")),b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@sfp4ws@batchInvalid",type:"primary",disabled:u||a,onClick:function(){return s({dialogType:"invalid",showReasonDialog:!0})}},L("520734","批量作废"))]:"5"==r?[]:[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@knf5ac@batchSendOther",type:"primary",disabled:u||a,onClick:function(){return e.refs.browser.openModal()}},L("520733","批量发送其他单位"))]}},{key:"getRightMenu",value:function(){var e=this,t=this.props,o=t.sendDoc,n=t.location,r=(o.selectRowId,o.viewcondition),a=o.loading,i=o.onFTPSend,s=o.setMobxState,l=o.customSet,c=o.onSearch,u=o.tableStore,d=(n.query.isInnerChange&&n.query.isInnerChange,u.selectedRowKeys.slice()),p=!(d&&d.length);return 0==r?[{key:"2",icon:b.default.createElement("i",{className:"icon-coms-search"}),content:L("388113","搜索"),title:L("388113","搜索"),onClick:function(){return c({behavior:"search"})}},{key:"1",icon:b.default.createElement("i",{className:"icon-coms-Send-message"}),disabled:p||a,content:L("517319","批量发送"),title:L("517319","批量发送"),onClick:function(){return i()}},{key:"6",icon:b.default.createElement("i",{className:"icon-coms-home"}),content:L("32535","显示列定制"),title:L("32535","显示列定制"),onClick:function(){return l()}},{key:"7",icon:b.default.createElement("i",{className:"icon-coms-export"}),content:L("28343","导出Excel"),title:L("28343","导出Excel"),onClick:function(){return u.exportAll()}}]:1==r?[{key:"3",icon:b.default.createElement("i",{className:"icon-coms-search"}),content:L("388113","搜索"),title:L("388113","搜索"),onClick:function(){return c({behavior:"search"})}},{key:"1",icon:b.default.createElement("i",{className:"icon-coms-Send-message"}),disabled:p||a,content:L("520733","批量发送其他单位"),title:L("520733","批量发送其他单位"),onClick:function(){return e.refs.browser.openModal()}},{key:"2",icon:b.default.createElement("i",{className:"icon-coms-Clear"}),disabled:p||a,content:L("520734","批量作废"),onClick:function(){return s({dialogType:"invalid",showReasonDialog:!0})}},{key:"6",icon:b.default.createElement("i",{className:"icon-coms-home"}),content:L("32535","显示列定制"),title:L("32535","显示列定制"),onClick:function(){return l()}},{key:"7",icon:b.default.createElement("i",{className:"icon-coms-export"}),content:L("28343","导出Excel"),title:L("28343","导出Excel"),onClick:function(){return u.exportAll()}}]:5!=r?[{key:"3",icon:b.default.createElement("i",{className:"icon-coms-search"}),content:L("388113","搜索"),title:L("388113","搜索"),onClick:function(){return c({behavior:"search"})}},{key:"1",icon:b.default.createElement("i",{className:"icon-coms-Send-message"}),disabled:p||a,content:L("520733","批量发送其他单位"),title:L("520733","批量发送其他单位"),onClick:function(){return e.refs.browser.openModal()}},{key:"6",icon:b.default.createElement("i",{className:"icon-coms-home"}),content:L("32535","显示列定制"),title:L("32535","显示列定制"),onClick:function(){return l()}},{key:"7",icon:b.default.createElement("i",{className:"icon-coms-export"}),content:L("28343","导出Excel"),title:L("28343","导出Excel"),onClick:function(){return u.exportAll()}}]:[{key:"3",icon:b.default.createElement("i",{className:"icon-coms-search"}),content:L("388113","搜索"),title:L("388113","搜索"),onClick:function(){return c({behavior:"search"})}},{key:"6",icon:b.default.createElement("i",{className:"icon-coms-home"}),content:L("32535","显示列定制"),title:L("32535","显示列定制"),onClick:function(){return l()}},{key:"7",icon:b.default.createElement("i",{className:"icon-coms-export"}),content:L("28343","导出Excel"),title:L("28343","导出Excel"),onClick:function(){return u.exportAll()}}]}},{key:"getSearchBtn",value:function(){var e=this.props.sendDoc,t=e.viewconditiondomkey,o=e.adSearchForm,n=e.setStoreAttr,r=e.onSearch;return[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@b7tc6q@search",type:"primary",onClick:function(){return r({behavior:"search",viewconditiondomkey:t})}},L("388113","搜索")),b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@10itnl@reset",type:"ghost",onClick:function(){return o.reset()}},L("2022","重置")),b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@i7ui4p@cancel",type:"ghost",onClick:function(){return n("ifShowSearchAd",!1)}},L("31129","取消"))]}}]),t}(b.default.Component))||a)||a;t.default=M},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(9),g=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.state={showGroup:!!e.showGroup&&e.showGroup,title:e.title?e.title:"请输入标题"},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.showGroup!==e.showGroup&&this.setState({showGroup:e.showGroup})}},{key:"render",value:function(){var e=this,t=this.state,o=t.showGroup,n=t.title,r=this.props,i=r.customIcon,s=void 0===i?"":i,l=r.childrenStyle,c=void 0===l?{}:l;return c=(0,a.default)({},c,{paddingTop:"10px"}),React.createElement("div",{className:"createWorkPlan-collapse",style:{padding:"16px 16px 0 16px"}},React.createElement(v.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@j0m4qs",className:"createWorkPlan-collapse-title",style:{padding:"0 0 10px 0",borderBottom:"1px solid #ebebeb",color:"#484848"}},React.createElement(v.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@qkchw2",span:"14"},React.createElement("div",{style:{fontSize:"12px",paddingLeft:"10px"}},n)),React.createElement(v.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@bn2xgk",span:"10",style:{textAlign:"right",fontSize:12}},s&&s,React.createElement("span",{className:o?"icon-coms-up":"icon-coms-down",onClick:function(){return e.setState({showGroup:!o})},style:{paddingRight:"10px",color:"#B2B2B2",display:"inline-block",cursor:"pointer"}}))),React.createElement(v.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@z52ps7",className:"createWorkPlan-collapse-content",style:o?c:{height:0,paddingTop:"20px",overflow:"hidden"}},this.props.children))}}]),t}(React.Component);t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(2),p=n(d),f=o(4),h=n(f),m=o(5),v=n(m),g=o(10),y=o(63),b=n(y),w=o(16),S=(0,g.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return o.defaultProp={iscomplete:0},w.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-4},e.location.query)}),o}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillUnmount",value:function(){window.isOdocOpenWF=null,window.getOdocWFList=null}}]),t}(b.default))||r;t.default=function(e){return React.createElement(S,(0,i.default)({ecId:"_TodoComponent@3r1ds5"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(16),b=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return y.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-4},e.location.query)}),o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement("span",null)}}]),t}(v.Component);t.default=function(e){return g.default.createElement(b,(0,a.default)({ecId:"_TrackingWorkflowComp@q04j3g"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(4),p=n(d),f=o(5),h=n(f),m=o(10),v=o(63),g=n(v),y=o(92),b=n(y),w=o(16),S=(0,m.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e)),n=(0,i.default)({isNew:!0},e.location.query,{isview:0,type:"toview"}),r=new b.default(n);return o.state={listStore:r},w.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-5},e.location.query)}),o}return(0,h.default)(t,e),t}(g.default))||r;t.default=function(e){return React.createElement(S,(0,i.default)({ecId:"_ToViewComponent@6q64s4"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){o(294);var n=o(15).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,o){var n=o(33),r=o(118).f;o(113)("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(3),a=n(r),i=o(14),s=n(i);t.default=function e(t,o,n){null===t&&(t=Function.prototype);var r=(0,s.default)(t,o);if(void 0===r){var i=(0,a.default)(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var l=r.get;if(void 0!==l)return l.call(n)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flexibleCallApi=void 0;var n=o(0);t.flexibleCallApi=function(e,t){return n.WeaTools.callApi(e,"POST",t)}},function(e,t,o){o(298),e.exports=o(15).Object.values},function(e,t,o){var n=o(17),r=o(299)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},function(e,t,o){var n=o(22),r=o(42),a=o(33),i=o(51).f;e.exports=function(e){return function(t){for(var o,s=a(t),l=r(s),c=l.length,u=0,d=[];c>u;)o=l[u++],n&&!i.call(s,o)||d.push(e?[o,s[o]]:s[o]);return d}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCondition=t.getTodoList=t.getTodoCount=void 0;var n=o(0);t.getTodoCount=function(e){return n.WeaTools.callApi("/api/odoc/odocTodoList/getTodoCount","POST",e)},t.getTodoList=function(e){return n.WeaTools.callApi("/api/odoc/odocTodoList/getTodoList","POST",e)},t.getCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocTodoList/getCondition","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(4),p=n(d),f=o(5),h=n(f),m=o(10),v=o(63),g=n(v),y=o(92),b=n(y),w=o(16),S=(0,m.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e)),n=(0,i.default)({isNew:!0},e.location.query,{isview:1,type:"read"}),r=new b.default(n);return o.state={listStore:r},w.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-7},e.location.query)}),o}return(0,h.default)(t,e),t}(g.default))||r;t.default=function(e){return React.createElement(S,(0,i.default)({ecId:"_ToViedComponent@ifjtly"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(3),i=n(a),s=o(1),l=n(s),c=o(4),u=n(c),d=o(5),p=n(d),f=o(10),h=o(0),m=o(63),v=n(m),g=o(173),y=n(g),b=(0,f.observer)(r=function(e){function t(e){(0,l.default)(this,t);var o=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e)),n=new y.default;return o.state={listStore:n},o}return(0,p.default)(t,e),t}(v.default))||r;t.default=h.WeaTools.tryCatch(React,function(e){return React.createElement(h.WeaErrorPage,{ecId:"_WeaErrorPage@h871k7",msg:e.error?e.error:"对不起，该页面异常，请联系管理员！"})},{error:""})(b)},function(e,t,o){o(304),e.exports=o(15).Number.parseInt},function(e,t,o){var n=o(17),r=o(305);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,o){var n=o(18).parseInt,r=o(306).trim,a=o(174),i=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var o=r(String(e),3);return n(o,t>>>0||(i.test(o)?16:10))}:n},function(e,t,o){var n=o(17),r=o(49),a=o(31),i=o(174),s="["+i+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(e,t,o){var r={},s=a(function(){return!!i[e]()||l[e]()!=l}),c=r[e]=s?t(p):i[e];o&&(r[o]=c),n(n.P+n.F*s,"String",r)},p=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCondition=t.getLibraryList=void 0;var n=o(0);t.getLibraryList=function(e){return n.WeaTools.callApi("/api/odoc/odocDoclib/odocLibrary","POST",e)},t.getCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocDoclib/getCondition","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(2),p=n(d),f=o(4),h=n(f),m=o(5),v=n(m),g=o(10),y=o(63),b=n(y),w=o(175),S=n(w),_=o(16),C=(0,g.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e)),n=(0,i.default)({isNew:!0},e.location.query),r=new S.default(n);o.state={listStore:r};var a=e.location,s=a.query.officalType;return s&&1==s?(_.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-15},a.query)}),(0,h.default)(o)):s&&2==s?(_.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-19},a.query)}),(0,h.default)(o)):s&&3==s?(_.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-23},a.query)}),(0,h.default)(o)):(_.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-11},a.query)}),o)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,i.default)({isNew:!0},e.location.query),o=new S.default(t);this.state={listStore:o};var n=e.location,r=n.query.officalType;return r&&1==r?void _.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-15},n.query)}):r&&2==r?void _.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-19},n.query)}):r&&3==r?void _.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-23},n.query)}):void _.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-11},n.query)})}}]),t}(b.default))||r;t.default=function(e){return React.createElement(C,(0,i.default)({ecId:"_SearchReqComponent@bhijuu"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCondition=t.getSearchReqList=void 0;var n=o(0);t.getSearchReqList=function(e){return n.WeaTools.callApi("/api/odoc/odocSearchReq/getSearchReqList","POST",e)},t.getCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocSearchReq/getCondition","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(20),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(9),C=o(10),I=o(11),k=o(0),T=o(8),E=o(127),D=n(E),O=I.WeaTableNew.WeaTable,P=k.WeaLocaleProvider.getLabel,W=(r=(0,C.inject)("accountListStore"))(a=(0,C.observer)(a=function(e){function t(e){(0,f.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return o.expandedRow=function(e){var t=o.props.accountListStore,n=t.subWFDatas,r=t.requestSubWFed,a=[];if((0,c.default)(n).length>0){for(var i in n)i.includes(e.requestid+"_")&&a.push(S.default.createElement("div",{className:"wea-table-child-acc"},S.default.createElement("div",{className:"right"},S.default.createElement("div",{className:"right-top"},S.default.createElement("a",{dangerouslySetInnerHTML:{__html:n[i].showlink}})),S.default.createElement("div",{className:"right-bottom"},n[i].creatershowname,"： ",S.default.createElement("a",{dangerouslySetInnerHTML:{__html:n[i].creater}}),"    ",n[i].createdatetimeshowname,"：",n[i].createdatetime,"     当前节点：审批    ",n[i].unoperatorsshowname,"：",S.default.createElement("a",{className:"right-bottom-unoperators",dangerouslySetInnerHTML:{__html:n[i].unoperators}})))));if(a.length>0)return S.default.createElement("div",{className:"wea-table-child-acc-parent"},a)}else if("1"==e.subrequestInfospan)return S.default.createElement("div",{className:"wea-table-child-acc-parent accountList-loading"},!r&&S.default.createElement(_.Spin,{ecId:(o&&o.props&&o.props.ecId||"")+"_Spin@jrbung"}))},o.getTable=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=o.props.accountListStore,n=e?null:{pagination:!1},r={current:t.current,total:t.count,pageSize:t.pageSize,defaultPageSize:t.pageSize,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:t.changeShowSize,onChange:o.tablePageChange,showTotal:function(){return P("18609","共")+" "+t.count+" "+P("18256","条")}};return S.default.createElement(k.WeaTable,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@u5i38j",columns:t.columns,defaultExpandAllRows:!0,expandedRowRender:o.expandedRow,dataSource:t.datas,pagination:r,loading:t.loading,onChange:o.tableChange},n))},o.searchCustomRender=function(e,t,n){var r=o.props.accountListStore,a=[];return e.isFormInit&&(0,T.toJS)(t).map(function(t,i){var l=[];t.items.map(function(t){l.push({com:S.default.createElement(k.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@wb4rhi@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},S.default.createElement(I.WeaSwitch,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@ejevrj@"+t.domkey[0],fieldConfig:t,form:e,onEnterSearch:function(){var t=e.getFormParams();n.closeSearch(),r.doSearch(t,!0)}},n))),col:2,hide:e.isHide(t,function(e,o){return""==o.officalType&&(t.label==P("382363","签报环节")||t.label==P("382362","收文环节")||t.label==P("382361","发文环节"))||("1"==o.officalType&&(t.label==P("382363","签报环节")||t.label==P("382362","收文环节"))||("2"==o.officalType&&(t.label==P("382363","签报环节")||t.label==P("382361","发文环节"))||"3"==o.officalType&&(t.label==P("382362","收文环节")||t.label==P("382361","发文环节"))))})})}),a.push(S.default.createElement(k.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@lqfdeu@"+i,needTigger:!1,title:t.title,showGroup:t.defaultshow,items:l}))}),a},o.tablePageChange=function(e){var t=o.props.accountListStore,n=o.tabComp?o.tabComp.wrappedInstance.getFormParams():{};t.changeShowSize(e,t.pageSize,n)},o.tableChange=function(e,t,n){var r=o.props.accountListStore;n.column&&n.order&&(r.setOrderkey(n.column.orderkey),r.setSortOrder(n.order),r.doSearch(o.tabComp.wrappedInstance.getFormParams()))},o.getTabRef=function(e){return o.tabComp=e},o.getDataList=function(e){o.props.accountListStore.doSearch(e,!0)},o.searchParams={isNew:!0},o.searchType=["base","advanced"],o}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.accountListStore;e.location.query.inPortal&&t.setMobxState({inPortal:!0,pageSize:5}),t.buildSearchCondition(),t.doSearch(),t.postWebSendDocCondition()}},{key:"renderRightAndDropMenus",value:function(){var e=this,t=this.props.accountListStore;return[{key:"1",disabled:!1,icon:S.default.createElement("i",{className:"icon-coms-search"}),content:P("197","搜索"),onClick:function(){var o=e.tabComp.wrappedInstance.getFormParams();t.doSearch(o,!0)}}]}},{key:"renderSearchAdButtons",value:function(){var e=this.props.accountListStore;return[S.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@33y1s2@search",type:"primary",onClick:function(){return e.doSearch({},!0)}},P("197","搜索")),S.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@kfxsjk@reset",type:"ghost",onClick:function(){return e.resetForm()}},P("2022","重置")),S.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@f7mayk@clean",type:"ghost",onClick:function(){return e.searchStore.changeShowSearchAd(!1)}},P("31129","取消"))]}},{key:"render",value:function(){var e=this.props.accountListStore,t=e.tableStore,o=e.changeDailogStatus,n=e.visiable,r=e.selectedRowKeys,a=e.onOperatesClick,i=e.getDialogTable,s=e.rowSelection,l=e.reasonDialogShow,c=e.repeal,u=e.backoutForm,d=e.inPortal,p=e.ReasonDialogStatus;if(d)return this.getTable(!1);var f={selectedRowKeys:r,onChange:s};return S.default.createElement(k.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@m1exxs",datas:this.renderRightAndDropMenus()},S.default.createElement(k.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@zyp5c4",title:P("383653","公文台账"),icon:S.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#f14a2d"},S.default.createElement(D.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_TabComponent@p1e8iz",ref:this.getTabRef,getDataList:this.getDataList,baseSearchName:"requestname",searchType:this.searchType,getFormUrl:"/api/odoc/odocAccountList/getCondition",searchParams:this.searchParams,searchCustomRender:this.searchCustomRender}),this.getTable()),S.default.createElement(k.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@vgpd55",title:P(388097,"收文单位信息"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:o,visible:n,style:{width:"50%",height:"600"},buttons:this.getDailogBtn(),hasScroll:!0},S.default.createElement(k.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@ih8zcs",searchType:["base"],keyParam:"viewcondition",onSearch:i}),S.default.createElement(O,{ecId:(this&&this.props&&this.props.ecId||"")+"_Table@bypgfv",comsWeaTableStore:t,rowSelection:f,onOperatesClick:a})),S.default.createElement(k.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@o375tf",title:P(388128,"撤销公文"),onCancel:p,visible:l,style:{width:750,height:"212px"},icon:"icon-coms-official",buttons:[S.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@0j0spm@undo",type:"primary",onClick:function(){return c()}},P("23757","撤销"))],className:"sendDoc_rejectReason"},S.default.createElement(k.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@h568b6",ref:"scroll",className:"rejectReason"},u.render({needTigger:!1}))))}},{key:"getDailogBtn",value:function(){var e=this.props.accountListStore,t=e.selectedRowKeys,o=e.ReasonDialogStatus,n=e.postOther,r=!(t.length>0);return[S.default.createElement(k.WeaBrowser,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@2bqn1x@selectBrowser",title:P("388123","选择单位"),type:142,customized:!0,isSingle:!1,onChange:n},S.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@yw6vk1@sendOther",type:"primary"},P("388098","发送其他单位"))),S.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@exwa5u@batchUndo",type:"primary",disabled:r,style:{marginLeft:15},onClick:o},P("388099","批量撤销"))]}}]),t}(S.default.Component))||a)||a;t.default=W},function(e,t,o){o(312),e.exports=o(15).Object.keys},function(e,t,o){var n=o(39),r=o(42);o(113)("keys",function(){return function(e){return r(n(e))}})},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,l,c,u,d=o(6),p=n(d),f=o(3),h=n(f),m=o(1),v=n(m),g=o(2),y=n(g),b=o(4),w=n(b),S=o(5),_=n(S),C=o(7),I=n(C),k=o(8),T=o(10),E=o(9),D=o(0),O=o(176),P=n(O),W=o(177),R=n(W),A=o(178),x=n(A),L=o(179),F=n(L);o(91);var M=o(314),N=o(128),j=n(N),z=o(315),B=n(z),q=o(13),K=n(q),U=D.WeaLocaleProvider.getLabel,V=(r=(0,T.inject)("reportStore"),a=(0,T.inject)("reportFlowDetailListDialogStore"),i=(0,T.inject)("reportFlowEchartDetailListDialogStore"),s=(0,T.inject)("reportDocDetailListDialogStore"),l=(0,T.inject)("reportDocEchartDetailListDialogStore"),c=(0,T.inject)("customReportStore"),r(u=a(u=i(u=s(u=l(u=c(u=(0,T.observer)(u=function(e){function t(e){(0,v.default)(this,t);var o=(0,w.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return o.getRightMenu=function(){var e=o.props.reportStore.selectedTab,t=[];if("2"==e){var n=o.props.customReportStore.rightMenuData;t=(0,k.toJS)(n)}return t},o.showFlowDetailCustomCol=function(){var e=o.props.reportFlowDetailListDialogStore;e.tableStore.setColSetVisible(!0),e.tableStore.tableColSet(!0)},o.showDocDetailCol=function(){var e=o.props.reportDocDetailListDialogStore;e.tableStore.setColSetVisible(!0),e.tableStore.tableColSet(!0)},o.tabs=[{color:"#000000",title:U("383718","流程统计"),viewcondition:"0"},{color:"#000000",title:U("384732","公文统计"),viewcondition:"1"}],o.flowEchartDetailListDialogButtons=[I.default.createElement(D.WeaMoreButton,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaMoreButton@ok5mwk@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1}})],o.flowDetailListDialogButtons=[I.default.createElement(E.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@yqbdc5@export",type:"primary",onClick:function(){return o.exportAll("flow")}},U("28343","导出Excel")),I.default.createElement(D.WeaMoreButton,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaMoreButton@a4qvcz@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1},datas:[{key:"1",icon:I.default.createElement("i",{className:"icon-coms-home"}),content:U("32535","显示列定制"),onClick:o.showFlowDetailCustomCol}]})],o.docDetailListDialogButtons=[I.default.createElement(E.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@3n0412@export",type:"primary",onClick:function(){return o.exportAll("doc")}},U("28343","导出Excel")),I.default.createElement(D.WeaMoreButton,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaMoreButton@ai4oky@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1},datas:[{key:"1",icon:I.default.createElement("i",{className:"icon-coms-home"}),content:U("32535","显示列定制"),onClick:o.showDocDetailCol}]})],o.docEchartDetailListDialogButtons=[I.default.createElement(D.WeaMoreButton,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaMoreButton@kddgbh@more",collectParams:{favname:"",favouritetype:2,objid:0,importantlevel:1}})],o}return(0,_.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.reportStore;this.props.params.id&&e.setMobxStatus({isSingleReport:!0}),e.buildSearchCondition()}},{key:"renderCountData",value:function(){var e=this,t=this.props,o=t.reportStore,n=t.reportFlowDetailListDialogStore,r=o.countDatas,a=[];return r.length>0&&r.map(function(t,o){var r={color:"#FFFFFF",fontSize:"28px",background:t.iconBackground,borderRadius:"50%",padding:10,display:"inline-block",verticalAlign:"bottom"};a.push(I.default.createElement(E.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@3ksbse@"+o,span:8,className:"count-col"},I.default.createElement("span",{className:t.icon,style:r}),I.default.createElement("ul",null,I.default.createElement("li",null,t.title),I.default.createElement("li",null,I.default.createElement("a",{onClick:function(){return n.showDialog(o)}},t.num)),I.default.createElement("li",null,I.default.createElement("span",{className:t.isUpClass}),I.default.createElement("span",{style:{marginLeft:"10px"}},t.percent),"  ",t.suffix))))}),I.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@9ynif7",className:"count-container"},a)}},{key:"render",value:function(){var e=this.props,t=e.reportStore,o=e.reportFlowEchartDetailListDialogStore,n=e.reportFlowDetailListDialogStore,r=e.reportDocDetailListDialogStore,a=e.reportDocEchartDetailListDialogStore,i=t.echart1,s=t.echart2,l=t.docChart1,c=t.docChart2,u=t.docChart3,d=t.docChart4,f=t.docChart5,h=t.docChart1title,m=t.docChart2title,v=t.docChart3title,g=t.docChart4title,y=t.docChart5title,b=t.loading,w=t.selectedTab,S=t.changeSelectedTab,_=t.echart2title,C=t.searchConfigFlow,k=t.doSearch,T=t.searchConfigDoc,O=t.searchParamsFlow,W=t.searchParamsDoc;return t.hasRight?I.default.createElement("div",{className:"wea-odoc-report"},I.default.createElement(D.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@jfvids",datas:this.getRightMenu()},I.default.createElement(E.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@7qvta9",spinning:b},I.default.createElement(D.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@pt9tc9",title:U("384731","公文报表"),icon:I.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#f14a2d"},I.default.createElement(D.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@xop9lz",datas:this.tabs,keyParam:"viewcondition",selectedKey:w,onChange:S}),0==w&&I.default.createElement("div",{className:"report"},I.default.createElement("div",{className:"report-row"},I.default.createElement(D.WeaRadioGroup,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRadioGroup@drj8y2",config:C,onChange:k})),I.default.createElement("div",{className:"report-row"},this.renderCountData()),""==_&&I.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@lxs59n",gutter:10},I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@5z911w",span:24},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@k56k0t",title:U("383719","公文流程拟办排名")+"（Top5）",id:"flowchart1",echart:i}))),""!==_&&I.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@34qyjl",gutter:10},I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@a4lq48",span:12},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@8xovtw",title:U("383719","公文流程拟办排名")+"（Top5）",id:"flowchart1",echart:i})),I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@m4ayyb",span:12,className:"col_flowchart2"},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@b8n92q",title:_,id:"flowchart2",echart:s}))),I.default.createElement("div",{className:"report-row",style:{float:"right"}},U(382151,"本报表数据统计截止到：")+(0,M.formatData)("yyyy-MM-dd hh:mm"))),1==w&&I.default.createElement("div",null,I.default.createElement("div",{className:"report"},I.default.createElement("div",{className:"report-row"},I.default.createElement(D.WeaRadioGroup,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRadioGroup@cxh52m",config:T,onChange:k})),I.default.createElement("div",{className:"report-row"},I.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@ftxhyj",gutter:10},I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@1f9xk3",span:12},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@kd581w",title:h+"（Top10）",id:"docchart1",echart:l})),I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@lgxun1",span:12},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@bljmld",title:m+"（Top10）",id:"docchart2",echart:c}))),I.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@0pksbu",gutter:10},I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@dyxt7y",span:12},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@lr98k9",title:g+"（Top10）",id:"docchart4",echart:d})),I.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@iktme5",span:12},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@syotcn",title:y+"（Top10）",id:"docchart5",echart:f})))),I.default.createElement("div",{className:"report-row div_docchart3"},I.default.createElement(j.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@xue20d",title:v,id:"docchart3",echart:u})),I.default.createElement("div",{className:"report-row",style:{float:"right"}},U(382151,"本报表数据统计截止到：")+(0,M.formatData)("yyyy-MM-dd hh:mm")))),2==w&&I.default.createElement(B.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_CustomReport@0hc6is"})))),I.default.createElement(D.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@546k1h",title:U("383719","公文流程拟办排名"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:o.visable,style:{width:"70%",height:700},onCancel:o.hideDialog,hasScroll:!0,buttons:this.flowEchartDetailListDialogButtons},I.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportFlowEchartDetailListDialogComponent@6xcwb5",searchParams:O,name:o.condition_name})),I.default.createElement(D.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@sv6fjp",title:U("383302","具体流程清单"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:n.visable,hasScroll:!0,style:{width:"70%",height:700},onCancel:n.hideDialog,buttons:this.flowDetailListDialogButtons},I.default.createElement(R.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportFlowDetailListDialogComponent@jt3dra",searchParams:O,status:n.condition_status,key:n.condition_key})),I.default.createElement(D.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@jx4uwo",title:U("383855","具体公文清单"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:r.visable,style:{width:"70%",height:700},onCancel:r.hideDialog,hasScroll:!0,buttons:this.docDetailListDialogButtons},I.default.createElement(x.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportDocDetailListDialogComponent@taj4h4",searchParams:W,status:r.condition_status,key:r.condition_key})),I.default.createElement(D.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@ly24pk",title:a.getDialogTitleName(),icon:"icon-coms-official",iconBgcolor:"#f14a2d",visible:a.visable,style:{width:"70%",height:700},hasScroll:!0,onCancel:a.hideDialog,buttons:this.docEchartDetailListDialogButtons},I.default.createElement(F.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReportDocEchartDetailListDialogComponent@z8evp1",searchParams:W,name:a.condition_name,analyseType:a.condition_analyseType}))):I.default.createElement("div",{style:{position:"relative",height:"100%"}},I.default.createElement(D.WeaAlertPage,(0,p.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@4pio7n"},this.state),I.default.createElement("div",{style:{color:"#000"}},U("514387","你没有访问当前页面的权限！"))))}},{key:"exportAll",value:function(e){var t=this.props,o=t.reportDocDetailListDialogStore,n=t.reportFlowDetailListDialogStore,r="";"flow"===e?r=n.dataKey:"doc"===e&&(r=o.dataKey),D.WeaTools.callApi("/api/ec/dev/table/export","POST",{dataKey:r,filetype:"",filename:""}).then(function(e){return window.location.href=(0,K.default)(e.url)})}}]),t}(I.default.Component))||u)||u)||u)||u)||u)||u)||u);t.default=V},function(e,t,o){"use strict";function n(e){var t=new Date,o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+t.getFullYear()).substr(4-RegExp.$1.length)));for(var n in o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.formatData=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(0),_=o(11),C=o(9),I=o(13),k=n(I),T=S.WeaLocaleProvider.getLabel,E=_.WeaTableNew.WeaTable,D=(r=(0,w.inject)("customReportStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.showWarn=function(e){C.Modal.warning({title:T("517309","预览失效"),content:e})},o.getColumns=function(e){return e.map(function(e){switch(e.dataIndex){case"reportname":e.render=function(e,t){var n="";(!t.url.includes(window.location.origin)||!t.url.includes((0,k.default)("/spa/odoc/static4engine/engine.html#/odocengine/previewReport?")))&&(n=T("517310","该报表无法预览，请联系相关人员进行设置"));var r={title:e};return n&&(r=(0,s.default)({},r,{onClick:function(){o.showWarn(n)}})),!n&&(r=(0,s.default)({},r,{href:t.url,target:"_blank"})),b.default.createElement("a",r,e)}}return e})},(0,o.props.customReportStore.getTableData)(),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.customReportStore.customTableStore;return b.default.createElement("div",null,b.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@i7x2z8",comsWeaTableStore:e,hasOrder:!0,getColumns:this.getColumns}))}}]),t}(b.default.Component))||a)||a;t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(10),b=o(0),w=o(180),S=n(w),_=o(181),C=n(_),I=o(182),k=n(I),T=o(183),E=n(T),D=o(184),O=n(D),P=o(185),W=n(P);o(91);var R=b.WeaLocaleProvider.getLabel,A=(r=(0,y.inject)("centerStore"))(a=(0,y.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.centerStore;window.isOdocOpenWF=!0,window.getOdocWFList=function(){setTimeout(function(){e.buildTodos(),e.buildTodoTabs(),e.buildToView(),e.buildToViewTabs(),e.buildLibrarys()},3e3)}}},{key:"componentWillUnmount",value:function(){window.isOdocOpenWF=null,window.getOdocWFList=null}},{key:"getLeftLayout",value:function(){return g.default.createElement("div",{className:"wea-odoc-center-left"},g.default.createElement(S.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutLeftTopComp@f5c2z5"}),g.default.createElement(C.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutLeftOdocTypeComp@lqjcoa"}),g.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutLeftTopicTypeComp@eoraga"}))}},{key:"renderRight",value:function(){var e=this.props.centerStore;return g.default.createElement("div",{className:"wea-odoc-center-right",style:{padding:8}},g.default.createElement(O.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutRightTodoComp@g1wd9i"}),e.showToviewComp&&g.default.createElement(W.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutRightToViewComp@x4oal6"}),g.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_LayoutRightLibraryComp@1gccrm"}))}},{key:"render",value:function(){return g.default.createElement("div",{className:"wea-odoc-center-parent"},g.default.createElement(b.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@edvm2w",datas:[]},g.default.createElement(b.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@3fwxd9",title:R("384730","公文中心"),icon:g.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#f14a2d"},g.default.createElement("div",{className:"wea-odoc-center"},g.default.createElement(b.WeaLeftRightLayout,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLeftRightLayout@1s2z1g",showBtn:!1,leftWidth:260,leftCom:this.getLeftLayout()},this.renderRight())))))}}]),t}(g.default.Component))||a)||a;t.default=b.WeaTools.tryCatch(g.default,function(e){return g.default.createElement(b.WeaErrorPage,{ecId:"_WeaErrorPage@aixf90",msg:e.error?e.error:"对不起，该页面异常，请联系管理员！"})},{error:""})(A)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(318),C=n(_),I=o(13),k=n(I),T=o(0),E=(r=(0,w.inject)("onlineEditStore"))(a=(0,w.observer)((s=i=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.onWindowResize=function(){var e=(document.body.clientWidth-o.state.width)/2;e<=0&&(e=0),o.setState({marginLeft:e}),o.setEditFormHeight()},o.getlocalFile=function(e){var t=o.props.onlineEditStore,n=t.setMobxState,r=t.setState;n({uploading:!0}),T.WeaTools.callApi("/api/odoc/odocFile/convertFileToHtml?imagefileid="+e,"POST").then(function(e){n({uploading:!1}),-1==e.result.times?S.message.error(T.WeaLocaleProvider.getLabel(390468,"转换失败")):(CKIframe.window.ck.set(e.result.htmlStr),setTimeout(function(){r({displayAnnotations:!1,showRevision:!1}),CKIframe.window.revision(!1)},200))})},o.readFile=function(e){var t=o.props.onlineEditStore;T.WeaTools.callApi("/api/odoc/odocFile/readFile?docid="+e,"POST").then(function(e){CKIframe.window.ck.set(e.textContent,!0),1===parent.parent.WfForm.getOdocConfig().docParam.isEdit?(t.setMobxState({showRevision:!0}),window.setTimeout(function(){CKIframe.window.revision(!0)},200)):(t.setMobxState({displayAnnotations:!1,showRevision:!1}),window.setTimeout(function(){CKIframe.window.revision(!1),CKIframe.window.CKEditorParams.editorObject.setReadOnly(!0)},200))})},o.CKIframeRevision=function(e,t){void 0==t&&(t=0),t++;try{CKIframe.window.revision(e)}catch(o){t<=20&&setTimeout(function(){CKIframeRevision(e,t)},200)}},o.state={marginLeft:0,width:1370},o.setEditFormHeight=o.setEditFormHeight.bind(o),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.onlineEditStore;this.onWindowResize(),window.addEventListener("resize",this.onWindowResize),window.saveOnlineEditFile=this.saveFile,window.readOnlineEditFile=this.readFile,window.changeDisplayAnnotations=e.changeDisplayAnnotations,window.notThrowCss=!0}},{key:"render",value:function(){var e=this,t=this.props,o=t.prefixCls,n=t.onlineEditStore,r=n.showToolBar?"100px":"17px";return b.default.createElement(S.Spin,{spinning:n.uploading},b.default.createElement("div",{className:""+o},b.default.createElement("div",{className:o+"-con",style:{height:"100%",overflowY:"hidden"}},b.default.createElement(C.default,null),b.default.createElement("iframe",{src:(0,k.default)("/spa/odoc/static4Ck/index.html"),width:"100%",style:{height:"calc( 100% - "+r+")"},id:"CKIframe",name:"CKIframe",frameBorder:0,onMouseEnter:function(){return n.hiddenPopover()}})),b.default.createElement(T.WeaUpload,{uploadUrl:"/api/doc/upload/uploadFile",category:"string",maxFilesNumber:1,loading:n.loading,limitType:"docx",onChange:function(t){return e.getlocalFile(t)},style:{display:"none"},onUploading:function(e){return n.getUploadState(e)}},b.default.createElement(S.Button,{type:"primary",id:"upLoadFile"},"选择文件"))))}},{key:"saveFile",value:function(){var e=void 0,t=jQuery("#CKIframe")[0].contentWindow.submit(!0),o=parent.parent.WfForm.getOdocConfig();return jQuery.ajax({type:"POST",url:(0,k.default)("/api/odoc/odocFile/saveFile"),data:{textContent:t,docid:o.docParam.docid},cache:!1,dataType:"json",async:!1,success:function(t){S.message.success(T.WeaLocaleProvider.getLabel(83551,"保存成功！")),e=t.docid}}),CKIframe.window.CKEditorParams.editorObject.undoManager.reset(),e}},{key:"setEditFormHeight",value:function(){jQuery("#CKIframe").height(jQuery(".wea-odoc-onlineEdit-con").height()-100),jQuery("#CKIframe")[0].contentWindow.document.getElementById("cke_1_contents")&&(jQuery("#CKIframe")[0].contentWindow.document.getElementById("cke_1_contents").style.height=jQuery("#CKIframe").height()-38+"px")}}]),t}(b.default.Component),i.defaultProps={prefixCls:"wea-odoc-onlineEdit"},a=s))||a)||a;t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(13),C=n(_),I=(r=(0,w.inject)("onlineEditStore"))(a=(0,w.observer)((s=i=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getNumOverlay=function(){var e=o.props,t=e.prefixCls,n=e.onlineEditStore,r=n.numActiveKey,a=n.setMobxState,i=[{key:"0",src:"/odoc/odoc/images/styleOne.png",onClick:function(){CKIframe.setNumber(1)}},{key:"1",src:"/odoc/odoc/images/styleTwo.png",onClick:function(){return CKIframe.setNumber(2)}},{key:"2",src:"/odoc/odoc/images/styleThree.png",onClick:function(){return CKIframe.setNumber(3)}},{key:"3",src:"/odoc/odoc/images/styleFour.png",onClick:function(){return CKIframe.setNumber(4)}}];return b.default.createElement("div",{className:t+"-numOverLay"},i.map(function(e){return b.default.createElement("div",{key:e.key,className:t+"-numOverLay-con "+(r===e.key&&t+"-numOverLay-con-active"),onClick:function(){return a({numActiveKey:e.key})}},b.default.createElement("img",{alt:"",src:(0,C.default)(e.src),onClick:e.onClick}))}))},o.getAcceptOverlay=function(){var e=o.props.prefixCls,t=o.props.onlineEditStore.setMobxState;return b.default.createElement("div",{className:e+"-acceptOverLay"},b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.receiveReviseAndMoveToNext(),t({showAccept:!1})}},"接受并移到下一条"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.receiveOneRevise(),t({showAccept:!1})}},"接受此修订"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){o.receiveAllRevise(),t({showAccept:!1})}},"接受所有修订"))},o.getRejectOverlay=function(){var e=o.props.prefixCls,t=o.props.onlineEditStore.setMobxState;return b.default.createElement("div",{className:e+"-acceptOverLay"},b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.rejectReviseAndMoveToNext(),t({showReject:!1})}},"拒绝并移到下一条"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.rejectOneRevise(),t({showReject:!1})}},"拒绝此修订"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.rejectAllRevise(),t({showReject:!1})}},"拒绝所有修订"))},o.getDeleteOverlay=function(){var e=o.props.prefixCls,t=o.props.onlineEditStore.setMobxState;return b.default.createElement("div",{className:e+"-acceptOverLay"},b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.deletePostil(),t({showDelete:!1})}},"删除批注"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){CKIframe.window.deleteAllPostil(),t({showDelete:!1})}},"删除所有批注"))},o.getStyleDatas=function(){return[{key:"1",class:"odoc_zhubiaoti",title:"标题",style:{fontWeight:"bold",fontSize:"14px"},onClick:function(){return CKIframe.window.execdocTitle()}},{key:"2",class:"odoc_fubiaoti",title:"副标题",onClick:function(){return CKIframe.window.execfubiaoti()}},{key:"3",class:"odoc_wenhao",title:"文号",onClick:function(){return CKIframe.window.execodocNumber()}},{key:"4",class:"odoc_zhusong",title:"主送机关",onClick:function(){return CKIframe.window.execzhusong()}},{key:"5",class:"odoc_zhengwen",title:"正文",onClick:function(){return CKIframe.window.execzhengwen()}},{key:"6",class:"odoc_fujian1",title:"附件：",onClick:function(){return CKIframe.window.insertAttachment(11)}},{key:"7",class:"odoc_fujian2",title:"附件:1.",onClick:function(){return CKIframe.window.insertAttachment(12)}},{key:"8",class:"odoc_shuming",title:"发文机关",onClick:function(){return CKIframe.window.execshuming()}},{key:"9",class:"odoc_qianshuriqi",title:"成文日期",onClick:function(){return CKIframe.window.execqianshuriqi()}},{key:"10",class:"odoc_fuzhu",title:"附注",onClick:function(){return CKIframe.window.execfuzhu()}}]},o.getFile=function(){var e=o.props.prefixCls,t=o.props.onlineEditStore.setMobxState;return b.default.createElement("div",{className:e+"-acceptOverLay"},b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){o.uploadFile(),t({showFileList:!1}),CKIframe.window.clearAvtiveRevisionParams()}},"打开本地文件"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){o.exportFile(),t({showFileList:!1})}},"保存到本地"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){o.preview(),t({showFileList:!1})}},"预览"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){o.previewWithTempl(),t({showFileList:!1})}},"套红预览"),b.default.createElement("div",{className:e+"-acceptOverLay-single",onClick:function(){o.print(),t({showFileList:!1})}},"打印"))},o.getNumOverlay=o.getNumOverlay.bind(o),o.getStyleDatas=o.getStyleDatas.bind(o),o.resizeWindow=o.resizeWindow.bind(o),o.outerFullResize=o.outerFullResize.bind(o),o.outerWindowKeyDown=o.outerWindowKeyDown.bind(o),o.cheakOpenRevision=o.cheakOpenRevision.bind(o),o.checkShowToolsBar=o.checkShowToolsBar.bind(o),window.exportRevision=o.onRevision.bind(o),window.exportAllRevision=o.receiveAllRevise,window.saveLocalFile=o.exportFile.bind(o),window.setStyleActive=o.setStyleActive.bind(o),o.window=window,o.outerWindow=o.getOuterWindow(window),o.outerWindow.onresize=o.checkShowToolsBar,o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.resizeWindow(),window.onresize=this.resizeWindow}},{key:"render",value:function(){var e=this,t=this.props,o=t.prefixCls,n=t.onlineEditStore,r=n.setMobxState,a=n.tipShow,i=n.showNum,s=n.showStyle,l=n.styleActiveKey,c=n.showRevision,u=n.toolsAllPage,d=n.styleNextPage,p=n.toolsNowPage,f=n.showReject,h=n.showAccept,m=n.displayRevision,v=n.newAnnotation,g=n.showDelete,y=n.displayAnnotations,w=n.showToolBar,_=n.showFileList,C=n.fullScreen,I=this.getStyleDatas(),k=this.getCanRevision(),T="-"+100*(parseInt(p)-1)+"px",E=u>p,D=p>1,O=null;E&&(O=function(){k&&r({toolsNowPage:p+1})});var P=null;return D&&(P=function(){k&&r({toolsNowPage:p-1})}),b.default.createElement("div",{className:o+" "+(!w&&o+"-hideToolBar"),unselectable:"on",id:"toolsBar"},b.default.createElement("div",{style:{marginTop:T}},b.default.createElement("div",{className:o+"-single"},b.default.createElement("div",{className:o+"-single-tools",onClick:function(){k&&r({showFileList:!_})}},b.default.createElement(S.Popover,{placement:"bottomLeft",trigger:"hover",visible:_,arrowPointAtCenter:!0,overlayClassName:o+"-popver",overlayStyle:{width:150},overlay:this.getFile()},b.default.createElement("div",{className:o+"-single-tool "+(_&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Upload"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"文件",b.default.createElement("span",{className:"icon-coms-organization-down"}))))),b.default.createElement("div",{className:o+"-single-tools",onClick:function(){k&&r({showNum:!i})}},b.default.createElement(S.Popover,{placement:"bottomLeft",trigger:"hover",visible:i,arrowPointAtCenter:!0,overlayClassName:o+"-popver",overlayStyle:{width:105},overlay:this.getNumOverlay()},b.default.createElement("div",{className:o+"-single-tool "+(i&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Serial-number"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"}),b.default.createElement("span",{className:"path3"}),b.default.createElement("span",{className:"path4"}),b.default.createElement("span",{className:"path5"}),b.default.createElement("span",{className:"path6"})),b.default.createElement("div",null,"序号",b.default.createElement("span",{className:"icon-coms-organization-down"}))))),b.default.createElement("div",{className:o+"-single-title"},"插入")),b.default.createElement("div",{className:o+"-single",style:{width:456,position:"fixed"}},b.default.createElement("div",{className:o+"-single-tools"},b.default.createElement("div",{className:o+"-style "+(s&&o+"-style-active"),onMouseEnter:function(){return r({showStyle:!0})},onMouseLeave:function(){return r({showStyle:!1})}},b.default.createElement("div",{style:{marginTop:d&&!s?"-57px":"0px"}},I&&I.map(function(t){return b.default.createElement("div",{key:t.key,style:t.style,className:"odoc_style "+t.class+" "+o+"-style-single "+(l===t.key&&o+"-style-single-active"),onClick:function(e){k&&(r({styleActiveKey:t.key}),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.nativeEvent&&e.nativeEvent.preventDefault())}},b.default.createElement("div",{onClick:function(){k&&e.styleOnClick(t.key)}},t.title))})),b.default.createElement("span",{className:o+"-style-icon icon-coms-organization-down"}))),b.default.createElement("div",{className:o+"-single-title"},"样式")),b.default.createElement("div",{className:o+"-single",style:{width:456,border:"none"}}),b.default.createElement("div",{className:o+"-single"},b.default.createElement("div",{className:o+"-single-tools",onClick:function(){return e.onRevision()}},b.default.createElement("div",{className:o+"-single-tool "+(c&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Revision"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"修订"))),b.default.createElement("div",{className:o+"-single-tools",onClick:function(){k&&e.cheakOpenRevision()&&(e.noRevision()||(r({showAccept:!h}),CKIframe.window.clickReceiveRevise()))}},b.default.createElement(S.Popover,{placement:"bottomLeft",trigger:"hover",visible:h,arrowPointAtCenter:!0,overlayClassName:o+"-popver",overlayStyle:{width:150},overlay:this.getAcceptOverlay()},b.default.createElement("div",{className:o+"-single-tool "+(h&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Accepted"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"接受",b.default.createElement("span",{className:"icon-coms-organization-down"}))))),b.default.createElement("div",{className:o+"-single-tools",onClick:function(){k&&e.cheakOpenRevision()&&(e.noRevision()||(r({showReject:!f}),CKIframe.window.clickRejectRevise()))}},b.default.createElement(S.Popover,{placement:"bottomLeft",trigger:"hover",visible:f,arrowPointAtCenter:!0,overlayClassName:o+"-popver",overlayStyle:{width:150},overlay:this.getRejectOverlay()},b.default.createElement("div",{className:o+"-single-tool "+(f&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Refuse"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"拒绝",b.default.createElement("span",{className:"icon-coms-organization-down"}))))),b.default.createElement("div",{className:o+"-single-tools",style:{display:"none"},onClick:function(){r({displayRevision:!m}),CKIframe.window.showReviseList(m)}},b.default.createElement("div",{className:o+"-single-tool "+(m&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Display-revision"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"显示修订"))),b.default.createElement("div",{className:o+"-single-tools"},b.default.createElement("div",{className:o+"-single-tool"},b.default.createElement("div",{style:{paddingBottom:5},className:o+"-single-click",onClick:function(){k&&e.cheakOpenRevision()&&(e.noRevision()||CKIframe.window.findPrevious())}},b.default.createElement("span",{className:o+"-single-tool-icon2 icon-coms-Last-place "},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("span",null,"上一条")),b.default.createElement("div",{onClick:function(){k&&e.cheakOpenRevision()&&(e.noRevision()||CKIframe.window.findNext())},className:o+"-single-click"},b.default.createElement("span",{className:o+"-single-tool-icon3 icon-coms-Next1"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("span",null,"下一条")))),b.default.createElement("div",{className:o+"-single-title"},"修订")),b.default.createElement("div",{className:o+"-single"},b.default.createElement("div",{className:o+"-single-tools"},b.default.createElement("div",{className:o+"-single-tool "+o+"-single-click "+(v&&o+"-single-tool-active"),onClick:function(){k&&CKIframe.window.creatPostil()}},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-New-annotation"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"新建批注"))),b.default.createElement("div",{className:o+"-single-tools",onClick:function(){k&&r({showDelete:!g})}},b.default.createElement(S.Popover,{placement:"bottomLeft",trigger:"hover",arrowPointAtCenter:!0,visible:g,overlayClassName:o+"-popver",overlayStyle:{width:150},overlay:this.getDeleteOverlay()},b.default.createElement("div",{className:o+"-single-tool "+(g&&o+"-single-tool-active")},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Delete"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"删除",b.default.createElement("span",{className:"icon-coms-organization-down"}))))),b.default.createElement("div",{className:o+"-single-tools",onClick:function(){k&&r({displayAnnotations:!y})}},b.default.createElement("div",{className:o+"-single-tool "+(y&&o+"-single-tool-active"),onClick:function(){k&&CKIframe.window.showPostilList(y)}},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Display-annotations"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("div",null,"显示批注"))),b.default.createElement("div",{className:o+"-single-tools"},b.default.createElement("div",{className:o+"-single-tool"},b.default.createElement("div",{style:{paddingBottom:5},className:o+"-single-click",onClick:function(){k&&CKIframe.window.findPreviousItem()}},b.default.createElement("span",{className:o+"-single-tool-icon2 icon-coms-the-last-one"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("span",null,"上一条")),b.default.createElement("div",{className:o+"-single-click",onClick:function(){k&&CKIframe.window.findNextItem()}},b.default.createElement("span",{className:o+"-single-tool-icon2 icon-coms-Next"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"})),b.default.createElement("span",null,"下一条")))),b.default.createElement("div",{className:o+"-single-title"},"批注")),b.default.createElement("div",{className:o+"-single"},b.default.createElement("div",{className:o+"-single-tools "+o+"-single-click",onClick:function(){k&&(CKIframe.window.undo(),CKIframe.window.refreshChooseStatus())}},b.default.createElement("div",{className:o+"-single-tool"},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Revocation"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"}),b.default.createElement("span",{className:"path3"})),b.default.createElement("div",null,"撤销"))),b.default.createElement("div",{className:o+"-single-tools "+o+"-single-click",onClick:function(){k&&(CKIframe.window.redo(),CKIframe.window.refreshChooseStatus())}},b.default.createElement("div",{className:o+"-single-tool"},b.default.createElement("span",{className:o+"-single-tool-icon icon-coms-Restore"},b.default.createElement("span",{className:"path1"}),b.default.createElement("span",{className:"path2"}),b.default.createElement("span",{className:"path3"})),b.default.createElement("div",null,"恢复"))),b.default.createElement("div",{className:o+"-single-title"},"操作")),b.default.createElement("div",{className:o+"-single2"},b.default.createElement("div",{className:o+"-single-tools "+o+"-single-click",onClick:function(){C?e.exitFullScreen():e.onFullScreen()}},b.default.createElement("div",{className:o+"-single-tool"},!C&&b.default.createElement("div",null,b.default.createElement("i",{className:"icon-coms-move",style:{fontSize:"20px",color:"#00b1ff"}}),b.default.createElement("div",null,"全屏展示")),C&&b.default.createElement("div",null,b.default.createElement("i",{className:"icon-coms-All-contraction",style:{fontSize:"20px",color:"#00b1ff"}}),b.default.createElement("div",null,"退出全屏")))),b.default.createElement("div",{className:o+"-single-title"},"展示")),b.default.createElement("div",{className:"otherBar"},b.default.createElement("div",{className:"nextPage"},w&&b.default.createElement("div",{className:o+"-up transform "+(D?"":"noClick"),onClick:function(){return P()}},b.default.createElement("i",{className:"icon-coms-organization-right"})),w&&b.default.createElement("div",{className:o+"-down "+(E?"":"noClick"),onClick:function(){return O()}},b.default.createElement("i",{className:"icon-coms-organization-right"})))),b.default.createElement("div",{className:o+"-shrink",onClick:function(){k&&r({showToolBar:!w})}},b.default.createElement("div",{className:"icon-coms-organization-down "+(w&&o+"-shrink-icon")}))),b.default.createElement(S.Modal,{title:"提示",visible:a,onOk:function(){return r({tipShow:!1})},cancelText:"",onCancel:function(){return r({tipShow:!1})},width:"300",maskClosable:!1},b.default.createElement("p",null,"当前窗口太小，可能会出现未知的问题，请最大化窗口后使用！")))}},{key:"styleOnClick",value:function(e){var t=this.props.onlineEditStore.setMobxState;"1"==e&&CKIframe.window.execdocTitle(),"2"==e&&CKIframe.window.execfubiaoti(),"3"==e&&CKIframe.window.execodocNumber(),"4"==e&&CKIframe.window.execzhusong(),"5"==e&&CKIframe.window.execzhengwen(),"6"==e&&CKIframe.window.insertAttachment(11),"7"==e&&CKIframe.window.insertAttachment(12),"8"==e&&CKIframe.window.execshuming(),"9"==e&&CKIframe.window.execqianshuriqi(),"10"==e&&CKIframe.window.execfuzhu(),t(e>6?{styleNextPage:!0}:{styleNextPage:!1})}},{key:"setStyleActive",value:function(e){(0,this.props.onlineEditStore.setMobxState)({styleNextPage:e})}},{key:"uploadFile",value:function(){var e=this.props.onlineEditStore;document.getElementById("upLoadFile").click(),e.hideOnePopover("showFileList")}},{key:"print",value:function(){CKIframe.window.odocprint()}},{key:"exportFile",value:function(){this.props.onlineEditStore.saveLocalFile()}},{key:"preview",value:function(){this.props.onlineEditStore.preview()}},{key:"previewWithTempl",value:function(){this.props.onlineEditStore.previewWithTempl()}},{key:"resizeWindow",value:function(){var e=this.props.onlineEditStore.setMobxState;window.innerWidth>1420||1420==window.innerWidth?e({toolsAllPage:1,toolsNowPage:1,tipShow:!1}):window.innerWidth<1420&&window.innerWidth>826||826==window.innerWidth?e({toolsAllPage:2,toolsNowPage:1,tipShow:!1}):window.innerWidth<826&&window.innerWidth>635?e({toolsAllPage:3,toolsNowPage:1,tipShow:!1}):window.innerWidth<635&&window.innerWidth>0&&window.resizeTo(600,window.innerHeight)}},{key:"noRevision",value:function(){try{var e=document.getElementById("CKIframe").contentWindow.getRevisionData;if(e){return!(e().length>0)&&(S.message.warning("没有任何修订"),!0)}}catch(e){window.console}}},{key:"getCanRevision",value:function(){return!0}},{key:"onFullScreen",value:function(){var e=this.props.onlineEditStore,t=e.setMobxState;try{var o=this.outerWindow.innerWidth,n=this.outerWindow.innerHeight;this.outerWindow.document.getElementsByClassName("wea-new-top-req-wapper")[0].style.cssText="padding-top:0px;",this.outerWindow.document.getElementsByClassName("wea-new-top-req")[0].style.cssText="display:none;",this.outerWindow.document.getElementsByClassName("wea-new-top-req-content")[0].style.cssText="height:100%;",this.outerWindow.document.getElementsByClassName("wf-req-odoc")[0].style.cssText="margin: 0px 0px;",this.outerWindow.document.getElementsByClassName("req-workflow-odoc")[0].style.cssText="width: 100%;height: "+n+"px;border:none;",this.window.parent.document.getElementById("webOffice").style.cssText="width:"+o+"px;height:"+n+"px;position:fixed;top:0px;left:0px;z-index:9999;border:none",this.outerWindow.onkeydown=this.outerWindowKeyDown,this.outerWindow.onresize=this.outerFullResize,t({fullScreen:!0})}catch(e){try{var r=this.outerWindow.innerWidth,a=this.outerWindow.innerHeight;this.outerWindow.document.getElementsByClassName("wea-new-top-req")[0].style.cssText="display:none;",this.outerWindow.document.getElementsByClassName("wea-new-top-req-content")[0].style.cssText="height:100%;",this.outerWindow.document.getElementById("requestdocInForm").parentElement.parentElement.parentElement.parentElement.style.height="100%",this.outerWindow.document.getElementById("requestdocInForm").parentElement.style.cssText="margin: 0px 0px;",this.outerWindow.document.getElementById("requestdocInForm").style.cssText="width: 100%;height: "+a+"px;border:none;",this.window.parent.document.getElementById("htmlContentIframe").style.cssText="width:"+r+"px;height:"+a+"px;position:fixed;top:0px;left:0px;z-index:9999;border:none",this.outerWindow.onkeydown=this.outerWindowKeyDown,this.outerWindow.onresize=this.outerFullResize,t({fullScreen:!0})}catch(e){window.console,S.message.warning("全屏展示失败！")}}}},{key:"exitFullScreen",value:function(){var e=this.props.onlineEditStore,t=e.setMobxState;try{this.outerWindow.onresize=this.checkShowToolsBar;var o=this.outerWindow.innerHeight;this.outerWindow.document.getElementsByClassName("wea-new-top-req-wapper")[0].style.cssText="padding-top:71px;",this.outerWindow.document.getElementsByClassName("wea-new-top-req")[0].style.cssText="display:block;",this.outerWindow.document.getElementsByClassName("wea-new-top-req-title")[0].firstElementChild.firstElementChild.style.maxWidth="100%",this.outerWindow.document.getElementsByClassName("wea-new-top-req-content")[0].style.cssText="height: "+(o-71)+"px;",this.outerWindow.document.getElementsByClassName("wf-req-odoc")[0].style.cssText="height: "+(o-91)+"px;margin-top: 10px;margin-bottom: 10px;",this.outerWindow.document.getElementsByClassName("req-workflow-odoc")[0].style.cssText="height: "+(o-91)+"px;width: 100%;border:none;",parent.document.getElementsByClassName("wea-new-top-req")[0].style.display="block",parent.document.getElementsByClassName("wea-new-top-req-wapper")[0].style.paddingTop="38px",parent.document.getElementById("webOffice").style.cssText="width:100%;height:100%;border:none;",t({fullScreen:!1})}catch(e){try{this.outerWindow.onresize=this.checkShowToolsBar;var n=this.outerWindow.innerHeight;this.outerWindow.document.getElementsByClassName("wea-new-top-req")[0].style.cssText="display:block;",this.outerWindow.document.getElementsByClassName("wea-new-top-req-title")[0].firstElementChild.firstElementChild.style.maxWidth="100%",this.outerWindow.document.getElementsByClassName("wea-new-top-req-content")[0].style.cssText="height: 100%;",this.outerWindow.document.getElementById("requestdocInForm").parentElement.style.cssText="padding-right: 16px; position: relative;",this.outerWindow.document.getElementById("requestdocInForm").style.cssText="height: "+(n-91)+"px;border: 0px; width: 100%;border:none;",this.outerWindow.document.getElementsByClassName("wea-new-top-req")[0].style.display="block",this.outerWindow.document.getElementsByClassName("wea-new-top-req-wapper")[0].style.paddingTop="",this.window.parent.document.getElementById("htmlContentIframe").style.cssText="width:100%;height:100%;border:none;",t({fullScreen:!1})}catch(e){window.console,S.message.warning("退出全屏展示失败！")}}}},{key:"onRevision",value:function(){var e=this.props.onlineEditStore,t=e.setMobxState,o=e.showRevision;this.getCanRevision()&&(t({showRevision:!o}),CKIframe.window.clearAvtiveRevisionParams(),CKIframe.window.revision(!o),CKIframe.window.setShowRevision(!o),CKIframe.window.clearTempUTag(),this.revising&&CKIframe.window.insertTempUtag("",this.revising))}},{key:"receiveAllRevise",value:function(){CKIframe.window.receiveAllRevise()}},{key:"outerFullResize",value:function(){var e=this.props.onlineEditStore,t=e.setMobxState,o=e.showToolBar;try{var n=this.outerWindow.innerWidth,r=this.outerWindow.innerHeight;o||(t({showToolBar:!0}),document.getElementById("toolsBar").className="wea-odoc-onlineEdit-toolsBar false",document.getElementById("CKIframe").style.height="calc( 100% - 100px )"),this.outerWindow.document.getElementsByClassName("wea-new-top-req-content")[0].style.height=r+"px",this.outerWindow.document.getElementsByClassName("wf-req-wrapper")[0].style.height="100%",this.outerWindow.document.getElementsByClassName("req-workflow-odoc")[0].style.height=r+"px",parent.document.getElementsByClassName("wea-new-top-req")[0].style.display="none",parent.document.getElementsByClassName("wea-new-top-req-wapper")[0].style.paddingTop="0px",parent.document.getElementsByClassName("wea-new-top-req-content")[0].style.height=r+"px",parent.document.getElementById("webOffice").style.cssText="width:"+n+"px;height:"+(r-2)+"px;border:none;"}catch(e){window.console}}},{key:"outerWindowKeyDown",value:function(e){"Escape"==e.code&&this.exitFullScreen()}},{key:"cheakOpenRevision",value:function(){return!!this.props.onlineEditStore.showRevision||(S.message.warning("没有开启修订"),!1)}},{key:"getOuterWindow",value:function(e){var t=e.innerWidth,o=e.innerHeight,n=e.parent.innerWidth,r=e.parent.innerHeight;return n==t&&o==r?e:this.getOuterWindow(e.parent)}},{key:"checkShowToolsBar",value:function(){var e=this.props.onlineEditStore,t=e.setMobxState;e.showToolBar||(t({showToolBar:!0}),document.getElementById("toolsBar").className="wea-odoc-onlineEdit-toolsBar false",document.getElementById("CKIframe").style.height="calc( 100% - 100px )");var o=this.outerWindow.innerHeight;this.outerWindow.document.getElementsByClassName("wea-new-top-req-content")[0].style.cssText="height: "+(o-71)+"px;",this.outerWindow.document.getElementsByClassName("wf-req-odoc")[0].style.cssText="height: "+(o-91)+"px;margin-top: 10px;margin-bottom: 10px;",this.outerWindow.document.getElementsByClassName("req-workflow-odoc")[0].style.cssText="height: "+(o-91)+"px;width: 100%;border:none;",window.parent.document.getElementsByClassName("wea-new-top-req-content")[0].style.height=o-130+"px"}}]),t}(b.default.Component),i.defaultProps={prefixCls:"wea-odoc-onlineEdit-toolsBar"},a=s))||a)||a;t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(0),_=o(11),C=o(9),I=o(8),k=S.WeaLocaleProvider.getLabel,T=_.WeaTableNew.WeaTable,E=_.WeaLogView.Component,D=(r=(0,w.inject)("privateGroupSetingStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getColumns=function(e){var t=o.props.privateGroupSetingStore.onOperatesClick;return e.map(function(e){return"receiveunitname"==e.dataIndex?(0,s.default)({},e,{title:e.title,render:function(e,o){return b.default.createElement("a",{style:{color:"#00a9ff"},onClick:function(){return t(o,"","","0")}},e)}}):e})},o.getDropMenuDatas=o.getDropMenuDatas.bind(o),o.getTopBtn=o.getTopBtn.bind(o),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.privateGroupSetingStore;e.getTableData(),e.getCommReceiveItems(),e.getPrivateReceiveLogType()}},{key:"render",value:function(){var e=this.props.privateGroupSetingStore,t=e.tableStore,o=e.selectedRowKeys,n=e.logVisible,r=e.logStore,a=e.logType,i=e.logSmallType,s=e.creatDialogVisible,l=e.form,c=e.loading,u=e.isCreat,d=e.onOperatesClick,p=e.creatDialogHide,f=e.onCheck,h=e.getTableData,m=e.rowSelection,v=e.logHide,g=u?k(390079,"新建私人组"):k(390315,"编辑私人组");return b.default.createElement(y.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@2cfvzi"},b.default.createElement(S.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@1qt5a0",datas:this.getDropMenuDatas()},b.default.createElement(S.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@5i14hx",title:k(390005,"收（发）文单位私人组"),icon:b.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#f14a2d",loading:c,showDropIcon:!0,dropMenuDatas:this.getDropMenuDatas(),buttons:this.getTopBtn()}),b.default.createElement(S.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@zjbedx",searchType:["base"],onSearch:h}),b.default.createElement(T,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@5tosrs",hasOrder:!0,needScroll:!0,comsWeaTableStore:t,getColumns:this.getColumns,rowSelection:{selectedRowKeys:o,onChange:m},onOperatesClick:d}),b.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLogViewComp@vhty2e",visible:n,onCancel:v,logStore:r,logType:a,logSmallType:i,targetId:(0,I.toJS)(o)[0]})),b.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@xico2e",title:g,icon:"icon-coms-official",visible:s,onCancel:p,draggable:!0,maskClosable:!0,style:{width:500},className:"publicGroupDialogForm",buttons:[b.default.createElement(C.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@dmsy38@save",type:"primary",disabled:c,onClick:f},k(30986,"保存"))]},l.render()))}},{key:"getTopBtn",value:function(){var e=this.props.privateGroupSetingStore,t=e.creatDialogShow,o=e.selectedRowKeys,n=e.loading,r=e.showConfirm,a=!((0,I.toJS)(o).length>0);return[b.default.createElement(C.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@h3y95a@create",type:"primary",onClick:t},k(365,"新建")),b.default.createElement(C.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@30q2bh@delete",type:"primary",disabled:!n&&a,onClick:r},k(32136,"批量删除"))]}},{key:"getDropMenuDatas",value:function(){var e=this.props.privateGroupSetingStore,t=e.creatDialogShow,o=e.selectedRowKeys,n=e.logShow,r=e.showConfirm,a=!(o.length>0);return[{key:"1",disabled:!1,icon:b.default.createElement("i",{className:"icon-coms-Add-to"}),content:k("365","新建"),onClick:t},{key:"2",disabled:a,icon:b.default.createElement("i",{className:"icon-coms-form-delete"}),content:"批量删除",onClick:r},{key:"3",disabled:!1,icon:b.default.createElement("i",{className:"icon-coms-Print-log"}),content:"日志",onClick:n}]}}]),t}(y.Component))||a)||a;t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,i,s=o(172),l=n(s),c=o(3),u=n(c),d=o(1),p=n(d),f=o(2),h=n(f),m=o(4),v=n(m),g=o(5),y=n(g),b=o(7),w=n(b),S=o(0),_=o(9),C=S.WeaLocaleProvider.getLabel,I=(a=r=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));i.call(o),o.docInfo=WfForm.getOdocConfig(),o.showBtn=e.showBtn,o.odocfileType=e.odocfileType,oDocUtil.clickType=e.clickType;var n=o.docInfo,r=n.isOpenClassification,a=n.docParam;o.docid=a.docid;var s=!0,l=!1;return r&&oDocUtil.needReconfirmSecretLevel&&a.docid<0&&(s=!1,l=!0),o.state={maxsize:5,uploadType:0,uploadProcess:0,uploading:!1,uploadVisible:s,secretLevelVisible:l,secretLevelValue:oDocUtil.secretLevelValue,secretLevelOptions:[],secretLevelYears:oDocUtil.secretLevelYears,secretLevelYearOptions:[]},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.getOdocInfo(),this.getSecretLevelInfo()}},{key:"render",value:function(){var e=this,t=this.state,o=t.uploading,n=t.uploadProcess,r=t.uploadType,a=t.uploadVisible,i=t.secretLevelVisible,s=t.secretLevelOptions,l=t.secretLevelYears,c=t.secretLevelValue,u=t.secretLevelYearOptions,d=this.docInfo,p=d.uploadWord,f=d.docParam,h=d.isUploadWps,m=h?"doc,docx,wps":"doc,docx",v=("1"==r||"2"==r)&&(12==this.odocfileType||1==this.showBtn),g=("1"==r||"3"==r)&&(13==this.odocfileType||1==this.showBtn),y=[w.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@a1mu9h",type:"primary",onClick:this.onOkSecretLevel},C(826,"确定")),w.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@d2v251",type:"ghost",onClick:this.removeDialog},C(201,"取消"))];return w.default.createElement("div",{id:"uploadPDFcomponent"},w.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@k5bx5r",title:C("20798","上传文件"),icon:"icon-coms-official",onCancel:this.removeDialog,visible:a,style:{width:500,height:300},hasScroll:!0,maskClosable:!0,parentClassName:"uploadPDFcomponent"},o&&w.default.createElement("div",{className:"processInfo"},w.default.createElement(_.Progress,{ecId:(this&&this.props&&this.props.ecId||"")+"_Progress@0m1gm0",percent:n})),w.default.createElement("div",{className:"uploadButtons",style:{display:o?"none":"block"}},w.default.createElement("div",{className:"defaultBtns"},1==this.showBtn&&w.default.createElement(b.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@ht5mgt"},f.isStartNode&&f.docid<0&&w.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@ykcczq",onClick:this.uploadText,className:"margin20"},C(382551,"新建正文")),(p||f.reUploadText&&!v&&!g&&this.docid>0)&&this.getUploadComp(m,C(524924,"上传word")))),w.default.createElement("div",{className:"uploadOtherBtns"},("1"==r||"2"==r)&&(12==this.odocfileType||1==this.showBtn)&&this.getUploadComp("pdf",C(501148,"上传PDF")),("1"==r||"3"==r)&&(13==this.odocfileType||1==this.showBtn)&&this.getUploadComp("ofd",C(510619,"上传OFD"))))),w.default.createElement(S.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@ktpp7z",title:C("532170","请先确认正文密级"),icon:"icon-coms02-Warning",iconBgcolor:"#FF9900",onCancel:this.removeDialog,visible:i,style:{width:400,height:150},hasScroll:!0,parentClassName:"secretLevelcomponent",buttons:y},w.default.createElement("div",{style:{margin:"40px 0 0 70px"}},w.default.createElement(S.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@sjoh3l",label:C("500520","密级"),labelCol:{span:6},wrapperCol:{span:18}},w.default.createElement(S.WeaSelect,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSelect@hrb0x6",options:s,detailtype:1,onChange:function(t){e.setState({secretLevelValue:t,secretLevelYears:u[t]})},style:{width:150},value:c})),"3"!=c&&"4"!=c&&w.default.createElement(S.WeaFormItem,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@qt718w",label:C("131188","保密期限"),labelCol:{span:6},wrapperCol:{span:18},style:{marginTop:"10px"}},w.default.createElement(S.WeaInput,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaInput@xtt12c",style:{width:150},value:l,onChange:function(t){e.setState({secretLevelYears:t})},viewAttr:3,helpfulTip:C("528340","保密期限填写格式：3个月、10年、20年、长期…不能是纯数字")})))))}},{key:"getLimitType",value:function(e,t){return 13==e||"OFD"==e||3==t?"ofd":"pdf"}}]),t}(b.Component),i=function(){var e=this;this.onChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1];if(t.length<=0)return e.removeDialog(),_.message.error(C("523629","请重新上传！"));var n=e.state,r=n.secretLevelValue,a=n.secretLevelYears,i=e.docInfo.docParam,s=i.secid,l=i.workflowid,c=i.requestid,u=i.nodeid,d=i.documentTitleField,p=o[0]&&o[0].fileExtendName,f=mobx.toJS(wfform.getOdocConfig()).extendName.substr(1),h={secretLevel:r,secretValidity:a,imagefileid:t,secid:s,docid:e.docid,workflowid:l,requestid:c,nodeid:u,docType:"."+p};f==p||f.includes("doc")&&p.includes("doc")||(h.docid=""),S.WeaTools.callApi("/api/odoc/uploadPDF/getPDFDocId","POST",h).then(function(o){o.api_status&&(WfForm.changeFieldValue("field"+e.docInfo.docParam.docFieldId,{value:o.docid,specialobj:[{id:o.docid,name:o.docname}]}),e.docInfo.docParam.pdffileId=t,""===WfForm.getFieldValue("field"+d)&&WfForm.changeFieldValue("field"+d,{value:o.docname}),WfForm.changeOdocConfig(e.docInfo),WfForm.doSave(),e.removeDialog())})},this.removeDialog=function(){var e=document.getElementsByClassName("req-workflow-odoc");e.length>0&&(e[0].style.width="100%");var t=parent.document.getElementsByClassName("uploadPDFcomponent")[0],o=parent.document.getElementsByClassName("secretLevelcomponent")[0],n=document.getElementById("uploadComponent");oDocUtil.uploadPDFCanClick=!0,n&&n.parentNode.removeChild(n),o&&o.parentNode.removeChild(o),t&&t.parentNode.removeChild(t),showOrHideTextInForm(!1),oDocUtil.clickType&&"clickOdocTab"==oDocUtil.clickType&&WfForm.switchTab("form")},this.uploadText=function(){oDocUtil.uploadPDFCanClick=!0,e.docInfo.openWpsJSAPI&&e.docInfo.extendName.indexOf("doc")>0?window.beforeWpsOnlineEdit&&window.beforeWpsOnlineEdit.createDoc():WfForm.switchTab("odoc"),e.removeDialog()},this.getShowList=function(t,o){o[0]?e.setState({uploadProcess:o[0].progress,uploading:!0}):e.setState({uploadProcess:0,uploading:!1})},this.getOdocInfo=function(){var t={secid:e.docInfo.docParam.secid,workflowid:e.docInfo.docParam.workflowid};S.WeaTools.callApi("/api/odoc/uploadPDF/getMaxSize","POST",t).then(function(t){e.setState({maxsize:t.maxsize||5,uploadType:t.uploadType})})},this.getSecretLevelInfo=function(){if(e.state.secretLevelVisible){var t=document.getElementsByClassName("req-workflow-odoc");t.length>0&&(t[0].style.width="1px"),S.WeaTools.callApi("/api/odoc/odocFile/selectSecLevel","POST",{}).then(function(t){var o=[],n=WfForm.getFieldValue("field-10");t.resourceOptionInfo.resourceOptionList.map(function(e){e.key>=n&&o.push(e)}),e.setState({secretLevelValue:n,secretLevelOptions:o,secretLevelYearOptions:(0,l.default)(t.resourceOptionInfo.resourceValidityInfo),secretLevelYears:(0,l.default)(t.resourceOptionInfo.resourceValidityInfo)[n]})})}},this.onOkSecretLevel=function(){var t=e.state,o=t.secretLevelYears,n=t.secretLevelValue;if(oDocUtil.secretLevelValue=n,oDocUtil.secretLevelYears=o,oDocUtil.needReconfirmSecretLevel=!1,e.docInfo.docParam.secretLevelValue=n,e.docInfo.docParam.secretLevelYears=o,WfForm.changeOdocConfig(e.docInfo),oDocUtil.clickType&&"clickOdocTab"==oDocUtil.clickType){e.setState({secretLevelVisible:!1}),oDocUtil.clickType="";var r=parent.document.getElementsByClassName("uploadPDFcomponent")[0],a=document.getElementById("uploadComponent");oDocUtil.uploadPDFCanClick=!0,r&&r.parentNode.removeChild(r),a&&a.parentNode.removeChild(a),oDocUtil.setDocParam(),"form"==wfform.getGlobalStore().tabKey&&WfForm.switchTab("odoc")}else e.setState({secretLevelVisible:!1,uploadVisible:!0});var i=parent.document.getElementsByClassName("secretLevelcomponent")[0];i&&i.parentNode.removeChild(i)},this.getUploadComp=function(t,o){var n=e.state.maxsize;return w.default.createElement(S.WeaUpload,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaUpload@3zhx4m",btnSize:"small",uploadUrl:"/api/doc/upload/uploadFile",category:"string",maxFilesNumber:1,maxUploadSize:n,listType:"list",limitType:t,clearWhenReset:!1,showClearAll:!0,onChange:e.onChange,getShowListDatas:e.getShowList,style:{marginTop:"20px"}},w.default.createElement(_.Button,{ecId:(e&&e.props&&e.props.ecId||"")+"_Button@uploadDoc"},o))}},a);t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(11),_=o(10),C=o(13),I=n(C),k=w.WeaLocaleProvider.getLabel,T=S.WeaTableNew.WeaTable,E=(r=(0,_.inject)("docVersionStore"))(a=(0,_.observer)(a=function(e){function t(){var e,o,n,r;(0,d.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),n.getColumns=function(e){return e.map(function(e){return"imageFileName"==e.dataIndex?(0,s.default)({},e,{title:e.title,className:"customWrap",render:function(e,t){return b.default.createElement("a",{onClick:function(){return n.openVersion(t.versionId,t.docid)}},t.imageFileName)}}):e})},n.removeDialog=function(){var e="",t="",o="",n="";try{e=top.WfForm.getOdocConfig().docParam.isColumnShow,t=top.WfForm.getOdocConfig().docParam.isTextInFormCanEdit,o=top.WfForm.getOdocConfig().docParam.isTextInForm,n=top.WfForm.getOdocConfig().docParam.docid}catch(r){e=parent.WfForm.getOdocConfig().docParam.isColumnShow,t=parent.WfForm.getOdocConfig().docParam.isTextInFormCanEdit,o=parent.WfForm.getOdocConfig().docParam.isTextInForm,n=parent.WfForm.getOdocConfig().docParam.docid}t&&("1"==e||o)&&n>0?"1"==e?parent.document.getElementsByClassName("wf-req-form-odoc-iframe")[0].style.width="100%":parent.document.getElementById("requestdocInForm").style.width="100%":parent.document.getElementsByClassName("req-workflow-odoc")[0].style.width="100%";try{top.showOrHideTextInForm(!1),top.showOrHideWeboffice(1)}catch(e){parent.showOrHideTextInForm(!1),parent.showOrHideWeboffice(1)}try{var r=parent.document.getElementsByClassName("openVersionComponent")[0],a=parent.parent.document.getElementById("openVersionComponent");a.parentNode.removeChild(a),r.parentNode.removeChild(r)}catch(e){var i=parent.document.getElementById("openVersionComponent");i.parentNode.removeChild(i)}},r=o,(0,m.default)(n,r)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.docVersionStore,t=this.getQueryString("docid"),o=this.getQueryString("iswps");t&&e.setDocid(t),o&&e.setIswps(o),e.getList()}},{key:"render",value:function(){var e=this.props.docVersionStore,t=e.tableStore,o=e.onOperatesClick;return b.default.createElement(w.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@aqgoux",onCancel:this.removeDialog,title:k("16384","打开版本"),visible:!0,style:{width:"60%",height:"500px"},hasScroll:!0,parentClassName:"openVersionComponent"},b.default.createElement(T,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@6gm1wc",comsWeaTableStore:t,onOperatesClick:o,getColumns:this.getColumns}))}},{key:"getQueryString",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.href.split("?")[1].match(t);return null!=o?unescape(o[2]):null}},{key:"openVersion",value:function(e,t){var o=this.getQueryString("isWindows"),n=this.getQueryString("webwps4Windows"),r=this.getQueryString("office2015"),a=this.getQueryString("webwps"),i=this.getQueryString("yozoOffice"),s=this.getQueryString("wpsEditor"),l=this.getQueryString("yozoEditor"),c=this.getQueryString("wpsView"),u=this.getQueryString("yozoView"),d=this.getQueryString("extendName");"true"==c||"true"==u?window.open(""+(0,I.default)("/odoc/odoc/index_odocpreview.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%"):".ofd"==d?window.open(""+(0,I.default)("/docs/ofd/OfdShow.jsp?mRecordID=")+e+"_"+t,"_blank","height=100%,width=100%"):".pdf"==d?window.open(""+(0,I.default)("/odoc/odoc/index_odocpreview.jsp?mRecordID=")+e+"_"+t,"_blank","height=100%,width=100%"):"true"==o?"true"==s?window.open(""+(0,I.default)("/odoc/odoc/index_odocpreview.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%"):"true"==l?window.open(""+(0,I.default)("/odoc/odoc/index_odocpreview.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%"):"true"==n?window.open(""+(0,I.default)("/odoc/odoc/webwps/index.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc&isWindows=1","_blank","height=100%,width=100%"):"true"==r?window.open(""+(0,I.default)("/odoc/odoc/weboffice2015/index.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%"):window.open(""+(0,I.default)("/odoc/odoc/office_odoc.html?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%"):"true"==a?window.open(""+(0,I.default)("/odoc/odoc/webwps/index.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%"):"true"==i&&window.open(""+(0,I.default)("/odoc/odoc/yozoOffice/index.jsp?mRecordID=")+e+"_"+t+"&mFileType=.doc","_blank","height=100%,width=100%")}}]),t}(y.Component))||a)||a;t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(11),w=o(10),S=o(323),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(S),C=y.WeaLocaleProvider.getLabel,I=b.WeaTableNew.WeaTable,k=(r=(0,w.inject)("recPostDocUnitStore"))(a=(0,w.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.recPostDocUnitStore,t=_.getQueryString("receiveUnitId");null!=t&&e.setReceiveUnitId(t),e.getCondition()}},{key:"render",value:function(){var e=this.props.recPostDocUnitStore;return g.default.createElement("div",{className:"recPostUnitunit"},e.form.render(),g.default.createElement(I,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@2wnt7v",title:C(126532,"收发文员"),comsWeaTableStore:e.tableStore}))}},{key:"removeDialog",value:function(){var e=parent.document.getElementsByClassName("recPostUnitunit")[0],t=parent.document.getElementById("recPostUnitunit");t.parentNode.removeChild(t),e.parentNode.removeChild(e)}}]),t}(v.Component))||a)||a;t.default=k},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.href.split("?")[1].match(t);return null!=o?unescape(o[2]):null}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(11),b=o(0),w=y.WeaTableNew.WeaTable,S=b.WeaLocaleProvider.getLabel,_=y.WeaTableNew.TableStore,C=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.iseditmould=!1,o.removeDialog=function(){var e=WfForm.getOdocConfig().docParam.isColumnShow,t=WfForm.getOdocConfig().docParam.isTextInFormCanEdit,o=WfForm.getOdocConfig().docParam.isTextInForm,n=WfForm.getOdocConfig().docParam.docid;t&&("1"==e||o)&&n>0?"1"==e?document.getElementsByClassName("wf-req-form-odoc-iframe")[0].style.width="100%":document.getElementById("requestdocInForm").style.width="100%":document.getElementsByClassName("req-workflow-odoc")[0].style.width="100%",showOrHideWeboffice(1),showOrHideTextInForm(!1);try{var r=document.getElementsByClassName("openModelComponent")[0],a=document.getElementById("openModelComponent");a.parentNode.removeChild(a),r.parentNode.removeChild(r)}catch(e){var i=parent.document.getElementsByClassName("openModelComponent")[0];i.parentNode.removeChild(i)}},o.getColumns=function(e){return e.map(function(e){return"mouldName"==e.dataIndex?(0,a.default)({},e,{title:e.title,className:"customWrap",render:function(e,t){return g.default.createElement("a",{onClick:function(){return o.openModel(t.id)}},t.mouldName)}}):e})},o.state={tableStore:new _},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("openModelComponent"),o=t.getAttribute("workflowId"),n=t.getAttribute("requestId"),r=t.getAttribute("selectvalue"),a=t.getAttribute("editMouldfieldidValue"),i="false"!=t.getAttribute("iseditmould"),s=t.getAttribute("systemType");this.iseditmould=i;var l={selectvalue:r,workflowid:o,iseditmould:i,requestId:n,editMouldfieldidValue:a,systemType:s};b.WeaTools.callApi("/api/odoc/odocSelectMould/getMouldList","POST",l).then(function(t){t.api_status&&e.state.tableStore.getDatas(t.sessionkey)})}},{key:"render",value:function(){var e=this.state.tableStore;return g.default.createElement(b.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@kulx2f",onCancel:this.removeDialog,title:S("23039","选择模板"),visible:!0,style:{width:"35%",height:"500px"},hasScroll:!0,parentClassName:"openModelComponent"},g.default.createElement(w,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@lfths0",comsWeaTableStore:e,getColumns:this.getColumns}))}},{key:"openModel",value:function(e){var t=void 0,o=WfForm.getOdocConfig().docParam.isColumnShow,n=WfForm.getOdocConfig().docParam.isTextInFormCanEdit,r=WfForm.getOdocConfig().docParam.isTextInForm,a=WfForm.getOdocConfig().docParam.docid;t=n&&("1"==o||r)&&a>0?"1"==o?document.getElementsByClassName("wf-req-form-odoc-iframe")[0].contentWindow:document.getElementById("requestdocInForm").contentWindow:document.getElementsByClassName("req-workflow-odoc")[0].contentWindow,this.iseditmould?t.afterSelectEditMould(void 0,{id:e}):t.afterSelectMould(void 0,{id:e}),this.removeDialog()}}]),t}(v.Component);t.default=C},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(0),C=o(326),I=n(C),k=o(94),T=n(k),E=_.WeaLocaleProvider.getLocaleLabelByCode,D=_.WeaLocaleProvider.getLabel,O=(r=(0,w.inject)("docTemplateStore"))(a=(0,w.observer)(a=function(e){function t(e){return(0,d.default)(this,t),(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e))}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=WfForm.getOdocConfig().docParam,t=e.workflowid,o=e.requestid,n=e.docid,r=e.imagefileId,a=e.yozoView,i=e.wpsView,s=this.props.docTemplateStore,l=s.getMouldList;(0,s.doInitParams)(t,o,n,r,a,i),l()}},{key:"render",value:function(){var e=this.props.docTemplateStore,t=e.removeDialog,o=e.confirmTh,n=e.fullView,r=void 0===n?0:n,a=e.visible,i=[b.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@3i3ilj@ok",type:"primary",onClick:o},D("826","确定")),b.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@su0iup@cancel",onClick:t},D("31129","取消"))];return 1==r&&(i=[b.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@u427ul@close",type:"primary",onClick:t},D("309","关闭"))]),b.default.createElement("div",{className:"doc-template"},b.default.createElement(_.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@arx5zt",onCancel:t,title:0==r?D("25125","套红模板选择"):"套红预览",visible:a,style:{width:1100,height:600},buttons:i,scalable:!0,hasScroll:!0,draggable:!1,icon:"icon-coms-official",iconBgcolor:"red"},b.default.createElement(I.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_DocMoulePublicComp@fg9qis"})))}}]),t}(b.default.Component))||a)||a,P=function(e){function t(){return(0,d.default)(this,t),(0,m.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return b.default.createElement(_.WeaErrorPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaErrorPage@jjiouh",msg:e?this.props.error:""+D(385218,"对不起，该页面异常，请联系管理员！")})}}]),t}(b.default.Component),W=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.state={reRender:!1},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this;E("odoc").then(function(){return e.setState({reRender:!0})})}},{key:"render",value:function(){return b.default.createElement(w.Provider,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Provider@a1fkg5"},T.default),b.default.createElement(O,{ecId:(this&&this.props&&this.props.ecId||"")+"_DocTemplate@f34so9"}))}}]),t}(b.default.Component);t.default=_.WeaTools.tryCatch(b.default,P,{error:""})(W)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(10),b=o(8),w=o(9),S=o(0),_=o(13),C=n(_),I=(r=(0,y.inject)("docTemplateStore"))(a=(0,y.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.changeMould=function(e){var t=o.props.docTemplateStore,n=t.setProperty,r=t.getThPreviewUrl;n("loading",!0),n("error",!1),n("mouldid",e.key),r()},o.getLeftCom=function(){var e=o.props.docTemplateStore,t=e.mouldList,n=e.mouldid,r=e.mouldSearchValue,a=e.mouldSearch;return t=(0,b.toJS)(t),g.default.createElement("div",{className:"wf-doctemplate-menu"},g.default.createElement(S.WeaNewScroll,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaNewScroll@7ij9ah",height:600},g.default.createElement("div",{style:{width:"180px",margin:"5px auto"}},g.default.createElement(S.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@cbaf9y",value:r,placeholder:"请输入模板名称",onSearch:a,onEnter:function(e){a(e)},onSearchChange:function(e){""==e&&a(e)}})),g.default.createElement(w.Menu,{ecId:(o&&o.props&&o.props.ecId||"")+"_Menu@x1w7uu",selectedKeys:[""+n],onClick:o.changeMould},t.length>0&&t.map(function(e,t){return g.default.createElement(w.Menu.Item,{ecId:(o&&o.props&&o.props.ecId||"")+"_undefined@360ww5@"+t,key:e.mouldid},e.mouldname)}))))},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.docTemplateStore,t=e.yozoViewUrl,o=e.thurl,n=e.loading,r=e.openyozo,a=e.wpsEditor,i=e.mouldid,s=e.error,l=e.errorMsg;return g.default.createElement("div",{style:{height:"100%"}},g.default.createElement(S.WeaLeftRightLayout,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLeftRightLayout@fbiv28",isNew:!0,leftWidth:200,leftCom:this.getLeftCom()},!s&&!n&&""!=i&&g.default.createElement("div",{style:{width:"100%",height:"100%"}},a&&g.default.createElement("iframe",{id:"wfDocTemplate",src:o,style:{display:"block",width:"100%",height:"100%",border:"0px"},title:"wpsEditor"}),r&&g.default.createElement("iframe",{id:"wfDocTemplate",src:t,style:{display:"block",width:"100%",height:"100%",border:"0px"},title:"openyozo"})),!s&&n&&g.default.createElement(w.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@epyvhl",size:"large",style:{width:"100%",margin:"250px auto"}}),s&&g.default.createElement("div",null,g.default.createElement("img",{src:(0,C.default)("/images/ecology8/noright_wev8.png"),width:"162px",height:"162px",style:{margin:"100px auto 20px",display:"block"}}),g.default.createElement("div",{style:{color:"rgb(255,187,14)",textAlign:"center",fontSize:"16px"}},""==l?"预览失败":l))))}}]),t}(g.default.Component))||a)||a;t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(4),c=n(l),u=o(5),d=n(u),p=o(95),f=n(p),h=function(e){function t(){(0,s.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.test="发文库",e.pageName="collectionSend",e}return(0,d.default)(t,e),t}(f.default);t.default=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTreeNode=t.getBaseinfo=t.getCondition=t.getList=void 0;var n=o(0);t.getList=function(e){return n.WeaTools.callApi("/api/offical/collectionReceive/getList","POST",e)},t.getCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/collectionReceive/condition","POST",e)},t.getBaseinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/collectionReceive/getBaseinfo","POST",e)},t.getTreeNode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/collectionReceive/treeNode","GET",e)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTreeNode=t.getBaseinfo=t.getCondition=t.getList=void 0;var n=o(6),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=o(0);t.getList=function(e,t){return a.WeaTools.callApi("/api/offical/collectionSend/getList","POST",(0,r.default)({},t,{officalType:e}))},t.getCondition=function(e,t){return a.WeaTools.callApi("/api/offical/collectionSend/condition","POST",(0,r.default)({},t,{officalType:e}))},t.getBaseinfo=function(e,t){return a.WeaTools.callApi("/api/offical/collectionSend/getBaseinfo","POST",(0,r.default)({},t,{officalType:e}))},t.getTreeNode=function(e,t){return a.WeaTools.callApi("/api/offical/collectionSend/treeNode","GET",(0,r.default)({},t,{officalType:e}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(4),c=n(l),u=o(5),d=n(u),p=o(95),f=n(p),h=function(e){function t(){(0,s.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.test="收文库",e.pageName="collectionReceive",e}return(0,d.default)(t,e),t}(f.default);t.default=h},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n){o&&(0,Ue.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function i(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y,X,$,Z,ee,te,oe,ne,re,ae,ie,se,le,ce,ue,de,pe,fe,he,me,ve,ge,ye,be,we,Se,_e,Ce,Ie,ke,Te,Ee,De,Oe,Pe,We,Re,Ae,xe,Le,Fe,Me,Ne,je,ze,Be,qe,Ke=o(12),Ue=r(Ke),Ve=o(14),He=r(Ve),Ge=o(6),Je=r(Ge),Qe=o(23),Ye=r(Qe),Xe=o(20),$e=r(Xe),Ze=o(3),et=r(Ze),tt=o(1),ot=r(tt),nt=o(2),rt=r(nt),at=o(4),it=r(at),st=o(5),lt=r(st),ct=o(8),ut=o(0),dt=o(11),pt=o(62),ft=n(pt),ht=o(95),mt=r(ht),vt=o(167),gt=n(vt),yt=o(9),bt=ut.WeaLocaleProvider.getLabel,wt=(s=ct.action.bound,l=ct.action.bound,c=ct.action.bound,u=(0,ct.action)("转签"),d=ct.action.bound,p=ct.action.bound,f=ct.action.bound,h=ct.action.bound,m=ct.action.bound,v=ct.action.bound,g=ct.action.bound,y=ct.action.bound,b=ct.action.bound,w=ct.action.bound,S=ct.action.bound,_=ct.action.bound,C=ct.action.bound,I=ct.action.bound,k=ct.action.bound,T=ct.action.bound,E=ct.action.bound,D=ct.action.bound,O=ct.action.bound,P=ct.action.bound,W=ct.action.bound,R=ct.action.bound,A=ct.action.bound,x=ct.action.bound,L=ct.action.bound,F=ct.action.bound,M=ct.action.bound,N=ct.action.bound,j=ct.action.bound,z=ct.action.bound,B=function(e){function t(){(0,ot.default)(this,t);var e=(0,it.default)(this,(t.__proto__||(0,et.default)(t)).call(this));return e.test="接收公文",a(e,"menuType",q,e),a(e,"batchType",K,e),a(e,"ifShowRejectForm",U,e),a(e,"rejectForm",V,e),a(e,"rejectFormCon",H,e),a(e,"ifSendBackForm",G,e),a(e,"sendBackForm",J,e),a(e,"sendBackFormCon",Q,e),a(e,"setWfDiaForm",Y,e),a(e,"setWfDiaFormCon",X,e),a(e,"tableEditTitle",$,e),a(e,"tableEditCols",Z,e),a(e,"tableEditDatas",ee,e),a(e,"chageFlag",te,e),a(e,"companyid",oe,e),a(e,"sn",ne,e),a(e,"ifShowSetWFDia",re,e),a(e,"ifShowTableEdit",ae,e),a(e,"ifShowLoadingAnimation",ie,e),a(e,"createWorkflowLoading",se,e),a(e,"selTableIdOfcreateWF",le,e),a(e,"createWFsn",ce,e),a(e,"createWfid",ue,e),a(e,"showCreatFlow",de,e),a(e,"selectRowId",pe,e),a(e,"flowListData",fe,e),a(e,"selectRowStatusId",he,e),a(e,"currentStatusId",me,e),a(e,"isInnerChange",ve,e),a(e,"loading",ge,e),a(e,"currentId",ye,e),a(e,"reSigning",be,e),a(e,"handworkForm",we,e),a(e,"handwordCondition",Se,e),a(e,"handworkShow",_e,e),a(e,"registDailogKey",Ce,e),a(e,"eleRegistShow",Ie,e),a(e,"registProcessShow",ke,e),a(e,"fileId",Te,e),a(e,"fileInfoArr",Ee,e),a(e,"docId",De,e),a(e,"step",Oe,e),a(e,"type",Pe,e),a(e,"createWorkflowDialog",We,e),a(e,"tabs",Re,e),a(e,"workflowData",Ae,e),a(e,"workflowKeys",xe,e),a(e,"receiveSmartShow",Le,e),a(e,"isReceivecheck",Fe,e),a(e,"document_identifier",Me,e),a(e,"isShowAllTab",Ne,e),e.isReally=!1,a(e,"attachmentVisible",je,e),a(e,"attachmentTitle",ze,e),a(e,"attachmentIds",Be,e),a(e,"closeAttachment",qe,e),e.pageName="receiveDoc",e}return(0,lt.default)(t,e),(0,rt.default)(t,[{key:"getFlowList",value:function(e){var t=this,o={officalType:e,isInnerChange:this.isInnerChange};ft.createChangeFlowList(o).then(function(e){e.api_status&&(t.flowListData=e.datas)})}},{key:"openCreatFlowWindow",value:function(e){var t=this;if(!this.createWorkflowLoading){this.createWorkflowLoading=!0;var o={ids:this.currentId||this.selectRowId.join(","),createWfid:e,isInnerChange:this.isInnerChange};ft.getRequstId(o).then(function(e){if(t.createWorkflowLoading=!1,e.status){if(t.selectRowId.length>1||""!=t.currentId)return t.showCreatFlow=!1,t.onSearch({behavior:"search"}),yt.message.success(e.message);if("receiveDoc"!=t.menuType){var o=t.handworkForm.getFormParams();o.Document_Attachments=t.fileId.Document_Attachments,o.Document_Text=t.fileId.Document_Text,t.initData({compParams:{viewcondition:0,viewconditiondomkey:"state",menuType:t.menuType,isInnerChange:t.isInnerChange,state:0}})}var n=window.screen.availWidth-10,r=window.screen.availHeight-50,a="top=0,left=0,";a+="width="+n+",",a+="height="+r+",",a+="directories=no,status=yes,toolbar=no,location=no,",a+="menubar=no,scrollbars=yes,resizable=yes",t.eleRegistShowOnCancel(),t.createWorkflowOnCancel(),window.open(e.url,"",a),t.showCreatFlow=!1}else yt.message.error(e.message)}).catch(function(e){yt.message.error(e)})}}},{key:"getMenuType",value:function(e){var t=this;e?(this.menuType=e,this.initData({compParams:{viewcondition:0,viewconditiondomkey:"state",menuType:e,isInnerChange:this.isInnerChange,state:0}})):ft.getMenuType().then(function(e){t.menuType=e.menuType,t.initData({compParams:{viewcondition:0,viewconditiondomkey:"state",menuType:t.menuType,isInnerChange:t.isInnerChange,state:0}})})}},{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,$e.default)(t).forEach(function(o){e[o]=t[o]})}},{key:"setRegistrationForm",value:function(e){this.handworkForm=new dt.WeaForm;for(var t=[],o=e.condition[0].items,n=0;n<e.condition[0].items.length;n++){var r=o[n];r.conditionType.toUpperCase()==ut.WeaTools.types.UPLOAD&&(this.fileInfoArr[r.domkey[0]]=r.datas||[]),"Document_Attachments"==r.domkey[0]&&(o.splice(n,1),t.push(r),n--),"Document_Text"==r.domkey[0]&&(o.splice(n,1),t.unshift(r),n--)}e.condition[0].items=[].concat((0,Ye.default)(e.condition[0].items),t),this.handworkForm.initFormFields((0,ct.toJS)(e.condition)),this.handwordCondition=e.condition}},{key:"registSave",value:function(e){var t=this,o=this.handworkForm.getFormParams();if(this.fileId.Document_Text&&(o.Document_Attachments=this.fileId.Document_Attachments,o.Document_Text=this.fileId.Document_Text),""==o.Document_Title||""==o.Document_Text)return void yt.message.warning(bt("","你有必填项没有填"));var n=(0,Je.default)({},o,{receiveDocType:this.registDailogKey,receiveStatus:"0",documentIdentifier:this.document_identifier});this.loading=!0,ft.saveRegistrationFormData(n).then(function(o){t.loading=!1,o.api_status?(t.initData({compParams:{viewcondition:0,viewconditiondomkey:"state",menuType:t.menuType}}),e?(o.message&&(t.selectRowId=[o.message]),t.document_identifier=o.documentIdentifier,t.createWorkflowDialog=!0):t.eleRegistShowOnCancel()):yt.message.warning(o.message)})}},{key:"setFileInfo",value:function(e,t,o,n){if(this.fileId[e]=t.join(","),this.fileInfoArr[e]=o,"smartRegist"==n){var r=[];o.map(function(e){r.push(e.filename)})}"3"==this.registDailogKey&&this.getChangeWordToPdf()}},{key:"smartRegistration",value:function(){var e=this,t=(0,ct.toJS)(this.fileInfoArr.Document_Text).map(function(e){return e.filename}),o=t.join(",");this.loading=!0;var n={docType:this.registDailogKey,imageFileId:this.fileId.Document_Text,imageFileName:o,attachmentIds:this.fileId.Document_Attachments,isReally:this.isReally?"0":"1"};ft.smartRegistration(n).then(function(t){e.loading=!1,t.api_status?(e.docId=t.imagefileid,e.setRegistrationForm(t),e.step="2"):(e.dialogOnCancel(),yt.message.error(bt("","文件转换失败")))})}},{key:"secondDialogOncCancel",value:function(){this.registProcessShow=!1,this.clearFile(),this.isReceivecheck=!1,this.selectRowId=[]}},{key:"getRegistrationFormData",value:function(){var e=this,t={id:this.currentId||this.selectRowId.join(",")};ft.getRegistrationFormData(t).then(function(t){t.api_status&&(e.setRegistrationForm(t),e.docId=t.message,e.eleRegistShow=!0,e.step="2",e.type="0")})}},{key:"delList",value:function(e){var t=this,o={ids:e};ft.delList(o).then(function(e){e.api_status&&(t.selectRowId=[],yt.message.success(bt("","删除成功")),t.initData({compParams:{viewcondition:0,viewconditiondomkey:"state",menuType:t.menuType}}))})}},{key:"nextTept",value:function(){var e=this;this.handworkForm.validate().then(function(t){t.isValid?(e.type="0",e.step="2",e.getChangeWordToPdf()):t.showErrors()})}},{key:"previousTept",value:function(){this.step="1",this.clearFile()}},{key:"handwordRegistOnCancel",value:function(){this.handworkShow=!1,this.clearFile()}},{key:"eleRegistShowOnCancel",value:function(){this.eleRegistShow=!1,this.step="1",this.registDailogKey="0",this.type="1",this.clearFile(),this.document_identifier="",this.currentId="",this.isReceivecheck=!1}},{key:"dialogOnCancel",value:function(){this.receiveSmartShow=!1,this.clearFile()}},{key:"clearFile",value:function(){this.fileId={},this.fileInfoArr={Document_Attachments:[],Document_Text:[]}}},{key:"getChangeWordToPdf",value:function(){var e=this,t={imageFileId:this.fileId.Document_Text};ft.changeWordToPdf(t).then(function(t){t.api_status?e.docId=t.message:yt.message.error(t.message)})}},{key:"changeTab",value:function(e){this.registDailogKey=e,this.clearFile(),"0"==e||"1"==e?this.type="1":"2"==e?(this.type="2",this.getHandForm()):"3"==e&&(this.type="0",this.getHandForm())}},{key:"getBaseInfoForDemo",value:function(){var e=this;ft.getBaseInfoForDemo().then(function(t){e.tabs=t.groupinfo||[],e.getWorkflowListByTypeForDemo()})}},{key:"getWorkflowListByTypeForDemo",value:function(){var e=this,t={};(0,ct.toJS)(this.tabs).map(function(o){o.viewcondition==e.workflowKeys&&(t.groupid=o.groupid,t.title=o.title)}),ft.getWorkflowListByTypeForDemo(t).then(function(t){t.api_status&&(e.workflowData=t.data)})}},{key:"changeWorkflowTab",value:function(e){this.workflowKeys=e,this.getWorkflowListByTypeForDemo()}},{key:"createWorkflowOnCancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.createWorkflowDialog=!1,this.document_identifier="",this.currentId="",e||(this.step="1",this.eleRegistShowOnCancel())}},{key:"getHandForm",value:function(){var e=this;ft.getRegistrationForm().then(function(t){e.setRegistrationForm(t)})}},{key:"showRegistDialog",value:function(){var e=this;this.loading=!0,ft.getRegistrationForm().then(function(t){e.loading=!1,e.setRegistrationForm(t),e.setMobxState({eleRegistShow:!e.eleRegistShow,type:"1"}),t.condition[0]&&(e.isShowAllTab=0!=t.condition[0].isShowAllTab,e.registDailogKey=e.isShowAllTab||"0"!=e.registDailogKey&&"1"!=e.registDailogKey?"0":"2",e.type=e.isShowAllTab||"2"!=e.registDailogKey?"1":"2")})}},{key:"onSigninDoc",value:function(e){var t=this;if(!this.loading){this.loading=!0;var o={ids:this.currentId||this.selectRowId.join(","),status:1,isInnerChange:this.isInnerChange,isTriSubWorkflow:e};ft.signinDoc(o).then(function(e){t.getList(e)})}}},{key:"getList",value:function(e){this.loading=!1,e.api_status?yt.message.success(bt("30700","操作成功")):yt.message.error(e.api_message),this.selectRowId=[],this.currentId="",this.currentStatusId="",this.selectRowStatusId=[],this.onSearch({behavior:"search"})}},{key:"onReceive",value:function(){var e=this;this.loading=!0;var t={isInnerChange:this.isInnerChange};ft.receiveDoc(t).then(function(t){e.getList(t)})}},{key:"customSet",value:function(){this.tableStore.setColSetVisible(!0),this.tableStore.tableColSet(!0)}},{key:"onSearch",value:function(e){var t=e.behavior,o=e.viewcondition;this.selectRowId=[],this.doSearch({ifAdFormCgWhenCgTab:!0,behavior:t,viewcondition:o||this.viewcondition,viewconditiondomkey:"state",otherInterfaceParams:{menuType:this.menuType,isInnerChange:this.isInnerChange,state:o||this.viewcondition,batchType:this.batchType}})}},{key:"sendBack",value:function(){var e=this;if(!this.loading){this.loading=!0;var t=(0,Je.default)({ids:this.currentId||this.selectRowId.join(","),status:3,isInnerChange:this.isInnerChange},this.sendBackForm.getFormParams());ft.sendbackDoc(t).then(function(t){e.sendBackForm.resetForm(),e.getList(t),e.ifSendBackForm=!1})}}},{key:"onReject",value:function(){var e=this;if(!this.loading){this.loading=!0;var t=(0,Je.default)({ids:this.currentId||this.selectRowId.join(","),status:3,isInnerChange:this.isInnerChange},this.rejectForm.getFormParams());ft.rejectDoc(t).then(function(t){e.rejectForm.resetForm(),e.getList(t),e.ifShowRejectForm=!1})}}},{key:"createFTPWF",value:function(){var e={ids:this.selTableIdOfcreateWF,sn:this.createWFsn,createWfid:this.createWfid,isInnerChange:this.isInnerChange};ft.createworkflow(e).then(function(e){e.status?(yt.message.success(e.message),window.open(e.url)):yt.message.warn(e.message)})}}]),t}(mt.default),q=i(B.prototype,"menuType",[ct.observable],{enumerable:!0,initializer:function(){return"receiveDoc"}}),K=i(B.prototype,"batchType",[ct.observable],{enumerable:!0,initializer:function(){return"createWf"}}),U=i(B.prototype,"ifShowRejectForm",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),V=i(B.prototype,"rejectForm",[ct.observable],{enumerable:!0,initializer:function(){return new dt.WeaForm}}),H=i(B.prototype,"rejectFormCon",[ct.observable],{enumerable:!0,initializer:function(){return gt.rejectCondt}}),G=i(B.prototype,"ifSendBackForm",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),J=i(B.prototype,"sendBackForm",[ct.observable],{enumerable:!0,initializer:function(){return new dt.WeaForm}}),Q=i(B.prototype,"sendBackFormCon",[ct.observable],{enumerable:!0,initializer:function(){return gt.sendBackCondt}}),Y=i(B.prototype,"setWfDiaForm",[ct.observable],{enumerable:!0,initializer:function(){return new dt.WeaForm}}),X=i(B.prototype,"setWfDiaFormCon",[ct.observable],{enumerable:!0,initializer:function(){return""}}),$=i(B.prototype,"tableEditTitle",[ct.observable],{enumerable:!0,initializer:function(){return""}}),Z=i(B.prototype,"tableEditCols",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),ee=i(B.prototype,"tableEditDatas",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),te=i(B.prototype,"chageFlag",[ct.observable],{enumerable:!0,initializer:function(){return""}}),oe=i(B.prototype,"companyid",[ct.observable],{enumerable:!0,initializer:function(){return""}}),ne=i(B.prototype,"sn",[ct.observable],{enumerable:!0,initializer:function(){return""}}),re=i(B.prototype,"ifShowSetWFDia",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),ae=i(B.prototype,"ifShowTableEdit",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),ie=i(B.prototype,"ifShowLoadingAnimation",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),se=i(B.prototype,"createWorkflowLoading",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),le=i(B.prototype,"selTableIdOfcreateWF",[ct.observable],{enumerable:!0,initializer:function(){return""}}),ce=i(B.prototype,"createWFsn",[ct.observable],{enumerable:!0,initializer:function(){return""}}),ue=i(B.prototype,"createWfid",[ct.observable],{enumerable:!0,initializer:function(){return""}}),de=i(B.prototype,"showCreatFlow",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),pe=i(B.prototype,"selectRowId",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),fe=i(B.prototype,"flowListData",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),he=i(B.prototype,"selectRowStatusId",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),me=i(B.prototype,"currentStatusId",[ct.observable],{enumerable:!0,initializer:function(){return""}}),ve=i(B.prototype,"isInnerChange",[ct.observable],{enumerable:!0,initializer:function(){return 0}}),ge=i(B.prototype,"loading",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),ye=i(B.prototype,"currentId",[ct.observable],{enumerable:!0,initializer:function(){return""}}),i(B.prototype,"getFlowList",[s],(0,He.default)(B.prototype,"getFlowList"),B.prototype),i(B.prototype,"openCreatFlowWindow",[l],(0,He.default)(B.prototype,"openCreatFlowWindow"),B.prototype),i(B.prototype,"getMenuType",[c],(0,He.default)(B.prototype,"getMenuType"),B.prototype),be=i(B.prototype,"reSigning",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){var o={ids:e.currentStatusId||e.selectRowStatusId.join(","),toUserid:t};ft.reSigning(o).then(function(t){t.api_status&&e.getList(t)})}}}),we=i(B.prototype,"handworkForm",[ct.observable],{enumerable:!0,initializer:function(){return new dt.WeaForm}}),Se=i(B.prototype,"handwordCondition",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),_e=i(B.prototype,"handworkShow",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),Ce=i(B.prototype,"registDailogKey",[ct.observable],{enumerable:!0,initializer:function(){return"0"}}),Ie=i(B.prototype,"eleRegistShow",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),ke=i(B.prototype,"registProcessShow",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),Te=i(B.prototype,"fileId",[ct.observable],{enumerable:!0,initializer:function(){return{}}}),Ee=i(B.prototype,"fileInfoArr",[ct.observable],{enumerable:!0,initializer:function(){return{Document_Attachments:[],Document_Text:[]}}}),De=i(B.prototype,"docId",[ct.observable],{enumerable:!0,initializer:function(){return""}}),Oe=i(B.prototype,"step",[ct.observable],{enumerable:!0,initializer:function(){return"1"}}),Pe=i(B.prototype,"type",[ct.observable],{enumerable:!0,initializer:function(){return"1"}}),We=i(B.prototype,"createWorkflowDialog",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),Re=i(B.prototype,"tabs",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),Ae=i(B.prototype,"workflowData",[ct.observable],{enumerable:!0,initializer:function(){return[]}}),xe=i(B.prototype,"workflowKeys",[ct.observable],{enumerable:!0,initializer:function(){return"0"}}),Le=i(B.prototype,"receiveSmartShow",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),Fe=i(B.prototype,"isReceivecheck",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),Me=i(B.prototype,"document_identifier",[ct.observable],{enumerable:!0,initializer:function(){return""}}),Ne=i(B.prototype,"isShowAllTab",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),i(B.prototype,"setMobxState",[d],(0,He.default)(B.prototype,"setMobxState"),B.prototype),i(B.prototype,"setRegistrationForm",[p],(0,He.default)(B.prototype,"setRegistrationForm"),B.prototype),i(B.prototype,"registSave",[f],(0,He.default)(B.prototype,"registSave"),B.prototype),i(B.prototype,"setFileInfo",[h],(0,He.default)(B.prototype,"setFileInfo"),B.prototype),i(B.prototype,"smartRegistration",[m],(0,He.default)(B.prototype,"smartRegistration"),B.prototype),i(B.prototype,"secondDialogOncCancel",[v],(0,He.default)(B.prototype,"secondDialogOncCancel"),B.prototype),i(B.prototype,"getRegistrationFormData",[g],(0,He.default)(B.prototype,"getRegistrationFormData"),B.prototype),i(B.prototype,"delList",[y],(0,He.default)(B.prototype,"delList"),B.prototype),i(B.prototype,"nextTept",[b],(0,He.default)(B.prototype,"nextTept"),B.prototype),i(B.prototype,"previousTept",[w],(0,He.default)(B.prototype,"previousTept"),B.prototype),i(B.prototype,"handwordRegistOnCancel",[S],(0,He.default)(B.prototype,"handwordRegistOnCancel"),B.prototype),i(B.prototype,"eleRegistShowOnCancel",[_],(0,He.default)(B.prototype,"eleRegistShowOnCancel"),B.prototype),i(B.prototype,"dialogOnCancel",[C],(0,He.default)(B.prototype,"dialogOnCancel"),B.prototype),i(B.prototype,"clearFile",[I],(0,He.default)(B.prototype,"clearFile"),B.prototype),i(B.prototype,"getChangeWordToPdf",[k],(0,He.default)(B.prototype,"getChangeWordToPdf"),B.prototype),i(B.prototype,"changeTab",[T],(0,He.default)(B.prototype,"changeTab"),B.prototype),i(B.prototype,"getBaseInfoForDemo",[E],(0,He.default)(B.prototype,"getBaseInfoForDemo"),B.prototype),i(B.prototype,"getWorkflowListByTypeForDemo",[D],(0,He.default)(B.prototype,"getWorkflowListByTypeForDemo"),B.prototype),i(B.prototype,"changeWorkflowTab",[O],(0,He.default)(B.prototype,"changeWorkflowTab"),B.prototype),i(B.prototype,"createWorkflowOnCancel",[P],(0,He.default)(B.prototype,"createWorkflowOnCancel"),B.prototype),i(B.prototype,"getHandForm",[W],(0,He.default)(B.prototype,"getHandForm"),B.prototype),i(B.prototype,"showRegistDialog",[R],(0,He.default)(B.prototype,"showRegistDialog"),B.prototype),i(B.prototype,"onSigninDoc",[A],(0,He.default)(B.prototype,"onSigninDoc"),B.prototype),i(B.prototype,"getList",[x],(0,He.default)(B.prototype,"getList"),B.prototype),i(B.prototype,"onReceive",[L],(0,He.default)(B.prototype,"onReceive"),B.prototype),i(B.prototype,"customSet",[F],(0,He.default)(B.prototype,"customSet"),B.prototype),i(B.prototype,"onSearch",[M],(0,He.default)(B.prototype,"onSearch"),B.prototype),i(B.prototype,"sendBack",[N],(0,He.default)(B.prototype,"sendBack"),B.prototype),i(B.prototype,"onReject",[j],(0,He.default)(B.prototype,"onReject"),B.prototype),i(B.prototype,"createFTPWF",[z],(0,He.default)(B.prototype,"createFTPWF"),B.prototype),je=i(B.prototype,"attachmentVisible",[ct.observable],{enumerable:!0,initializer:function(){return!1}}),ze=i(B.prototype,"attachmentTitle",[ct.observable],{enumerable:!0,initializer:function(){return""}}),Be=i(B.prototype,"attachmentIds",[ct.observable],{enumerable:!0,initializer:function(){return""}}),qe=i(B.prototype,"closeAttachment",[ct.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attachmentVisible=!1,e.attachmentTitle="",e.attachmentIds=""}}}),B);t.default=wt},function(e,t,o){e.exports={default:o(333),__esModule:!0}},function(e,t,o){o(76),o(334),e.exports=o(15).Array.from},function(e,t,o){"use strict";var n=o(32),r=o(17),a=o(39),i=o(186),s=o(187),l=o(59),c=o(335),u=o(120);r(r.S+r.F*!o(188)(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,r,d,p=a(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=u(p);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(t=l(p.length),o=new f(t);t>g;g++)c(o,g,v?m(p[g],g):p[g]);else for(d=y.call(p),o=new f;!(r=d.next()).done;g++)c(o,g,v?i(d,m,[r.value,g],!0):r.value);return o.length=g,o}})},function(e,t,o){"use strict";var n=o(27),r=o(47);e.exports=function(e,t,o){t in e?n.f(e,t,r(0,o)):e[t]=o}},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n){o&&(0,X.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function i(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y=o(12),X=r(Y),$=o(14),Z=r($),ee=o(20),te=r(ee),oe=o(89),ne=r(oe),re=o(6),ae=r(re),ie=o(3),se=r(ie),le=o(1),ce=r(le),ue=o(2),de=r(ue),pe=o(4),fe=r(pe),he=o(5),me=r(he),ve=o(8),ge=o(11),ye=o(0),be=o(9),we=o(95),Se=r(we),_e=o(123),Ce=n(_e),Ie=o(168),ke=n(Ie),Te=ye.WeaLocaleProvider.getLabel,Ee=ge.WeaTableNew.TableStore,De=(s=ve.action.bound,l=ve.action.bound,c=ve.action.bound,u=ve.action.bound,d=ve.action.bound,p=ve.action.bound,f=ve.action.bound,h=ve.action.bound,m=ve.action.bound,v=ve.action.bound,g=ve.action.bound,y=ve.action.bound,b=ve.action.bound,w=ve.action.bound,S=ve.action.bound,_=ve.action.bound,C=ve.action.bound,I=function(e){function t(){(0,ce.default)(this,t);var e=(0,fe.default)(this,(t.__proto__||(0,se.default)(t)).call(this));return e.test="发送公文",a(e,"status",k,e),a(e,"odocSendDocDialogForm",T,e),a(e,"selectRowId",E,e),a(e,"FTPShowRecive",D,e),a(e,"selectRowBaseInfoId",O,e),a(e,"currentBaseInfoId",P,e),a(e,"showRecive",W,e),a(e,"reciveDocUnitTable",R,e),a(e,"documentIdentifier",A,e),a(e,"dialogType",x,e),a(e,"showReasonDialog",L,e),a(e,"backoutForm",F,e),a(e,"invalidForm",M,e),a(e,"unitIdArr",N,e),a(e,"requestId",j,e),a(e,"currentRequestId",z,e),a(e,"isInnerChange",B,e),a(e,"requestidspan",q,e),a(e,"currentId",K,e),a(e,"currentUnitId",U,e),e.getReceiveSendUnitInfo=function(t,o){Ce.getReceiveSendUnitInfo(t).then(function(t){e.status=(0,ae.default)({},e.status,{condition:t.condition,settedUnit:t.settedUnit,otherUnit:t.otherUnit}),o&&o(t.condition)})},e.setReceiveSendUnitInfo=function(t,o){Ce.setReceiveSendUnitInfo(t).then(function(t){t.status?(e.status=(0,ae.default)({},e.status,{settedUnit:t.settedUnit,otherUnit:t.otherUnit}),o&&o(),be.message.success(Te(27564,"发送成功")),e.onlyClose(),e.initData({compParams:{viewcondition:e.viewcondition,viewconditiondomkey:"state",isInnerChange:e.isInnerChange,state:e.viewcondition}})):be.message.error(Te(22397,"发送失败"))})},a(e,"onOperatesClick",V,e),a(e,"attachmentVisible",H,e),a(e,"attachmentTitle",G,e),a(e,"attachmentIds",J,e),a(e,"closeAttachment",Q,e),e.pageName="sendDoc",e}return(0,me.default)(t,e),(0,de.default)(t,[{key:"selelctRow",value:function(e,t){this.selectRowId=e,this.requestId=[],this.currentRequestId="",this.currentId="",this.currentBaseInfoId="",this.selectRowBaseInfoId=[];var o=!0,n=!1,r=void 0;try{for(var a,i=(0,ne.default)(t);!(o=(a=i.next()).done);o=!0){var s=a.value;this.requestId.push(s.requestid),this.selectRowBaseInfoId.push(s.baseinfoid)}}catch(e){n=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"onUnitRowSelect",value:function(e,t){this.unitIdArr=[];var o=!0,n=!1,r=void 0;try{for(var a,i=(0,ne.default)(t);!(o=(a=i.next()).done);o=!0){var s=a.value;this.unitIdArr.push(s.receive_company_id)}}catch(e){n=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"closeReciveDialog",value:function(){this.documentIdentifier="",this.showRecive=!1,this.unitIdArr=[],this.currentUnitId="",this.currentId=""}},{key:"getSendDocinfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o={documentId:this.documentIdentifier,entityName:t};Ce.getSendDocinfo(o).then(function(t){t.sessionkey&&e.reciveDocUnitTable.getDatas(t.sessionkey,1,10)})}},{key:"backout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialogType="backout",this.rerender=Math.random(),this.showReasonDialog=!0,e.id&&(this.currentUnitId=e.receive_company_id)}},{key:"hideReasonDialog",value:function(){this.showReasonDialog=!1,"backout"!=this.dialogType&&(this.currentId=""),this.currentUnitId="",this.invalidForm.resetForm(),this.backoutForm.resetForm()}},{key:"postWebSendDocCondition",value:function(){var e=this;Ce.postWebSendDocCondition().then(function(t){e.invalidForm.setCondition(t.invalidCondition),e.backoutForm.setCondition(t.undoCondition)})}},{key:"backoutSubmit",value:function(){var e=this,t=this.backoutForm.getFormParams(),o=this.currentId||this.selectRowId.join(","),n=this.currentUnitId||this.unitIdArr.join(","),r={ids:o,detail:t.detail,status:"4",receiverDepartments:n,isInnerChange:this.isInnerChange};Ce.revokedDoc(r).then(function(t){t.api_status?(e.hideReasonDialog(),e.closeReciveDialog(),e.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"changeTab",viewcondition:e.viewcondition,viewconditiondomkey:"state",otherInterfaceParams:{isInnerChange:e.isInnerChange,state:e.viewcondition}}),be.message.success(Te("30700","操作成功"))):be.message.error(t.api_message)})}},{key:"invalidSubmit",value:function(){var e=this,t=this.invalidForm.getFormParams(),o=this.currentId||this.selectRowId.join(","),n={ids:o,detail:t.detail,status:"5",isInnerChange:this.isInnerChange};Ce.cancelledDoc(n).then(function(t){t.api_status?(e.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"changeTab",viewcondition:e.viewcondition,viewconditiondomkey:"state",otherInterfaceParams:{isInnerChange:e.isInnerChange,state:e.viewcondition}}),e.hideReasonDialog(),be.message.success(Te("30700","操作成功"))):be.message.error(t.api_message)})}},{key:"resendSubmit",value:function(e){var t=this;if(""!=e){this.loading=!0;var o=this.currentBaseInfoId||this.selectRowBaseInfoId.join(","),n={ids:o,status:"0",receiverDepartments:e,isInnerChange:this.isInnerChange};Ce.resendDoc(n).then(function(e){t.loading=!1,e.api_status?(t.doSearch({ifAdFormCgWhenCgTab:!0,behavior:"changeTab",viewcondition:t.viewcondition,viewconditiondomkey:"state",otherInterfaceParams:{isInnerChange:t.isInnerChange,state:t.viewcondition}}),be.message.success(Te("30700","操作成功")),t.selectRowId=[],t.currentId="",t.unitIdArr=[],t.requestId=[],t.currentRequestId="",t.showRecive=!1,t.documentIdentifier="",t.currentBaseInfoId=""):be.message.error(e.api_message)})}}},{key:"onlyClose",value:function(){this.requestId=[],this.currentRequestId="",this.FTPShowRecive=!1}},{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,te.default)(t).forEach(function(o){e[o]=t[o]})}},{key:"onFTPSend",value:function(){var e=this;this.loading=!0;var t={ids:this.currentId||this.selectRowId.join(","),status:1,isInnerChange:this.isInnerChange};Ce.sendDoc(t).then(function(t){e.getList(t)})}},{key:"getList",value:function(e){this.sloading=!1,e.api_status?""==e.api_message?be.message.success(Te("30700","操作成功")):be.message.success(e.api_message):be.message.error(e.api_message),this.onSearch({behavior:"search"}),this.selectRowId=[],this.currentId=""}},{key:"onSearch",value:function(e){var t=e.behavior,o=e.viewcondition;this.selectRowId=[],this.currentId="",this.setStoreAttr("ifShowSearchAd",!1),this.doSearch({ifAdFormCgWhenCgTab:!0,behavior:t,viewcondition:o||this.viewcondition,viewconditiondomkey:"state",otherInterfaceParams:{isInnerChange:this.isInnerChange,state:o||this.viewcondition}})}},{key:"customSet",value:function(){this.tableStore.setColSetVisible(!0),this.tableStore.tableColSet(!0)}}]),t}(Se.default),k=i(I.prototype,"status",[ve.observable],{enumerable:!0,initializer:function(){return{condition:"",settedUnit:"",otherUnit:""}}}),T=i(I.prototype,"odocSendDocDialogForm",[ve.observable],{enumerable:!0,initializer:function(){return new ge.WeaForm}}),E=i(I.prototype,"selectRowId",[ve.observable],{enumerable:!0,initializer:function(){return[]}}),D=i(I.prototype,"FTPShowRecive",[ve.observable],{enumerable:!0,initializer:function(){return!1}}),O=i(I.prototype,"selectRowBaseInfoId",[ve.observable],{enumerable:!0,initializer:function(){return[]}}),P=i(I.prototype,"currentBaseInfoId",[ve.observable],{enumerable:!0,initializer:function(){return""}}),W=i(I.prototype,"showRecive",[ve.observable],{enumerable:!0,initializer:function(){return!1}}),R=i(I.prototype,"reciveDocUnitTable",[ve.observable],{enumerable:!0,initializer:function(){return new Ee}}),A=i(I.prototype,"documentIdentifier",[ve.observable],{enumerable:!0,initializer:function(){return""}}),x=i(I.prototype,"dialogType",[ve.observable],{enumerable:!0,initializer:function(){return"invalid"}}),L=i(I.prototype,"showReasonDialog",[ve.observable],{enumerable:!0,initializer:function(){return!1}}),F=i(I.prototype,"backoutForm",[ve.observable],{enumerable:!0,initializer:function(){return new ge.WeaForm}}),M=i(I.prototype,"invalidForm",[ve.observable],{enumerable:!0,initializer:function(){return new ge.WeaForm}}),N=i(I.prototype,"unitIdArr",[ve.observable],{enumerable:!0,initializer:function(){return[]}}),j=i(I.prototype,"requestId",[ve.observable],{enumerable:!0,initializer:function(){return[]}}),z=i(I.prototype,"currentRequestId",[ve.observable],{enumerable:!0,initializer:function(){return""}}),B=i(I.prototype,"isInnerChange",[ve.observable],{enumerable:!0,initializer:function(){return"0"}}),q=i(I.prototype,"requestidspan",[ve.observable],{enumerable:!0,initializer:function(){return""}}),K=i(I.prototype,"currentId",[ve.observable],{enumerable:!0,initializer:function(){return""}}),U=i(I.prototype,"currentUnitId",[ve.observable],{enumerable:!0,initializer:function(){return""}}),i(I.prototype,"selelctRow",[s],(0,Z.default)(I.prototype,"selelctRow"),I.prototype),i(I.prototype,"onUnitRowSelect",[l],(0,Z.default)(I.prototype,"onUnitRowSelect"),I.prototype),i(I.prototype,"closeReciveDialog",[c],(0,Z.default)(I.prototype,"closeReciveDialog"),I.prototype),i(I.prototype,"getSendDocinfo",[u],(0,Z.default)(I.prototype,"getSendDocinfo"),I.prototype),i(I.prototype,"backout",[d],(0,Z.default)(I.prototype,"backout"),I.prototype),i(I.prototype,"hideReasonDialog",[p],(0,Z.default)(I.prototype,"hideReasonDialog"),I.prototype),i(I.prototype,"postWebSendDocCondition",[f],(0,Z.default)(I.prototype,"postWebSendDocCondition"),I.prototype),i(I.prototype,"backoutSubmit",[h],(0,Z.default)(I.prototype,"backoutSubmit"),I.prototype),i(I.prototype,"invalidSubmit",[m],(0,Z.default)(I.prototype,"invalidSubmit"),I.prototype),i(I.prototype,"resendSubmit",[v],(0,Z.default)(I.prototype,"resendSubmit"),I.prototype),i(I.prototype,"onlyClose",[g],(0,Z.default)(I.prototype,"onlyClose"),I.prototype),V=i(I.prototype,"onOperatesClick",[y],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r,a){if(e.requestId=[],e.currentId="","0"==r)e.currentBaseInfoId=t.baseinfoid,e.currentRequestId=t.requestid,e.currentId=t.id,e.FTPShowRecive=!0,e.getReceiveSendUnitInfo({requestid:e.currentRequestId},function(t){e.odocSendDocDialogForm.initFormFields(t)});else if("1"==r);else if("2"==r);else if("3"==r)e.currentId=t.requestid,e.onFTPSend();else if("21"==r)e.documentIdentifier=t.document_identifier,e.currentRequestId=t.requestid,e.currentBaseInfoId=t.baseinfoid,e.currentId=t.id,e.getSendDocinfo(),e.showRecive=!0,e.requestidspan=t.requestidspan;else if("22"==r)e.currentId=t.id,e.dialogType="invalid",e.showReasonDialog=!0;else if("23"==r)e.currentBaseInfoId=t.baseinfoid,e.currentId=t.id,e.currentRequestId=t.requestid,a.refs.browser.openModal();else if("24"==r){if(e.loading)return;e.currentId=t.id,ke.onsendDocBtnClick(e)}}}}),i(I.prototype,"setMobxState",[b],(0,Z.default)(I.prototype,"setMobxState"),I.prototype),i(I.prototype,"onFTPSend",[w],(0,Z.default)(I.prototype,"onFTPSend"),I.prototype),i(I.prototype,"getList",[S],(0,Z.default)(I.prototype,"getList"),I.prototype),i(I.prototype,"onSearch",[_],(0,Z.default)(I.prototype,"onSearch"),I.prototype),i(I.prototype,"customSet",[C],(0,Z.default)(I.prototype,"customSet"),I.prototype),H=i(I.prototype,"attachmentVisible",[ve.observable],{enumerable:!0,initializer:function(){return!1}}),G=i(I.prototype,"attachmentTitle",[ve.observable],{enumerable:!0,initializer:function(){return""}}),J=i(I.prototype,"attachmentIds",[ve.observable],{enumerable:!0,initializer:function(){return""}}),Q=i(I.prototype,"closeAttachment",[ve.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attachmentVisible=!1,e.attachmentTitle="",e.attachmentIds=""}}}),I);t.default=De},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,ie.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y,X,$,Z,ee,te,oe,ne,re,ae=o(12),ie=n(ae),se=o(14),le=n(se),ce=o(6),ue=n(ce),de=o(21),pe=n(de),fe=o(1),he=n(fe),me=o(2),ve=n(me),ge=o(8),ye=o(338),be=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(ye),we=o(126),Se=n(we),_e=o(16),Ce=o(0),Ie=Ce.WeaLocaleProvider.getLabel,ke=(i=ge.action.bound,s=ge.action.bound,l=ge.action.bound,c=ge.action.bound,u=ge.action.bound,d=ge.action.bound,p=ge.action.bound,f=ge.action.bound,h=ge.action.bound,m=ge.action.bound,v=ge.action.bound,g=ge.action.bound,y=ge.action.bound,b=ge.action.bound,w=ge.action.bound,S=ge.action.bound,_=ge.action.bound,C=ge.action.bound,I=ge.action.bound,k=ge.action.bound,T=ge.action.bound,E=function(){function e(){(0,he.default)(this,e),r(this,"createReq",D,this),r(this,"createOffical",O,this),r(this,"popover1",P,this),r(this,"popover2",W,this),r(this,"countOfOdocType",R,this),r(this,"countOfTopicType",A,this),r(this,"searchStore",x,this),r(this,"librarys",L,this),r(this,"todos",F,this),r(this,"selectedTodoTab",M,this),r(this,"tabs",N,this),r(this,"tabsCount",j,this),r(this,"toView",z,this),r(this,"selectedToViewTab",B,this),r(this,"toViewTabs",q,this),r(this,"toViewTabsCount",K,this),r(this,"unSupportSPAWf",U,this),r(this,"showToviewComp",V,this),r(this,"setCreateReq",H,this),r(this,"setCreateOffical",G,this),r(this,"setCountOfOdocType",J,this),r(this,"setCountOfTopicType",Q,this),r(this,"setLibrarys",Y,this),r(this,"setTodos",X,this),r(this,"setView",$,this),r(this,"setSelectedTodoTab",Z,this),r(this,"setSelectedtoViewTab",ee,this),r(this,"setTabs",te,this),r(this,"setToViewTabs",oe,this),r(this,"setTabsCount",ne,this),r(this,"setToViewTabsCount",re,this),this.searchStore.setSearchType(2)}return(0,ve.default)(e,[{key:"buildCreateReq",value:function(e){var t=this;be.getCenterInfo(e).then(function(e){t.setCreateReq(e)})}},{key:"buildCreateOffical",value:function(){this.buildCreateOfficalList({officalType:1}),this.buildCreateOfficalList({officalType:2})}},{key:"buildCreateOfficalList",value:function(e){var t=this;be.createOfficalList(e).then(function(o){t.unSupportSPAWf=o.unSupportSPAWf;var n=[],r=[];o.datas.forEach(function(e){var t={childs:[],domid:"type_"+e.id,haschild:!1,isopen:!0,key:e.id,name:e.typeName};e.wfbeans.forEach(function(e){var o=0;""!=e.beagenters&&(o=1);var n={domid:"wf_"+e.id,haschild:!1,isopen:!1,key:e.id,name:e.name,workflowid:e.id,isagent:o,beagenters:e.beagenters,belongtoUsers:e.belongtoUsers};t.childs.push(n)}),t.childs.length>0&&(t.haschild=!0),n.push(t),r.push(t.key)});var a={createOfficalType:e.officalType,createOfficalList:n,createOfficalListKeys:r};1==e.officalType&&(t.createOffical[0]=a),2==e.officalType&&(t.createOffical[1]=a)})}},{key:"addWorkflowUseCount",value:function(e){var t={wfid:e};be.addWorkflowUseCount(t).then(function(){})}},{key:"buildCountOfOdocType",value:function(e){var t=this;be.getCountByOdocType(e).then(function(e){t.setCountOfOdocType(e.countByOdocType)})}},{key:"buildCountOfTopicType",value:function(e){var t=this;be.getCountByTopicType(e).then(function(e){t.setCountOfTopicType(e.countByTopicType)})}},{key:"doSearch",value:function(){this.searchStore.setShowSearchAd(!1);var e=this.searchStore.getFormParams(),t={pathname:"/main/offical/odocLibrary",query:e};_e.hashHistory.push(t)}},{key:"buildSearchCondition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};be.getSearchData(t).then(function(t){var o={},n=[];n.push(t.condition[0].searchCondition),o.condition=n,e.searchStore.setSearchCondition(o);var r=o.condition;e.searchStore.form.initFormFields(r),e.searchStore.setKeywords(t.condition[0].searchHotTerm.dataList)})}},{key:"getSearchsBaseValue",value:function(){return this.searchStore.form.getFormParams().odocSubject}},{key:"setSearchsBaseValue",value:function(e){this.searchStore.form.updateFields({odocSubject:{value:e}}),this.searchStore.isSearched()}},{key:"resetForm",value:function(){this.searchStore.form.resetForm(),this.setSearchsBaseValue(""),this.searchStore.isSearched()}},{key:"buildLibrarys",value:function(e){var t=this;be.odocLibrary(e).then(function(e){t.setLibrarys(e.odocLibrary.generateParams.showList)})}},{key:"buildTodos",value:function(e){var t=this,o=this.selectedTodoTab,n={requestname:"",odoctype:"",topictype:"",dispatchnum:"",createdateselect:"0",readstatus:"",docnode:"",officalType:o,iscomplete:0};(0,pe.default)(n,n,e),be.odocTodolist(n).then(function(e){t.setTodos(e.OdocTodolist.generateParams.showList)})}},{key:"buildToView",value:function(e){var t=this,o=this.selectedToViewTab,n={requestname:"",odoctype:"",topictype:"",dispatchnum:"",createdateselect:"0",readstatus:"",docnode:"",officalType:o,isview:0};(0,pe.default)(n,n,e),be.odocTodolist(n).then(function(e){t.setView(e.OdocTodolist.generateParams.showList)})}},{key:"buildTodoTabs",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(""!=this.API_TABCOUNT){var n=(0,ue.default)({},o,{iscomplete:0,isNew:!1});be.getTodoCount(n).then(function(e){var o=e.datalist,n=[],r={};o.forEach(function(e){var t={color:"#000000",showcount:!0,groupid:e.officalType,title:e.title+"("+e.count+")",viewcondition:e.officalType};n.push(t),r[e.officalType]=e.count}),t.setTabs(n),t.setTabsCount(r)})}}},{key:"buildToViewTabs",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(""!=this.API_TABCOUNT){var n=(0,ue.default)({},o,{isview:0,isNew:!1});be.getTodoCount(n).then(function(e){t.showToviewComp=e.showCenterRead;var o=e.datalist,n=[],r={};o.forEach(function(e){var t={color:"#000000",showcount:!0,groupid:e.officalType,title:e.title+"("+e.count+")",viewcondition:e.officalType};n.push(t),r[e.officalType]=e.count}),t.setToViewTabs(n),t.setToViewTabsCount(r)})}}},{key:"changeTodoTab",value:function(e){this.setSelectedTodoTab(e),this.buildTodos()}},{key:"changeToViewTab",value:function(e){this.setSelectedtoViewTab(e),this.buildToView()}},{key:"popoverChange",value:function(e,t){this[t]=e}}]),e}(),D=a(E.prototype,"createReq",[ge.observable],{enumerable:!0,initializer:function(){return{createReqDraft:{showName:Ie("33768","发文拟稿"),color:"#ffffff",action:"createReqDraft",bgcolor:"#fe7e50",officalType:"1"},createReqReceipt:{showName:Ie("33788","收文登记"),color:"#ffffff",action:"createReqReceipt",bgcolor:"#0066b1",officalType:"2"}}}}),O=a(E.prototype,"createOffical",[ge.observable],{enumerable:!0,initializer:function(){return[{createOfficalType:1,createOfficalList:[],createOfficalListKeys:[]},{createOfficalType:2,createOfficalList:[],createOfficalListKeys:[]}]}}),P=a(E.prototype,"popover1",[ge.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(E.prototype,"popover2",[ge.observable],{enumerable:!0,initializer:function(){return!1}}),R=a(E.prototype,"countOfOdocType",[ge.observable],{enumerable:!0,initializer:function(){return{}}}),A=a(E.prototype,"countOfTopicType",[ge.observable],{enumerable:!0,initializer:function(){return{}}}),x=a(E.prototype,"searchStore",[ge.observable],{enumerable:!0,initializer:function(){return new Se.default}}),L=a(E.prototype,"librarys",[ge.observable],{enumerable:!0,initializer:function(){return[]}}),F=a(E.prototype,"todos",[ge.observable],{enumerable:!0,initializer:function(){return[]}}),M=a(E.prototype,"selectedTodoTab",[ge.observable],{enumerable:!0,initializer:function(){return 1}}),N=a(E.prototype,"tabs",[ge.observable],{enumerable:!0,initializer:function(){return[]}}),j=a(E.prototype,"tabsCount",[ge.observable],{enumerable:!0,initializer:function(){return{}}}),z=a(E.prototype,"toView",[ge.observable],{enumerable:!0,initializer:function(){return[]}}),B=a(E.prototype,"selectedToViewTab",[ge.observable],{enumerable:!0,initializer:function(){return 1}}),q=a(E.prototype,"toViewTabs",[ge.observable],{enumerable:!0,initializer:function(){return[]}}),K=a(E.prototype,"toViewTabsCount",[ge.observable],{enumerable:!0,initializer:function(){return{}}}),U=a(E.prototype,"unSupportSPAWf",[ge.observable],{enumerable:!0,initializer:function(){return[]}}),V=a(E.prototype,"showToviewComp",[ge.observable],{enumerable:!0,initializer:function(){return!0}}),H=a(E.prototype,"setCreateReq",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.createReq=t}}}),G=a(E.prototype,"setCreateOffical",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.createOffical=t}}}),J=a(E.prototype,"setCountOfOdocType",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.countOfOdocType=t}}}),Q=a(E.prototype,"setCountOfTopicType",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.countOfTopicType=t}}}),Y=a(E.prototype,"setLibrarys",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.librarys=t}}}),X=a(E.prototype,"setTodos",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.todos=t}}}),$=a(E.prototype,"setView",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.toView=t}}}),Z=a(E.prototype,"setSelectedTodoTab",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.selectedTodoTab=t}}}),ee=a(E.prototype,"setSelectedtoViewTab",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.selectedToViewTab=t}}}),te=a(E.prototype,"setTabs",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.tabs=t}}}),oe=a(E.prototype,"setToViewTabs",[ge.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.toViewTabs=t}}}),ne=a(E.prototype,"setTabsCount",[i],{enumerable:!0,initializer:function(){var e=this;return function(t){e.tabsCount=t}}}),re=a(E.prototype,"setToViewTabsCount",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){e.toViewTabsCount=t}}}),a(E.prototype,"buildCreateReq",[l],(0,le.default)(E.prototype,"buildCreateReq"),E.prototype),a(E.prototype,"buildCreateOffical",[c],(0,le.default)(E.prototype,"buildCreateOffical"),E.prototype),a(E.prototype,"buildCreateOfficalList",[u],(0,le.default)(E.prototype,"buildCreateOfficalList"),E.prototype),a(E.prototype,"addWorkflowUseCount",[d],(0,le.default)(E.prototype,"addWorkflowUseCount"),E.prototype),a(E.prototype,"buildCountOfOdocType",[p],(0,le.default)(E.prototype,"buildCountOfOdocType"),E.prototype),a(E.prototype,"buildCountOfTopicType",[f],(0,le.default)(E.prototype,"buildCountOfTopicType"),E.prototype),a(E.prototype,"doSearch",[h],(0,le.default)(E.prototype,"doSearch"),E.prototype),a(E.prototype,"buildSearchCondition",[m],(0,le.default)(E.prototype,"buildSearchCondition"),E.prototype),a(E.prototype,"getSearchsBaseValue",[v],(0,le.default)(E.prototype,"getSearchsBaseValue"),E.prototype),a(E.prototype,"setSearchsBaseValue",[g],(0,le.default)(E.prototype,"setSearchsBaseValue"),E.prototype),a(E.prototype,"resetForm",[y],(0,le.default)(E.prototype,"resetForm"),E.prototype),a(E.prototype,"buildLibrarys",[b],(0,le.default)(E.prototype,"buildLibrarys"),E.prototype),a(E.prototype,"buildTodos",[w],(0,le.default)(E.prototype,"buildTodos"),E.prototype),a(E.prototype,"buildToView",[S],(0,le.default)(E.prototype,"buildToView"),E.prototype),a(E.prototype,"buildTodoTabs",[_],(0,le.default)(E.prototype,"buildTodoTabs"),E.prototype),a(E.prototype,"buildToViewTabs",[C],(0,le.default)(E.prototype,"buildToViewTabs"),E.prototype),a(E.prototype,"changeTodoTab",[I],(0,le.default)(E.prototype,"changeTodoTab"),E.prototype),a(E.prototype,"changeToViewTab",[k],(0,le.default)(E.prototype,"changeToViewTab"),E.prototype),a(E.prototype,"popoverChange",[T],(0,le.default)(E.prototype,"popoverChange"),E.prototype),E);t.default=ke},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addWorkflowUseCount=t.createOfficalList=t.getTodoCount=t.odocTodolist=t.odocLibrary=t.getSearchData=t.getCountByTopicType=t.getCountByOdocType=t.getCenterInfo=void 0;var n=o(0);t.getCenterInfo=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/getCenterInfo","POST",e)},t.getCountByOdocType=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/getCountByOdocType","POST",e)},t.getCountByTopicType=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/getCountByTopicType","POST",e)},t.getSearchData=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/getSearchData","POST",e)},t.odocLibrary=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/odocLibrary","POST",e)},t.odocTodolist=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/odocTodolist","POST",e)},t.getTodoCount=function(e){return n.WeaTools.callApi("/api/odoc/odocTodoList/getTodoCount","POST",e)},t.createOfficalList=function(e){return n.WeaTools.callApi("/api/odoc/odocCenter/createOfficalList","POST",e)},t.addWorkflowUseCount=function(e){return n.WeaTools.callApi("/workflow/request/AddWorkflowUseCount.jsp","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,q.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B=o(12),q=n(B),K=o(14),U=n(K),V=o(89),H=n(V),G=o(34),J=n(G),Q=o(20),Y=n(Q),X=o(1),$=n(X),Z=o(2),ee=n(Z),te=o(8),oe=o(9),ne=o(11),re=o(0),ae=o(340),ie=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(ae),se=o(126),le=n(se),ce=o(189),ue=ne.WeaTableNew.TableStore,de=re.WeaLocaleProvider.getLabel,pe=(i=te.action.bound,s=te.action.bound,l=te.action.bound,c=te.action.bound,u=te.action.bound,d=te.action.bound,p=te.action.bound,f=te.action.bound,h=te.action.bound,m=te.action.bound,v=te.action.bound,g=te.action.bound,y=function(){function e(){var t=this;(0,$.default)(this,e),r(this,"searchStore",b,this),r(this,"columns",w,this),r(this,"datas",S,this),r(this,"subWFDatas",_,this),r(this,"requestSubWFed",C,this),r(this,"current",I,this),r(this,"count",k,this),r(this,"pageSize",T,this),r(this,"loading",E,this),r(this,"orderkey",D,this),r(this,"sortOrder",O,this),r(this,"inPortal",P,this),r(this,"setShowSearchAd",W,this),this.setCount=function(e){t.count=e},this.setOrderkey=function(e){t.orderkey=e},this.setSortOrder=function(e){t.sortOrder=e},r(this,"changeShowSize",R,this),r(this,"visiable",A,this),r(this,"tableStore",x,this),r(this,"selectedRowKeys",L,this),r(this,"identifier",F,this),r(this,"reasonDialogShow",M,this),r(this,"backoutForm",N,this),r(this,"companyId",j,this),r(this,"resendDocId",z,this),this.searchStore.setSearchType(2)}return(0,ee.default)(e,[{key:"setMobxState",value:function(e){var t=this;(0,Y.default)(e).map(function(o){t[o]=e[o]})}}]),(0,ee.default)(e,[{key:"buildSearchCondition",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie.getCondition(o).then(function(e){t.searchStore.setSearchCondition(e);var o=e.condition;t.searchStore.form.initFormFields(o)})}},{key:"doSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this.current=1);var o=t;return this.loading=!0,ie.getSearchReqList(o).then(function(t){e.doSearch2(t),e.loading=!1}),this}},{key:"doSearch2",value:function(e){var t=this;this.requestSubWFed=!1;var o={dataKey:e.generateParams.sessionkey,current:this.current,pageSize:this.pageSize};if(ie.pageSize({dataKey:e.generateParams.sessionkey,pageSize:this.pageSize}).then(function(){ie.getTableDatas(o).then(function(e){var o=function(t){var o=t.replace(/<[^<>]+?>/g,""),n={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"',apos:"'"};o=o.replace(/&(lt|gt|nbsp|amp|quot|apos);/gi,function(e,t){return n[t]});var r=e.pageAutoWrap;return React.createElement("a",{dangerouslySetInnerHTML:{__html:t},title:o,style:{whiteSpace:r?"break-spaces":"nowrap"}})},n=function(e,o){if(""!=o.parameter_id)return React.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){return t.changeDailogStatus(e)}},de(388097,"收文单位信息"))},r=[];e.columns.forEach(function(e){e.display&&"true"==e.display&&(!0===Object.prototype.hasOwnProperty.call(e,"transMethodOther")&&(e.render=o),"parameter_id"==e.dataIndex&&(e.render=n),"zbr"==e.orderkey&&(e.render=function(e,t){return React.createElement("div",{id:t.requestid+"todo"},React.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return(0,ce.getTodo)(t.requestid,t.requestid+"todo")}},de("26523","显示")))}),"wbr"==e.orderkey&&(e.render=function(e,t){return React.createElement("div",{id:t.requestid+"doing"},React.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return(0,ce.getDoing)(t.requestid,t.requestid+"doing")}},de("26523","显示")))}),"urgencydegree"==e.dataIndex&&(e.render=function(e,t){return React.createElement("div",{id:t.requestid+"doing"},React.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))}),e.sorter=!0,r.push(e))});var a=[],i=[];e.datas.forEach(function(e,t){var o={};r.forEach(function(t){var n=t.dataIndex+"span";o[t.dataIndex]=e[n]}),o.key=t,o.subrequestInfospan=e.subrequestInfospan,o.requestid=e.requestid,a.push(o),"1"==e.subrequestInfospan&&i.push(e.requestid)}),i.length>0?t.getAllSubWF(i):(t.subWFDatas={},t.requestSubWFed=!1),t.columns=r,t.datas=a})}),""!==this.orderkey&&""!==this.sortOrder){var n=[{orderkey:""+this.orderkey,sortOrder:""+this.sortOrder}];o.sortParams=(0,J.default)(n)}ie.getTableCounts(o).then(function(e){t.setCount(e.count)})}},{key:"changeShowSearchAd",value:function(e){this.setShowSearchAd(e)}},{key:"resetForm",value:function(){this.searchStore.resetSearchForm(),this.setSearchsBaseValue("")}},{key:"getSearchsBaseValue",value:function(){return this.searchStore.form.getFormParams().requestname}},{key:"setSearchsBaseValue",value:function(e){this.searchStore.form.updateFields({requestname:{value:e}}),this.searchStore.isSearched()}},{key:"changeDailogStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.identifier=e.split("&&")[0]||"",this.companyId=e.split("&&")[1]||"",this.resendDocId=e.split("&&")[2]||"",this.visiable=!this.visiable,this.visiable&&this.getDialogTable(),this.selectedRowKeys=[]}},{key:"getDialogTable",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o={entityName:t,documentId:this.identifier};ie.getDialogTable(o).then(function(t){t.sessionkey&&e.tableStore.getDatas(t.sessionkey)})}},{key:"rowSelection",value:function(e,t){var o=!0,n=!1,r=void 0;try{for(var a,i=(0,H.default)(t);!(o=(a=i.next()).done);o=!0){var s=a.value;this.selectedRowKeys.push(s.receive_company_id)}}catch(e){n=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"repeal",value:function(){var e=this,t=this.backoutForm.getFormParams(),o={ids:this.companyId,receiverDepartments:this.selectedRowKeys.join(","),status:"4",detail:t.detail};ie.revokedDoc(o).then(function(t){t.api_status?(e.ReasonDialogStatus(),e.changeDailogStatus(),e.doSearch(),oe.message.success(de("30700","操作成功"))):oe.message.error(t.api_errormsg)})}},{key:"postOther",value:function(e){var t=this,o={receiverDepartments:e,ids:this.resendDocId,status:"0"};ie.resendDoc(o).then(function(e){e.api_status?(t.changeDailogStatus(),oe.message.success(de("27564","发送成功"))):oe.message.error(e.api_errormsg)})}},{key:"onOperatesClick",value:function(e){this.selectedRowKeys=[],this.selectedRowKeys.push(e.receive_company_id),this.ReasonDialogStatus()}},{key:"ReasonDialogStatus",value:function(){this.reasonDialogShow=!this.reasonDialogShow,this.backoutForm.resetForm()}},{key:"postWebSendDocCondition",value:function(){var e=this;ie.postWebSendDocCondition().then(function(t){e.backoutForm.setCondition(t.undoCondition)})}},{key:"getAllSubWF",value:function(e){var t=this,o={requestids:e.join(",")};ie.getSubReqInfo(o).then(function(e){t.requestSubWFed=!0,t.subWFDatas=e})}}]),e}(),b=a(y.prototype,"searchStore",[te.observable],{enumerable:!0,initializer:function(){return new le.default}}),w=a(y.prototype,"columns",[te.observable],{enumerable:!0,initializer:function(){return[{title:" ",dataIndex:"name",key:"name"}]}}),S=a(y.prototype,"datas",[te.observable],{enumerable:!0,initializer:function(){return[]}}),_=a(y.prototype,"subWFDatas",[te.observable],{enumerable:!0,initializer:function(){return{}}}),C=a(y.prototype,"requestSubWFed",[te.observable],{enumerable:!0,initializer:function(){return!1}}),I=a(y.prototype,"current",[te.observable],{enumerable:!0,initializer:function(){return 1}}),k=a(y.prototype,"count",[te.observable],{enumerable:!0,initializer:function(){return 0}}),T=a(y.prototype,"pageSize",[te.observable],{enumerable:!0,initializer:function(){return 10}}),E=a(y.prototype,"loading",[te.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(y.prototype,"orderkey",[te.observable],{enumerable:!0,initializer:function(){return""}}),O=a(y.prototype,"sortOrder",[te.observable],{enumerable:!0,initializer:function(){return""}}),P=a(y.prototype,"inPortal",[te.observable],{enumerable:!0,initializer:function(){return!1}}),a(y.prototype,"setMobxState",[i],(0,U.default)(y.prototype,"setMobxState"),y.prototype),W=a(y.prototype,"setShowSearchAd",[te.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.showSearchAd=t}}}),R=a(y.prototype,"changeShowSize",[te.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n){e.current=t,e.pageSize=o,e.doSearch(n)}}}),a(y.prototype,"doSearch",[s],(0,U.default)(y.prototype,"doSearch"),y.prototype),a(y.prototype,"doSearch2",[l],(0,U.default)(y.prototype,"doSearch2"),y.prototype),A=a(y.prototype,"visiable",[te.observable],{enumerable:!0,initializer:function(){return!1}}),x=a(y.prototype,"tableStore",[te.observable],{enumerable:!0,initializer:function(){return new ue}}),L=a(y.prototype,"selectedRowKeys",[te.observable],{enumerable:!0,initializer:function(){return[]}}),F=a(y.prototype,"identifier",[te.observable],{enumerable:!0,initializer:function(){return""}}),M=a(y.prototype,"reasonDialogShow",[te.observable],{enumerable:!0,initializer:function(){return!1}}),N=a(y.prototype,"backoutForm",[te.observable],{enumerable:!0,initializer:function(){return new ne.WeaForm}}),j=a(y.prototype,"companyId",[te.observable],{enumerable:!0,initializer:function(){return""}}),z=a(y.prototype,"resendDocId",[te.observable],{enumerable:!0,initializer:function(){return""}}),a(y.prototype,"changeDailogStatus",[c],(0,U.default)(y.prototype,"changeDailogStatus"),y.prototype),a(y.prototype,"getDialogTable",[u],(0,U.default)(y.prototype,"getDialogTable"),y.prototype),a(y.prototype,"rowSelection",[d],(0,U.default)(y.prototype,"rowSelection"),y.prototype),a(y.prototype,"repeal",[p],(0,U.default)(y.prototype,"repeal"),y.prototype),a(y.prototype,"postOther",[f],(0,U.default)(y.prototype,"postOther"),y.prototype),a(y.prototype,"onOperatesClick",[h],(0,U.default)(y.prototype,"onOperatesClick"),y.prototype),a(y.prototype,"ReasonDialogStatus",[m],(0,U.default)(y.prototype,"ReasonDialogStatus"),y.prototype),a(y.prototype,"postWebSendDocCondition",[v],(0,U.default)(y.prototype,"postWebSendDocCondition"),y.prototype),a(y.prototype,"getAllSubWF",[g],(0,U.default)(y.prototype,"getAllSubWF"),y.prototype),y);t.default=pe},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubReqInfo=t.resendDoc=t.revokedDoc=t.postWebSendDocCondition=t.getDialogTable=t.tableColSet=t.setTablePageSize=t.getTableCounts=t.getTableChecks=t.getTableDatas=t.pageSize=t.getTableSet=t.getCondition=t.getSearchReqList=void 0;var n=o(0);t.getSearchReqList=function(e){return n.WeaTools.callApi("/api/odoc/odocAccountList/getAccountList","POST",e)},t.getCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocAccountList/getCondition","POST",e)},t.getTableSet=function(e){return n.WeaTools.callApi("/api/ec/dev/table/set","POST",e)},t.pageSize=function(e){return n.WeaTools.callApi("/api/ec/dev/table/pageSize","POST",e)},t.getTableDatas=function(e){return n.WeaTools.callApi("/api/ec/dev/table/datas","POST",e)},t.getTableChecks=function(e){return n.WeaTools.callApi("/api/ec/dev/table/checks","POST",e)},t.getTableCounts=function(e){return n.WeaTools.callApi("/api/ec/dev/table/counts","POST",e)},t.setTablePageSize=function(e){return n.WeaTools.callApi("/api/ec/dev/table/pageSize","POST",e)},t.tableColSet=function(e,t){return n.WeaTools.callApi("/api/ec/dev/table/showCol",t,e)},t.getDialogTable=function(e){return n.WeaTools.callApi("/api/offical/sendDoc/getWebAddresseeList","POST",e)},t.postWebSendDocCondition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/postWebSendDocCondition","POST",e)},t.revokedDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/revokedDoc","POST",e)},t.resendDoc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/offical/sendDoc/resendDoc","POST",e)},t.getSubReqInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.WeaTools.callApi("/api/odoc/odocAccountList/getSubReqInfo","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,H.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EChartAxis=t.EChartLegend=t.EChart=t.EChartSerie=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V=o(12),H=n(V),G=o(20),J=n(G),Q=o(93),Y=n(Q),X=o(21),$=n(X),Z=o(14),ee=n(Z),te=o(1),oe=n(te),ne=o(2),re=n(ne),ae=o(8),ie=o(11),se=o(64),le=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(se),ce=o(0),ue=ce.WeaLocaleProvider.getLabel,de=t.EChartSerie=(i=function(){function e(){(0,oe.default)(this,e),this.id="",this.name="",this.type="bar",this.stack=ue("388005","总量"),this.label={},this.data=[],this.dataKey=[],this.status=0,this.itemStyle={}}return(0,re.default)(e,[{key:"updateFromJson",value:function(e){this.id=e.id,this.name=e.name,this.data=e.data,this.status=e.status,this.dataKey=e.dataKey,this.itemStyle=e.itemStyle}},{key:"dispose",value:function(){}},{key:"asJson",get:function(){return{id:this.id,name:this.name,data:this.data,dataKey:this.dataKey,type:this.type,stack:this.stack,label:this.label,status:this.status,itemStyle:this.itemStyle}}}]),e}(),a(i.prototype,"asJson",[ae.computed],(0,ee.default)(i.prototype,"asJson"),i.prototype),i),pe=t.EChart=(s=function(){function e(){(0,oe.default)(this,e),this.xAxis=new he,this.yAxis=new he,this.series=[],this.legend=new fe,this.tooltip={}}return(0,re.default)(e,[{key:"updateFromJson",value:function(e){this.xAxis=e.xAxis,this.yAxis=e.yAxis,this.series=e.series,this.legend=e.legend,this.tooltip=e.tooltip}},{key:"dispose",value:function(){}},{key:"asJson",get:function(){return{xAxis:this.xAxis,yAxis:this.yAxis,series:this.series,legend:this.legend,tooltip:this.tooltip}}}]),e}(),a(s.prototype,"asJson",[ae.computed],(0,ee.default)(s.prototype,"asJson"),s.prototype),s),fe=t.EChartLegend=(l=function(){function e(){(0,oe.default)(this,e),this.type="",this.data=[]}return(0,re.default)(e,[{key:"updateFromJson",value:function(e){this.type=e.type,this.data=e.data}},{key:"dispose",value:function(){}},{key:"asJson",get:function(){return{type:this.type,data:this.data}}}]),e}(),a(l.prototype,"asJson",[ae.computed],(0,ee.default)(l.prototype,"asJson"),l.prototype),l),he=t.EChartAxis=(c=function(){function e(){(0,oe.default)(this,e),this.type="",this.data=[],this.axisLabel={formatter:function(e){return e.length>15?e.substring(0,15)+"...":e}}}return(0,re.default)(e,[{key:"updateFromJson",value:function(e){this.type=e.type,this.data=e.data,e.axisLabel&&(this.axisLabel=e.axisLabel)}},{key:"dispose",value:function(){}},{key:"asJson",get:function(){return{type:this.type,data:this.data,axisLabel:this.axisLabel}}}]),e}(),a(c.prototype,"asJson",[ae.computed],(0,ee.default)(c.prototype,"asJson"),c.prototype),c),me=(u=ae.action.bound,d=ae.action.bound,p=ae.action.bound,f=ae.action.bound,h=ae.action.bound,m=function(){function e(){var t=this;(0,oe.default)(this,e),r(this,"selectedTab",v,this),r(this,"searchConfigFlow",g,this),r(this,"searchConfigDoc",y,this),r(this,"searchParamsFlow",b,this),r(this,"searchParamsDoc",w,this),r(this,"formFlow",S,this),r(this,"formDoc",_,this),r(this,"countDatas",C,this),r(this,"echart1",I,this),r(this,"echart2",k,this),r(this,"echart2title",T,this),r(this,"docChart1",E,this),r(this,"docChart2",D,this),r(this,"docChart3",O,this),r(this,"docChart4",P,this),r(this,"docChart5",W,this),r(this,"docChart6",R,this),r(this,"docChart7",A,this),r(this,"docChart1title",x,this),r(this,"docChart2title",L,this),r(this,"docChart3title",F,this),r(this,"docChart4title",M,this),r(this,"docChart5title",N,this),r(this,"docChart6title",j,this),r(this,"docChart7title",z,this),r(this,"loading",B,this),r(this,"hasRight",q,this),r(this,"setSearchConfigFlow",K,this),this.setSearchConfigDoc=function(e){t.searchConfigDoc=e},this.setSelectedTab=function(e){t.selectedTab=e},r(this,"setCountDatas",U,this)}return(0,re.default)(e,[{key:"changeSelectedTab",value:function(e){this.setSelectedTab(e),this.buildSearchCondition()}},{key:"buildSearchCondition",value:function(){var e=this;0==this.selectedTab?le.getOdocReportSearchCondition({}).then(function(t){if(e.hasRight=1==t.condition[0].hasRight,e.hasRight){e.setSearchConfigFlow(t.condition[0].config.items);var o=[];o.push(t.condition[0].config),e.formFlow.initFormFields(o),e.doSearch(e.formFlow.getFormParams())}}):1==this.selectedTab?le.getOdocDocReportSearchCondition({}).then(function(t){if(e.hasRight=0!=t.hasRight,e.hasRight){e.setSearchConfigDoc(t.condition[0].config.items);var o=[];o.push(t.condition[0].config),e.formDoc.initFormFields(o),e.doSearch(e.formDoc.getFormParams())}}):this.selectedTab}},{key:"doSearch",value:function(e){var t=this;this.loading=!0,0==this.selectedTab?(this.searchParamsFlow=this.formFlow.getFormParams(),(0,$.default)(this.searchParamsFlow,this.searchParamsFlow,e),"1"==e.officaltype?this.echart2title=ue("383721","发文环节统计"):"2"==e.officaltype?this.echart2title=ue("510617","收文环节统计"):"3"==e.officaltype?this.echart2title=ue("510618","签报环节统计"):this.echart2title="",le.getOdocReportCountData((0,ae.toJS)(this.searchParamsFlow)).then(function(e){t.buildCountData(e)}),le.getOdocReportEchartData((0,ae.toJS)(this.searchParamsFlow)).then(function(e){t.loading=!1,t.buildFlowChart1(e),t.buildFlowChart2(e)})):1==this.selectedTab&&(this.searchParamsDoc=this.formDoc.getFormParams(),(0,$.default)(this.searchParamsDoc,this.searchParamsDoc,e),le.getOdocDocReportEchartData((0,ae.toJS)(this.searchParamsDoc)).then(function(e){t.loading=!1,t.buildDocChart1(e),t.buildDocChart2(e),t.buildDocChart3(e),t.buildDocChart4(e),t.buildDocChart5(e)}))}},{key:"buildDocChart3",value:function(e){this.docChart3title=e.echart3title;var t=[],o=[];e.echart3.datas.forEach(function(n,r){t.push(e.echart3.datas[r].value),o.push(e.echart3.datas[r].key)});var n=[],r=new de,a={name:"1",type:"bar",data:t,dataKey:o};r.updateFromJson(a),n.push(r);var i=new he;i.updateFromJson({type:"category",data:e.echart3.xAxisData});var s=new he;s.updateFromJson({type:"value",data:[]});var l=new pe;l.updateFromJson({xAxis:i,yAxis:s,series:n,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0];if(t)return t.name+" : "+t.value}}}),this.docChart3=l}},{key:"buildDocChart2",value:function(e){this.docChart2title=e.echart2title;var t=[],o=[],n=[];e.echart2.forEach(function(r,a){t.push(e.echart2[a].title),o.push(e.echart2[a].value),n.push(e.echart2[a].key)});var r=new he;r.updateFromJson({type:"value",data:[]});var a=new he;a.updateFromJson({type:"category",data:t});var i=[],s=new de,l={name:"1",type:"bar",data:o,dataKey:n};s.updateFromJson(l),i.push(s);var c=new pe;c.updateFromJson({xAxis:r,yAxis:a,series:i,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0];if(t)return t.name+" : "+t.value}}}),this.docChart2=c}},{key:"buildDocChart1",value:function(e){this.docChart1title=e.echart1title;var t=[],o=[],n=[];e.echart1.forEach(function(r,a){t.push(e.echart1[a].title),o.push(e.echart1[a].value),n.push(e.echart1[a].key)});var r=new he;r.updateFromJson({type:"value",data:[]});var a=new he;a.updateFromJson({type:"category",data:t});var i=[],s=new de,l={name:"1",type:"bar",data:o,dataKey:n};s.updateFromJson(l),i.push(s);var c=new pe;c.updateFromJson({xAxis:r,yAxis:a,series:i,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0];if(t)return t.name+" : "+t.value}}}),this.docChart1=c}},{key:"buildDocChart4",value:function(e){this.docChart4title=e.echart4title;var t=[],o=[],n=[];e.echart4.forEach(function(r,a){t.push(e.echart4[a].title),o.push(e.echart4[a].value),n.push(e.echart4[a].key)});var r=new he;r.updateFromJson({type:"value",data:[]});var a=new he;a.updateFromJson({type:"category",data:t});var i=[],s=new de,l={name:"1",type:"bar",data:o,dataKey:n};s.updateFromJson(l),i.push(s);var c=new pe;c.updateFromJson({xAxis:r,yAxis:a,series:i,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0];if(t)return t.name+" : "+t.value}}}),this.docChart4=c}},{key:"buildDocChart5",value:function(e){this.docChart5title=e.echart5title;var t=[],o=[],n=[];e.echart5.forEach(function(r,a){t.push(e.echart5[a].title),o.push(e.echart5[a].value),n.push(e.echart5[a].key)});var r=new he;r.updateFromJson({type:"value",data:[]});var a=new he;a.updateFromJson({type:"category",data:t});var i=[],s=new de,l={name:"1",type:"bar",data:o,dataKey:n};s.updateFromJson(l),i.push(s);var c=new pe;c.updateFromJson({xAxis:r,yAxis:a,series:i,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0];if(t)return t.name+" : "+t.value}}}),this.docChart5=c}},{key:"buildFlowChart2",value:function(e){var t=[],o=[],n=[];e.echart2.forEach(function(r,a){t.push(e.echart2[a].title),o.push(e.echart2[a].value),n.push(e.echart2[a].key)});var r=[],a=new de,i={name:"1",type:"bar",data:o,dataKey:n};a.updateFromJson(i),r.push(a);var s=new he;s.updateFromJson({type:"category",data:t});var l=new he;l.updateFromJson({type:"value",data:[]});var c=new pe;c.updateFromJson({xAxis:s,yAxis:l,series:r,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[0];if(t)return t.name+" : "+t.value}}}),this.echart2=c}},{key:"buildFlowChart1",value:function(e){var t=new he;t.updateFromJson({type:"value",data:[]});var o=new he;o.updateFromJson({type:"category",data:e.yAxisData});var n=[],r=[];e.yAxisData.forEach(function(t,o){n[o]=(0,Y.default)(e.flowReqData[o].value),r[o]=e.flowReqData[o].key});var a=[],i=[];e.yAxisData.forEach(function(t,o){a[o]=(0,Y.default)(e.endReqData[o].value),i[o]=e.endReqData[o].key});var s=[];e.legend.forEach(function(t,o){if(e.legend[o]==ue("23773","流转中")){var l=new de,c={name:e.legend[o],data:n,status:2,dataKey:r,itemStyle:{color:"#F67C4C"}};l.updateFromJson(c),s.push(l)}if(e.legend[o]==ue("251","归档")){var u=new de,d={name:e.legend[o],data:a,status:1,dataKey:i,itemStyle:{color:"#D65DF4"}};u.updateFromJson(d),s.push(u)}});var l=new fe;l.updateFromJson({data:e.legend});var c=new pe;c.updateFromJson({xAxis:t,yAxis:o,series:s,legend:l,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}}}),this.echart1=c}},{key:"buildCountData",value:function(e){e.countData.forEach(function(e){1==e.isUp?e.isUpClass="report-count-span-green":e.isUpClass="report-count-span-red"}),this.setCountDatas(e.countData)}},{key:"setMobxStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,J.default)(t).map(function(o){e[o]=t[o]})}}]),e}(),v=a(m.prototype,"selectedTab",[ae.observable],{enumerable:!0,initializer:function(){return 0}}),g=a(m.prototype,"searchConfigFlow",[ae.observable],{enumerable:!0,initializer:function(){return[]}}),y=a(m.prototype,"searchConfigDoc",[ae.observable],{enumerable:!0,initializer:function(){return[]}}),b=a(m.prototype,"searchParamsFlow",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),w=a(m.prototype,"searchParamsDoc",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),S=a(m.prototype,"formFlow",[ae.observable],{enumerable:!0,initializer:function(){return new ie.WeaForm}}),_=a(m.prototype,"formDoc",[ae.observable],{enumerable:!0,initializer:function(){return new ie.WeaForm}}),C=a(m.prototype,"countDatas",[ae.observable],{enumerable:!0,initializer:function(){return[]}}),I=a(m.prototype,"echart1",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),k=a(m.prototype,"echart2",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),T=a(m.prototype,"echart2title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),E=a(m.prototype,"docChart1",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),D=a(m.prototype,"docChart2",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),O=a(m.prototype,"docChart3",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),P=a(m.prototype,"docChart4",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),W=a(m.prototype,"docChart5",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),R=a(m.prototype,"docChart6",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),A=a(m.prototype,"docChart7",[ae.observable],{enumerable:!0,initializer:function(){return{}}}),x=a(m.prototype,"docChart1title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),L=a(m.prototype,"docChart2title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),F=a(m.prototype,"docChart3title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),M=a(m.prototype,"docChart4title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),N=a(m.prototype,"docChart5title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),j=a(m.prototype,"docChart6title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),z=a(m.prototype,"docChart7title",[ae.observable],{enumerable:!0,initializer:function(){return""}}),B=a(m.prototype,"loading",[ae.observable],{enumerable:!0,initializer:function(){return!1}}),q=a(m.prototype,"hasRight",[ae.observable],{enumerable:!0,initializer:function(){return!0}}),K=a(m.prototype,"setSearchConfigFlow",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){e.searchConfigFlow=t}}}),U=a(m.prototype,"setCountDatas",[ae.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.countDatas=t}}}),a(m.prototype,"changeSelectedTab",[d],(0,ee.default)(m.prototype,"changeSelectedTab"),m.prototype),a(m.prototype,"buildSearchCondition",[p],(0,ee.default)(m.prototype,"buildSearchCondition"),m.prototype),a(m.prototype,"doSearch",[f],(0,ee.default)(m.prototype,"doSearch"),m.prototype),a(m.prototype,"setMobxStatus",[h],(0,ee.default)(m.prototype,"setMobxStatus"),m.prototype),m);t.default=me},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,w.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b=o(12),w=n(b),S=o(14),_=n(S),C=o(1),I=n(C),k=o(2),T=n(k),E=o(8),D=o(11),O=o(0),P=o(64),W=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(P),R=D.WeaTableNew.TableStore,A=O.WeaLocaleProvider.getLabel,x=(i=function(){function e(){var t=this;(0,I.default)(this,e),r(this,"S_BUTTON",s,this),r(this,"visable",l,this),r(this,"loading",c,this),r(this,"showSearchAd",u,this),r(this,"condition_base",d,this),r(this,"condition_status",p,this),r(this,"condition_key",f,this),r(this,"searchCondition",h,this),r(this,"form",m,this),r(this,"tableStore",v,this),r(this,"dataKey",g,this),r(this,"setSearchCondition",y,this),this.setCondition_base=function(e){t.condition_base=e},this.hideDialog=function(){t.visable=!1},this.doSearch=this.doSearch.bind(this)}return(0,T.default)(e,[{key:"getFormParams",value:function(){return this.form.getFormParams()}},{key:"changeShowSearchAd",value:function(e){this.showSearchAd=e}},{key:"doSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loading=!0,W.getOdocReportDetailList(t).then(function(o){e.tableStore.getDatas(o.sessionkey,t.current||1),e.dataKey=o.sessionkeyNoUser,e.loading=!1,e.showSearchAd=!1}),this}},{key:"buildSearchCondition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W.getOdocReportDetailCondition(t).then(function(t){e.setSearchCondition(t);var o=t.conditions||t.condition;e.form.initFormFields(o)})}},{key:"getSearchsBaseValue",value:function(){return this.form.getFormParams().requestname}},{key:"setSearchsBaseValue",value:function(e){this.form.updateFields({requestname:{value:e}})}},{key:"showDialog",value:function(e,t){this.condition_status=e,this.condition_key=t,this.visable=!0}}]),e}(),s=a(i.prototype,"S_BUTTON",[E.observable],{enumerable:!0,initializer:function(){return{NAME_RESET:A(27088,"重置"),NAME_SEARCH:A(82529,"搜索"),NAME_CANCEL:A(31129,"取消")}}}),l=a(i.prototype,"visable",[E.observable],{enumerable:!0,initializer:function(){return!1}}),c=a(i.prototype,"loading",[E.observable],{enumerable:!0,initializer:function(){return!0}}),u=a(i.prototype,"showSearchAd",[E.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(i.prototype,"condition_base",[E.observable],{enumerable:!0,initializer:function(){return{}}}),p=a(i.prototype,"condition_status",[E.observable],{enumerable:!0,initializer:function(){return""}}),f=a(i.prototype,"condition_key",[E.observable],{enumerable:!0,initializer:function(){return""}}),h=a(i.prototype,"searchCondition",[E.observable],{enumerable:!0,initializer:function(){return[]}}),m=a(i.prototype,"form",[E.observable],{enumerable:!0,initializer:function(){return new D.WeaForm}}),v=a(i.prototype,"tableStore",[E.observable],{enumerable:!0,initializer:function(){return new R}}),g=a(i.prototype,"dataKey",[E.observable],{enumerable:!0,initializer:function(){return""}}),y=a(i.prototype,"setSearchCondition",[E.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.searchCondition=t}}}),a(i.prototype,"getFormParams",[E.action],(0,_.default)(i.prototype,"getFormParams"),i.prototype),i);t.default=x},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,y.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g=o(12),y=n(g),b=o(14),w=n(b),S=o(1),_=n(S),C=o(2),I=n(C),k=o(8),T=o(11),E=o(64),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(E),O=T.WeaTableNew.TableStore,P=(i=function(){function e(){var t=this;(0,_.default)(this,e),r(this,"visable",s,this),r(this,"showSearchAd",l,this),r(this,"condition_base",c,this),r(this,"condition_status",u,this),r(this,"condition_key",d,this),r(this,"searchCondition",p,this),r(this,"form",f,this),r(this,"tableStore",h,this),r(this,"dataKey",m,this),r(this,"setSearchCondition",v,this),this.setCondition_base=function(e){t.condition_base=e},this.changeShowSearchAd=function(e){t.showSearchAd=e},this.doSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D.getOdocDocReportDetailList(e).then(function(o){t.tableStore.getDatas(o.sessionkey,e.current||1),t.dataKey=o.sessionkeyNoUser,t.showSearchAd=!1}),t},this.setSearchsBaseValue=function(e){t.form.updateFields({odocSubject:{value:e}})},this.showDialog=function(e){t.condition_key=e,t.visable=!0},this.hideDialog=function(){t.visable=!1},this.doSearch=this.doSearch.bind(this)}return(0,I.default)(e,[{key:"getFormParams",value:function(){return this.form.getFormParams()}},{key:"buildSearchCondition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.getOdocDocReportDetailCondition(t).then(function(t){e.setSearchCondition(t);var o=t.condition;e.form.initFormFields(o)})}},{key:"getSearchsBaseValue",value:function(){return this.form.getFormParams().odocSubject}}]),e}(),s=a(i.prototype,"visable",[k.observable],{enumerable:!0,initializer:function(){return!1}}),l=a(i.prototype,"showSearchAd",[k.observable],{enumerable:!0,initializer:function(){return!1}}),c=a(i.prototype,"condition_base",[k.observable],{enumerable:!0,initializer:function(){return{}}}),u=a(i.prototype,"condition_status",[k.observable],{enumerable:!0,initializer:function(){return""}}),d=a(i.prototype,"condition_key",[k.observable],{enumerable:!0,initializer:function(){return""}}),p=a(i.prototype,"searchCondition",[k.observable],{enumerable:!0,initializer:function(){return[]}}),f=a(i.prototype,"form",[k.observable],{enumerable:!0,initializer:function(){return new T.WeaForm}}),h=a(i.prototype,"tableStore",[k.observable],{enumerable:!0,initializer:function(){return new O}}),m=a(i.prototype,"dataKey",[k.observable],{enumerable:!0,initializer:function(){return""}}),v=a(i.prototype,"setSearchCondition",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.searchCondition=t}}}),a(i.prototype,"getFormParams",[k.action],(0,w.default)(i.prototype,"getFormParams"),i.prototype),i);t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,f.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p=o(12),f=n(p),h=o(1),m=n(h),v=o(2),g=n(v),y=o(8),b=o(11),w=o(64),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(w),_=b.WeaTableNew.TableStore,C=(i=function(){function e(){var t=this;(0,m.default)(this,e),r(this,"visable",s,this),r(this,"condition_base",l,this),r(this,"condition_name",c,this),r(this,"tableStore",u,this),r(this,"setCondition_base",d,this),this.hideDialog=function(){t.visable=!1,t.condition_name=""},this.doSearch=this.doSearch.bind(this)}return(0,g.default)(e,[{key:"setSearchsBaseValue",value:function(e){this.condition_name=e}},{key:"doSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S.getOdocReportEchartDetailList(t).then(function(o){e.tableStore.getDatas(o.sessionkey,t.current||1)}),this}},{key:"showDialog",value:function(){this.visable=!0}}]),e}(),s=a(i.prototype,"visable",[y.observable],{enumerable:!0,initializer:function(){return!1}}),l=a(i.prototype,"condition_base",[y.observable],{enumerable:!0,initializer:function(){return{}}}),c=a(i.prototype,"condition_name",[y.observable],{enumerable:!0,initializer:function(){return""}}),u=a(i.prototype,"tableStore",[y.observable],{enumerable:!0,initializer:function(){return new _}}),d=a(i.prototype,"setCondition_base",[y.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.condition_base=t}}}),i);t.default=C},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n){o&&(0,v.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function i(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f,h,m=o(12),v=r(m),g=o(14),y=r(g),b=o(1),w=r(b),S=o(2),_=r(S),C=o(8),I=o(11),k=o(64),T=n(k),E=o(346),D=n(E),O=I.WeaTableNew.TableStore,P=(s=C.action.bound,l=function(){function e(){var t=this;(0,w.default)(this,e),a(this,"visable",c,this),a(this,"condition_base",u,this),a(this,"condition_name",d,this),a(this,"condition_analyseType",p,this),a(this,"tableStore",f,this),a(this,"setCondition_base",h,this),this.doSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.tableStore=new O,T.getOdocDocReportEchartDetailList(e).then(function(o){t.tableStore.getDatas(o.sessionkey,e.current||1)}),t},this.hideDialog=function(){t.visable=!1,t.condition_name=""},this.doSearch=this.doSearch.bind(this)}return(0,_.default)(e,[{key:"setSearchsBaseValue",value:function(e){this.condition_name=e}},{key:"getDialogTitleName",value:function(){return 1==this.condition_analyseType?D.NAME.ODOC_TYPE_TOP:2==this.condition_analyseType?D.NAME.ODOC_TOPIC_TOP:4==this.condition_analyseType?D.NAME.ODOC_DEPARTMENT_TOP:5==this.condition_analyseType?D.NAME.ODOC_SUBCOMPANY_TOP:void 0}},{key:"showDialog",value:function(e){this.condition_analyseType=e,this.visable=!0}}]),e}(),c=i(l.prototype,"visable",[C.observable],{enumerable:!0,initializer:function(){return!1}}),u=i(l.prototype,"condition_base",[C.observable],{enumerable:!0,initializer:function(){return{}}}),d=i(l.prototype,"condition_name",[C.observable],{enumerable:!0,initializer:function(){return""}}),p=i(l.prototype,"condition_analyseType",[C.observable],{enumerable:!0,initializer:function(){return""}}),f=i(l.prototype,"tableStore",[C.observable],{enumerable:!0,initializer:function(){return new O}}),h=i(l.prototype,"setCondition_base",[C.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.condition_base=t}}}),i(l.prototype,"setSearchsBaseValue",[s],(0,y.default)(l.prototype,"setSearchsBaseValue"),l.prototype),l);t.default=P},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLOR=t.ICON=t.BTN=t.NAME=t.TITLE=void 0;var n=o(0),r=n.WeaLocaleProvider.getLabel;t.TITLE={TODO:r(384728,"待办公文"),LIBRARY:r("383001","公文库"),SEARCHREQ:r("384729","公文流程查询"),ACCOUNTLIST:r("384372","发文台账"),CENTER:r("384730","公文中心"),REPORT:r("384731","公文报表")},t.NAME={FLOW_COUNT:r("383718","流程统计"),ODOC_COUNT:r("384732","公文统计"),CREATE_TOP:r("383719","公文流程拟办排名"),FLOW_DETAIL_LIST:r("383302","具体流程清单"),ODOC_DETAIL_LIST:r("383855","具体公文清单"),ODOC_TYPE_TOP:r("384733","公文种类排名"),ODOC_TOPIC_TOP:r("384812","主题分类排名"),ODOC_DEPARTMENT_TOP:r("514961","部门分类排名"),ODOC_SUBCOMPANY_TOP:r("514962","分部分类排名"),TOTAL:r("18609","共"),ITEMS:r("18256","条")},t.BTN={BATCH_SUBMIT:r("17598","批量提交"),SEARCH:r("197","搜索"),RESET:r("2022","重置"),CANCEL:r("31129","取消"),BATCH_DELETE:"批量删除",EXPORT_EXCEL:r("28343","导出Excel"),MORE:r("385419","更多>>")},t.ICON={SEARCH:React.createElement("i",{className:"icon-search"}),OFFICIAL:React.createElement("i",{className:"icon-coms-official"}),OFFICIAL_CLASSNAME:"icon-coms-official"},t.COLOR={TITLE_BG_OFFICIAL:"#f14a2d"}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,L.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x=o(12),L=n(x),F=o(14),M=n(F),N=o(6),j=n(N),z=o(1),B=n(z),q=o(2),K=n(q),U=o(8),V=o(11),H=o(0),G=o(348),J=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(G),Q=o(9),Y=V.WeaTableNew.TableStore,X=V.WeaLogView.LogStore,$=H.WeaLocaleProvider.getLabel,Z=Q.Modal.confirm,ee=(i=U.action.bound,s=U.action.bound,l=U.action.bound,c=U.action.bound,u=U.action.bound,d=U.action.bound,p=U.action.bound,f=U.action.bound,h=U.action.bound,m=U.action.bound,v=U.action.bound,g=U.action.bound,y=U.action.bound,b=U.action.bound,w=U.action.bound,S=U.action.bound,_=function(){function e(){(0,B.default)(this,e),r(this,"dialogVisible",C,this),r(this,"tableStore",I,this),r(this,"selectedRowKeys",k,this),r(this,"logVisible",T,this),r(this,"logStore",E,this),r(this,"logType",D,this),r(this,"logSmallType",O,this),r(this,"loading",P,this),r(this,"isCreat",W,this),r(this,"form",R,this),r(this,"creatDialogVisible",A,this)}return(0,K.default)(e,[{key:"getTableData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o={ConditionType:"1",receiveName:t};J.getTableData(o).then(function(t){t.sessionkey&&e.tableStore.getDatas(t.sessionkey)})}},{key:"rowSelection",value:function(e){this.selectedRowKeys=e}},{key:"dialogHide",value:function(){this.dialogVisible=!1}},{key:"dialogShow",value:function(){this.dialogVisible=!0}},{key:"creatDialogHide",value:function(){this.creatDialogVisible=!1,this.selectedRowKeys=[]}},{key:"creatDialogShow",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isCreat=e,this.getCommReceiveItems(),this.creatDialogVisible=!0}},{key:"getCommReceiveItems",value:function(){var e=this,t={ConditionType:"1",receiveId:this.selectedRowKeys[0]};J.getCommReceiveItems(t).then(function(t){t.api_status&&(e.form=new V.WeaForm,e.form.setCondition(t.groupsCondition))})}},{key:"onOperatesClick",value:function(e,t,o,n){this.selectedRowKeys=[e.id],"0"==n?this.creatDialogShow(!1):"2"==n?this.showConfirm():"3"==n&&this.logShow()}},{key:"onCheck",value:function(){var e=this;this.form.validateForm().then(function(t){t.isValid?e.saveReceiveGroup():t.showErrors()})}},{key:"saveReceiveGroup",value:function(){var e=this;this.setLoading(!0);var t=this.form.getFormParams(),o=this.selectedRowKeys[0],n=(0,j.default)({},t,{receiveunitType:"1",id:o});J.saveReceiveGroup(n).then(function(t){e.setLoading(!1),t.api_status?(e.getTableData(),e.creatDialogHide(),Q.message.success($(22619,"保存成功！"))):Q.message.error(t.api_errormsg)})}},{key:"showConfirm",value:function(){var e=this;Z({title:"您是否确认要删除这项内容",onOk:function(){e.deletePrivate()}})}},{key:"deletePrivate",value:function(){var e=this;this.setLoading(!0);var t={ids:this.selectedRowKeys.join(",")};J.deleteReceiveGroup(t).then(function(t){e.setLoading(!1),t.api_status?(Q.message.success($(20461,"删除成功")),e.getTableData(),e.selectedRowKeys=[]):Q.message.error(t.api_errormsg)})}},{key:"getPrivateReceiveLogType",value:function(){var e=this;J.getPrivateReceiveLogType().then(function(t){e.logType=t.logType,e.logSmallType=t.logSmallType})}},{key:"logShow",value:function(){this.logVisible=!0}},{key:"logHide",value:function(){this.logVisible=!1,this.selectedRowKeys=[]}},{key:"setLoading",value:function(e){this.loading=e}}]),e}(),C=a(_.prototype,"dialogVisible",[U.observable],{enumerable:!0,initializer:function(){return!1}}),I=a(_.prototype,"tableStore",[U.observable],{enumerable:!0,initializer:function(){return new Y}}),k=a(_.prototype,"selectedRowKeys",[U.observable],{enumerable:!0,initializer:function(){return[]}}),T=a(_.prototype,"logVisible",[U.observable],{enumerable:!0,initializer:function(){return!1}}),E=a(_.prototype,"logStore",[U.observable],{enumerable:!0,initializer:function(){return new X}}),D=a(_.prototype,"logType",[U.observable],{enumerable:!0,initializer:function(){return""}}),O=a(_.prototype,"logSmallType",[U.observable],{enumerable:!0,initializer:function(){return""}}),P=a(_.prototype,"loading",[U.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(_.prototype,"isCreat",[U.observable],{enumerable:!0,initializer:function(){return!0}}),R=a(_.prototype,"form",[U.observable],{enumerable:!0,initializer:function(){return new V.WeaForm}}),A=a(_.prototype,"creatDialogVisible",[U.observable],{enumerable:!0,initializer:function(){return!1}}),a(_.prototype,"getTableData",[i],(0,M.default)(_.prototype,"getTableData"),_.prototype),a(_.prototype,"rowSelection",[s],(0,M.default)(_.prototype,"rowSelection"),_.prototype),a(_.prototype,"dialogHide",[l],(0,M.default)(_.prototype,"dialogHide"),_.prototype),a(_.prototype,"dialogShow",[c],(0,M.default)(_.prototype,"dialogShow"),_.prototype),a(_.prototype,"creatDialogHide",[u],(0,M.default)(_.prototype,"creatDialogHide"),_.prototype),a(_.prototype,"creatDialogShow",[d],(0,M.default)(_.prototype,"creatDialogShow"),_.prototype),a(_.prototype,"getCommReceiveItems",[p],(0,M.default)(_.prototype,"getCommReceiveItems"),_.prototype),a(_.prototype,"onOperatesClick",[f],(0,M.default)(_.prototype,"onOperatesClick"),_.prototype),a(_.prototype,"onCheck",[h],(0,M.default)(_.prototype,"onCheck"),_.prototype),a(_.prototype,"saveReceiveGroup",[m],(0,M.default)(_.prototype,"saveReceiveGroup"),_.prototype),a(_.prototype,"showConfirm",[v],(0,M.default)(_.prototype,"showConfirm"),_.prototype),a(_.prototype,"deletePrivate",[g],(0,M.default)(_.prototype,"deletePrivate"),_.prototype),a(_.prototype,"getPrivateReceiveLogType",[y],(0,M.default)(_.prototype,"getPrivateReceiveLogType"),_.prototype),a(_.prototype,"logShow",[b],(0,M.default)(_.prototype,"logShow"),_.prototype),a(_.prototype,"logHide",[w],(0,M.default)(_.prototype,"logHide"),_.prototype),a(_.prototype,"setLoading",[S],(0,M.default)(_.prototype,"setLoading"),_.prototype),_);t.default=ee},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrivateReceiveLogType=t.deleteReceiveGroup=t.saveReceiveGroup=t.getCommReceiveItems=t.getTableData=void 0;var n=o(0);t.getTableData=function(e){return n.WeaTools.callApi("/api/odoc/odocCommReceiveUtil/getList","POST",e)},t.getCommReceiveItems=function(e){return n.WeaTools.callApi("/api/odoc/odocCommReceiveUtil/getCommReceiveItems","POST",e)},t.saveReceiveGroup=function(e){return n.WeaTools.callApi("/api/odoc/odocPrivateReceiveUtil/saveReceiveGroup","POST",e)},t.deleteReceiveGroup=function(e){return n.WeaTools.callApi("/api/odoc/odocPrivateReceiveUtil/deleteReceiveGroup","POST",e)},t.getPrivateReceiveLogType=function(e){return n.WeaTools.callApi("/api/odoc/odocPrivateReceiveUtil/getPrivateReceiveLogType","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,y.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,c,u,d,p,f,h,m,v,g=o(12),y=n(g),b=o(14),w=n(b),S=o(1),_=n(S),C=o(2),I=n(C),k=o(8),T=o(11),E=o(9),D=o(0),O=o(13),P=n(O),W=o(350),R=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(W),A=T.WeaTableNew.TableStore,x=D.WeaLocaleProvider.getLabel,L=(i=k.action.bound,s=k.action.bound,l=k.action.bound,c=k.action.bound,u=k.action.bound,d=k.action.bound,p=function(){function e(){(0,_.default)(this,e),r(this,"tableStore",f,this),r(this,"versionId",h,this),r(this,"docid",m,this),r(this,"iswps",v,this)}return(0,I.default)(e,[{key:"getList",value:function(){var e=this,t={docid:this.docid,iswps:this.iswps};R.getList(t).then(function(t){t.api_status&&e.tableStore.getDatas(t.sessionkey)})}},{key:"onOperatesClick",value:function(e,t,o,n){"1"==n?window.open((0,P.default)("/weaver/weaver.file.FileDownload")+"?download=1&fileid="+e.imageFileId):"2"==n&&this.deleteVersion(e)}},{key:"deleteVersion",value:function(e){var t=this,o={method:"delImgsOnly",docid:e.docid,delcurrentversion:"1",delImgIds:e.imageFileId};R.delVersion(o).then(function(e){e.api_status&&(t.getList(),E.message.success(x("20461","删除成功")))})}},{key:"setVersionId",value:function(e){this.versionId=e}},{key:"setDocid",value:function(e){this.docid=e}},{key:"setIswps",value:function(e){this.iswps=e}}]),e}(),f=a(p.prototype,"tableStore",[k.observable],{enumerable:!0,initializer:function(){return new A}}),h=a(p.prototype,"versionId",[k.observable],{enumerable:!0,initializer:function(){return""}}),m=a(p.prototype,"docid",[k.observable],{enumerable:!0,initializer:function(){return"5410"}}),v=a(p.prototype,"iswps",[k.observable],{enumerable:!0,initializer:function(){return""}}),a(p.prototype,"getList",[i],(0,w.default)(p.prototype,"getList"),p.prototype),a(p.prototype,"onOperatesClick",[s],(0,w.default)(p.prototype,"onOperatesClick"),p.prototype),a(p.prototype,"deleteVersion",[l],(0,w.default)(p.prototype,"deleteVersion"),p.prototype),a(p.prototype,"setVersionId",[c],(0,w.default)(p.prototype,"setVersionId"),p.prototype),a(p.prototype,"setDocid",[u],(0,w.default)(p.prototype,"setDocid"),p.prototype),a(p.prototype,"setIswps",[d],(0,w.default)(p.prototype,"setIswps"),p.prototype),p);t.default=L},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delVersion=t.getList=void 0;var n=o(0);t.getList=function(e){return n.WeaTools.callApi("/api/odoc/openDocVersion/getDocVersionList","POST",e)},t.delVersion=function(e){return n.WeaTools.callApi("/api/odoc/openDocVersion/delVersion","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,f.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,c,u,d,p=o(12),f=n(p),h=o(14),m=n(h),v=o(1),g=n(v),y=o(2),b=n(y),w=o(8),S=o(11),_=o(352),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(_),I=S.WeaTableNew.TableStore,k=(i=w.action.bound,s=w.action.bound,l=function(){function e(){(0,g.default)(this,e),r(this,"form",c,this),r(this,"tableStore",u,this),r(this,"receiveUnitId",d,this)}return(0,b.default)(e,[{key:"getCondition",value:function(){var e=this,t={receiveUnitId:this.receiveUnitId};C.getCondition(t).then(function(t){t.api_status&&(t.sessionkey&&e.tableStore.getDatas(t.sessionkey,"",10,10),e.form.setCondition(t.groupsCondition))})}},{key:"setReceiveUnitId",value:function(e){this.receiveUnitId=e}}]),e}(),c=a(l.prototype,"form",[w.observable],{enumerable:!0,initializer:function(){return new S.WeaForm}}),u=a(l.prototype,"tableStore",[w.observable],{enumerable:!0,initializer:function(){return new I}}),d=a(l.prototype,"receiveUnitId",[w.observable],{enumerable:!0,initializer:function(){return"40"}}),a(l.prototype,"getCondition",[i],(0,m.default)(l.prototype,"getCondition"),l.prototype),a(l.prototype,"setReceiveUnitId",[s],(0,m.default)(l.prototype,"setReceiveUnitId"),l.prototype),l);t.default=k},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCondition=void 0;var n=o(0);t.getCondition=function(e){return n.WeaTools.callApi("/api/odoc/odocReceiveUnitDisplay/getReceiveUnitInfo","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,u.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c=o(12),u=n(c),d=o(14),p=n(d),f=o(1),h=n(f),m=o(2),v=n(m),g=o(8),y=o(11),b=o(354),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(b),S=y.WeaTableNew.TableStore,_=(i=g.action.bound,s=function(){function e(){(0,h.default)(this,e),r(this,"tableStore",l,this)}return(0,v.default)(e,[{key:"getList",value:function(e,t,o){var n=this,r={selectvalue:t,workflowid:e,iseditmould:o};w.getList(r).then(function(e){e.api_status&&n.tableStore.getDatas(e.sessionkey)})}}]),e}(),l=a(s.prototype,"tableStore",[g.observable],{enumerable:!0,initializer:function(){return new S}}),a(s.prototype,"getList",[i],(0,p.default)(s.prototype,"getList"),s.prototype),s);t.default=_},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=void 0;var n=o(0);t.getList=function(e){return n.WeaTools.callApi("/api/odoc/odocSelectMould/getMouldList","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,x.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A=o(12),x=n(A),L=o(14),F=n(L),M=o(20),N=n(M),j=o(6),z=n(j),B=o(1),q=n(B),K=o(2),U=n(K),V=o(8),H=o(11),G=o(0),J=o(9),Q=o(356),Y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(Q),X=o(90),$=G.WeaLocaleProvider.getLabel,Z=H.WeaTableNew.TableStore,ee=(i=V.action.bound,s=V.action.bound,l=V.action.bound,c=V.action.bound,u=V.action.bound,d=V.action.bound,p=V.action.bound,f=V.action.bound,h=V.action.bound,m=V.action.bound,v=V.action.bound,g=V.action.bound,y=V.action.bound,b=V.action.bound,w=function(){function e(){(0,q.default)(this,e),r(this,"searchForm",S,this),r(this,"conditions",_,this),r(this,"showSearchAd",C,this),r(this,"tableStore",I,this),r(this,"selectedRowKeys",k,this),r(this,"RowSelectedInfo",T,this),r(this,"dialogForm",E,this),r(this,"dialogShow",D,this),r(this,"ismultiple",O,this),r(this,"isLookOver",P,this),r(this,"IsCheckRight",W,this),this.query={},r(this,"checkUserRight",R,this)}return(0,U.default)(e,[{key:"getSearchForm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Y.getSearchForm(t).then(function(t){e.conditions=t.conditions,e.searchForm.setCondition(t.conditions)})}},{key:"getTableData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];this.query=o instanceof Object?o:this.query;var n=t||this.searchForm.getFormParams(),r=(0,z.default)({},n,this.query);Y.getTableData(r).then(function(t){t.sessionkey&&e.tableStore.getDatas(t.sessionkey,1)})}},{key:"setStatus",value:function(e){var t=this;(0,N.default)(e).forEach(function(o){t[o]=e[o]})}},{key:"rowSelected",value:function(e,t){var o=this;this.selectedRowKeys=[],this.RowSelectedInfo=[],(0,V.toJS)(t).map(function(e){o.RowSelectedInfo.push({name:e.docsubject,docid:e.docid,requestid:e.randomFieldId}),o.selectedRowKeys.push(e.docid)})}},{key:"getDialogForm",value:function(e){var t=this,o={docid:this.selectedRowKeys.join(","),ismultiple:this.ismultiple};e&&(o.requestid=e),Y.getDialogForm(o).then(function(e){t.dialogForm=new H.WeaForm,"1"==t.ismultiple?e.conditions[0].items[4].format="YYYY":e.conditions[0].items[7].format="YYYY",t.dialogForm.setCondition(e.conditions)})}},{key:"showDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.ismultiple=e,this.isLookOver=o,this.getDialogForm(t),this.dialogShow=!0}},{key:"closeDialog",value:function(){this.selectedRowKeys=[],this.RowSelectedInfo=[],this.tableStore.setSelectedRowKeys([]),this.dialogShow=!1}},{key:"onOperatesClick",value:function(e,t,o,n){var r=this;this.selectedRowKeys=[],this.RowSelectedInfo=[],this.tableStore.setSelectedRowKeys([]),0==n?(this.selectedRowKeys.push(e.docid),this.RowSelectedInfo.push({name:e.requestnamespan,docid:e.docid,requestid:e.randomFieldId}),this.showDialog(void 0,void 0,!1)):1==n?(this.selectedRowKeys.push(e.docid),this.RowSelectedInfo.push({name:e.requestnamespan,docid:e.docid,requestid:e.randomFieldId}),this.showDialog("0",e.randomFieldId,!0)):2==n&&(0,X.affirmDeleted)(function(){return r.onDelete(e.randomFieldId)},{content:$("15097","确定要删除吗？")})}},{key:"onDelete",value:function(e){var t=this,o={requestid:e};Y.delprefinish(o).then(function(e){e.api_status&&(t.getTableData(),J.message.success($("20461","删除成功")))})}},{key:"odocArchive",value:function(){var e=this;this.dialogForm.validateForm().then(function(t){if(t.isValid){var o=[],n=e.dialogForm.getFormParams();e.RowSelectedInfo.map(function(t){e.selectedRowKeys.indexOf(t.docid)>-1&&o.push(t.requestid)});var r=(0,z.default)({requestid:o.join(",")},n);Y.odocArchive(r).then(function(t){t.api_status&&(e.closeDialog(),e.getTableData(),J.message.success($("归档成功","归档成功")))})}else t.showErrors()})}},{key:"dialogCheck",value:function(e){var t=(0,V.toJS)(this.selectedRowKeys).indexOf(e);t>-1?this.selectedRowKeys.splice(t,1):this.selectedRowKeys.push(e),this.dialogForm.updateFields({allFileNum:{value:this.selectedRowKeys.length,valueSpan:this.selectedRowKeys.length}})}},{key:"getSearchData",value:function(){this.showSearchAd=!1,this.getTableData()}},{key:"customSet",value:function(){this.tableStore.setColSetVisible(!0),this.tableStore.tableColSet(!0)}}]),e}(),S=a(w.prototype,"searchForm",[V.observable],{enumerable:!0,initializer:function(){return new H.WeaForm}}),_=a(w.prototype,"conditions",[V.observable],{enumerable:!0,initializer:function(){return[]}}),C=a(w.prototype,"showSearchAd",[V.observable],{enumerable:!0,initializer:function(){return!1}}),I=a(w.prototype,"tableStore",[V.observable],{enumerable:!0,initializer:function(){return new Z}}),k=a(w.prototype,"selectedRowKeys",[V.observable],{enumerable:!0,initializer:function(){return[]}}),T=a(w.prototype,"RowSelectedInfo",[V.observable],{enumerable:!0,initializer:function(){return[]}}),E=a(w.prototype,"dialogForm",[V.observable],{enumerable:!0,initializer:function(){return new H.WeaForm}}),D=a(w.prototype,"dialogShow",[V.observable],{enumerable:!0,initializer:function(){return!1}}),O=a(w.prototype,"ismultiple",[V.observable],{enumerable:!0,initializer:function(){return"0"}}),P=a(w.prototype,"isLookOver",[V.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(w.prototype,"IsCheckRight",[V.observable],{enumerable:!0,initializer:function(){return!0}}),R=a(w.prototype,"checkUserRight",[i],{enumerable:!0,initializer:function(){var e=this;return function(t){Y.checkright(t).then(function(t){t&&(e.IsCheckRight=t.isHaveRight)})}}}),a(w.prototype,"getSearchForm",[s],(0,F.default)(w.prototype,"getSearchForm"),w.prototype),a(w.prototype,"getTableData",[l],(0,F.default)(w.prototype,"getTableData"),w.prototype),a(w.prototype,"setStatus",[c],(0,F.default)(w.prototype,"setStatus"),w.prototype),a(w.prototype,"rowSelected",[u],(0,F.default)(w.prototype,"rowSelected"),w.prototype),a(w.prototype,"getDialogForm",[d],(0,F.default)(w.prototype,"getDialogForm"),w.prototype),a(w.prototype,"showDialog",[p],(0,F.default)(w.prototype,"showDialog"),w.prototype),a(w.prototype,"closeDialog",[f],(0,F.default)(w.prototype,"closeDialog"),w.prototype),a(w.prototype,"onOperatesClick",[h],(0,F.default)(w.prototype,"onOperatesClick"),w.prototype),a(w.prototype,"onDelete",[m],(0,F.default)(w.prototype,"onDelete"),w.prototype),a(w.prototype,"odocArchive",[v],(0,F.default)(w.prototype,"odocArchive"),w.prototype),a(w.prototype,"dialogCheck",[g],(0,F.default)(w.prototype,"dialogCheck"),w.prototype),a(w.prototype,"getSearchData",[y],(0,F.default)(w.prototype,"getSearchData"),w.prototype),a(w.prototype,"customSet",[b],(0,F.default)(w.prototype,"customSet"),w.prototype),w);t.default=ee},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delprefinish=t.checkright=t.odocArchive=t.getDialogForm=t.getTableData=t.getSearchForm=void 0;var n=o(0);t.getSearchForm=function(e){return n.WeaTools.callApi("/api/odoc/filesenddoc/condition","POST",e)},t.getTableData=function(e){return n.WeaTools.callApi("/api/odoc/filesenddoc/list","POST",e)},t.getDialogForm=function(e){return n.WeaTools.callApi("/api/odoc/filesenddoc/ArcCondition","POST",e)},t.odocArchive=function(e){return n.WeaTools.callApi("/api/odoc/filesenddoc/archives","POST",e)},t.checkright=function(e){return n.WeaTools.callApi("/api/odoc/filesenddoc/checkUserRight","POST",e)},t.delprefinish=function(e){return n.WeaTools.callApi("/api/odoc/filesenddoc/delprefinish","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,_.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S=o(12),_=n(S),C=o(6),I=n(C),k=o(1),T=n(k),E=o(2),D=n(E),O=o(8),P=o(40),W=n(P),R=o(9),A=o(0),x=o(358),L=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(x),F=o(13),M=n(F),N=A.WeaTools.ls,j=A.WeaLocaleProvider.getLabel,z=(i=O.action.bound,s=O.action.bound,l=function(){function e(){var t=this;(0,T.default)(this,e),r(this,"wftypes",c,this),this.createwflabels={},this.tabDatas=[],this.unSupportSPAWf=[],this.wfTypeTips={},r(this,"showDatas",u,this),r(this,"value",d,this),r(this,"tabkey",p,this),r(this,"mulitcol",f,this),r(this,"isAbc",h,this),r(this,"abcSelected",m,this),r(this,"loading",v,this),this.importData=[],this.importValue="",r(this,"importDataShow",g,this),r(this,"wfOperateInfo",y,this),r(this,"initDatas",b,this),this.setShowBeagenters=function(e,o){t.wfOperateInfo=(0,I.default)({},t.wfOperateInfo,{curOperWfid:e,showBeagenters:o})},r(this,"addWorkflowUseCount",w,this),this.setUpdate=this.setUpdate.bind(this),this.changeTab=this.changeTab.bind(this),this.setMulitcol=this.setMulitcol.bind(this),this.setIsAbc=this.setIsAbc.bind(this),this.setAbcSelected=this.setAbcSelected.bind(this),this.setShowBeagenters=this.setShowBeagenters.bind(this),this.doAddWfToColl=this.doAddWfToColl.bind(this),this.getImportData=this.getImportData.bind(this),this.setShowImportWf=this.setShowImportWf.bind(this),this.setImportSearchValue=this.setImportSearchValue.bind(this),this.setImportDataShow=this.setImportDataShow.bind(this),this.importWf=this.importWf.bind(this),this.saveLastSet=this.saveLastSet.bind(this)}return(0,D.default)(e,[{key:"changeTab",value:function(e){this.tabkey=e,this.abcSelected="",this.setUpdate(),this.saveLastSet()}},{key:"setMulitcol",value:function(e){this.mulitcol=e,this.setUpdate(),this.saveLastSet()}},{key:"setIsAbc",value:function(e){this.isAbc=e,this.setUpdate(),this.saveLastSet()}},{key:"setAbcSelected",value:function(e){this.abcSelected=e,this.setUpdate()}},{key:"setShowImportWf",value:function(e,t){this.wfOperateInfo=(0,I.default)({},this.wfOperateInfo,{curOperWfid:e,showImportWf:t,isDisableImportWfMenu:!1}),t||(this.importData=[],this.importValue="")}},{key:"doAddWfToColl",value:function(e,t){var o=e.id,n=e.typeId;L.doAddWfToColl({workflowid:o,worktypeid:n,needall:t}).then(function(){R.message.info("0"==t?j(386357,"取消收藏成功"):j(386356,"加入收藏成功"))}),this.wftypes.map(function(e){e.id==n&&e.wfbeans.map(function(n){n.id==o&&(n.wfColl=t,e.wftypeColl=t)})}),this.setUpdate()}},{key:"getImportData",value:function(e){var t=this;L.getRequestImportData(e).then(function(o){t.importData=o,t.setImportDataShow(),t.setShowImportWf(e.workflowid,!0)})}},{key:"setImportSearchValue",value:function(e){this.importValue=e,this.setImportDataShow()}},{key:"setImportDataShow",value:function(){var e=this.importData,t=void 0===e?[]:e,o=this.importValue,n=void 0===o?"":o,r=t.slice();n&&(r=r.filter(function(e){return e.value.indexOf(n)>=0})),this.importDataShow=r}},{key:"importWf",value:function(e,t){this.wfOperateInfo=(0,I.default)({},this.wfOperateInfo,{isDisableImportWfMenu:!0});var o={src:"import",imprequestid:e.data,workflowid:t,formid:e.formid,isbill:e.isbill,nodeid:e.nodeid,nodetype:e.nodetype};L.importWf(o).then(function(e){var t=screen.availWidth-10,o=screen.availHeight-50,n="top=0,";n+="left=0,",n+="width="+t+",",n+="height="+o+",",n+="directories=no,",n+="status=yes,toolbar=no,location=no,",n+="menubar=no,",n+="scrollbars=yes,",n+="resizable=yes";var r="/workflow/request/ViewRequestForwardSPA.jsp?requestid="+e.requestid;window.open((0,M.default)(r),"",n)})}},{key:"setUpdate",value:function(){var e={},t=this.wftypes,o=this.isAbc,n=this.tabkey,r=this.abcSelected,a=this.value,i=void 0===a?"":a,s=i.toUpperCase(),l=[],c=[];if(t.map(function(e){var t=(0,W.default)({},e);""!==s&&(t.wfbeans=t.wfbeans.filter(function(e){return e.name.toUpperCase().indexOf(s)>=0||e.id.indexOf(s)>=0||e.spell.indexOf(s)>=0})),"2"==n&&(t.wfbeans=t.wfbeans.filter(function(e){return"1"==e.wfColl})),l.push(t)}),o){for(var u=[],d=["#55D2D4","#B37BFA","#FFC62E","#8DCE36","#37B2FF","#FF9537","#FF5E56"],p=0;p<27;p++)!function(e){var t=[];l.map(function(o){o.wfbeans.map(function(o){o.letter.charCodeAt(0)-65==e&&t.push(o),26==e&&(o.letter.charCodeAt(0)>=91||o.letter.charCodeAt(0)<65)&&t.push(o)})}),u.push({letter:26==e?"···":String.fromCharCode(65+e),wfbeans:t,color:d[e%7],disabled:t.length<=0,selected:r==(26==e?"···":String.fromCharCode(65+e))})}(p);c=u,l=u}l=l.filter(function(e){var t=e.wfbeans;return(void 0===t?[]:t).length>0}),e.typesShow=l,e.abcBtns=c;var f=document.documentElement.clientWidth,h=f>1400?[[],[],[],[]]:f>1100?[[],[],[]]:f>600?[[],[]]:[[]],m=f>1400?[0,0,0,0]:f>1100?[0,0,0]:f>600?[0,0]:[0];l.length>0&&l.map(function(e){var t=e.wfbeans,o=void 0===t?[]:t;if(o.length>=0)for(var n=Math.min.apply(Math,m),r=0;r<m.length;r++)if(m[r]==n){h[r].push(e),m[r]+=o.length+3;break}}),e.typesCols=h;var v=[];l.length>0&&l.map(function(e){var t=e.wfbeans;(void 0===t?[]:t).map(function(e){e&&"1"==e.usedtodo&&v.push(e)})}),v.sort(function(e,t){return e.usedtodoorder-t.usedtodoorder}),e.usedBeans=v,this.showDatas=(0,I.default)({},this.showDatas,e)}},{key:"saveLastSet",value:function(){var e={wfDefaultSelectedTabKey:this.tabkey,mulitcol:this.mulitcol?"1":"0",isAbc:this.isAbc?"1":"0"};L.saveUserOperateHabit(e)}}]),e}(),c=a(l.prototype,"wftypes",[O.observable],{enumerable:!0,initializer:function(){return[]}}),u=a(l.prototype,"showDatas",[O.observable],{enumerable:!0,initializer:function(){return{typesShow:[],typesCols:[],usedBeans:[],abcBtns:[],commonuse:"",user:""}}}),d=a(l.prototype,"value",[O.observable],{enumerable:!0,initializer:function(){return""}}),p=a(l.prototype,"tabkey",[O.observable],{enumerable:!0,initializer:function(){return N.getStr("wf-add-tabkey")||"1"}}),f=a(l.prototype,"mulitcol",[O.observable],{enumerable:!0,initializer:function(){return"false"!=N.getStr("wf-add-mulitcol")}}),h=a(l.prototype,"isAbc",[O.observable],{enumerable:!0,initializer:function(){return"true"==N.getStr("wf-add-isAbc")}}),m=a(l.prototype,"abcSelected",[O.observable],{enumerable:!0,initializer:function(){return""}}),v=a(l.prototype,"loading",[O.observable],{enumerable:!0,initializer:function(){return!1}}),g=a(l.prototype,"importDataShow",[O.observable],{enumerable:!0,initializer:function(){return[]}}),y=a(l.prototype,"wfOperateInfo",[O.observable],{enumerable:!0,initializer:function(){return{curOperWfid:0,showBeagenters:!1,showImportWf:!1,isDisableImportWfMenu:!1}}}),b=a(l.prototype,"initDatas",[i],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.loading=!0,t.tabkey=e.tabkey,L.doWfInfoGet(t).then(function(o){var n=o.datas,r=o.user,a=o.createwflabels,i=o.tabs,s=void 0===i?[]:i,l=o.userOperateHabit,c=void 0===l?{}:l,u=o.unSupportSPAWf,d=o.tips,p=void 0===d?{}:d;"true"==t.hasStruct&&s.push({title:j(386167,"流程结构图"),key:"99"});var f=c.defaultSelectedTab,h=void 0===f?"":f,m=c.mulitcol,v=void 0===m?"":m,g=c.isAbc,y=void 0===g?"":g;e.tabkey=""==h?N.getStr("wf-add-tabkey")||"1":h,e.mulitcol=""==v?"false"!=N.getStr("wf-add-mulitcol"):"1"==v,e.isAbc=""==y?"true"==N.getStr("wf-add-isAbc"):"1"==y,e.loading=!1,e.wftypes=n,e.createwflabels=a,e.tabDatas=s,e.showDatas=(0,I.default)({},e.showDatas,{user:r}),e.unSupportSPAWf=u,e.wfTypeTips=p,e.setUpdate()})}}}),w=a(l.prototype,"addWorkflowUseCount",[s],{enumerable:!0,initializer:function(){return function(e){var t={wfid:e};L.addWorkflowUseCount(t).then(function(){})}}}),l);t.default=z},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addWorkflowUseCount=t.saveUserOperateHabit=t.importWf=t.getRequestImportData=t.doAddWfToColl=t.doWfInfoGet=void 0;var n=o(0);t.doWfInfoGet=function(e){return n.WeaTools.callApi("/api/offical/createreq/wfinfo","GET",e)},t.doAddWfToColl=function(e){return n.WeaTools.callApi("/api/workflow/createreq/managewfcoll","GET",e)},t.getRequestImportData=function(e){return n.WeaTools.callApi("/workflow/request/RequestImportJson.jsp","POST",e)},t.importWf=function(e){return n.WeaTools.callApi("/api/workflow/reqform/requestImport","POST",e)},t.saveUserOperateHabit=function(e){return n.WeaTools.callApi("/api/workflow/createreq/saveUserOperateHabit","POST",e)},t.addWorkflowUseCount=function(e){return n.WeaTools.callApi("/workflow/request/AddWorkflowUseCount.jsp","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,_.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S=o(12),_=n(S),C=o(14),I=n(C),k=o(20),T=n(k),E=o(6),D=n(E),O=o(1),P=n(O),W=o(2),R=n(W),A=o(11),x=o(0),L=o(8),F=A.WeaTableNew.TableStore,M=(i=L.action.bound,s=L.action.bound,l=L.action.bound,c=L.action.bound,u=L.action.bound,d=function(){function e(){(0,P.default)(this,e),r(this,"tableUrl",p,this),r(this,"tableStore",f,this),r(this,"selectedRowKeys",h,this),r(this,"selecteDatas",m,this),r(this,"tableParams",v,this),r(this,"tableListNumber",g,this),r(this,"selectedKey",y,this),r(this,"hasRight",b,this),r(this,"buttonKey",w,this),this.sessionkey=""}return(0,R.default)(e,[{key:"getTableDatas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];""!==this.tableUrl&&(t||(e=o?(0,D.default)({},e,this.tableParams):(0,D.default)({},this.tableParams,e)),r&&(this.tableParams=e),e.btnType&&(this.buttonKey=e.btnType),x.WeaTools.callApi(this.tableUrl,"POST",e).then(function(e){if(n.hasRight=null==e.hasRight&&void 0==e.hasRight||e.hasRight,n.hasRight&&e.sessionkey){n.sessionkey=e.sessionkeyNoUser||e.sessionkey,n.selectedRowKeys=[],n.selecteDatas=[];var t=a?1:n.tableStore.current;-1==n.tableListNumber?n.tableStore.getDatas(e.sessionkey,t):n.tableStore.getDatas(e.sessionkey,t,n.tableListNumber)}}))}},{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,T.default)(t).map(function(o){e[o]=t[o]})}},{key:"tableOnSelect",value:function(e,t){this.selectedRowKeys=e,this.selecteDatas=t}},{key:"clearSelectKey",value:function(){this.selectedRowKeys=[],this.selecteDatas=[],this.tableStore.setSelectedRowKeys([])}},{key:"init",value:function(){this.selectedRowKeys=[],this.selecteDatas=[],this.tableParams={},this.tableStore=new F,this.tableListNumber=-1,this.hasRight=!0}}]),e}(),p=a(d.prototype,"tableUrl",[L.observable],{enumerable:!0,initializer:function(){return""}}),f=a(d.prototype,"tableStore",[L.observable],{enumerable:!0,initializer:function(){return new F}}),h=a(d.prototype,"selectedRowKeys",[L.observable],{enumerable:!0,initializer:function(){return[]}}),m=a(d.prototype,"selecteDatas",[L.observable],{enumerable:!0,initializer:function(){return[]}}),v=a(d.prototype,"tableParams",[L.observable],{enumerable:!0,initializer:function(){return{}}}),g=a(d.prototype,"tableListNumber",[L.observable],{enumerable:!0,initializer:function(){return-1}}),y=a(d.prototype,"selectedKey",[L.observable],{enumerable:!0,initializer:function(){return""}}),b=a(d.prototype,"hasRight",[L.observable],{enumerable:!0,initializer:function(){return!0}}),w=a(d.prototype,"buttonKey",[L.observable],{enumerable:!0,initializer:function(){return""}}),a(d.prototype,"getTableDatas",[i],(0,I.default)(d.prototype,"getTableDatas"),d.prototype),a(d.prototype,"setMobxState",[s],(0,I.default)(d.prototype,"setMobxState"),d.prototype),a(d.prototype,"tableOnSelect",[l],(0,I.default)(d.prototype,"tableOnSelect"),d.prototype),a(d.prototype,"clearSelectKey",[c],(0,I.default)(d.prototype,"clearSelectKey"),d.prototype),a(d.prototype,"init",[u],(0,I.default)(d.prototype,"init"),d.prototype),d);t.default=M},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,C.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_=o(12),C=n(_),I=o(14),k=n(I),T=o(20),E=n(T),D=o(6),O=n(D),P=o(65),W=n(P),R=o(66),A=n(R),x=o(1),L=n(x),F=o(2),M=n(F),N=o(8),j=o(11),z=o(370),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(z),q=(i=N.action.bound,s=N.action.bound,l=N.action.bound,c=N.action.bound,u=N.action.bound,d=function(){function e(){(0,L.default)(this,e),r(this,"showSearchAd",p,this),r(this,"searchForm",f,this),r(this,"tabData",h,this),r(this,"selectedKey",m,this),r(this,"conditions",v,this),r(this,"items",g,this),r(this,"topTabCount",y,this),r(this,"searchValue",b,this),r(this,"fastForm",w,this),r(this,"fastFormConditions",S,this)}return(0,M.default)(e,[{key:"setShowSearchAd",value:function(e){this.showSearchAd=e}},{key:"getTabData",value:function(){function e(e,o){return t.apply(this,arguments)}var t=(0,A.default)(W.default.mark(function e(t,o){var n;return W.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getTabData(t,o);case 3:n=e.sent,this.tabData=n.topTab,this.topTabCount=n.topTabCount,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()},{key:"getSearchFormItem",value:function(){function e(e,o,n,r){return t.apply(this,arguments)}var t=(0,A.default)(W.default.mark(function e(t,o,n,r){var a,i=this;return W.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getSearchFormItem(t,o).then(function(e){i.searchForm=new j.WeaForm,i.fastForm=new j.WeaForm,i.searchForm.reset(),i.fastForm.reset();var t=e.conditionInfo||e.condition||e.conditions;i.conditions=t,i.fastFormConditions=e.showSearchcondition||t,i.items=(e.showSearchcondition||t)[0].items,i.fastForm.setCondition(e.showSearchcondition||t),t?i.searchForm.setCondition(t):e.items&&i.searchForm.setCondition(e.items),r&&i.searchForm.initFormFields((0,N.toJS)(t));var o=i.searchForm.getFormParams(),a=i.fastForm.getFormParams();return n&&o[n]&&(i.searchValue=o[n]),(0,O.default)({},o,a)});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"initData",value:function(){this.tabData=[],this.searchForm=new j.WeaForm,this.selectedKey="0",this.topTabCount=[],this.conditions=[],this.showSearchAd=!1,this.searchValue=""}},{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,E.default)(t).map(function(o){e[o]=t[o]})}}]),e}(),p=a(d.prototype,"showSearchAd",[N.observable],{enumerable:!0,initializer:function(){return!1}}),f=a(d.prototype,"searchForm",[N.observable],{enumerable:!0,initializer:function(){return new j.WeaForm}}),h=a(d.prototype,"tabData",[N.observable],{enumerable:!0,initializer:function(){return[]}}),m=a(d.prototype,"selectedKey",[N.observable],{enumerable:!0,initializer:function(){return"0"}}),v=a(d.prototype,"conditions",[N.observable],{enumerable:!0,initializer:function(){return[]}}),g=a(d.prototype,"items",[N.observable],{enumerable:!0,initializer:function(){return[]}}),y=a(d.prototype,"topTabCount",[N.observable],{enumerable:!0,initializer:function(){return{}}}),b=a(d.prototype,"searchValue",[N.observable],{enumerable:!0,initializer:function(){return""}}),w=a(d.prototype,"fastForm",[N.observable],{enumerable:!0,initializer:function(){return new j.WeaForm}}),S=a(d.prototype,"fastFormConditions",[N.observable],{enumerable:!0,initializer:function(){return[]}}),a(d.prototype,"setShowSearchAd",[i],(0,k.default)(d.prototype,"setShowSearchAd"),d.prototype),a(d.prototype,"getTabData",[s],(0,k.default)(d.prototype,"getTabData"),d.prototype),a(d.prototype,"getSearchFormItem",[l],(0,k.default)(d.prototype,"getSearchFormItem"),d.prototype),a(d.prototype,"initData",[c],(0,k.default)(d.prototype,"initData"),d.prototype),a(d.prototype,"setMobxState",[u],(0,k.default)(d.prototype,"setMobxState"),d.prototype),d),K=new q;t.default=K},function(e,t,o){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=o(362),r)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function o(e,t,o,n){var a=t&&t.prototype instanceof r?t:r,i=Object.create(a.prototype),s=new f(n||[]);return i._invoke=c(e,o,s),i}function n(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function i(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(o,r,a,i){var s=n(e[o],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"===typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(c).then(function(e){l.value=e,a(l)},i)}i(s.arg)}function o(e,o){function n(){return new Promise(function(n,r){t(e,o,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=o}function c(e,t,o){var r=k;return function(a,i){if(r===E)throw new Error("Generator is already running");if(r===D){if("throw"===a)throw i;return m()}for(o.method=a,o.arg=i;;){var s=o.delegate;if(s){var l=u(s,o);if(l){if(l===O)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===k)throw r=D,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=E;var c=n(e,t,o);if("normal"===c.type){if(r=o.done?D:T,c.arg===O)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=D,o.method="throw",o.arg=c.arg)}}}function u(e,t){var o=e.iterator[t.method];if(o===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,u(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var r=n(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,O;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,O):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function h(e){if(e){var t=e[w];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(y.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:v,done:!0}}var v,g=Object.prototype,y=g.hasOwnProperty,b="function"===typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",S=b.asyncIterator||"@@asyncIterator",_=b.toStringTag||"@@toStringTag",C="object"===typeof e,I=t.regeneratorRuntime;if(I)return void(C&&(e.exports=I));I=t.regeneratorRuntime=C?e.exports:{},I.wrap=o;var k="suspendedStart",T="suspendedYield",E="executing",D="completed",O={},P={};P[w]=function(){return this};var W=Object.getPrototypeOf,R=W&&W(W(h([])));R&&R!==g&&y.call(R,w)&&(P=R);var A=i.prototype=r.prototype=Object.create(P);a.prototype=A.constructor=i,i.constructor=a,i[_]=a.displayName="GeneratorFunction",I.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},I.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(A),e},I.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[S]=function(){return this},I.AsyncIterator=l,I.async=function(e,t,n,r){var a=new l(o(e,t,n,r));return I.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(A),A[_]="Generator",A[w]=function(){return this},A.toString=function(){return"[object Generator]"},I.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},I.values=h,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,o.next=t,n&&(o.method="next",o.arg=v),!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var i=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(i&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),p(o),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;p(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:h(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=v),O}}}(function(){return this}()||Function("return this")())},function(e,t,o){o(119),o(76),o(88),o(364),o(368),o(369),e.exports=o(15).Promise},function(e,t,o){"use strict";var n,r,a,i,s=o(50),l=o(18),c=o(32),u=o(121),d=o(17),p=o(25),f=o(46),h=o(129),m=o(79),v=o(191),g=o(192).set,y=o(366)(),b=o(130),w=o(193),S=o(367),_=o(194),C=l.TypeError,I=l.process,k=I&&I.versions,T=k&&k.v8||"",E=l.Promise,D="process"==u(I),O=function(){},P=r=b.f,W=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[o(26)("species")]=function(e){e(O,O)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==T.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var o=e._c;y(function(){for(var n=e._v,r=1==e._s,a=0;o.length>a;)!function(t){var o,a,i,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&F(e),e._h=1),!0===s?o=n:(u&&u.enter(),o=s(n),u&&(u.exit(),i=!0)),o===t.promise?c(C("Promise-chain cycle")):(a=R(o))?a.call(o,l,c):l(o)):c(n)}catch(e){u&&!i&&u.exit(),c(e)}}(o[a++]);e._c=[],e._n=!1,t&&!e._h&&x(e)})}},x=function(e){g.call(l,function(){var t,o,n,r=e._v,a=L(e);if(a&&(t=w(function(){D?I.emit("unhandledRejection",r,e):(o=l.onunhandledrejection)?o({promise:e,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=D||L(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){g.call(l,function(){var t;D?I.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},N=function(e){var t,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===e)throw C("Promise can't be resolved itself");(t=R(e))?y(function(){var n={_w:o,_d:!1};try{t.call(e,c(N,n,1),c(M,n,1))}catch(e){M.call(n,e)}}):(o._v=e,o._s=1,A(o,!1))}catch(e){M.call({_w:o,_d:!1},e)}}};W||(E=function(e){h(this,E,"Promise","_h"),f(e),n.call(this);try{e(c(N,this,1),c(M,this,1))}catch(e){M.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=o(131)(E.prototype,{then:function(e,t){var o=P(v(this,E));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=D?I.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&A(this,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=c(N,e,1),this.reject=c(M,e,1)},b.f=P=function(e){return e===E||e===i?new a(e):r(e)}),d(d.G+d.W+d.F*!W,{Promise:E}),o(78)(E,"Promise"),o(195)("Promise"),i=o(15).Promise,d(d.S+d.F*!W,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!W),"Promise",{resolve:function(e){return _(s&&this===i?E:this,e)}}),d(d.S+d.F*!(W&&o(188)(function(e){E.all(e).catch(O)})),"Promise",{all:function(e){var t=this,o=P(t),n=o.resolve,r=o.reject,a=w(function(){var o=[],a=0,i=1;m(e,!1,function(e){var s=a++,l=!1;o.push(void 0),i++,t.resolve(e).then(function(e){l||(l=!0,o[s]=e,--i||n(o))},r)}),--i||n(o)});return a.e&&r(a.v),o.promise},race:function(e){var t=this,o=P(t),n=o.reject,r=w(function(){m(e,!1,function(e){t.resolve(e).then(o.resolve,n)})});return r.e&&n(r.v),o.promise}})},function(e,t){e.exports=function(e,t,o){var n=void 0===o;switch(t.length){case 0:return n?e():e.call(o);case 1:return n?e(t[0]):e.call(o,t[0]);case 2:return n?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},function(e,t,o){var n=o(18),r=o(192).set,a=n.MutationObserver||n.WebKitMutationObserver,i=n.process,s=n.Promise,l="process"==o(48)(i);e.exports=function(){var e,t,o,c=function(){var n,r;for(l&&(n=i.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?o():t=void 0,n}}t=void 0,n&&n.enter()};if(l)o=function(){i.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);o=function(){u.then(c)}}else o=function(){r.call(n,c)};else{var d=!0,p=document.createTextNode("");new a(c).observe(p,{characterData:!0}),o=function(){p.data=d=!d}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,o()),t=r}}},function(e,t,o){var n=o(18),r=n.navigator;e.exports=r&&r.userAgent||""},function(e,t,o){"use strict";var n=o(17),r=o(15),a=o(18),i=o(191),s=o(194);n(n.P+n.R,"Promise",{finally:function(e){var t=i(this,r.Promise||a.Promise),o="function"==typeof e;return this.then(o?function(o){return s(t,e()).then(function(){return o})}:e,o?function(o){return s(t,e()).then(function(){throw o})}:e)}})},function(e,t,o){"use strict";var n=o(17),r=o(130),a=o(193);n(n.S,"Promise",{try:function(e){var t=r.f(this),o=a(e);return(o.e?t.reject:t.resolve)(o.v),t.promise}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTabData=t.getSearchFormItem=void 0;var n=o(0);t.getSearchFormItem=function(e,t){return n.WeaTools.callApi(e,"POST",t)},t.getTabData=function(e,t){return n.WeaTools.callApi(e,"POST",t)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,K.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q=o(12),K=n(q),U=o(14),V=n(U),H=o(20),G=n(H),J=o(6),Q=n(J),Y=o(1),X=n(Y),$=o(2),Z=n($),ee=o(8),te=o(372),oe=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(te),ne=o(11),re=o(0),ae=o(9),ie=re.WeaLocaleProvider.getLabel,se=ne.WeaTableNew.TableStore,le=(i=ee.action.bound,s=ee.action.bound,l=ee.action.bound,c=ee.action.bound,u=ee.action.bound,d=ee.action.bound,p=ee.action.bound,f=ee.action.bound,h=ee.action.bound,m=ee.action.bound,v=ee.action.bound,g=ee.action.bound,y=ee.action.bound,b=ee.action.bound,w=ee.action.bound,S=function(){function e(){(0,X.default)(this,e),r(this,"workflowid",_,this),r(this,"operationType",C,this),r(this,"requestid",I,this),r(this,"superviseVisible",k,this),r(this,"superviseForm",T,this),r(this,"superviseconditions",E,this),r(this,"urgeForm",D,this),r(this,"urgeVisible",O,this),r(this,"delayRequestForm",P,this),r(this,"delayRequestVisible",W,this),r(this,"superviseid",R,this),r(this,"detailForm",A,this),r(this,"detailTabs",x,this),r(this,"detailSelectKey",L,this),r(this,"tableStore1",F,this),r(this,"tableStore2",M,this),r(this,"tableStore3",N,this),r(this,"detailDialogVisible",j,this),r(this,"remindSetingVisible",z,this),r(this,"remindSetingForm",B,this)}return(0,Z.default)(e,[{key:"onSupervise",value:function(){var e=this,t={workflowid:this.workflowid,operationType:this.operationType};oe.getSuperviseOperation(t).then(function(t){t.formConditions&&(e.superviseconditions=[],e.superviseForm=new ne.WeaForm,e.superviseconditions=t.formConditions,e.superviseForm.initFormFields(t.formConditions),e.remindSetingForm.setCondition(t.setConditions),e.superviseVisible=!0)})}},{key:"reminder",value:function(){var e=this,t={requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid};oe.getSuperviseOperation(t).then(function(t){t.conditions&&(e.urgeForm=new ne.WeaForm,e.urgeForm.setCondition(t.conditions),e.urgeVisible=!0)})}},{key:"checkDetails",value:function(){var e=this,t={requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid};oe.getSuperviseOperation(t).then(function(t){e.detailForm=new ne.WeaForm,e.tableStore1=new se,e.tableStore2=new se,e.tableStore3=new se,e.detailForm.setCondition(t.conditions),e.detailTabs=t.topTablist,e.tableStore1.getDatas(t.datalists.remindTableKey),e.tableStore2.getDatas(t.datalists.urgeTableKey),e.tableStore3.getDatas(t.datalists.delayTableKey),e.detailDialogVisible=!0})}},{key:"cancelReminder",value:function(e,t){var o={requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid};oe.saveSuperviseOperation(o).then(function(o){o.api_status&&(ae.message.success(ie("129248","取消成功")),e(),t())})}},{key:"delayDate",value:function(e){var t=this,o=(0,Q.default)({workflowid:this.workflowid,operationType:this.operationType,requestid:this.requestid,superviseid:this.superviseid},this.delayRequestForm.getFormParams());oe.saveSuperviseOperation(o).then(function(o){o.api_status&&(ae.message.success(ie("517320","延期处理申请提交成功")),t.delayRequestVisible=!1,e())})}},{key:"superviseHide",value:function(){this.superviseVisible=!1,this.workflowid="",this.operationType=0,this.requestid=""}},{key:"saveSupervise",value:function(e,t){var o=this,n=this.superviseForm.getFormParams(),r=this.remindSetingForm.getFormParams(),a=(0,Q.default)({},n,r,{requestid:this.requestid,operationType:this.operationType});oe.saveSuperviseOperation(a).then(function(n){n.api_status&&(o.superviseHide(),e(),t(),ae.message.success(ie("387108","督办成功")))})}},{key:"saveUrge",value:function(){var e=this,t=(0,Q.default)({requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid},this.urgeForm.getFormParams());oe.saveSuperviseOperation(t).then(function(t){t.api_status&&(e.urgeHide(),ae.message.success(ie("517321","催办成功")))})}},{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,G.default)(t).map(function(o){e[o]=t[o]})}},{key:"urgeHide",value:function(){this.urgeVisible=!1}},{key:"validateForm",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.validateForm().then(function(e){e.isValid?t(o,n):e.showErrors()})}},{key:"validateRemindSetingForm",value:function(){var e=this.superviseForm.getFormParams(),t=this.remindSetingForm.getFormParams();return(!e.superviseRemindType.includes("0")||""!==t.beforeRemindType&&""!==t.beforeRemindNum&&""!==t.beforeRemindTime)&&(!e.superviseRemindType.includes("1")||""!==t.afterRemindType&&""!==t.afterRemindNum&&""!==t.afterRemindTime)?void this.remindSetingHide():void ae.message.warn(ie("508377","有必填项没有填写"))}},{key:"getDelayDateCondtion",value:function(){var e=this,t={operationType:this.operationType,requestid:this.requestid};oe.getSuperviseOperation(t).then(function(t){t.conditions&&(e.delayRequestForm=new ne.WeaForm,e.delayRequestForm.setCondition(t.conditions),e.delayRequestVisible=!0)})}},{key:"checkChange",value:function(e){var t=this.superviseForm.getFormParams().superviseRemindType,o="";o="pre"==e?t.includes("0")&&t.includes("1")?"1":!t.includes("0")&&t.includes("1")?"0,1":t.includes("0")&&!t.includes("1")?"":"0":t.includes("0")&&t.includes("1")?"0":!t.includes("0")&&t.includes("1")?"":t.includes("0")&&!t.includes("1")?"0,1":"1",this.superviseForm.updateFields({superviseRemindType:{value:o}})}},{key:"remindSetingHide",value:function(){this.remindSetingVisible=!1}}]),e}(),_=a(S.prototype,"workflowid",[ee.observable],{enumerable:!0,initializer:function(){return""}}),C=a(S.prototype,"operationType",[ee.observable],{enumerable:!0,initializer:function(){return"0"}}),I=a(S.prototype,"requestid",[ee.observable],{enumerable:!0,initializer:function(){return""}}),k=a(S.prototype,"superviseVisible",[ee.observable],{enumerable:!0,initializer:function(){return!1}}),T=a(S.prototype,"superviseForm",[ee.observable],{enumerable:!0,initializer:function(){return new ne.WeaForm}}),E=a(S.prototype,"superviseconditions",[ee.observable],{enumerable:!0,initializer:function(){return[]}}),D=a(S.prototype,"urgeForm",[ee.observable],{enumerable:!0,initializer:function(){return new ne.WeaForm}}),O=a(S.prototype,"urgeVisible",[ee.observable],{enumerable:!0,initializer:function(){return!1}}),P=a(S.prototype,"delayRequestForm",[ee.observable],{enumerable:!0,initializer:function(){return new ne.WeaForm}}),W=a(S.prototype,"delayRequestVisible",[ee.observable],{enumerable:!0,initializer:function(){return!1}}),R=a(S.prototype,"superviseid",[ee.observable],{enumerable:!0,initializer:function(){return""}}),A=a(S.prototype,"detailForm",[ee.observable],{enumerable:!0,initializer:function(){return new ne.WeaForm}}),x=a(S.prototype,"detailTabs",[ee.observable],{enumerable:!0,initializer:function(){return[]}}),L=a(S.prototype,"detailSelectKey",[ee.observable],{enumerable:!0,initializer:function(){return"0"}}),F=a(S.prototype,"tableStore1",[ee.observable],{enumerable:!0,initializer:function(){return new se}}),M=a(S.prototype,"tableStore2",[ee.observable],{enumerable:!0,initializer:function(){return new se}}),N=a(S.prototype,"tableStore3",[ee.observable],{enumerable:!0,initializer:function(){return new se}}),j=a(S.prototype,"detailDialogVisible",[ee.observable],{enumerable:!0,initializer:function(){return!1}}),z=a(S.prototype,"remindSetingVisible",[ee.observable],{enumerable:!0,initializer:function(){return!1}}),B=a(S.prototype,"remindSetingForm",[ee.observable],{enumerable:!0,initializer:function(){return new ne.WeaForm}}),a(S.prototype,"onSupervise",[i],(0,V.default)(S.prototype,"onSupervise"),S.prototype),a(S.prototype,"reminder",[s],(0,V.default)(S.prototype,"reminder"),S.prototype),a(S.prototype,"checkDetails",[l],(0,V.default)(S.prototype,"checkDetails"),S.prototype),a(S.prototype,"cancelReminder",[c],(0,V.default)(S.prototype,"cancelReminder"),S.prototype),a(S.prototype,"delayDate",[u],(0,V.default)(S.prototype,"delayDate"),S.prototype),a(S.prototype,"superviseHide",[d],(0,V.default)(S.prototype,"superviseHide"),S.prototype),a(S.prototype,"saveSupervise",[p],(0,V.default)(S.prototype,"saveSupervise"),S.prototype),a(S.prototype,"saveUrge",[f],(0,V.default)(S.prototype,"saveUrge"),S.prototype),a(S.prototype,"setMobxState",[h],(0,V.default)(S.prototype,"setMobxState"),S.prototype),a(S.prototype,"urgeHide",[m],(0,V.default)(S.prototype,"urgeHide"),S.prototype),a(S.prototype,"validateForm",[v],(0,V.default)(S.prototype,"validateForm"),S.prototype),a(S.prototype,"validateRemindSetingForm",[g],(0,V.default)(S.prototype,"validateRemindSetingForm"),S.prototype),a(S.prototype,"getDelayDateCondtion",[y],(0,V.default)(S.prototype,"getDelayDateCondtion"),S.prototype),a(S.prototype,"checkChange",[b],(0,V.default)(S.prototype,"checkChange"),S.prototype),a(S.prototype,"remindSetingHide",[w],(0,V.default)(S.prototype,"remindSetingHide"),S.prototype),S);t.default=le},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveSuperviseOperation=t.getSuperviseOperation=void 0;var n=o(0);t.getSuperviseOperation=function(e){return n.WeaTools.callApi("/api/odoc/odocSupervise/getSuperviseOperation","POST",e)},t.saveSuperviseOperation=function(e){return n.WeaTools.callApi("/api/odoc/odocSupervise/saveSuperviseOperation","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,f.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p=o(12),f=n(p),h=o(14),m=n(h),v=o(1),g=n(v),y=o(2),b=n(y),w=o(8),S=o(9),_=o(0),C=o(374),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(C),k=_.WeaLocaleProvider.getLabel,T=(i=w.action.bound,s=w.action.bound,l=w.action.bound,c=function(){function e(){(0,g.default)(this,e),r(this,"processOpinionVisible",u,this),r(this,"opinionList",d,this)}return(0,b.default)(e,[{key:"onCancelTrack",value:function(e,t,o){var n={requestid:e.join(",")};I.removeTracksReq(n).then(function(e){e.api_status&&(S.message.success(k("129248","取消成功")),t&&t(),o())})}},{key:"processOpinion",value:function(e,t){var o=this,n={requestid:e,workflowid:t};I.getCirculationOpinions(n).then(function(e){e.loglist&&(o.opinionList=e.loglist,o.processOpinionVisible=!0)})}},{key:"processOpinionHide",value:function(){this.processOpinionVisible=!1}}]),e}(),u=a(c.prototype,"processOpinionVisible",[w.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(c.prototype,"opinionList",[w.observable],{enumerable:!0,initializer:function(){return[]}}),a(c.prototype,"onCancelTrack",[i],(0,m.default)(c.prototype,"onCancelTrack"),c.prototype),a(c.prototype,"processOpinion",[s],(0,m.default)(c.prototype,"processOpinion"),c.prototype),a(c.prototype,"processOpinionHide",[l],(0,m.default)(c.prototype,"processOpinionHide"),c.prototype),c);t.default=T},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeTracksReq=t.getCirculationOpinions=void 0;var n=o(0);t.getCirculationOpinions=function(e){return n.WeaTools.callApi("/api/odoc/odocNewTodoList/getCirculationOpinions","POST",e)},t.removeTracksReq=function(e){return n.WeaTools.callApi("/api/odoc/odocNewTodoList/removeTracksReq","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,de.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y,X,$,Z,ee,te,oe,ne,re,ae,ie,se,le,ce,ue=o(12),de=n(ue),pe=o(14),fe=n(pe),he=o(65),me=n(he),ve=o(66),ge=n(ve),ye=o(20),be=n(ye),we=o(6),Se=n(we),_e=o(1),Ce=n(_e),Ie=o(2),ke=n(Ie),Te=o(8),Ee=o(376),De=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(Ee),Oe=o(11),Pe=o(0),We=o(9),Re=Pe.WeaLocaleProvider.getLabel,Ae=Oe.WeaTableNew.TableStore,xe=(i=Te.action.bound,s=Te.action.bound,l=Te.action.bound,c=Te.action.bound,u=Te.action.bound,d=Te.action.bound,p=Te.action.bound,f=Te.action.bound,h=Te.action.bound,m=Te.action.bound,v=Te.action.bound,g=Te.action.bound,y=Te.action.bound,b=Te.action.bound,w=Te.action.bound,S=Te.action.bound,_=Te.action.bound,C=Te.action.bound,I=Te.action.bound,k=Te.action.bound,T=Te.action.bound,E=Te.action.bound,D=Te.action.bound,O=function(){function e(){(0,Ce.default)(this,e),r(this,"workflowid",P,this),r(this,"operationType",W,this),r(this,"requestid",R,this),r(this,"superviseVisible",A,this),r(this,"superviseForm",x,this),r(this,"superviseconditions",L,this),r(this,"urgeForm",F,this),r(this,"urgeVisible",M,this),r(this,"delayRequestForm",N,this),r(this,"delayRequestVisible",j,this),r(this,"superviseid",z,this),r(this,"detailForm",B,this),r(this,"detailTabs",q,this),r(this,"detailSelectKey",K,this),r(this,"tableStore1",U,this),r(this,"tableStore2",V,this),r(this,"tableStore3",H,this),r(this,"detailDialogVisible",G,this),r(this,"remindSetingVisible",J,this),r(this,"remindSetingForm",Q,this),r(this,"processOpinionVisible",Y,this),r(this,"opinionList",X,this),r(this,"isOpen",$,this),r(this,"customListId",Z,this),r(this,"customTabId",ee,this),r(this,"getButtonType",te,this),r(this,"buttonType",oe,this),r(this,"sharearg",ne,this),r(this,"showBatchSubmit",re,this),r(this,"selectedKeys",ae,this),r(this,"selectedDatas",ie,this),this.tableParams={customListId:"",btnType:""},r(this,"pageTitle",se,this),r(this,"batchReadInfo",le,this),r(this,"showOpeareInTable",ce,this)}return(0,ke.default)(e,[{key:"onSupervise",value:function(){var e=this,t={workflowid:this.workflowid,operationType:this.operationType};De.getSuperviseOperation(t).then(function(t){t.formConditions&&(e.superviseconditions=[],e.superviseForm=new Oe.WeaForm,e.superviseconditions=t.formConditions,e.superviseForm.initFormFields(t.formConditions),e.remindSetingForm.setCondition(t.setConditions),e.superviseVisible=!0)})}},{key:"reminder",value:function(){var e=this,t={requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid};De.getSuperviseOperation(t).then(function(t){t.conditions&&(e.urgeForm=new Oe.WeaForm,e.urgeForm.setCondition(t.conditions),e.urgeVisible=!0)})}},{key:"checkDetails",value:function(){var e=this,t={requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid};De.getSuperviseOperation(t).then(function(t){e.detailForm=new Oe.WeaForm,e.tableStore1=new Ae,e.tableStore2=new Ae,e.tableStore3=new Ae,e.detailForm.setCondition(t.conditions),e.detailTabs=t.topTablist,e.tableStore1.getDatas(t.datalists.remindTableKey),e.tableStore2.getDatas(t.datalists.urgeTableKey),e.tableStore3.getDatas(t.datalists.delayTableKey),e.detailDialogVisible=!0})}},{key:"cancelReminder",value:function(e,t){var o={requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid};De.saveSuperviseOperation(o).then(function(o){o.api_status&&(We.message.success(Re("129248","取消成功")),e({},!1,!1),t())})}},{key:"delayDate",value:function(e){var t=this,o=(0,Se.default)({workflowid:this.workflowid,operationType:this.operationType,requestid:this.requestid,superviseid:this.superviseid},this.delayRequestForm.getFormParams());De.saveSuperviseOperation(o).then(function(o){o.api_status&&(We.message.success(Re("517320","延期处理申请提交成功")),t.delayRequestVisible=!1,e({},!1,!1))})}},{key:"superviseHide",value:function(){this.superviseVisible=!1,this.workflowid="",this.operationType=0,this.requestid=""}},{key:"saveSupervise",value:function(e,t){var o=this,n=this.superviseForm.getFormParams(),r=this.remindSetingForm.getFormParams(),a=(0,Se.default)({},n,r,{requestid:this.requestid,operationType:this.operationType});De.saveSuperviseOperation(a).then(function(n){n.api_status&&(o.superviseHide(),e({},!1,!1),t(),We.message.success(Re("387108","督办成功")))})}},{key:"saveUrge",value:function(){var e=this,t=(0,Se.default)({requestid:this.requestid,operationType:this.operationType,superviseid:this.superviseid},this.urgeForm.getFormParams());De.saveSuperviseOperation(t).then(function(t){t.api_status&&(e.urgeHide(),We.message.success(Re("517321","催办成功")))})}},{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,be.default)(t).map(function(o){e[o]=t[o]})}},{key:"urgeHide",value:function(){this.urgeVisible=!1}},{key:"validateForm",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.validateForm().then(function(e){e.isValid?t(o,n):e.showErrors()})}},{key:"validateRemindSetingForm",value:function(){var e=this.superviseForm.getFormParams(),t=this.remindSetingForm.getFormParams();return(!e.superviseRemindType.includes("0")||""!==t.beforeRemindType&&""!==t.beforeRemindNum&&""!==t.beforeRemindTime)&&(!e.superviseRemindType.includes("1")||""!==t.afterRemindType&&""!==t.afterRemindNum&&""!==t.afterRemindTime)?void this.remindSetingHide():void We.message.warn(Re("508377","有必填项没有填写"))}},{key:"getDelayDateCondtion",value:function(){var e=this,t={operationType:this.operationType,requestid:this.requestid};De.getSuperviseOperation(t).then(function(t){t.conditions&&(e.delayRequestForm=new Oe.WeaForm,e.delayRequestForm.setCondition(t.conditions),e.delayRequestVisible=!0)})}},{key:"checkChange",value:function(e){var t=this.superviseForm.getFormParams().superviseRemindType,o="";o="pre"==e?t.includes("0")&&t.includes("1")?"1":!t.includes("0")&&t.includes("1")?"0,1":t.includes("0")&&!t.includes("1")?"":"0":t.includes("0")&&t.includes("1")?"0":!t.includes("0")&&t.includes("1")?"":t.includes("0")&&!t.includes("1")?"0,1":"1",this.superviseForm.updateFields({superviseRemindType:{value:o}})}},{key:"remindSetingHide",value:function(){this.remindSetingVisible=!1}},{key:"processOpinion",value:function(e,t){var o=this,n={requestid:e,workflowid:t};De.getCirculationOpinions(n).then(function(e){e.loglist&&(o.opinionList=e.loglist,o.processOpinionVisible=!0)})}},{key:"processOpinionHide",value:function(){this.processOpinionVisible=!1}},{key:"getCustomPageListStatus",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=(0,Se.default)({},n,{customListId:this.customListId});De.getCustomPageListStatus(a).then(function(a){a.api_status&&(o.isOpen=a.isOpen,o.pageTitle=a.pageTitle,o.getTopButton(r,n,e,t))})}},{key:"getTopButton",value:function(){function e(){return t.apply(this,arguments)}var t=(0,ge.default)(me.default.mark(function e(){var t,o,n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments[2],l=arguments[3];return me.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.customTabId=a,t={customListId:this.customListId,customTabId:a},e.next=4,De.getCustomBatchBtn(t);case 4:if(o=e.sent,!o.api_status){e.next=16;break}return this.batchReadInfo=o.batchReadInfo,this.getButtonType=o.btnType||"",this.showOpeareInTable=o.menuDefaultShow,n=o.btnType&&o.btnType.split(",")[0],this.buttonType=n,this.tableParams.btnType=n,e.next=14,l(i);case 14:r=e.sent,s&&s((0,Se.default)({btnType:n},r,i,{customListId:this.customListId,customTabId:a}),!0);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"getBatchLimit",value:function(){var e=this,t={method:"all",officalType:"-1",viewScope:"doing",complete:"0",menuIds:"1,13",viewcondition:"0",actiontype:"splitpage",offical:""};De.getBatchLimit(t).then(function(t){e.sharearg=t.sharearg})}},{key:"secondAuth",value:function(e,t,o){this.batchSubmitEvent(e,t,o)}},{key:"batchSubmitEvent",value:function(e,t,o){var n=this,r=this.selectedDatas.map(function(e){return e.createrid}),a={multiSubIds:this.selectedKeys.join(","),remark:e,pagefromtype:1,belongtoUserids:r.join(","),needBatchSubmit:1};De.requestBatchSubmit(a).then(function(e){e.successRequestIds&&(n.selectedKeys=[],We.message.success(Re("16248","提交成功")),t&&t(),o&&o(),n.showBatchSubmit=!1)})}},{key:"initState",value:function(){this.isOpen=!0,this.customListId="",this.customTabId="",this.pageTitle="",this.getButtonType="",this.buttonType="",this.sharearg={},this.showBatchSubmit=!1,this.selectedKeys=[],this.selectedDatas=[]}}]),e}(),P=a(O.prototype,"workflowid",[Te.observable],{enumerable:!0,initializer:function(){return""}}),W=a(O.prototype,"operationType",[Te.observable],{enumerable:!0,initializer:function(){return"0"}}),R=a(O.prototype,"requestid",[Te.observable],{enumerable:!0,initializer:function(){return""}}),A=a(O.prototype,"superviseVisible",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),x=a(O.prototype,"superviseForm",[Te.observable],{enumerable:!0,initializer:function(){return new Oe.WeaForm}}),L=a(O.prototype,"superviseconditions",[Te.observable],{enumerable:!0,initializer:function(){return[]}}),F=a(O.prototype,"urgeForm",[Te.observable],{enumerable:!0,initializer:function(){return new Oe.WeaForm}}),M=a(O.prototype,"urgeVisible",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),N=a(O.prototype,"delayRequestForm",[Te.observable],{enumerable:!0,initializer:function(){return new Oe.WeaForm}}),j=a(O.prototype,"delayRequestVisible",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),z=a(O.prototype,"superviseid",[Te.observable],{enumerable:!0,initializer:function(){return""}}),B=a(O.prototype,"detailForm",[Te.observable],{enumerable:!0,initializer:function(){return new Oe.WeaForm}}),q=a(O.prototype,"detailTabs",[Te.observable],{enumerable:!0,initializer:function(){return[]}}),K=a(O.prototype,"detailSelectKey",[Te.observable],{enumerable:!0,initializer:function(){return"0"}}),U=a(O.prototype,"tableStore1",[Te.observable],{enumerable:!0,initializer:function(){return new Ae}}),V=a(O.prototype,"tableStore2",[Te.observable],{enumerable:!0,initializer:function(){return new Ae}}),H=a(O.prototype,"tableStore3",[Te.observable],{enumerable:!0,initializer:function(){return new Ae}}),G=a(O.prototype,"detailDialogVisible",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),J=a(O.prototype,"remindSetingVisible",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),Q=a(O.prototype,"remindSetingForm",[Te.observable],{enumerable:!0,initializer:function(){return new Oe.WeaForm}}),Y=a(O.prototype,"processOpinionVisible",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),X=a(O.prototype,"opinionList",[Te.observable],{enumerable:!0,initializer:function(){return[]}}),$=a(O.prototype,"isOpen",[Te.observable],{enumerable:!0,initializer:function(){return!0}}),Z=a(O.prototype,"customListId",[Te.observable],{enumerable:!0,initializer:function(){return""}}),ee=a(O.prototype,"customTabId",[Te.observable],{enumerable:!0,initializer:function(){return""}}),te=a(O.prototype,"getButtonType",[Te.observable],{enumerable:!0,initializer:function(){return""}}),oe=a(O.prototype,"buttonType",[Te.observable],{enumerable:!0,initializer:function(){return""}}),ne=a(O.prototype,"sharearg",[Te.observable],{enumerable:!0,initializer:function(){return{}}}),re=a(O.prototype,"showBatchSubmit",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),ae=a(O.prototype,"selectedKeys",[Te.observable],{enumerable:!0,initializer:function(){return[]}}),ie=a(O.prototype,"selectedDatas",[Te.observable],{enumerable:!0,initializer:function(){return[]}}),se=a(O.prototype,"pageTitle",[Te.observable],{enumerable:!0,initializer:function(){return""}}),le=a(O.prototype,"batchReadInfo",[Te.observable],{enumerable:!0,initializer:function(){return""}}),ce=a(O.prototype,"showOpeareInTable",[Te.observable],{enumerable:!0,initializer:function(){return!1}}),a(O.prototype,"onSupervise",[i],(0,fe.default)(O.prototype,"onSupervise"),O.prototype),a(O.prototype,"reminder",[s],(0,fe.default)(O.prototype,"reminder"),O.prototype),a(O.prototype,"checkDetails",[l],(0,fe.default)(O.prototype,"checkDetails"),O.prototype),a(O.prototype,"cancelReminder",[c],(0,fe.default)(O.prototype,"cancelReminder"),O.prototype),a(O.prototype,"delayDate",[u],(0,fe.default)(O.prototype,"delayDate"),O.prototype),a(O.prototype,"superviseHide",[d],(0,fe.default)(O.prototype,"superviseHide"),O.prototype),a(O.prototype,"saveSupervise",[p],(0,fe.default)(O.prototype,"saveSupervise"),O.prototype),a(O.prototype,"saveUrge",[f],(0,fe.default)(O.prototype,"saveUrge"),O.prototype),a(O.prototype,"setMobxState",[h],(0,fe.default)(O.prototype,"setMobxState"),O.prototype),a(O.prototype,"urgeHide",[m],(0,fe.default)(O.prototype,"urgeHide"),O.prototype),a(O.prototype,"validateForm",[v],(0,fe.default)(O.prototype,"validateForm"),O.prototype),a(O.prototype,"validateRemindSetingForm",[g],(0,fe.default)(O.prototype,"validateRemindSetingForm"),O.prototype),a(O.prototype,"getDelayDateCondtion",[y],(0,fe.default)(O.prototype,"getDelayDateCondtion"),O.prototype),a(O.prototype,"checkChange",[b],(0,fe.default)(O.prototype,"checkChange"),O.prototype),a(O.prototype,"remindSetingHide",[w],(0,fe.default)(O.prototype,"remindSetingHide"),O.prototype),a(O.prototype,"processOpinion",[S],(0,fe.default)(O.prototype,"processOpinion"),O.prototype),a(O.prototype,"processOpinionHide",[_],(0,fe.default)(O.prototype,"processOpinionHide"),O.prototype),a(O.prototype,"getCustomPageListStatus",[C],(0,fe.default)(O.prototype,"getCustomPageListStatus"),O.prototype),a(O.prototype,"getTopButton",[I],(0,fe.default)(O.prototype,"getTopButton"),O.prototype),a(O.prototype,"getBatchLimit",[k],(0,fe.default)(O.prototype,"getBatchLimit"),O.prototype),a(O.prototype,"secondAuth",[T],(0,fe.default)(O.prototype,"secondAuth"),O.prototype),a(O.prototype,"batchSubmitEvent",[E],(0,fe.default)(O.prototype,"batchSubmitEvent"),O.prototype),a(O.prototype,"initState",[D],(0,fe.default)(O.prototype,"initState"),O.prototype),O);t.default=xe},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestBatchSubmit=t.getSecondAuthConfig4List=t.getBatchLimit=t.getCustomBatchBtn=t.getCustomPageListStatus=t.removeTracksReq=t.getCirculationOpinions=t.saveSuperviseOperation=t.getSuperviseOperation=void 0;var n=o(0);t.getSuperviseOperation=function(e){return n.WeaTools.callApi("/api/odoc/odocSupervise/getSuperviseOperation","POST",e)},t.saveSuperviseOperation=function(e){return n.WeaTools.callApi("/api/odoc/odocSupervise/saveSuperviseOperation","POST",e)},t.getCirculationOpinions=function(e){return n.WeaTools.callApi("/api/odoc/odocNewTodoList/getCirculationOpinions","POST",e)},t.removeTracksReq=function(e){return n.WeaTools.callApi("/api/odoc/odocNewTodoList/removeTracksReq","POST",e)},t.getCustomPageListStatus=function(e){return n.WeaTools.callApi("/api/odoc/odocCustomPage/getCustomPageListStatus","POST",e)},t.getCustomBatchBtn=function(e){return n.WeaTools.callApi("/api/odoc/odocCustomPage/getCustomBatchBtn","POST",e)},t.getBatchLimit=function(e){return n.WeaTools.callApi("/api/workflow/reqlist/splitPageKey","POST",e)},t.getSecondAuthConfig4List=function(e){return n.WeaTools.callApi("/api/workflow/secondauth/getSecondAuthConfig4List","POST",e)},t.requestBatchSubmit=function(e){return n.WeaTools.callApi("/api/workflow/reqform/requestBatchSubmit","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,p.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,c,u,d=o(12),p=n(d),f=o(1),h=n(f),m=o(8),v=o(11),g=o(64),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(g),b=v.WeaTableNew.TableStore,w=(i=function e(){(0,h.default)(this,e),r(this,"getDatasCallback",s,this),r(this,"customTableStore",l,this),r(this,"rightMenuData",c,this),r(this,"getTableData",u,this)},s=a(i.prototype,"getDatasCallback",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.customTableStore.operates=[]}}}),l=a(i.prototype,"customTableStore",[m.observable],{enumerable:!0,initializer:function(){return new b({getDatasCallback:this.getDatasCallback})}}),c=a(i.prototype,"rightMenuData",[m.observable],{enumerable:!0,initializer:function(){var e=this;return[{key:"reload",icon:React.createElement("i",{className:"icon-coms-Refresh"}),content:getLabel("354","刷新"),onClick:function(){e.customTableStore.reloadCurrent(e.getDatasCallback)}}]}}),u=a(i.prototype,"getTableData",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){y.getCustomReportList().then(function(t){e.customTableStore.getDatas(t.sessionkey)})}}}),i);t.default=w},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,_.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S=o(12),_=n(S),C=o(1),I=n(C),k=o(8),T=o(0),E=(i=function e(){(0,I.default)(this,e),r(this,"treeDatas",s,this),r(this,"iframeSrc",l,this),r(this,"officeType",c,this),r(this,"requestid",u,this),r(this,"isIE",d,this),r(this,"workflowid",p,this),r(this,"printNodeId",f,this),r(this,"printMouldid",h,this),r(this,"selectedKeys",m,this),r(this,"getMouldList",v,this),r(this,"getMouldListDatas",g,this),r(this,"getOtherMould",y,this),r(this,"getOdocIframe",b,this),r(this,"printIframe",w,this)},s=a(i.prototype,"treeDatas",[k.observable],{enumerable:!0,initializer:function(){return[]}}),l=a(i.prototype,"iframeSrc",[k.observable],{enumerable:!0,initializer:function(){return""}}),c=a(i.prototype,"officeType",[k.observable],{enumerable:!0,initializer:function(){return""}}),u=a(i.prototype,"requestid",[k.observable],{enumerable:!0,initializer:function(){return""}}),d=a(i.prototype,"isIE",[k.observable],{enumerable:!0,initializer:function(){return""}}),p=a(i.prototype,"workflowid",[k.observable],{enumerable:!0,initializer:function(){return""}}),f=a(i.prototype,"printNodeId",[k.observable],{enumerable:!0,initializer:function(){return""}}),h=a(i.prototype,"printMouldid",[k.observable],{enumerable:!0,initializer:function(){return""}}),m=a(i.prototype,"selectedKeys",[k.observable],{enumerable:!0,initializer:function(){return[]}}),v=a(i.prototype,"getMouldList",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o){var n={selectvalue:t,workflowid:o,iseditmould:!1,isPrintMould:!0};T.WeaTools.callApi("/api/odoc/odocSelectMould/getMouldList","POST",n).then(function(t){t.sessionkey&&e.getMouldListDatas(t.sessionkey)})}}}),g=a(i.prototype,"getMouldListDatas",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o={dataKey:t,current:1,sortParams:[]};T.WeaTools.callApi("/api/ec/dev/table/datas","POST",o).then(function(t){var o=[];t.datas.forEach(function(e){var t={haschild:!1,isopen:!0,key:e.id,name:e.mouldNamespan};o.push(t)}),e.treeDatas=o})}}}),y=a(i.prototype,"getOtherMould",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.getOdocIframe(e.officeType,e.isIE,e.requestid,e.workflowid,e.printNodeId,t[0])}}}),b=a(i.prototype,"getOdocIframe",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r,a,i){e.selectedKeys=[i],e.officeType=t,e.isIE=o,e.requestid=n,e.workflowid=r,e.printNodeId=a;var s={isIE:o,officeType:t,requestid:n,workflowid:r,printNodeId:a,printMouldid:i};T.WeaTools.callApi("/api/odoc/officialPrintMould/getPrintMouldOffice","POST",s).then(function(t){e.iframeSrc=t.officeSrc})}}}),w=a(i.prototype,"printIframe",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(){"wpsEditor"==e.officeType||document.getElementsByClassName("req-printOdocMould")[0].contentWindow.WebOpenPrint()}}}),i);t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,B.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z=o(12),B=n(z),q=o(34),K=n(q),U=o(1),V=n(U),H=o(8),G=o(380),J=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(G),Q=o(0),Y=Q.WeaLocaleProvider.getLabel,X=(i=(0,H.action)("初始化参数"),s=(0,H.action)("修改参数"),l=(0,H.action)("确定套红"),c=(0,H.action)("关闭弹框"),u=(0,H.action)("模板查询"),d=(0,H.action)("获取模板列表"),p=(0,H.action)("获取套红预览地址"),f=function e(){(0,V.default)(this,e),r(this,"mouldList",h,this),r(this,"mouldid",m,this),r(this,"mouldname",v,this),r(this,"thurl",g,this),r(this,"yozoViewUrl",y,this),r(this,"loading",b,this),r(this,"workflowid",w,this),r(this,"selectvalue",S,this),r(this,"requestid",_,this),r(this,"docid",C,this),r(this,"imagefileId",I,this),r(this,"openyozo",k,this),r(this,"wpsEditor",T,this),r(this,"error",E,this),r(this,"errorMsg",D,this),r(this,"fullView",O,this),r(this,"mouldSearchValue",P,this),r(this,"visible",W,this),r(this,"doInitParams",R,this),r(this,"setProperty",A,this),r(this,"setPropertyNew",x,this),r(this,"confirmTh",L,this),r(this,"removeDialog",F,this),r(this,"mouldSearch",M,this),r(this,"getMouldList",N,this),r(this,"getThPreviewUrl",j,this)},h=a(f.prototype,"mouldList",[H.observable],{enumerable:!0,initializer:function(){return[]}}),m=a(f.prototype,"mouldid",[H.observable],{enumerable:!0,initializer:function(){return""}}),v=a(f.prototype,"mouldname",[H.observable],{enumerable:!0,initializer:function(){return""}}),g=a(f.prototype,"thurl",[H.observable],{enumerable:!0,initializer:function(){return""}}),y=a(f.prototype,"yozoViewUrl",[H.observable],{enumerable:!0,initializer:function(){return""}}),b=a(f.prototype,"loading",[H.observable],{enumerable:!0,initializer:function(){return!0}}),w=a(f.prototype,"workflowid",[H.observable],{enumerable:!0,initializer:function(){return 0}}),S=a(f.prototype,"selectvalue",[H.observable],{enumerable:!0,initializer:function(){return 0}}),_=a(f.prototype,"requestid",[H.observable],{enumerable:!0,initializer:function(){return 0}}),C=a(f.prototype,"docid",[H.observable],{enumerable:!0,initializer:function(){return 0}}),I=a(f.prototype,"imagefileId",[H.observable],{enumerable:!0,initializer:function(){return 0}}),k=a(f.prototype,"openyozo",[H.observable],{enumerable:!0,initializer:function(){return!1}}),T=a(f.prototype,"wpsEditor",[H.observable],{enumerable:!0,initializer:function(){return!1}}),E=a(f.prototype,"error",[H.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(f.prototype,"errorMsg",[H.observable],{enumerable:!0,initializer:function(){return""}}),O=a(f.prototype,"fullView",[H.observable],{enumerable:!0,initializer:function(){return 0}}),P=a(f.prototype,"mouldSearchValue",[H.observable],{enumerable:!0,initializer:function(){return""}}),W=a(f.prototype,"visible",[H.observable],{enumerable:!0,initializer:function(){return!0}}),R=a(f.prototype,"doInitParams",[i],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r,a,i){e.workflowid=t,e.requestid=o,e.docid=n,e.imagefileId=r,e.openyozo=a,e.wpsEditor=i}}}),A=a(f.prototype,"setProperty",[s],{enumerable:!0,initializer:function(){var e=this;return function(t,o){e[t]=o}}}),x=a(f.prototype,"setPropertyNew",[H.action],{enumerable:!0,initializer:function(){var e=this;return function(t){for(var o in t)e[o]=t[o]}}}),L=a(f.prototype,"confirmTh",[l],{enumerable:!0,initializer:function(){var e=this;return function(){var t=window.parent.WfForm.getOdocConfig().docParam,o=t.isColumnShow,n=t.isTextInFormCanEdit,r=t.isTextInForm,a=t.docid,i=void 0;i=n&&("1"==o||r)&&a>0?"1"==o?document.getElementsByClassName("wf-req-form-odoc-iframe")[0].contentWindow:document.getElementById("requestdocInForm").contentWindow:document.getElementsByClassName("req-workflow-odoc")[0].contentWindow,e.iseditmould?i.afterSelectEditMould(void 0,{id:e.mouldid}):i.afterSelectMould(void 0,{id:e.mouldid}),e.removeDialog()}}}),F=a(f.prototype,"removeDialog",[c],{enumerable:!0,initializer:function(){var e=this;return function(){if(1!=e.fullView){var t=window.parent.WfForm.getOdocConfig().docParam,o=t.isColumnShow,n=t.isTextInFormCanEdit,r=t.isTextInForm,a=t.docid;n&&("1"==o||r)&&a>0?"1"==o?document.getElementsByClassName("wf-req-form-odoc-iframe")[0].style.width="100%":document.getElementById("requestdocInForm").style.width="100%":document.getElementsByClassName("req-workflow-odoc")[0].style.width="100%",showOrHideWeboffice(1)}e.visible=!1}}}),M=a(f.prototype,"mouldSearch",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){e.mouldSearchValue=t;var o={workflowid:e.workflowid,selectvalue:e.selectvalue,requestId:e.requestid,preview:"1",searchValue:t};J.getThMouldList(o).then(function(t){e.mouldList=t.mouldList})}}}),N=a(f.prototype,"getMouldList",[d],{enumerable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t={workflowid:e.workflowid,selectvalue:e.selectvalue,requestId:e.requestid,preview:"1"};J.getThMouldList(t).then(function(t){t.mouldList.length>0?(e.mouldList=t.mouldList,t.mouldList.length>0?(e.mouldid=t.mouldList[0].mouldid,e.mouldname=t.mouldList[0].mouldname,e.getThPreviewUrl()):e.loading=!1):(e.error=!0,e.errorMsg=Y(23569,"套红模板没有设置，请和系统管理员联系！"),e.loading=!1)})}}}),j=a(f.prototype,"getThPreviewUrl",[p],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.requestid,o=e.mouldid,n=e.workflowid,r=e.docid,a=e.wpsEditor,i=e.openyozo,s=e.imagefileId,l={requestid:t,workflowid:n,docid:r};l.server=e.wpsEditor?"wps":e.openyozo?"yozo":"0",l.mouldId=o,a?(l.paramMapStr=(0,K.default)({workflowid:""+n,docid:""+r,requestname:Y(513037,"套红预览"),documentTitleField:"0",isThPreview:"1",requestid:""+t,requestId:""+t}),l.zwName="zw.docx",l.mouldType="showMould",J.getThImageFileId(l).then(function(t){t.status&&1==t.status?(l.imagefileid=t.rtnImagefileId,J.getThPreviewUrl(l).then(function(t){"1"==t.status?e.thurl=t.pdfViewUrl:(e.error=!0,e.errorMsg=t.message),e.loading=!1})):(e.error=!0,e.errorMsg=t.message,e.loading=!1)}).catch(function(){e.error=!0,e.errorMsg="书签对应关系为空,请检查",e.loading=!1})):i?(l.imagefileid=s,J.getThPreviewUrl(l).then(function(t){"1"==t.status?e.yozoViewUrl=t.yozoViewUrl:(e.error=!0,e.errorMsg=t.message),e.loading=!1})):(e.error=!0,e.errorMsg=Y(515745,"参数错误，请确认是否购买金山wps或者永中预览服务"),e.loading=!1)}}}),f);t.default=X},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThMouldList=t.getThImageFileId=t.getThPreviewUrl=void 0;var n=o(0);t.getThPreviewUrl=function(e){return n.WeaTools.callApi("/api/workflow/reqform/getThPreviewUrl","POST",e)},t.getThImageFileId=function(e){return n.WeaTools.callApi("/api/odoc/odocFile/selectMouldForTemplate","POST",e)},t.getThMouldList=function(e){return n.WeaTools.callApi("/api/odoc/odocSelectMould/getMouldList","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,f.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p=o(12),f=n(p),h=o(14),m=n(h),v=o(1),g=n(v),y=o(2),b=n(y),w=o(8),S=(i=function(){function e(){(0,g.default)(this,e),r(this,"dialogVisible",s,this),r(this,"dialogInit",l,this),r(this,"dialogParam",c,this),r(this,"workflowStores",u,this),r(this,"setDialogVisible",d,this)}return(0,b.default)(e,[{key:"setDialogParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,w.toJS)(this.dialogParam);o[e]=t,this.dialogParam=o}},{key:"setWorkflowStores",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.workflowStores=e}},{key:"requestParam",get:function(){var e=this.workflowStores.globalStore,t=void 0===e?{}:e,o=t||{},n=o.commonParam,r=void 0===n?{}:n,a=o.submitParam,i=void 0===a?{}:a,s=o.markInfo,l=r.workflowid,c=r.nodeid,u=r.formid,d=r.isbill,p=r.f_weaver_belongto_userid,f=r.f_weaver_belongto_usertype,h=r.creater,m=r.creatertype,v=r.requestType;return{requestid:i.requestid,workflowid:l,nodeid:c,formid:u,isbill:d,f_weaver_belongto_userid:p,f_weaver_belongto_usertype:f,creater:h,creatertype:m,requestType:v,remindTypes:i.remindTypes,markInfo:s}}}]),e}(),s=a(i.prototype,"dialogVisible",[w.observable],{enumerable:!0,initializer:function(){return w.observable.map?w.observable.map({}):asMap({})}}),l=a(i.prototype,"dialogInit",[w.observable],{enumerable:!0,initializer:function(){return w.observable.map?w.observable.map({}):asMap({})}}),c=a(i.prototype,"dialogParam",[w.observable],{enumerable:!0,initializer:function(){return{}}}),u=a(i.prototype,"workflowStores",[w.observable],{enumerable:!0,initializer:function(){return{}}}),a(i.prototype,"requestParam",[w.computed],(0,m.default)(i.prototype,"requestParam"),i.prototype),d=a(i.prototype,"setDialogVisible",[w.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o&&e.dialogInit.set(t,!0),e.dialogVisible.set(t,o)}}}),a(i.prototype,"setDialogParam",[w.action],(0,m.default)(i.prototype,"setDialogParam"),i.prototype),a(i.prototype,"setWorkflowStores",[w.action],(0,m.default)(i.prototype,"setWorkflowStores"),i.prototype),i);t.default=S},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,W.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P=o(12),W=n(P),R=o(14),A=n(R),x=o(23),L=n(x),F=o(52),M=n(F),N=o(34),j=n(N),z=o(21),B=n(z),q=o(6),K=n(q),U=o(96),V=n(U),H=o(1),G=n(H),J=o(2),Q=n(J),Y=o(8),X=o(9),$=o(11),Z=o(24),ee=o(40),te=n(ee),oe=o(97),ne=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(oe),re=o(0),ae=$.WeaTableNew.TableStore,ie=re.WeaLocaleProvider.getLabel,se=(i=(0,Y.action)("加载数据"),s=(0,Y.action)("从常用去向导入"),l=(0,Y.action)("更新表格行数据"),c=(0,Y.action)("清空已选择的人员"),u=(0,Y.action)("设置默认值"),d=(0,Y.action)("关联设置的处理"),p=(0,Y.action)("设置流转环节表格的选中"),f=function(){function e(){(0,G.default)(this,e),r(this,"nextNodeList",h,this),r(this,"nodeOperatorMap",m,this),this.workflowid="",this.workflowName="",r(this,"isend",v,this),r(this,"remark",g,this),this.directname="",r(this,"dialogVisible",y,this),r(this,"tableStore",b,this),this.btnforbiden=!1,r(this,"nodeConfig",w,this),r(this,"tableConfig",S,this),r(this,"workflowSet",_,this),r(this,"pageMode",C,this),r(this,"selectNodeId",I,this),r(this,"operatorFormData",k,this),r(this,"editFormData",T,this),r(this,"editNodeId",E,this),r(this,"selectedList",D,this),r(this,"assignRemark",O,this),this.deleteDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];ne.deleteDirection(e).then(function(e){var o=e.api_status,n=void 0!==o&&o,r=e.api_msg,a=void 0===r?"":r;n?t&&t():X.message.error(a||ie(125016,"删除失败！"))})},this.controlDialogVisible=this.controlDialogVisible.bind(this),this.setMember=this.setMember.bind(this),this.loadData=this.loadData.bind(this),this.saveDirection=this.saveDirection.bind(this),this.resetStore=this.resetStore.bind(this),this.resetTableStore=this.resetTableStore.bind(this),this.getTableList=this.getTableList.bind(this),this.deleteDirection=this.deleteDirection.bind(this)}return(0,Q.default)(e,[{key:"formData",get:function(){var e=(0,Y.toJS)(this.nodeOperatorMap);if(this.editNodeId>0){var t=this.editNodeId,o=(0,Y.toJS)(this.editFormData),n=e[t],r=void 0===n?{}:n;return(0,te.default)({},r,o)}if(this.selectNodeId>0){var a=this.selectNodeId,i=(0,Y.toJS)(this.operatorFormData),s=e[a],l=void 0===s?{}:s;return(0,te.default)({},l,i)}return{}}},{key:"formConfig",get:function(){var e={},t=0;if(this.editNodeId>0?t=this.editNodeId:this.selectNodeId>0&&(t=this.selectNodeId),t>0){var o=(0,Y.toJS)(this.nextNodeList),n=o.filter(function(e){return e.nodeid==t});n.length>0&&(e=n[0])}return e}},{key:"nodeMap",get:function(){var e=(0,Y.toJS)(this.nextNodeList),t={};return e&&e.length>0&&e.forEach(function(e){var o=e.nodeid,n=e.nodename;t[o]=n}),t}},{key:"selectedNodeList",get:function(){var e=(0,Y.toJS)(this.nextNodeList),t=(0,Y.toJS)(this.nodeOperatorMap),o=(0,Y.toJS)(this.selectedList),n=new V.default(o),r={};return e.forEach(function(e){var o=e.nodeid;if(n.has(o)){var a=t[o],i=void 0===a?{}:a;r[o]=(0,te.default)({},e,i)}}),o.map(function(e){return r[e]})}},{key:"nodeOperatorList",get:function(){var e=(0,Y.toJS)(this.nextNodeList),t=(0,Y.toJS)(this.nodeOperatorMap),o=((0,Y.toJS)(this.nodeConfig),[]);return e&&e.length>0&&e.forEach(function(e){var n=e.nodeid,r=e.sqlwhere,a=e.sqlwhere1,i=t[n],s=void 0===i?{}:i,l=s.userIds,c=void 0===l?{}:l;s.userIds=(0,K.default)({},c,{sqlwhere:r,sqlwhere1:a});var u=s.ccUserIds,d=void 0===u?{}:u;s.ccUserIds=(0,K.default)({},d),o.push((0,K.default)({},e,s))}),o}},{key:"selectedRowKeys",get:function(){var e=(0,Y.toJS)(this.nextNodeList),t=[];return e&&e.length>0&&e.forEach(function(e){var o=e.nodeid,n=e.selected;void 0!==n&&n&&t.push(o)}),t}}]),(0,Q.default)(e,[{key:"controlDialogVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.dialogVisible.set(e,t)}},{key:"setMember",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,B.default)(this,(0,K.default)({},e))}},{key:"updateOperatorFormData",value:function(e,t){var o=(0,Y.toJS)(this.operatorFormData);o[e]=t,this.operatorFormData=o}},{key:"resetOperatorFormDataByKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,Y.toJS)(this.operatorFormData);e.forEach(function(e){delete t[e]}),this.operatorFormData=t}},{key:"updateEditFormData",value:function(e,t){var o=(0,Y.toJS)(this.editFormData);o[e]=t,this.editFormData=o}},{key:"delSelectedItem",value:function(e){var t=this;if(e>0){var o=(0,Y.toJS)(this.selectedList),n=(0,Y.toJS)(this.nextNodeList);(0,Y.runInAction)(function(){t.selectedList=o.filter(function(t){return t!=e}),t.editNodeId==e&&(t.editNodeId=0);var r=n.filter(function(t){return t.nodeid==e});if(r.length>0){var a=r[0],i=a.disabled;void 0!==i&&i||t.updateSelectKeys(e,!1)}})}}},{key:"addData2SelectedList",value:function(){var e=this,t=(0,Y.toJS)(this.selectedList),o=(0,Y.toJS)(this.nodeOperatorMap),n=this.selectNodeId,r=(0,Y.toJS)(this.operatorFormData),a=(0,Y.toJS)(this.nodeConfig),i=o[n],s=void 0===i?{}:i,l=a.radio,c=void 0!==l&&l;o[n]=(0,te.default)({},s,r);var u=-1!=t.indexOf(n);u||t.push(n),(0,Y.runInAction)(function(){e.nodeOperatorMap=o,e.selectedList=t,u||e.updateSelectKeys(n,!0),c||(e.operatorFormData={})})}},{key:"saveEditFormData",value:function(){var e=this,t=(0,Y.toJS)(this.editFormData),o=(0,Y.toJS)(this.nodeOperatorMap),n=this.editNodeId,r=o[n],a=void 0===r?{}:r;o[n]=(0,te.default)({},a,t),(0,Y.runInAction)(function(){e.nodeOperatorMap=o,e.editNodeId=0,e.editFormData={}})}},{key:"loadData",value:function(e,t){var o=this;ne.loadData(e).then(function(e){var n=e.success;if(1==(void 0===n?0:n)){t&&"function"===typeof t&&t(e);var r=e.nextNodeList,a=e.workflowid,i=e.workflowName,s=e.tableConfig,l=void 0===s?{}:s,c=e.workflowSet,u=void 0===c?{}:c;(0,Y.runInAction)(function(){o.nextNodeList=r,o.workflowid=""+a,o.workflowName=i,o.tableConfig=l,o.workflowSet=u,o.setDefaultValue()})}else{var d=e.msg;d&&X.message.error(d)}})}},{key:"importData",value:function(e,t){var o=this,n=(0,Y.toJS)(this.nodeOperatorMap);ne.importData(e).then(function(e){var r=e.success;if(1==(void 0===r?0:r))t&&"function"===typeof t&&t(e),(0,Y.runInAction)(function(){var t=e.nodeOperatorMap;o.nodeOperatorMap=t;var r=[];for(var a in t){r.push(1*a);var i=n[a],s=void 0===i?{}:i,l=t[a],c=void 0===l?{}:l;t[a]=(0,te.default)({},s,c)}(0,Y.runInAction)(function(){o.nodeOperatorMap=t,o.updateSelectKeys(r),2==o.pageMode&&(o.selectedList=r)})});else{var a=e.msg;a&&X.message.error(a)}})}},{key:"saveDirection",value:function(e,t){var o=this,n=this.getNextDirections(),r=this.getDataList(n),a=(0,K.default)({directname:this.directname,workflowid:this.workflowid,nextDirections:(0,j.default)(r)},e);ne.saveData(a).then(function(e){o.directname="",t&&t(e)})}},{key:"getNextDirections",value:function(){var e=(0,Y.toJS)(this.nextNodeList),t=[];return e&&e.length>0&&(t=e.filter(function(e){return e.selected})),t}},{key:"getDataList",value:function(e){var t=(0,Y.toJS)(this.nodeOperatorMap);return e.map(function(e){var o=e,n=o.nodeid,r=o.linkId,a=t[n],i=void 0===a?{}:a,s=i.userIds,l=void 0===s?{}:s,c=i.ccUserIds,u=void 0===c?{}:c,d=i.userSignType,p=void 0===d?"":d,f=i.userTransferType,h=void 0===f?"":f,m=i.userCopyType,v=void 0===m?"":m,g=(u.userList,u.userIds),y=void 0===g?"":g,b=(l.userList,l.userIds);return e={userIds:void 0===b?"":b,ccUserIds:y,userSignType:p,userTransferType:h,userCopyType:v,nodeid:n,linkId:r}})}},{key:"flowNext",value:function(e,t){var o=this.getNextDirections(),n=this.getDataList(o),r=(0,K.default)({},e,{isend:this.isend,assignRemark:this.assignRemark,nextDirections:(0,j.default)(n)});ne.flowNext(r).then(function(e){t&&t(e)})}},{key:"updateRow",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,Y.toJS)(this.nodeOperatorMap),r=n[e];r=r&&"object"===("undefined"===typeof r?"undefined":(0,M.default)(r))?(0,Y.toJS)(r):{};var a=o;if(((0,Z.isArray)(o)||(0,Z.isObject)(o))&&(a=(0,Z.cloneDeep)(o)),r[t]=a,n[e]=r,this.nodeOperatorMap=n,"userIds"==t){var i=o.userList,s=void 0===i?[]:i,l=s.length>0;l&&this.updateSelectKeys(e,l)}}},{key:"clearRow",value:function(e,t){var o=this.nodeOperatorMap[e];o&&"object"===("undefined"===typeof o?"undefined":(0,M.default)(o))&&(o=(0,Y.toJS)(o),delete o[t]),this.nodeOperatorMap[e]=o}},{key:"setDefaultValue",value:function(){var e=this,t=(0,Y.toJS)(this.nodeOperatorMap),o=(0,Y.toJS)(this.nodeConfig),n=(0,Y.toJS)(this.nextNodeList),r=o.signType,a=void 0===r?0:r,i=o.defSignType,s=void 0===i?0:i,l=o.transferType,c=void 0===l?0:l,u=o.defTransferType,d=void 0===u?0:u,p=o.copyType,f=void 0===p?0:p;o.radio;if(n&&n.length>0){var h=[],m=n.map(function(e){var o=e,n=o.nodeid,r=o.isMustSelected,i=void 0===r?0:r,l=o.isModifyOperator,u=void 0===l?1:l,p=o.isDefaultLoad,m=void 0===p?0:p,v=o.nodeOperators,g=void 0===v?[]:v,y=o.nodeOperatorIds,b=void 0===y?"":y,w=o.nodeCopyOperators,S=void 0===w?[]:w,_=o.nodeCopyOperatorIds,C=void 0===_?"":_;1==i&&(e=(0,K.default)({},e,{disabled:!0,selected:!0}),h.push(n));var I=t[n],k=void 0===I?{}:I;if(0==u||1==m?(k.userIds={userList:g,userIds:b},f>0&&(k.ccUserIds={userList:S,userIds:C})):(delete k.userIds,delete k.ccUserIds),4==a&&(s>0?(s=s.toString(),k.userSignType=s):k.userSignType=""),(c=3)&&(d>0?(d=d.toString(),k.userTransferType=d):k.userTransferType=""),3==f){var T=k.userCopyType,E=void 0===T?"1":T;k.userCopyType=E}return t[n]=k,e}),v=n.filter(function(e){var t=e.isMustSelected;return 1==(void 0===t?0:t)});(0,Y.runInAction)(function(){e.nextNodeList=m,e.nodeOperatorMap=t,h.length>0&&e.updateSelectKeys(h,!0);var o={};v.length>0?o=v[0]:n.length>0&&(o=m[0]);var r=o,a=r.nodeid,i=void 0===a?0:a;i>0&&(e.selectNodeId=i)})}}},{key:"updateRelation",value:function(e,t){var o=this.nodeConfig.radio;if(void 0!==o&&o)return void(this.nextNodeList=t);(0,Z.isArray)(e)||(e=[e]);var n=new V.default(e),r=(0,Z.cloneDeep)(t),a=new V.default,i=new V.default;t.forEach(function(e){var t=e.nodeid,o=e.relationMap,s=void 0===o?{}:o,l=e.selected,c=void 0!==l&&l;if(n.has(t)&&!(0,Z.isEmpty)(s)){r=r.map(function(e){var t=e,o=t.nodeid,n=t.isMustSelected,r=void 0===n?0:n,l=t.selected,u=void 0!==l&&l;if((0,Z.has)(s,o)&&1!=r){var d=!1,p=s[o];p=void 0===p?{}:p;var f=p.relateType,h=void 0===f?0:f;c&&(1==h?(d=!0,u||a.add(o)):2==h&&(d=!0,i.add(o))),e=(0,K.default)({},e,{disabled:d,relateType:h})}return e})}}),this.nextNodeList=r,a.size>0&&this.updateSelectKeys([].concat((0,L.default)(a)),!0),i.size>0&&this.updateSelectKeys([].concat((0,L.default)(i)),!1)}},{key:"updateSelectKeys",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=(0,Y.toJS)(this.nextNodeList),n=this.nodeConfig.radio,r=void 0!==n&&n,a=1==arguments.length,i=[];if((0,Z.isArray)(e)){r&&(e=e.slice(0,1));var s=new V.default(e);o.forEach(function(e){var o=e,n=o.nodeid,r=o.isMustSelected;1!=(void 0===r?0:r)&&(s.has(n)?e=(0,K.default)({},e,{selected:t}):a&&(e=(0,K.default)({},e,{selected:!1}))),i.push(e)})}else o&&o.length>0&&o.forEach(function(o){var n=o,s=n.nodeid,l=n.isMustSelected;1!=(void 0===l?0:l)&&(e==s?o=(0,K.default)({},o,{selected:t}):(r&&t&&(o=(0,K.default)({},o,{selected:!1})),a&&(o=(0,K.default)({},o,{selected:!1})))),i.push(o)});this.updateRelation(e,i)}},{key:"getTableList",value:function(e){var t=this;ne.getTableList(e).then(function(e){t.tableStore.getDatas(e.datas,1)})}},{key:"resetStore",value:function(){this.nextNodeList=[],this.nodeOperatorMap={},this.dialogVisible.clear(),this.isend="1",this.remark="",this.workflowid="",this.workflowName="",this.directname="",this.btnforbiden=!1,this.nodeConfig={},this.tableConfig={},this.pageMode=1,this.selectNodeId=0,this.editNodeId=0,this.editFormData={},this.operatorFormData={},this.selectedList=[],this.assignRemark=""}},{key:"resetTableStore",value:function(){this.tableStore=new ae}}]),e}(),h=a(f.prototype,"nextNodeList",[Y.observable],{enumerable:!0,initializer:function(){return[]}}),m=a(f.prototype,"nodeOperatorMap",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),v=a(f.prototype,"isend",[Y.observable],{enumerable:!0,initializer:function(){return"1"}}),g=a(f.prototype,"remark",[Y.observable],{enumerable:!0,initializer:function(){return""}}),y=a(f.prototype,"dialogVisible",[Y.observable],{enumerable:!0,initializer:function(){return Y.observable.map?Y.observable.map({}):(0,Y.asMap)({})}}),b=a(f.prototype,"tableStore",[Y.observable],{enumerable:!0,initializer:function(){return new ae}}),w=a(f.prototype,"nodeConfig",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),S=a(f.prototype,"tableConfig",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),_=a(f.prototype,"workflowSet",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),C=a(f.prototype,"pageMode",[Y.observable],{enumerable:!0,initializer:function(){return 1}}),I=a(f.prototype,"selectNodeId",[Y.observable],{enumerable:!0,initializer:function(){return 0}}),k=a(f.prototype,"operatorFormData",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),T=a(f.prototype,"editFormData",[Y.observable],{enumerable:!0,initializer:function(){return{}}}),E=a(f.prototype,"editNodeId",[Y.observable],{enumerable:!0,initializer:function(){return 0}}),D=a(f.prototype,"selectedList",[Y.observable],{enumerable:!0,initializer:function(){return[]}}),O=a(f.prototype,"assignRemark",[Y.observable],{enumerable:!0,initializer:function(){return""}}),a(f.prototype,"formData",[Y.computed],(0,A.default)(f.prototype,"formData"),f.prototype),a(f.prototype,"formConfig",[Y.computed],(0,A.default)(f.prototype,"formConfig"),f.prototype),a(f.prototype,"nodeMap",[Y.computed],(0,A.default)(f.prototype,"nodeMap"),f.prototype),a(f.prototype,"selectedNodeList",[Y.computed],(0,A.default)(f.prototype,"selectedNodeList"),f.prototype),a(f.prototype,"nodeOperatorList",[Y.computed],(0,A.default)(f.prototype,"nodeOperatorList"),f.prototype),a(f.prototype,"selectedRowKeys",[Y.computed],(0,A.default)(f.prototype,"selectedRowKeys"),f.prototype),a(f.prototype,"controlDialogVisible",[Y.action],(0,A.default)(f.prototype,"controlDialogVisible"),f.prototype),a(f.prototype,"setMember",[Y.action],(0,A.default)(f.prototype,"setMember"),f.prototype),a(f.prototype,"updateOperatorFormData",[Y.action],(0,A.default)(f.prototype,"updateOperatorFormData"),f.prototype),a(f.prototype,"resetOperatorFormDataByKeys",[Y.action],(0,A.default)(f.prototype,"resetOperatorFormDataByKeys"),f.prototype),a(f.prototype,"updateEditFormData",[Y.action],(0,A.default)(f.prototype,"updateEditFormData"),f.prototype),a(f.prototype,"delSelectedItem",[Y.action],(0,A.default)(f.prototype,"delSelectedItem"),f.prototype),a(f.prototype,"addData2SelectedList",[Y.action],(0,A.default)(f.prototype,"addData2SelectedList"),f.prototype),a(f.prototype,"saveEditFormData",[Y.action],(0,A.default)(f.prototype,"saveEditFormData"),f.prototype),a(f.prototype,"loadData",[i],(0,A.default)(f.prototype,"loadData"),f.prototype),a(f.prototype,"importData",[s],(0,A.default)(f.prototype,"importData"),f.prototype),a(f.prototype,"updateRow",[l],(0,A.default)(f.prototype,"updateRow"),f.prototype),a(f.prototype,"clearRow",[c],(0,A.default)(f.prototype,"clearRow"),f.prototype),a(f.prototype,"setDefaultValue",[u],(0,A.default)(f.prototype,"setDefaultValue"),f.prototype),a(f.prototype,"updateRelation",[d],(0,A.default)(f.prototype,"updateRelation"),f.prototype),a(f.prototype,"updateSelectKeys",[p],(0,A.default)(f.prototype,"updateSelectKeys"),f.prototype),a(f.prototype,"getTableList",[Y.action],(0,A.default)(f.prototype,"getTableList"),f.prototype),a(f.prototype,"resetStore",[Y.action],(0,A.default)(f.prototype,"resetStore"),f.prototype),a(f.prototype,"resetTableStore",[Y.action],(0,A.default)(f.prototype,"resetTableStore"),f.prototype),f);t.default=se},function(e,t,o){o(119),o(76),o(88),o(384),o(390),o(393),o(395),e.exports=o(15).Set},function(e,t,o){"use strict";var n=o(385),r=o(196);e.exports=o(386)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,o){"use strict";var n=o(27).f,r=o(87),a=o(131),i=o(32),s=o(129),l=o(79),c=o(114),u=o(164),d=o(195),p=o(22),f=o(116).fastKey,h=o(196),m=p?"_s":"size",v=function(e,t){var o,n=f(t);if("F"!==n)return e._i[n];for(o=e._f;o;o=o.n)if(o.k==t)return o};e.exports={getConstructor:function(e,t,o,c){var u=e(function(e,n){s(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&l(n,o,e[c],e)});return a(u.prototype,{clear:function(){for(var e=h(this,t),o=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete o[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var o=h(this,t),n=v(o,e);if(n){var r=n.n,a=n.p;delete o._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),o._f==n&&(o._f=r),o._l==n&&(o._l=a),o[m]--}return!!n},forEach:function(e){h(this,t);for(var o,n=i(e,arguments.length>1?arguments[1]:void 0,3);o=o?o.n:this._f;)for(n(o.v,o.k,this);o&&o.r;)o=o.p},has:function(e){return!!v(h(this,t),e)}}),p&&n(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,o){var n,r,a=v(e,t);return a?a.v=o:(e._l=a={i:r=f(t,!0),k:t,v:o,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[m]++,"F"!==r&&(e._i[r]=a)),e},getEntry:v,setStrong:function(e,t,o){c(e,t,function(e,o){this._t=h(e,t),this._k=o,this._l=void 0},function(){for(var e=this,t=e._k,o=e._l;o&&o.r;)o=o.p;return e._t&&(e._l=o=o?o.n:e._t._f)?"keys"==t?u(0,o.k):"values"==t?u(0,o.v):u(0,[o.k,o.v]):(e._t=void 0,u(1))},o?"entries":"values",!o,!0),d(t)}}},function(e,t,o){"use strict";var n=o(18),r=o(17),a=o(116),i=o(31),s=o(36),l=o(131),c=o(79),u=o(129),d=o(25),p=o(78),f=o(27).f,h=o(387)(0),m=o(22);e.exports=function(e,t,o,v,g,y){var b=n[e],w=b,S=g?"set":"add",_=w&&w.prototype,C={};return m&&"function"==typeof w&&(y||_.forEach&&!i(function(){(new w).entries().next()}))?(w=t(function(t,o){u(t,w,e,"_c"),t._c=new b,void 0!=o&&c(o,g,t[S],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in _&&(!y||"clear"!=e)&&s(w.prototype,e,function(o,n){if(u(this,w,e),!t&&y&&!d(o))return"get"==e&&void 0;var r=this._c[e](0===o?0:o,n);return t?this:r})}),y||f(w.prototype,"size",{get:function(){return this._c.size}})):(w=v.getConstructor(t,e,g,S),l(w.prototype,o),a.NEED=!0),p(w,e),C[e]=w,r(r.G+r.W+r.F,C),y||v.setStrong(w,e,g),w}},function(e,t,o){var n=o(32),r=o(58),a=o(39),i=o(59),s=o(388);e.exports=function(e,t){var o=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var m,v,g=a(t),y=r(g),b=n(s,h,3),w=i(y.length),S=0,_=o?f(t,w):l?f(t,0):void 0;w>S;S++)if((p||S in y)&&(m=y[S],v=b(m,S,g),e))if(o)_[S]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:_.push(m)}else if(u)return!1;return d?-1:c||u?u:_}}},function(e,t,o){var n=o(389);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,o){var n=o(25),r=o(165),a=o(26)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,o){var n=o(17);n(n.P+n.R,"Set",{toJSON:o(391)("Set")})},function(e,t,o){var n=o(121),r=o(392);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,o){var n=o(79);e.exports=function(e,t){var o=[];return n(e,!1,o.push,o,t),o}},function(e,t,o){o(394)("Set")},function(e,t,o){"use strict";var n=o(17);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,o){o(396)("Set")},function(e,t,o){"use strict";var n=o(17),r=o(46),a=o(32),i=o(79);e.exports=function(e){n(n.S,e,{from:function(e){var t,o,n,s,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(o=[],t?(n=0,s=a(l,arguments[2],2),i(e,!1,function(e){o.push(s(e,n++))})):i(e,!1,o.push,o),new this(o))}})}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,h.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f=o(12),h=n(f),m=o(65),v=n(m),g=o(66),y=n(g),b=o(6),w=n(b),S=o(3),_=n(S),C=o(1),I=n(C),k=o(4),T=n(k),E=o(5),D=n(E),O=o(11),P=o(0),W=o(8),R=o(38),A=o(198),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(A),L=o(24),F=O.WeaTableNew.TableStore,M=P.WeaLocaleProvider.getLabel,N=(i=function(e){function t(){var e,o,n,a;(0,I.default)(this,t);for(var i=arguments.length,f=Array(i),h=0;h<i;h++)f[h]=arguments[h];return o=n=(0,T.default)(this,(e=t.__proto__||(0,_.default)(t)).call.apply(e,[this].concat(f))),n.form=new O.WeaForm,n.condition=[],n.refid="width",r(n,"tableStore",s,n),r(n,"submitparams",l,n),r(n,"load",c,n),r(n,"loadSignInput",u,n),n.coreparams={isManager:!0,showSignInput:!0,signInputRequired:!0,showMyTodo:!0,showDone:!0,showTodo:!0,title:M(32025,"撤回")},n.workparams={},r(n,"initLoad",d,n),n.reloadLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,w.default)({},n.workparams,n.coreparams,n.form.getFormParams());x.loadWithDrawData(t).then(function(t){var o=t.api_status,r=void 0!==o&&o,a=t.status,i=void 0!==a&&a,s=t.msg,l=void 0===s?"":s;r||i?n.doInit(t,e):n.showErrorMsg(l||M(126400,"获取数据失败稍后重试！"))})},n.getSignInput=function(){n.loadSignInput=!1,x.getSignInputData(n.workparams).then(function(e){(0,W.runInAction)(function(){n.loadSignInput=!0;var t=n.updateRemarkByWfRemark()||{};(0,L.isEmpty)(t)||(n.changeSubmitparams(t),e.remarkInfo=(0,w.default)({},e.remarkInfo,t),e.remark=t.remark),n.signinput=(0,w.default)({},e)})})},n.doInit=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.isManager,r=void 0===o||o,a=e.showSignInput,i=void 0===a||a,s=e.signInputRequired,l=void 0===s||s,c=e.showMyTodo,u=void 0===c||c,d=e.showDone,p=void 0===d||d,f=e.showTodo,h=void 0===f||f,m=e.title,v=void 0===m?M(32025,"撤回"):m,g=e.donesessionkey,y=void 0===g?"":g,b=e.requestid,w=e.conditions,S=e.withdrawSet,_=void 0===S?{}:S,C=_.showrecover,I=void 0===C?"0":C,k=null;p&&(k=(new F).getDatas(y)),u&&n.changeSubmitparams({myTodo:I}),n.coreparams={isManager:r,showSignInput:i,signInputRequired:l,showMyTodo:u,showDone:p,showTodo:h,title:v,requestid:b},n.tableStore={doenTableStore:k},n.load=!0,t||(n.condition=w,n.form.initFormFields(w))},r(n,"changeSubmitparams",p,n),n.goWithDraw=function(e){var t=n.coreparams,o=t.title,r=t.signInputRequired,a=void 0!==r&&r,i=t.showSignInput,s=void 0!==i&&i,l=t.requestid,c=t.showMyTodo,u=void 0!==c&&c,d=n.submitparams,p=d.doneSk,f=void 0===p?[]:p,h=d.myTodo,m=void 0===h?"":h,v=n.submitparams.remark,g=!1,y="";if(f.length>0||"1"==m?g=!0:y=u?M(519331,"请选择要撤回的在办人员或选择恢复我的办理权限！"):M(511633,"请选择要撤回的在办人员")+"!",!g)return void n.showErrorMsg(y,3);g=!1;var b=n.signinput,w=b.isFormSignature,S=b.isSignMustInput,_={requestid:l};if("1"==w){if(!n.saveFormSignature(_,"1"==S,n.refid+"Edit"))return}if(a&&s?(window.CK_REF&&window.CK_REF[n.refid+"Edit"]&&(v=window.CK_REF[n.refid+"Edit"].getEditor().getData()),v&&v.length>0?(n.submitparams.remark=v,g=!0):(y=M(521596,"请填写$title$意见！"),y=y.replace("$title$",o))):g=!0,!g)return void n.showErrorMsg(y,3);n.doWithDraw(_,e)},n.doWithDraw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e=(0,w.default)({},e,n.submitparams,n.workparams),x.doWithDraw(e).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.status,i=void 0!==a&&a,s=e.api_message,l=void 0===s?"":s;r||i?(n.showSuccessMsg(l||M(384408,"撤回成功！"),3),"function"==typeof t&&t(e)):n.showErrorMsg(l||M(384409,"撤回失败！"),3)})},n.destory=function(){n.form.reset(),n.submitparams=[]},a=o,(0,T.default)(n,a)}return(0,D.default)(t,e),t}(R.Base),s=a(i.prototype,"tableStore",[W.observable],{enumerable:!0,initializer:function(){return{}}}),l=a(i.prototype,"submitparams",[W.observable],{enumerable:!0,initializer:function(){return{doneSk:[],todoSk:[],myTodo:""}}}),c=a(i.prototype,"load",[W.observable],{enumerable:!0,initializer:function(){return!1}}),u=a(i.prototype,"loadSignInput",[W.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(i.prototype,"initLoad",[W.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(v.default.mark(function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.workparams=(0,w.default)({},o,e.form.getFormParams()),e.reloadLoad(),e.getSignInput();case 3:case"end":return t.stop()}},t,e)}));return function(){return t.apply(this,arguments)}}()}}),p=a(i.prototype,"changeSubmitparams",[W.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.submitparams=(0,w.default)({},e.submitparams,t)}}}),i);t.default=N},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,h.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f=o(12),h=n(f),m=o(65),v=n(m),g=o(66),y=n(g),b=o(6),w=n(b),S=o(3),_=n(S),C=o(1),I=n(C),k=o(4),T=n(k),E=o(5),D=n(E),O=o(11),P=o(0),W=o(8),R=o(38),A=o(198),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(A),L=o(24),F=P.WeaLocaleProvider.getLabel,M=O.WeaTableNew.TableStore,N=(i=function(e){function t(){var e,o,n,a;(0,I.default)(this,t);for(var i=arguments.length,f=Array(i),h=0;h<i;h++)f[h]=arguments[h];return o=n=(0,T.default)(this,(e=t.__proto__||(0,_.default)(t)).call.apply(e,[this].concat(f))),n.form=new O.WeaForm,n.refid="widthManager",r(n,"tableStore",s,n),r(n,"submitparams",l,n),r(n,"load",c,n),r(n,"loadSignInput",u,n),n.coreparams={showSignInput:!0,signInputRequired:!0,showTodo:!0,title:F(32025,"撤回")},n.type="manager",n.workparams={},r(n,"initLoad",d,n),n.reloadLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,w.default)({},n.workparams,n.coreparams,n.form.getFormParams());x.loadWithDrawData(t).then(function(t){var o=t.api_status,r=void 0!==o&&o,a=t.status,i=void 0!==a&&a,s=t.msg,l=void 0===s?"":s;r||i?n.doInit(t,e):n.showErrorMsg(l||F(126400,"获取数据失败稍后重试！"))})},n.getSignInput=function(){n.loadSignInput=!1,x.getSignInputData(n.workparams).then(function(e){(0,W.runInAction)(function(){n.loadSignInput=!0;var t=n.updateRemarkByWfRemark()||{};(0,L.isEmpty)(t)||(n.changeSubmitparams(t),e.remarkInfo=(0,w.default)({},e.remarkInfo,t),e.remark=t.remark),n.signinput=(0,w.default)({},e)})})},n.doInit=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.showSignInput,r=void 0===o||o,a=e.signInputRequired,i=void 0===a||a,s=e.showTodo,l=void 0===s||s,c=e.title,u=void 0===c?F(32025,"撤回"):c,d=e.todosessinkey,p=void 0===d?"":d,f=e.requestid,h=e.conditions,m=(new M).getDatas(p);n.coreparams={showSignInput:r,signInputRequired:i,showTodo:l,title:u,requestid:f},n.tableStore={todoTableStore:m},n.load=!0,t||(n.condition=h,n.form.initFormFields(h))},r(n,"changeSubmitparams",p,n),n.goWithDraw=function(e){var t=n.coreparams,o=t.title,r=t.signInputRequired,a=void 0!==r&&r,i=t.showSignInput,s=void 0!==i&&i,l=t.requestid,c=n.submitparams.todoSk,u=void 0===c?[]:c,d=n.submitparams.remark,p=!1,f="";if(u.length>0?p=!0:f=F(511633,"请选择要撤回的在办人员")+"!",!p)return void n.showErrorMsg(f,3);p=!1;var h=n.signinput,m=h.isFormSignature,v=h.isSignMustInput,g={requestid:l};if("1"==m){if(!n.saveFormSignature(g,"1"==v,n.refid+"Edit"))return}if(s&&a?(window.CK_REF&&window.CK_REF[n.refid+"Edit"]&&(d=window.CK_REF[n.refid+"Edit"].getEditor().getData()),d&&d.length>0?(n.submitparams.remark=d,p=!0):(f=F(521596,"请填写$title$意见！"),f=f.replace("$title$",o))):p=!0,!p)return void n.showErrorMsg(f,3);n.doWithDraw(g,e)},n.doWithDraw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e=(0,w.default)({},e,n.submitparams,n.workparams),x.doWithDraw(e).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.status,i=void 0!==a&&a,s=e.api_message,l=void 0===s?"":s;r||i?(n.showSuccessMsg(l||F(384408,"撤回成功！"),3),"function"==typeof t&&t(e)):n.showErrorMsg(l||F(384409,"撤回失败！"),3)})},n.destory=function(){n.submitparams=[],n.form.resetForm()},a=o,(0,T.default)(n,a)}return(0,D.default)(t,e),t}(R.Base),s=a(i.prototype,"tableStore",[W.observable],{enumerable:!0,initializer:function(){return{}}}),l=a(i.prototype,"submitparams",[W.observable],{enumerable:!0,initializer:function(){return{todoSk:[]}}}),c=a(i.prototype,"load",[W.observable],{enumerable:!0,initializer:function(){return!1}}),u=a(i.prototype,"loadSignInput",[W.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(i.prototype,"initLoad",[W.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(v.default.mark(function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.submitparams=[],o=(0,w.default)({},o,{type:e.type}),e.workparams=o,e.reloadLoad(),e.getSignInput(o);case 5:case"end":return t.stop()}},t,e)}));return function(){return t.apply(this,arguments)}}()}}),p=a(i.prototype,"changeSubmitparams",[W.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.submitparams=(0,w.default)({},e.submitparams,t)}}}),i);t.default=N},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,T.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k=o(12),T=n(k),E=o(14),D=n(E),O=o(21),P=n(O),W=o(34),R=n(W),A=o(6),x=n(A),L=o(3),F=n(L),M=o(1),N=n(M),j=o(2),z=n(j),B=o(4),q=n(B),K=o(5),U=n(K),V=o(11),H=o(0),G=o(8),J=o(38),Q=o(400),Y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(Q),X=H.WeaLocaleProvider.getLabel,$=V.WeaTableNew.TableStore,Z=(i=G.action.bound,s=G.action.bound,l=G.action.bound,c=G.action.bound,u=G.action.bound,d=function(e){function t(){var e,o,n,a;(0,N.default)(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return o=n=(0,q.default)(this,(e=t.__proto__||(0,F.default)(t)).call.apply(e,[this].concat(s))),r(n,"signListStore",p,n),r(n,"submitparams",f,n),r(n,"coreparams",h,n),r(n,"loading",m,n),n.changenumber=0,r(n,"selected",v,n),n.allbuttons=[],r(n,"form",g,n),n.initform=!1,n.condition=[],n.workparams={},r(n,"reduceData",y,n),r(n,"init",b,n),r(n,"loadTableList",w,n),r(n,"loadReduceData",S,n),r(n,"resetReduceData",_,n),r(n,"loaddatas",C,n),n.reducedSignature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=e.userIds,r=e.confirmMsg,a=e.dataId,i=(0,G.toJS)(n.reduceData),s=(0,x.default)({},n.workparams,n.submitparams,{userIds:o,dataId:a,reduceData:(0,R.default)(i)});delete s.markInfo,n.showConfirm(null,r||X(520037,"确认减签?"),function(){n.loading=!0,Y.reducedSignature(s).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.api_msg;n.loading=!1,r||status?(n.loadTableList(),n.showSuccessMsg(a||X(520035,"减签成功！")),t&&"function"==typeof t&&t()):n.showWarning(null,a)})})},n.changeSelectNode=function(e,t){var o={nodeId:e,nodeName:t};n.selected=(0,P.default)(n.selected,o)},n.changeSelectHrm=function(e,t,o){var r={userIds:e,userNames:t,userList:o};n.selected=(0,P.default)(n.selected,r)},n.changeSignType=function(e,t){var o={userSignType:e,userSignTypeName:t};n.selected=(0,P.default)(n.selected,o)},n.resetSelected=function(){var e={userIds:[],userNames:[],userList:[]};n.selected=(0,P.default)(n.selected,e)},n.changeCoreParams=function(e){n.coreparams=(0,x.default)({},n.coreparams,e)},n.getOpratorSetRowSelection=function(e){var t=(0,x.default)({},e);return t.getCheckboxProps=function(){return{disabled:!1}},t},r(n,"addOperator2ExistBatch",I,n),n.destory=function(){n.submitparams=[],n.selected={},n.coreparams={},n.form.reset()},a=o,(0,q.default)(n,a)}return(0,U.default)(t,e),(0,z.default)(t,[{key:"flowNext",value:function(e){var t=this,o=this.selected,n=o.nodeId,r=void 0===n?"":n,a=o.nodeName,i=void 0===a?"":a,s=o.userIds,l=void 0===s?"":s,c=o.userNames,u=void 0===c?"":c,d=(o.userList,o.userSignType),p=void 0===d?"":d,f={nodeId:r,nodeName:i,userIds:l,userNames:u,userSignType:p},h=[];h.push(f);var m=(0,x.default)({},this.workparams,this.submitparams,{nextDirections:(0,R.default)(h),sltids:this.coreparams.sltids});this.loading=!0,Y.plusSignature(m).then(function(o){var n=o.api_message,r=o.api_status,a=void 0!==r&&r,i=o.archived,s=void 0!==i&&i;if(t.loading=!1,a){if(s)return t.loading=!0,void t.showSuccessMsg(X(522302,"加签成功，流程已归档！"),3,function(){window.WfForm&&window.WfForm.reloadPage()});t.showSuccessMsg(X(520004,"加签成功！")),t.loadTableList(),t.changenumber++,"function"==typeof e&&e()}else t.showErrorMsg(n||X(520003,"加签失败！"))})}}]),t}(J.Base),p=a(d.prototype,"signListStore",[G.observable],{enumerable:!0,initializer:function(){return new $}}),f=a(d.prototype,"submitparams",[G.observable],{enumerable:!0,initializer:function(){return{}}}),h=a(d.prototype,"coreparams",[G.observable],{enumerable:!0,initializer:function(){return{datas:[],requestid:"",workflowid:"",nodeid:"",nodeOptions:[],deleteids:[]}}}),m=a(d.prototype,"loading",[G.observable],{enumerable:!0,initializer:function(){return!1}}),v=a(d.prototype,"selected",[G.observable],{enumerable:!0,initializer:function(){return{}}}),g=a(d.prototype,"form",[G.observable],{enumerable:!0,initializer:function(){return new V.WeaForm}}),y=a(d.prototype,"reduceData",[G.observable],{enumerable:!0,initializer:function(){return{}}}),b=a(d.prototype,"init",[G.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,x.default)({requestid:10059057,workflowid:55022,nodeid:46527,dialogType:1},t);e.workparams=t,e.changeCoreParams(o),e.loaddatas(),e.loadTableList()}}}),w=a(d.prototype,"loadTableList",[i],{enumerable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t=(0,x.default)({},e.workparams,e.coreparams);delete t.datas,delete t.nodeOptions,delete t.markInfo,t=(0,x.default)({},t,e.form.getFormParams()),Y.loadOperatorList(t).then(function(t){var o=t.sessionkey;(0,G.runInAction)(function(){e.signListStore=new $,e.signListStore.getDatasCallback=function(){e.loading=!1},e.signListStore.getDatas(o,1)})})}}}),S=a(d.prototype,"loadReduceData",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=e.coreparams.requestid;Y.loadReduceData({dataId:t,requestid:o}).then(function(t){var o=t.reduceData,n=void 0===o?{}:o;e.reduceData=n})}}}),_=a(d.prototype,"resetReduceData",[l],{enumerable:!0,initializer:function(){var e=this;return function(){e.reduceData={}}}}),C=a(d.prototype,"loaddatas",[G.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=(0,x.default)({},e.workparams,e.coreparams);delete t.datas,delete t.nodeOptions,t=(0,x.default)({},t,e.form.getFormParams()),Y.loadData(t).then(function(t){var o=t.api_status,n=void 0!==o&&o,r=t.status,a=void 0!==r&&r;if(n||a){var i=t.nodeOptions,s=void 0===i?[]:i,l=t.requestid,c=t.workflowid,u=t.nodeid,d=t.dialogType,p=t.conditions,f=t.signTypeOptions,h=void 0===f?[]:f;(0,G.runInAction)(function(){e.coreparams={nodeOptions:s,requestid:l,workflowid:c,nodeid:u,dialogType:d,signTypeOptions:h};var t=e.selected,o=t.nodeId,n=t.userSignType,r=void 0===n?"":n;if(!o&&s.length>0){var a=s[0],i=a.key,f=a.showname;e.changeSelectNode(i,f)}if(""==r.trim()&&h.length>0){var m=h[0];h&&h.some(function(e){var t=e.selected,o=void 0!==t&&t;return o&&(m=e),o});var v=m,g=v.key,y=v.showname;e.changeSignType(g,y)}e.submitparams={requestid:l,workflowid:c,nodeid:u,dialogType:d},e.initform||(e.condition=p,e.form.initFormFields(p),e.initform=!0)})}})}}}),a(d.prototype,"flowNext",[c],(0,D.default)(d.prototype,"flowNext"),d.prototype),I=a(d.prototype,"addOperator2ExistBatch",[u],{enumerable:!0,initializer:function(){return function(e,t){Y.addOperator2ExistBatch(e).then(function(e){t(e)})}}}),d);t.default=Z},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOperator2ExistBatch=t.plusSignature=t.reducedSignature=t.loadReduceData=t.loadOperatorList=t.loadData=void 0;var n=o(0);t.loadData=function(e){return n.WeaTools.callApi("/api/odoc/updateOperator/loadData","POST",e)},t.loadOperatorList=function(e){return n.WeaTools.callApi("/api/odoc/updateOperator/loadOperatorList","POST",e)},t.loadReduceData=function(e){return n.WeaTools.callApi("/api/odoc/updateOperator/loadReduceData","POST",e)},t.reducedSignature=function(e){return n.WeaTools.callApi("/api/odoc/updateOperator/reducedSignature","POST",e)},t.plusSignature=function(e){return n.WeaTools.callApi("/api/odoc/updateOperator/plusSignature","POST",e)},t.addOperator2ExistBatch=function(e){return n.WeaTools.callApi("/api/odoc/updateOperator/addOperator2ExistBatch","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,_.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S=o(12),_=n(S),C=o(23),I=n(C),k=o(6),T=n(k),E=o(1),D=n(E),O=o(8),P=o(402),W=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(P),R=(i=(0,O.action)("签字意见分组默认加载"),s=(0,O.action)("签字意见分组加载更多"),l=function e(){(0,D.default)(this,e),r(this,"setProperty",c,this),r(this,"workflowid",u,this),r(this,"requestid",d,this),r(this,"groupLists",p,this),r(this,"counts",f,this),r(this,"tabid",h,this),r(this,"pageLoading",m,this),r(this,"logParams",v,this),r(this,"initLogParams",g,this),r(this,"getSignGroupPageList",y,this),r(this,"signGroupPageLoadMore",b,this),r(this,"imgForLazyLoad",w,this)},c=a(l.prototype,"setProperty",[O.action],{enumerable:!0,initializer:function(){var e=this;return function(t){for(var o in t)e[o]=t[o]}}}),u=a(l.prototype,"workflowid",[O.observable],{enumerable:!0,initializer:function(){return""}}),d=a(l.prototype,"requestid",[O.observable],{enumerable:!0,initializer:function(){return""}}),p=a(l.prototype,"groupLists",[O.observable],{enumerable:!0,initializer:function(){return[]}}),f=a(l.prototype,"counts",[O.observable],{enumerable:!0,initializer:function(){return 20}}),h=a(l.prototype,"tabid",[O.observable],{enumerable:!0,initializer:function(){return""}}),m=a(l.prototype,"pageLoading",[O.observable],{enumerable:!0,initializer:function(){return!1}}),v=a(l.prototype,"logParams",[O.observable],{enumerable:!0,initializer:function(){return{}}}),g=a(l.prototype,"initLogParams",[O.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=t.authStr,n=t.authSignatureStr,r=t.signatureAttributesStr,a=t.signatureSecretKey,i=t.f_weaver_belongto_userid;e.logParams={authStr:o,authSignatureStr:n,signatureAttributesStr:r,signatureSecretKey:a,f_weaver_belongto_userid:i}}}}),y=a(l.prototype,"getSignGroupPageList",[i],{enumerable:!0,initializer:function(){var e=this;return function(){var t=(0,T.default)({workflowid:e.workflowid,requestid:e.requestid,action:"all",counts:e.counts,tabid:e.tabid},(0,O.toJS)(e.logParams));W.getSignGroupPageData(t).then(function(t){t.api_status&&1==t.api_status?(e.groupLists=t.groupLists,e.pageLoading=!1,e.imgForLazyLoad()):(e.pageLoading=!1,e.groupLists=[])})}}}),b=a(l.prototype,"signGroupPageLoadMore",[s],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r){e.pageLoading=!0;var a=(0,T.default)({mouldid:o,groupid:t,action:"more",workflowid:e.workflowid,requestid:e.requestid,pagenumber:parseInt(n)+1,counts:e.counts,tabid:e.tabid},(0,O.toJS)(e.logParams));W.getSignGroupPageData(a).then(function(t){if(t.api_status&&1==t.api_status){var o=t.groupLists[0].groupDatas;e.groupLists[r].groupDatas=[].concat((0,I.default)(e.groupLists[r].groupDatas),(0,I.default)(o)),e.groupLists[r].pagenumber=parseInt(n)+1,e.groupLists[r].hasmore=o.length<e.counts?"0":"1",e.pageLoading=!1,e.imgForLazyLoad()}}).catch(function(){e.pageLoading=!1})}}}),w=a(l.prototype,"imgForLazyLoad",[O.action],{enumerable:!0,initializer:function(){return function(){var e=0,t=setInterval(function(){e++,window.odocSignImgUtil.odocFormImgLazyLoad&&jQuery(".workflow-signSetting")&&window.odocSignImgUtil.odocFormImgLazyLoad(jQuery(".workflow-signSetting")),e>=4&&clearInterval(t)},500)}}}),l);t.default=R},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignGroupPageData=void 0;var n=o(0);t.getSignGroupPageData=function(e){return n.WeaTools.callApi("/api/odoc/signSetting/getSignGroupPageData","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,ne.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y,X,$,Z,ee,te,oe=o(12),ne=n(oe),re=o(34),ae=n(re),ie=o(6),se=n(ie),le=o(21),ce=n(le),ue=o(1),de=n(ue),pe=o(8),fe=o(11),he=o(0),me=o(9),ve=o(404),ge=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(ve),ye=o(67),be=n(ye),we=o(55),Se=n(we),_e=o(13),Ce=n(_e),Ie=he.WeaLocaleProvider.getLabel,ke=fe.WeaTableNew.TableStore,Te=(i=function e(){(0,de.default)(this,e),r(this,"changeForm",s,this),r(this,"tableTitle",l,this),r(this,"tableStore",c,this),r(this,"loading",u,this),r(this,"requestParam",d,this),r(this,"workflowId",p,this),r(this,"requestId",f,this),r(this,"f_weaver_belongto_userid",h,this),r(this,"f_weaver_belongto_usertype",m,this),r(this,"operateMainWfItem",v,this),r(this,"docTypeChangeOpMainWf",g,this),r(this,"mode",y,this),r(this,"setProperty",b,this),r(this,"getContent",w,this),r(this,"submitChanges",S,this),r(this,"showSlideModal",_,this),r(this,"slideModalTop",C,this),r(this,"slideModalHeight",I,this),r(this,"leftTree",k,this),r(this,"selectedTreeKey",T,this),r(this,"expandedKeys",E,this),r(this,"leftTreeCount",D,this),r(this,"leftTreeCountType",O,this),r(this,"leftTreeLoading",P,this),r(this,"showLeft",W,this),r(this,"newOdocWorkflowid",R,this),r(this,"odocAttrTitle",A,this),r(this,"odocAttrColumn",x,this),r(this,"odocAttrDatasource",L,this),r(this,"changeWfSetId",F,this),r(this,"wfFormSrc",M,this),r(this,"wfFormSrcModule",N,this),r(this,"attrLoading",j,this),r(this,"formLoading",z,this),r(this,"showChangeRecord",B,this),r(this,"changeReason",q,this),r(this,"recordLoading",K,this),r(this,"nustInputChangeReason",U,this),r(this,"noChangeWorkflow",V,this),r(this,"maindata",H,this),r(this,"tip",G,this),r(this,"init",J,this),r(this,"getLeftTree",Q,this),r(this,"getSelectedTreeKey",Y,this),r(this,"getAssignmentSettings",X,this),r(this,"submitDocTypeChangeFree",$,this),r(this,"updateFieldAttr",Z,this),r(this,"getNewFiledDatas",ee,this),r(this,"updateFieldAttr1",te,this),this.getbatchSetFormDatas=function(e,t){var o={};return e[0].datas.forEach(function(e){var n=e.mainField,r=void 0===n?[]:n,a=e.chanFieldId;if(r.length>0){var i=r[0].id,s=void 0===i?0:i;if(t["field"+s]){var l=t["field"+s];o["field"+a]=l}}}),o}},s=a(i.prototype,"changeForm",[pe.observable],{enumerable:!0,initializer:function(){return new fe.WeaForm}}),l=a(i.prototype,"tableTitle",[pe.observable],{enumerable:!0,initializer:function(){return""}}),c=a(i.prototype,"tableStore",[pe.observable],{enumerable:!0,initializer:function(){return new ke}}),u=a(i.prototype,"loading",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(i.prototype,"requestParam",[pe.observable],{enumerable:!0,initializer:function(){return{}}}),p=a(i.prototype,"workflowId",[pe.observable],{enumerable:!0,initializer:function(){return""}}),f=a(i.prototype,"requestId",[pe.observable],{enumerable:!0,initializer:function(){return""}}),h=a(i.prototype,"f_weaver_belongto_userid",[pe.observable],{enumerable:!0,initializer:function(){return""}}),m=a(i.prototype,"f_weaver_belongto_usertype",[pe.observable],{enumerable:!0,initializer:function(){return""}}),v=a(i.prototype,"operateMainWfItem",[pe.observable],{enumerable:!0,initializer:function(){return{}}}),g=a(i.prototype,"docTypeChangeOpMainWf",[pe.observable],{enumerable:!0,initializer:function(){return 0}}),y=a(i.prototype,"mode",[pe.observable],{enumerable:!0,initializer:function(){return 1}}),b=a(i.prototype,"setProperty",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t){(0,ce.default)(e,t)}}}),w=a(i.prototype,"getContent",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.recordLoading=!0;var t=(0,pe.toJS)(e.requestParam),o=t.requestid,n=t.workflowid,r={workflowId:n,requestId:o};ge.getDocTypeChangeRevisionInfo(r).then(function(t){e.changeForm=new fe.WeaForm,e.tableStore=new ke;var o=[{title:t.changeInfoItem.title,items:t.changeInfoItem.items,defaultshow:!0}];e.changeForm.setCondition(o),e.tableTitle=t.docTypeChangDataItem.title1,t.sessionkey&&e.tableStore.getDatas(t.sessionkey,1),e.recordLoading=!1})}}}),S=a(i.prototype,"submitChanges",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if(0===e.mode){var o=(0,pe.toJS)(e.requestParam),n=o.requestid,r=o.workflowid;e.changeForm.validateForm().then(function(o){if(o.isValid){var a=(0,se.default)({workflowId:r,requestId:n},(0,pe.toJS)(e.requestParam),e.changeForm.getFormParams()),i=me.message.loading(Ie("385366","正在执行中..."),0);e.loading=!0,ge.submitDocTypeChange(a).then(function(o){i(),o.api_status?(e.loading=!1,me.message.success(o.msg),t()):(me.Modal.warning({title:Ie("131329","信息确认"),content:o.msg}),0==o.msgError&&t(),e.loading=!1)})}else o.showErrors()})}else e.submitDocTypeChangeFree(t)}}}),_=a(i.prototype,"showSlideModal",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),C=a(i.prototype,"slideModalTop",[pe.observable],{enumerable:!0,initializer:function(){return 0}}),I=a(i.prototype,"slideModalHeight",[pe.observable],{enumerable:!0,initializer:function(){return 0}}),k=a(i.prototype,"leftTree",[pe.observable],{enumerable:!0,initializer:function(){return[]}}),T=a(i.prototype,"selectedTreeKey",[pe.observable],{enumerable:!0,initializer:function(){return[]}}),E=a(i.prototype,"expandedKeys",[pe.observable],{enumerable:!0,initializer:function(){return[]}}),D=a(i.prototype,"leftTreeCount",[pe.observable],{enumerable:!0,initializer:function(){return{}}}),O=a(i.prototype,"leftTreeCountType",[pe.observable],{enumerable:!0,initializer:function(){return[]}}),P=a(i.prototype,"leftTreeLoading",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(i.prototype,"showLeft",[pe.observable],{enumerable:!0,initializer:function(){return!0}}),R=a(i.prototype,"newOdocWorkflowid",[pe.observable],{enumerable:!0,initializer:function(){return 24}}),A=a(i.prototype,"odocAttrTitle",[pe.observable],{enumerable:!0,initializer:function(){return""}}),x=a(i.prototype,"odocAttrColumn",[pe.observable],{enumerable:!0,initializer:function(){return[]}}),L=a(i.prototype,"odocAttrDatasource",[pe.observable],{enumerable:!0,initializer:function(){return[]}}),F=a(i.prototype,"changeWfSetId",[pe.observable],{enumerable:!0,initializer:function(){return 1}}),M=a(i.prototype,"wfFormSrc",[pe.observable],{enumerable:!0,initializer:function(){return""}}),N=a(i.prototype,"wfFormSrcModule",[pe.observable],{enumerable:!0,initializer:function(){return(0,Ce.default)("/spa/workflow/static4form/index.html#/main/workflow/req?isOdocChangeType=1&iscreate=1&workflowid=${workflowid}&isagent=0&beagenter=0")}}),j=a(i.prototype,"attrLoading",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),z=a(i.prototype,"formLoading",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),B=a(i.prototype,"showChangeRecord",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),q=a(i.prototype,"changeReason",[pe.observable],{enumerable:!0,initializer:function(){return""}}),K=a(i.prototype,"recordLoading",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),U=a(i.prototype,"nustInputChangeReason",[pe.observable],{enumerable:!0,initializer:function(){return!0}}),V=a(i.prototype,"noChangeWorkflow",[pe.observable],{enumerable:!0,initializer:function(){return!1}}),H=a(i.prototype,"maindata",[pe.observable],{enumerable:!0,initializer:function(){return{}}}),G=a(i.prototype,"tip",[pe.observable],{enumerable:!0,initializer:function(){return Ie(500408,"加载中...")}}),J=a(i.prototype,"init",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.getLeftTree()}}}),Q=a(i.prototype,"getLeftTree",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.formLoading=!0,e.leftTreeLoading=!0;var t=(0,se.default)({},(0,pe.toJS)(e.requestParam));ge.getDocTypeChangeTree(t).then(function(t){if(t.api_status&&1==t.api_status){var o=t.treedata,n=void 0===o?[]:o,r=(t.treeCount,t.condition_state,t.defWfId),a=void 0===r?0:r;if(e.leftTree=n,n.length>0){e.noChangeWorkflow=!1;var i=0,s=0;if(a>0)s=a,i=e.getSelectedTreeKey(n,a);else{var l=n[0],c=l.childs[0];s=c.key,i=c.domid}e.newOdocWorkflowid=s,e.selectedTreeKey=[i],e.expandedKeys=n.map(function(e){return e.domid}),e.leftTreeLoading=!1,e.wfFormSrc=e.wfFormSrcModule.replace("${workflowid}",s),e.getAssignmentSettings({subWorkflowid:s}),setTimeout(function(){var e=document.getElementById("changeTypeIframe");e&&(e.contentWindow.onbeforeunload=null)},1e3)}else e.noChangeWorkflow=!0}else me.message.error(t.api_msg||Ie(126400,"获取数据失败"))})}}}),Y=a(i.prototype,"getSelectedTreeKey",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o){for(var n="",r=0;r<t.length;r++){var a=t[r],i=a.domid,s=void 0===i?"":i,l=a.childs,c=void 0===l?[]:l,u=a.key;if((void 0===u?0:u)==o)return n=s;if(c.length>0){var d=e.getSelectedTreeKey(c,o);if(""!=d)return n=d}}return n}}}),X=a(i.prototype,"getAssignmentSettings",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.attrLoading=!0,t=(0,se.default)({},t,(0,pe.toJS)(e.requestParam)),ge.getDocTypeChangeFreeInfo(t).then(function(t){if(t.api_status&&1==t.api_status){var o=(t.docTypeChangeTables,t.maindata),n=t.docTypeChangeReasonMust,r=void 0===n?0:n,a=t.operateMainWfItem,i=void 0===a?{}:a,s=t.docTypeChangeTables,l=s.columns,c=s.datas,u=s.title,d=void 0===u?"":u;e.odocAttrTitle=d,e.odocAttrDatasource=c,e.odocAttrColumn=l,e.maindata=o,e.nustInputChangeReason=r,e.operateMainWfItem=i,e.docTypeChangeOpMainWf=i.value||0;var p=0,f=setInterval(function(){var t=document.getElementById("changeTypeIframe");if(t){var n=t.contentWindow.WfForm;if(n&&n.changeMoreField&&n.getGlobalStore&&1==n.getGlobalStore().JSComplete){var r=e.getbatchSetFormDatas(c,o);n.changeMoreField(r),p++,3==p&&clearInterval(f)}}},1e3)}else me.message.error(t.api_msg||Ie(532536,"获取属性数据失败"));e.attrLoading=!1,e.formLoading=!1})}}}),$=a(i.prototype,"submitDocTypeChangeFree",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if(0==e.nustInputChangeReason&&""===e.changeReason.trim())return void me.message.warning(Ie(532531,"请填写变更原因"));e.tip=Ie(532535,"流程变更中，请稍候..."),e.formLoading=!0;var o=(0,se.default)({subWorkflowid:e.newOdocWorkflowid,datas:(0,ae.default)((0,pe.toJS)(e.odocAttrDatasource)),docTypeChangeReasons:e.changeReason,docTypeChangeOpMainWf:e.docTypeChangeOpMainWf},(0,pe.toJS)(e.requestParam));ge.submitDocTypeChangeFree(o).then(function(o){if(o.api_status&&1==o.api_status){me.message.success(o.api_msg);var n=o.chanRequestId;setTimeout(function(){window.open("/spa/workflow/static4form/index.html#/main/workflow/req?requestid="+n),(0,Se.default)(t)&&t()},500)}else me.message.error(o.api_msg||Ie(532534,"变更失败"));e.formLoading=!1,e.tip=Ie(500408,"加载中...")})}}}),Z=a(i.prototype,"updateFieldAttr",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r,a,i){var s=(0,be.default)((0,pe.toJS)(e.odocAttrDatasource));s.map(function(t,o){return o==a&&t.datas.map(function(t,o){if(o==i){t.mainField=n;var a="field"+r.chanFieldId,s=document.getElementById("changeTypeIframe");if(n.length>0){var l="field"+n[0].id,c=(0,pe.toJS)(e.maindata)[l];if(s){var u=c;"3"==r.chanhttype&&c.specialobj&&c.specialobj.filedatas&&(u=e.getNewFiledDatas(c)),s.contentWindow.WfForm.changeFieldValue(a,u)}if("field-4"==l){var d=c.value||0;if(c.specialobj&&c.specialobj[d]){var p=c.specialobj[d];t.mainFieldValue=p.defaultname||p.customname}else t.mainFieldValue=""}else"field-5"==l?t.mainFieldValue="":c.specialobj?c.specialobj.filedatas&&Array.isArray(c.specialobj.filedatas)?t.mainFieldValue=c.specialobj.filedatas.map(function(e){return e.filename}).join(","):Array.isArray(c.specialobj)?t.mainFieldValue=c.specialobj.map(function(e){return e.name}).join(","):t.mainFieldValue="":t.mainFieldValue=c.value}else s&&s.contentWindow.WfForm.changeFieldValue(a,{value:"",specialobj:[]}),t.mainFieldValue=""}return t}),t}),e.odocAttrDatasource=s}}}),ee=a(i.prototype,"getNewFiledDatas",[pe.action],{enumerable:!0,initializer:function(){return function(e){var t=(0,se.default)({},e,{specialobj:[]});return Array.isArray(e.specialobj.filedatas)&&(t.specialobj=e.specialobj.filedatas.map(function(e){var t={};return t.id=e.fileid,t.name=e.filename,t})),t}}}),te=a(i.prototype,"updateFieldAttr1",[pe.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r){var a=(0,be.default)((0,pe.toJS)(e.odocAttrDatasource));a.map(function(e,o){o==n&&e.datas.map(function(e,o){o==r&&(e.doGenNewDoc=t)})}),e.odocAttrDatasource=a}}}),i);t.default=Te},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitDocTypeChangeFree=t.getDocTypeChangeFreeInfo=t.saveAssignmentSettings=t.getAssignmentSettings=t.submitDocTypeChange=t.getDocTypeChangeRevisionInfo=t.getDocTypeChangeTree=void 0;var n=o(0);t.getDocTypeChangeTree=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChangeFree/getDocTypeChangeTree","POST",e)},t.getDocTypeChangeRevisionInfo=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChange/getDocTypeChangeRevisionInfo","POST",e)},t.submitDocTypeChange=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChange/submitDocTypeChange","POST",e)},t.getAssignmentSettings=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChange/getAssignmentSettings","POST",e)},t.saveAssignmentSettings=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChange/saveAssignmentSettings","POST",e)},t.getDocTypeChangeFreeInfo=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChangeFree/getDocTypeChangeFreeInfo","POST",e)},t.submitDocTypeChangeFree=function(e){return n.WeaTools.callApi("/api/odoc/docTypeChangeFree/submitDocTypeChangeFree","POST",e)}},function(e,t){function o(){this.__data__=[],this.size=0}e.exports=o},function(e,t,o){function n(e){var t=this.__data__,o=r(t,e);return!(o<0)&&(o==t.length-1?t.pop():i.call(t,o,1),--this.size,!0)}var r=o(99),a=Array.prototype,i=a.splice;e.exports=n},function(e,t,o){function n(e){var t=this.__data__,o=r(t,e);return o<0?void 0:t[o][1]}var r=o(99);e.exports=n},function(e,t,o){function n(e){return r(this.__data__,e)>-1}var r=o(99);e.exports=n},function(e,t,o){function n(e,t){var o=this.__data__,n=r(o,e);return n<0?(++this.size,o.push([e,t])):o[n][1]=t,this}var r=o(99);e.exports=n},function(e,t,o){function n(){this.__data__=new r,this.size=0}var r=o(98);e.exports=n},function(e,t){function o(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o}e.exports=o},function(e,t){function o(e){return this.__data__.get(e)}e.exports=o},function(e,t){function o(e){return this.__data__.has(e)}e.exports=o},function(e,t,o){function n(e,t){var o=this.__data__;if(o instanceof r){var n=o.__data__;if(!a||n.length<s-1)return n.push([e,t]),this.size=++o.size,this;o=this.__data__=new i(n)}return o.set(e,t),this.size=o.size,this}var r=o(98),a=o(135),i=o(136),s=200;e.exports=n},function(e,t,o){function n(e){return!(!i(e)||a(e))&&(r(e)?h:c).test(s(e))}var r=o(55),a=o(418),i=o(43),s=o(201),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,p=u.toString,f=d.hasOwnProperty,h=RegExp("^"+p.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,o){function n(e){var t=i.call(e,l),o=e[l];try{e[l]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[l]=o:delete e[l]),r}var r=o(81),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,l=r?r.toStringTag:void 0;e.exports=n},function(e,t){function o(e){return r.call(e)}var n=Object.prototype,r=n.toString;e.exports=o},function(e,t,o){function n(e){return!!a&&a in e}var r=o(419),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t,o){var n=o(35),r=n["__core-js_shared__"];e.exports=r},function(e,t){function o(e,t){return null==e?void 0:e[t]}e.exports=o},function(e,t,o){function n(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}var r=o(422),a=o(98),i=o(135);e.exports=n},function(e,t,o){function n(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}var r=o(423),a=o(424),i=o(425),s=o(426),l=o(427);n.prototype.clear=r,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,o){function n(){this.__data__=r?r(null):{},this.size=0}var r=o(100);e.exports=n},function(e,t){function o(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=o},function(e,t,o){function n(e){var t=this.__data__;if(r){var o=t[e];return o===a?void 0:o}return s.call(t,e)?t[e]:void 0}var r=o(100),a="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t,o){function n(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}var r=o(100),a=Object.prototype,i=a.hasOwnProperty;e.exports=n},function(e,t,o){function n(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=r&&void 0===t?a:t,this}var r=o(100),a="__lodash_hash_undefined__";e.exports=n},function(e,t,o){function n(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=o(101);e.exports=n},function(e,t){function o(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=o},function(e,t,o){function n(e){return r(this,e).get(e)}var r=o(101);e.exports=n},function(e,t,o){function n(e){return r(this,e).has(e)}var r=o(101);e.exports=n},function(e,t,o){function n(e,t){var o=r(this,e),n=o.size;return o.set(e,t),this.size+=o.size==n?0:1,this}var r=o(101);e.exports=n},function(e,t,o){var n=o(54),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,o){function n(e,t){return e&&r(t,a(t),e)}var r=o(102),a=o(82);e.exports=n},function(e,t){function o(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}e.exports=o},function(e,t,o){function n(e){return a(e)&&r(e)==i}var r=o(68),a=o(44),i="[object Arguments]";e.exports=n},function(e,t){function o(){return!1}e.exports=o},function(e,t,o){function n(e){return i(e)&&a(e.length)&&!!s[r(e)]}var r=o(68),a=o(139),i=o(44),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=n},function(e,t,o){var n=o(208),r=n(Object.keys,Object);e.exports=r},function(e,t,o){function n(e,t){return e&&r(t,a(t),e)}var r=o(102),a=o(209);e.exports=n},function(e,t,o){function n(e){if(!r(e))return i(e);var t=a(e),o=[];for(var n in e)("constructor"!=n||!t&&l.call(e,n))&&o.push(n);return o}var r=o(43),a=o(104),i=o(442),s=Object.prototype,l=s.hasOwnProperty;e.exports=n},function(e,t){function o(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}e.exports=o},function(e,t,o){(function(e){function n(e,t){if(t)return e.slice();var o=e.length,n=c?c(o):new e.constructor(o);return e.copy(n),n}var r=o(35),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.allocUnsafe:void 0;e.exports=n}).call(t,o(80)(e))},function(e,t){function o(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}e.exports=o},function(e,t,o){function n(e,t){return r(e,a(e),t)}var r=o(102),a=o(142);e.exports=n},function(e,t){function o(e,t){for(var o=-1,n=null==e?0:e.length,r=0,a=[];++o<n;){var i=e[o];t(i,o,e)&&(a[r++]=i)}return a}e.exports=o},function(e,t,o){function n(e,t){return r(e,a(e),t)}var r=o(102),a=o(211);e.exports=n},function(e,t,o){function n(e){return r(e,i,a)}var r=o(215),a=o(211),i=o(209);e.exports=n},function(e,t,o){var n=o(54),r=o(35),a=n(r,"DataView");e.exports=a},function(e,t,o){var n=o(54),r=o(35),a=n(r,"Promise");e.exports=a},function(e,t,o){var n=o(54),r=o(35),a=n(r,"WeakMap");e.exports=a},function(e,t){function o(e){var t=e.length,o=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(o.index=e.index,o.input=e.input),o}var n=Object.prototype,r=n.hasOwnProperty;e.exports=o},function(e,t,o){function n(e,t,o){var n=e.constructor;switch(t){case g:return r(e);case c:case u:return new n(+e);case y:return a(e,o);case b:case w:case S:case _:case C:case I:case k:case T:case E:return l(e,o);case d:return new n;case p:case m:return new n(e);case f:return i(e);case h:return new n;case v:return s(e)}}var r=o(143),a=o(454),i=o(455),s=o(456),l=o(457),c="[object Boolean]",u="[object Date]",d="[object Map]",p="[object Number]",f="[object RegExp]",h="[object Set]",m="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",_="[object Int16Array]",C="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]";e.exports=n},function(e,t,o){function n(e,t){var o=t?r(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}var r=o(143);e.exports=n},function(e,t){function o(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=o},function(e,t,o){function n(e){return i?Object(i.call(e)):{}}var r=o(81),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=n},function(e,t,o){function n(e,t){var o=t?r(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}var r=o(143);e.exports=n},function(e,t,o){function n(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}var r=o(459),a=o(213),i=o(104);e.exports=n},function(e,t,o){var n=o(43),r=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(r)return r(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}();e.exports=a},function(e,t,o){var n=o(461),r=o(140),a=o(141),i=a&&a.isMap,s=i?r(i):n;e.exports=s},function(e,t,o){function n(e){return a(e)&&r(e)==i}var r=o(83),a=o(44),i="[object Map]";e.exports=n},function(e,t,o){var n=o(463),r=o(140),a=o(141),i=a&&a.isSet,s=i?r(i):n;e.exports=s},function(e,t,o){function n(e){return a(e)&&r(e)==i}var r=o(83),a=o(44),i="[object Set]";e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,f.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p=o(12),f=n(p),h=o(6),m=n(h),v=o(3),g=n(v),y=o(1),b=n(y),w=o(4),S=n(w),_=o(5),C=n(_),I=o(11),k=o(0),T=o(8),E=o(38),D=o(132),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(D),P=o(40),W=n(P),R=o(24),A=k.WeaLocaleProvider.getLabel,x=(i=function(e){function t(){var e,o,n,a;(0,b.default)(this,t);for(var i=arguments.length,p=Array(i),f=0;f<i;f++)p[f]=arguments[f];return o=n=(0,S.default)(this,(e=t.__proto__||(0,g.default)(t)).call.apply(e,[this].concat(p))),r(n,"form",s,n),r(n,"loading",l,n),r(n,"signinput",c,n),r(n,"showSignInput",u,n),n.refid="append",n.controlOptions=!1,n.condition=[],n.sumitParams={},n.coreParams={},n.doInit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e=(0,m.default)({},e),n.coreParams=e,n.loading=!1,n.getSignInput(),O.odocAppendDatas(e).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.conditions,i=void 0===a?[]:a,s=e.controlOptions,l=void 0!==s&&s,c=e.signInputRequired,u=void 0===c||c;if(r)n.condition=i,n.form.initFormFields(i),n.controlOptions=l,n.sumitParams={signInputRequired:u},n.loading=!0;else{var d=e.api_message,p=void 0===d?"":d;n.showWarning(void 0,p,t)}})},r(n,"getSignInput",d,n),n.changeSubmitParams=function(e){n.sumitParams=(0,W.default)({},n.sumitParams,e)},n.doSave=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=e.globalStore,r=void 0===o?{}:o,a=r.submitParam,i=void 0===a?{}:a,s=(0,W.default)({},n.form.getFormParams(),n.coreParams,i,n.sumitParams);window.CK_REF&&window.CK_REF[n.refid+"Edit"]&&window.CK_REF[n.refid+"Edit"].getEditor()&&(s.remark=window.CK_REF[n.refid+"Edit"].getEditor().getData());var l=n.sumitParams.signInputRequired,c=void 0!==l&&l,u=n.signinput,d=u.isFormSignature,p=u.isSignMustInput;if("1"==d){if(!n.saveFormSignature(s,"1"==p,n.refid+"Edit"))return}else if(c&&!n.checkRemark(s))return void n.showErrorMsg(A(26013,"请填写签字意见！"));n.form.validateForm().then(function(e){e.isValid?(n.loading=!1,O.saveSignSetting(s).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.api_message,i=void 0===a?"":a;n.loading=!0,r?(t&&t(e),n.showSuccessMsg(A(83551,"保存成功！"),3)):n.showErrorMsg(i)})):e.showErrors()})},n.getSqlWhere=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=(0,m.default)({},e,n.coreParams),n.controlOptions&&O.getSqlWhere(e).then(function(e){var t=e.nodes;n.fnChangeForm({nodes:t},"appendToNodeid")})},n.fnChangeForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=n,r=o.condition;r.length>0&&r.map(function(o){return o.items=o.items.map(function(o){var n=o,r=n.domkey;if(-1!=(void 0===r?[]:r).indexOf(t)){var a=o,i=a.browserConditionParam,s=void 0===i?{}:i,l=s,c=l.completeParams,u=void 0===c?{}:c,d=l.conditionDataParams,p=void 0===d?{}:d,f=l.dataParams,h=void 0===f?{}:f;u=(0,m.default)({},u,e),p=(0,m.default)({},p,e),h=(0,m.default)({},h,e),s=(0,m.default)({},s,{completeParams:u,conditionDataParams:p,dataParams:h}),o=(0,m.default)({},o,{browserConditionParam:s})}return o}),o}),(0,T.runInAction)(function(){var e=n.form.getFormDatas();e&&e[t]&&delete e[t],n.condition=r,n.form=new I.WeaForm,n.form.initFormFields(r),n.form.updateFields(e)})},n.destory=function(){n.form.resetForm()},a=o,(0,S.default)(n,a)}return(0,C.default)(t,e),t}(E.Base),s=a(i.prototype,"form",[T.observable],{enumerable:!0,initializer:function(){return new I.WeaForm}}),l=a(i.prototype,"loading",[T.observable],{enumerable:!0,initializer:function(){return!1}}),c=a(i.prototype,"signinput",[T.observable],{enumerable:!0,initializer:function(){return{}}}),u=a(i.prototype,"showSignInput",[T.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(i.prototype,"getSignInput",[T.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.showSignInput=!1,O.getSignInput(e.coreParams).then(function(t){(0,T.runInAction)(function(){e.showSignInput=!0;var o=e.updateRemarkByWfRemark()||{};(0,R.isEmpty)(o)||(e.changeSubmitParams(o),t.remarkInfo=(0,m.default)({},t.remarkInfo,o),t.remark=o.remark),e.signinput=t})})}}}),i);t.default=x},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,f.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p=o(12),f=n(p),h=o(6),m=n(h),v=o(3),g=n(v),y=o(1),b=n(y),w=o(4),S=n(w),_=o(5),C=n(_),I=o(0),k=o(8),T=o(38),E=o(132),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(E),O=o(40),P=n(O),W=o(24),R=I.WeaLocaleProvider.getLabel,A=(i=function(e){function t(){var e,o,n,a;(0,b.default)(this,t);for(var i=arguments.length,p=Array(i),f=0;f<i;f++)p[f]=arguments[f];return o=n=(0,S.default)(this,(e=t.__proto__||(0,g.default)(t)).call.apply(e,[this].concat(p))),r(n,"loading",s,n),r(n,"signinput",l,n),r(n,"showSignInput",c,n),n.refid="appendSelf",n.controlOptions=!1,n.condition=[],n.sumitParams={},n.coreParams={appendSelf:!0},r(n,"doInit",u,n),r(n,"getSignInput",d,n),n.changeSubmitParams=function(e){n.sumitParams=(0,P.default)({},n.sumitParams,e)},n.doSave=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=e.globalStore,r=void 0===o?{}:o,a=r.submitParam,i=void 0===a?{}:a,s=(0,P.default)({},n.coreParams,i,n.sumitParams);window.CK_REF&&window.CK_REF[n.refid+"Edit"]&&window.CK_REF[n.refid+"Edit"].getEditor()&&(s.remark=window.CK_REF[n.refid+"Edit"].getEditor().getData());var l=n.sumitParams.signInputRequired,c=void 0!==l&&l,u=n.signinput,d=u.isFormSignature,p=u.isSignMustInput;if("1"==d){if(!n.saveFormSignature(s,"1"==p,n.refid+"Edit"))return}else if(c&&!n.checkRemark(s))return void n.showErrorMsg(R(26013,"请填写签字意见！"));n.loading=!1,D.saveSignSetting(s).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.api_message;n.loading=!0,r?(t&&t(e),n.showSuccessMsg(a||R(519035,"追加意见")+R(84565,"成功！"),3)):n.showErrorMsg(a)})},n.destory=function(){},a=o,(0,S.default)(n,a)}return(0,C.default)(t,e),t}(T.Base),s=a(i.prototype,"loading",[k.observable],{enumerable:!0,initializer:function(){return!1}}),l=a(i.prototype,"signinput",[k.observable],{enumerable:!0,initializer:function(){return{}}}),c=a(i.prototype,"showSignInput",[k.observable],{enumerable:!0,initializer:function(){return!1}}),u=a(i.prototype,"doInit",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];e.coreParams=(0,m.default)({},e.coreParams,t),t=(0,m.default)({},e.coreParams,t),e.loading=!1,e.getSignInput(),D.odocAppendDatas(t).then(function(t){e.loading=!0;var n=t.api_status,r=void 0!==n&&n,a=t.signInputRequired,i=void 0===a||a;if(r)e.sumitParams={signInputRequired:i};else{var s=t.api_message,l=void 0===s?"":s;e.showWarning(void 0,l,o)}})}}}),d=a(i.prototype,"getSignInput",[k.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.showSignInput=!1,D.getSignInput(e.coreParams).then(function(t){(0,k.runInAction)(function(){e.showSignInput=!0;var o=e.updateRemarkByWfRemark()||{};(0,W.isEmpty)(o)||(e.changeSubmitParams(o),t.remarkInfo=(0,m.default)({},t.remarkInfo,o),t.remark=o.remark),e.signinput=(0,m.default)({},t)})})}}}),i);t.default=A},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,y.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g=o(12),y=n(g),b=o(6),w=n(b),S=o(3),_=n(S),C=o(1),I=n(C),k=o(4),T=n(k),E=o(5),D=n(E),O=o(11),P=o(0),W=o(8),R=o(38),A=o(40),x=n(A),L=o(467),F=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(L),M=P.WeaLocaleProvider.getLabel,N=O.WeaTableNew.TableStore,j=(i=W.action.bound,s=W.action.bound,l=function(e){function t(){var e,o,n,a;(0,I.default)(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return o=n=(0,T.default)(this,(e=t.__proto__||(0,_.default)(t)).call.apply(e,[this].concat(s))),r(n,"loading",c,n),r(n,"signinput",u,n),r(n,"signListStore",d,n),r(n,"showSignInput",p,n),n.sumitParams={},n.coreParams={},n.refid="update",n.logid="",n.savenumber=0,n.form=new O.WeaForm,r(n,"conditions",f,n),r(n,"changeSignInput",h,n),n.changeSubmitParams=function(e){n.sumitParams=(0,x.default)({},n.sumitParams,e)},n.initCoreParams=function(e){n.coreParams=e,n.init(),n.loadForm()},n.loadForm=function(){F.getSignLogForm(n.coreParams).then(function(e){var t=e.conditions,o=e.api_status,r=e.api_message;o?(0,W.runInAction)(function(){n.form.initFormFields(t),n.conditions=t}):n.showErrorMsg(r||M(388768,"加载失败!"),3)})},r(n,"init",m,n),n.doSave=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=e.globalStore,r=void 0===o?{}:o,a=r.submitParam,i=void 0===a?{}:a,s=(0,x.default)({logid:n.logid},n.coreParams,i,n.sumitParams);window.CK_REF&&window.CK_REF[n.refid+"Edit"]&&window.CK_REF[n.refid+"Edit"].getEditor()&&(s.remark=window.CK_REF[n.refid+"Edit"].getEditor().getData());var l=n.signinput,c=l.isFormSignature,u=l.isSignMustInput;if("1"==c){if(!n.saveFormSignature(s,"1"==u,n.refid+"Edit"))return}n.loading=!1,F.doUpdateSign(s).then(function(e){var o=e.api_status,r=void 0!==o&&o,a=e.api_message,i=void 0===a?"":a;n.loading=!0,r?(t&&t(e),n.showSuccessMsg(M(83551,"保存成功！"),3),n.init(),n.savenumber++):n.showErrorMsg(i)})},r(n,"getSignInput",v,n),n.doDeleteSignLogByLogId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logid:""},t=(0,x.default)({},n.coreParams,n.sumitParams,e);F.doDeleteSign(t).then(function(e){var t=e.api_status,o=void 0!==t&&t,r=e.api_message;o?(n.init(),n.savenumber++,n.showSuccessMsg(r||M(83472,"删除成功！"))):n.showErrorMsg(r||M(83473,"删除失败！"))})},n.closeShowSignInput=function(){n.showSignInput=!1,n.sumitParams={},n.loading=!1,n.signinput={}},n.destory=function(){n.signinput={},n.form.reset()},a=o,(0,T.default)(n,a)}return(0,D.default)(t,e),t}(R.Base),c=a(l.prototype,"loading",[W.observable],{enumerable:!0,initializer:function(){return!1}}),u=a(l.prototype,"signinput",[W.observable],{enumerable:!0,initializer:function(){return{}}}),d=a(l.prototype,"signListStore",[W.observable],{enumerable:!0,initializer:function(){return new N}}),p=a(l.prototype,"showSignInput",[W.observable],{enumerable:!0,initializer:function(){return!1}}),f=a(l.prototype,"conditions",[W.observable],{enumerable:!0,initializer:function(){return[]}}),h=a(l.prototype,"changeSignInput",[W.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.signinput||{};if(void 0!=t.signdocids){var n=t.signdocids,r=[];n.split(",").map(function(e){e&&r.push({id:e})}),t.signdocreplacedata=r,t.remarkInfo=(0,w.default)({},t)}if(void 0!=t.signworkflowids){var a=t.signworkflowids,i=[];a.split(",").map(function(e){e&&i.push({id:e})}),t.signworkflowreplacedata=i,t.remarkInfo=(0,w.default)({},t)}t.handWrittenSign&&(t.remarkInfo=(0,w.default)({},t)),o&&o.remarkInfo&&t.remarkInfo&&(o.remarkInfo=(0,w.default)({},o.remarkInfo,t.remarkInfo)),e.signinput=(0,w.default)({},t,o)}}}),m=a(l.prototype,"init",[i],{enumerable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t=e.form,o=e.coreParams,n=(0,x.default)({},t&&t.getFormParams()||{},o);F.getSignLogSessionkey(n).then(function(t){var o=t.sessionkey;e.signListStore.getDatasCallback=function(){e.loading=!1},e.signListStore.getDatas(o,1)})}}}),v=a(l.prototype,"getSignInput",[s],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logid:""};e.loading=!1;var o=(0,x.default)({},e.coreParams,e.sumitParams,t);e.showSignInput=!0,e.logid=t.logid,F.getSignInput(o).then(function(t){(0,W.runInAction)(function(){e.signinput=t,e.loading=!0})})}}}),l);t.default=j},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doDeleteSign=t.getSignLogForm=t.getSignLogSessionkey=t.getSignInput=t.doUpdateSign=void 0;var n=o(0);t.doUpdateSign=function(e){return n.WeaTools.callApi("/api/odoc/signInputUpdate/doUpdateSign","POST",e)},t.getSignInput=function(e){return n.WeaTools.callApi("/api/workflow/reqform/signInput","POST",e)},t.getSignLogSessionkey=function(e){return n.WeaTools.callApi("/api/odoc/signInputUpdate/getSignLogSessionkey","POST",e)},t.getSignLogForm=function(e){return n.WeaTools.callApi("/api/odoc/signInputUpdate/getSignLogForm","POST",e)},t.doDeleteSign=function(e){return n.WeaTools.callApi("/api/odoc/signInputUpdate/doDeleteSign","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,p.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d=o(12),p=n(d),f=o(6),h=n(f),m=o(3),v=n(m),g=o(1),y=n(g),b=o(4),w=n(b),S=o(5),_=n(S),C=o(11),I=o(8),k=o(38),T=o(0),E=o(469),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(E),O=o(40),P=n(O),W=C.WeaTableNew.TableStore,R=T.WeaLocaleProvider.getLabel,A=(i=function(e){function t(){var e,o,n,a;(0,y.default)(this,t);for(var i=arguments.length,d=Array(i),p=0;p<i;p++)d[p]=arguments[p];return o=n=(0,w.default)(this,(e=t.__proto__||(0,v.default)(t)).call.apply(e,[this].concat(d))),r(n,"loading",s,n),r(n,"tableStore",l,n),n.form=new C.WeaForm,r(n,"conditions",c,n),n.submitparams={},n.initLoad=function(e){n.submitparams=(0,h.default)({},e),n.loadData(),n.loadForm()},n.loadForm=function(){D.loadConfig(n.submitparams).then(function(e){var t=e.conditions,o=e.api_status,r=e.api_message;o?(0,I.runInAction)(function(){n.form.initFormFields(t),n.conditions=t}):n.showErrorMsg(r||R(388768,"加载失败!"),3)})},r(n,"loadData",u,n),n.destory=function(){n.form.reset(),n.tableStore=null},a=o,(0,w.default)(n,a)}return(0,_.default)(t,e),t}(k.Base),s=a(i.prototype,"loading",[I.observable],{enumerable:!0,initializer:function(){return!1}}),l=a(i.prototype,"tableStore",[I.observable],{enumerable:!0,initializer:null}),c=a(i.prototype,"conditions",[I.observable],{enumerable:!0,initializer:function(){return[]}}),u=a(i.prototype,"loadData",[I.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t=e.form,o=e.submitparams,n=(0,P.default)({},t&&t.getFormParams()||{},o);D.loadDatas(n).then(function(t){var o=t.sessionkey,n=t.api_status,r=t.api_message;e.loading=!1,n&&o?(0,I.runInAction)(function(){e.tableStore=(new W).getDatas(o)}):e.showErrorMsg(r||R(388768,"加载失败!"),3)})}}}),i);t.default=A},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadConfig=t.loadDatas=void 0;var n=o(0);t.loadDatas=function(e){return n.WeaTools.callApi("/api/odoc/adjustLog/loadDatas","POST",e)},t.loadConfig=function(e){return n.WeaTools.callApi("/api/odoc/adjustLog/loadConfig","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,pe.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y,X,$,Z,ee,te,oe,ne,re,ae,ie,se,le,ce,ue,de=o(12),pe=n(de),fe=o(14),he=n(fe),me=o(6),ve=n(me),ge=o(1),ye=n(ge),be=o(2),we=n(be),Se=o(8),_e=o(0),Ce=o(9),Ie=o(471),ke=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(Ie),Te=_e.WeaLocaleProvider.getLabel,Ee=(i=(0,Se.action)("签批签入签出"),s=function(){function e(){var t=this;(0,ye.default)(this,e),r(this,"leftKeys",l,this),r(this,"RrightKeys",c,this),r(this,"requestid",u,this),r(this,"workflowid",d,this),r(this,"nodeid",p,this),r(this,"ctx",f,this),r(this,"cssPath",h,this),r(this,"jsPath",m,this),r(this,"recordPath",v,this),r(this,"isUseAudio",g,this),r(this,"userid",y,this),r(this,"lastname",b,this),r(this,"sequenceId",w,this),r(this,"sealName",S,this),r(this,"sealid",_,this),r(this,"token",C,this),r(this,"hasLoad",I,this),r(this,"scale",k,this),r(this,"isShowHistroy",T,this),r(this,"isView",E,this),r(this,"isSeal",D,this),r(this,"isOpen",O,this),r(this,"isMust",P,this),r(this,"sealDocs",W,this),r(this,"histroyDocs",R,this),r(this,"isShowMore",A,this),r(this,"isviewHistory",x,this),r(this,"historyImagefiles",L,this),r(this,"historyImagefileid",F,this),r(this,"imagefileid",M,this),r(this,"previewUrl",N,this),r(this,"historyVersionName",j,this),r(this,"HistorySelectedKeys",z,this),r(this,"HistoryQianSelectedKeys",B,this),r(this,"QianSelectedKeys",q,this),r(this,"isSave",K,this),r(this,"showThumb",U,this),r(this,"qpSelected",V,this),r(this,"defaultSign",H,this),r(this,"device",G,this),r(this,"defaultWriteColor",J,this),r(this,"defaultWriteSize",Q,this),r(this,"isUsePDFViewer",Y,this),r(this,"loading",X,this),r(this,"f_weaver_belongto_userid",$,this),r(this,"f_weaver_belongto_usertype",Z,this),r(this,"isClickSave",ee,this),r(this,"isDownload",te,this),r(this,"downloadBtnName",oe,this),this.commonParam={},r(this,"setProperty",ne,this),r(this,"setQpSelected",re,this),r(this,"convertFile",ae,this),r(this,"updateHeaderPosition",ie,this),r(this,"getSignApprovalDatas",se,this),r(this,"doSubmitValidate",le,this),r(this,"saveSignApprovalDatas",ce,this),r(this,"doCheckSignApprovalFile",ue,this),this.resourceFiles=function(){return 1!=t.isUseAudio?[t.cssPath,t.jsPath]:[t.cssPath,t.jsPath,t.recordPath]}}return(0,we.default)(e,[{key:"setCtx",value:function(e){this.ctx=e}},{key:"setSequenceId",value:function(e){this.sequenceId=e}}]),e}(),l=a(s.prototype,"leftKeys",[Se.observable],{enumerable:!0,initializer:function(){return[{key:"wsZoomOutBtn",value:Te("22208","放大"),icon:"icon-coms02-enlarge"},{key:"wsZoomInBtn",value:Te("22209","缩小"),icon:"icon-coms02-narrow"},{key:"writeBtn",value:Te("504594","签批"),icon:"icon-coms02-Sign-off"},{key:"wsSaveBtn",value:Te("30986","保存"),icon:"icon-coms02-Save-as"}]}}),c=a(s.prototype,"RrightKeys",[Se.observable],{enumerable:!0,initializer:function(){return[{key:"validBtn",value:Te("521869","批注清单"),icon:"icon-coms02-Signature-verification"},{key:"thumbBtn",value:Te("19064","缩略图"),icon:"icon-coms02-thumbnail"},{key:"signFile",value:Te("130182","签批文件"),icon:"icon-coms-content-o"},{key:"viewHistory",value:Te("502492","查看历史版本"),icon:"icon-coms-daiban"}]}}),u=a(s.prototype,"requestid",[Se.observable],{enumerable:!0,initializer:function(){return-1}}),d=a(s.prototype,"workflowid",[Se.observable],{enumerable:!0,initializer:function(){return-1}}),p=a(s.prototype,"nodeid",[Se.observable],{enumerable:!0,initializer:function(){return-1}}),f=a(s.prototype,"ctx",[Se.observable],{enumerable:!0,initializer:function(){return null}}),h=a(s.prototype,"cssPath",[Se.observable],{enumerable:!0,initializer:function(){return""}}),m=a(s.prototype,"jsPath",[Se.observable],{enumerable:!0,initializer:function(){return""}}),v=a(s.prototype,"recordPath",[Se.observable],{enumerable:!0,initializer:function(){return""}}),g=a(s.prototype,"isUseAudio",[Se.observable],{enumerable:!0,initializer:function(){return 0}}),y=a(s.prototype,"userid",[Se.observable],{enumerable:!0,initializer:function(){return-1}}),b=a(s.prototype,"lastname",[Se.observable],{enumerable:!0,initializer:function(){return""}}),w=a(s.prototype,"sequenceId",[Se.observable],{enumerable:!0,initializer:function(){return""}}),S=a(s.prototype,"sealName",[Se.observable],{enumerable:!0,initializer:function(){return""}}),_=a(s.prototype,"sealid",[Se.observable],{enumerable:!0,initializer:function(){return-1}}),C=a(s.prototype,"token",[Se.observable],{enumerable:!0,initializer:function(){return""}}),I=a(s.prototype,"hasLoad",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),k=a(s.prototype,"scale",[Se.observable],{enumerable:!0,initializer:function(){return 0}}),T=a(s.prototype,"isShowHistroy",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),E=a(s.prototype,"isView",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(s.prototype,"isSeal",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),O=a(s.prototype,"isOpen",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),P=a(s.prototype,"isMust",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(s.prototype,"sealDocs",[Se.observable],{enumerable:!0,initializer:function(){return[]}}),R=a(s.prototype,"histroyDocs",[Se.observable],{enumerable:!0,initializer:function(){return[]}}),A=a(s.prototype,"isShowMore",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),x=a(s.prototype,"isviewHistory",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),L=a(s.prototype,"historyImagefiles",[Se.observable],{enumerable:!0,initializer:function(){return[]}}),F=a(s.prototype,"historyImagefileid",[Se.observable],{enumerable:!0,initializer:function(){return-1}}),M=a(s.prototype,"imagefileid",[Se.observable],{enumerable:!0,initializer:function(){return""}}),N=a(s.prototype,"previewUrl",[Se.observable],{enumerable:!0,initializer:function(){return""}}),j=a(s.prototype,"historyVersionName",[Se.observable],{enumerable:!0,initializer:function(){return""}}),z=a(s.prototype,"HistorySelectedKeys",[Se.observable],{enumerable:!0,initializer:function(){return[]}}),B=a(s.prototype,"HistoryQianSelectedKeys",[Se.observable],{enumerable:!0,initializer:function(){return[]}}),q=a(s.prototype,"QianSelectedKeys",[Se.observable],{enumerable:!0,initializer:function(){return[]}}),K=a(s.prototype,"isSave",[Se.observable],{enumerable:!0,initializer:function(){return!0}}),U=a(s.prototype,"showThumb",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),V=a(s.prototype,"qpSelected",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),H=a(s.prototype,"defaultSign",[Se.observable],{enumerable:!0,initializer:function(){return!0}}),G=a(s.prototype,"device",[Se.observable],{enumerable:!0,initializer:function(){return""}}),J=a(s.prototype,"defaultWriteColor",[Se.observable],{enumerable:!0,initializer:function(){return""}}),Q=a(s.prototype,"defaultWriteSize",[Se.observable],{enumerable:!0,initializer:function(){return 3}}),Y=a(s.prototype,"isUsePDFViewer",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),X=a(s.prototype,"loading",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),$=a(s.prototype,"f_weaver_belongto_userid",[Se.observable],{enumerable:!0,initializer:function(){return""}}),Z=a(s.prototype,"f_weaver_belongto_usertype",[Se.observable],{enumerable:!0,initializer:function(){return""}}),ee=a(s.prototype,"isClickSave",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),te=a(s.prototype,"isDownload",[Se.observable],{enumerable:!0,initializer:function(){return!1}}),oe=a(s.prototype,"downloadBtnName",[Se.observable],{enumerable:!0,initializer:function(){return""}}),ne=a(s.prototype,"setProperty",[Se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){for(var o in t)e[o]=t[o]}}}),re=a(s.prototype,"setQpSelected",[Se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.qpSelected=t}}}),ae=a(s.prototype,"convertFile",[Se.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t={fileid:e.imagefileid};ke.convertFile(t).then(function(t){t.data&&t.data.length>0&&(e.previewUrl=t.data[0].path,e.loading=!1)})}}}),ie=a(s.prototype,"updateHeaderPosition",[Se.action],{enumerable:!0,initializer:function(){return function(){for(var e=0,t=0;t<jQuery(".haoqian-middle button").length;t++)e+=jQuery(".haoqian-middle button:eq("+t+")").width();var o=jQuery(".haoqian-right").width();jQuery(window).width()/2<o+e/2+30?(jQuery(".haoqian-middle").css({"padding-right":o+10+"px","text-align":"right"}),jQuery(".wea-haoqian-header").css({"min-width":e+o+20+"px"})):jQuery(".haoqian-middle").css({"padding-right":0,"text-align":"center"})}}}),se=a(s.prototype,"getSignApprovalDatas",[Se.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t=e,o={workflowid:e.workflowid,requestid:e.requestid,nodeid:e.nodeid,userid:e.userid,f_weaver_belongto_userid:e.f_weaver_belongto_userid,f_weaver_belongto_usertype:e.f_weaver_belongto_usertype};return ke.getHqSealInfo(o).then(function(o){if(0==o.api_status)Ce.message.error(o.msg||"获取签批数据失败");else{if(o.sealDocs&&o.sealDocs.length>0){e.setProperty(o);var n=o.sealDocs[0];if(e.sequenceId=n.sequenceId,e.sealName=n.imagefilename,e.sealid=n.id,e.QianSelectedKeys=[n.sequenceId],e.historyImagefileid=n.encodeimagefileid,e.imagefileid=n.imagefileid,"EC"==o.device)return e.leftKeys=[],e.hasLoad=!0,1==e.isUsePDFViewer?e.convertFile(n.imagefileid):e.loading=!1,!1;e.loading=!1;var r=setInterval(function(){jQuery(".haoqian-right").length>0&&jQuery(".haoqian-right").width()>0&&(clearInterval(r),t.updateHeaderPosition())},750);return!0}Ce.message.error(o.msg||"获取签批数据失败")}})}}}),le=a(s.prototype,"doSubmitValidate",[Se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o={requestid:e.requestid,nodeid:e.nodeid,f_weaver_belongto_userid:e.f_weaver_belongto_userid,f_weaver_belongto_usertype:e.f_weaver_belongto_usertype};ke.hasSeal(o).then(function(e){e.api_status&&1==e.api_status?e.hasSeal&&1==e.hasSeal?t():Ce.message.error(Te("521680","签批未完成")):Ce.message.error(e.msg)})}}}),ce=a(s.prototype,"saveSignApprovalDatas",[Se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=(0,ve.default)({},e.commonParam,{workflowid:e.workflowid,requestid:e.requestid,nodeid:e.nodeid,sequenceId:e.sequenceId,buildNo:t,imagefilename:e.sealName,sealid:e.sealid,userid:e.userid,f_weaver_belongto_userid:e.f_weaver_belongto_userid,f_weaver_belongto_usertype:e.f_weaver_belongto_usertype});ke.saveH5SealDoc(o).then(function(o){if(e.isSave=!1,e.sealDocs=(0,Se.toJS)(e.sealDocs).map(function(n){return n.sequenceId==e.sequenceId&&(n.buildNo=t,n.encodeimagefileid=o.encodeimagefileid,n.imagefileid=o.imagefileid,n.buildNo=t),n}),e.historyImagefileid=o.encodeimagefileid,e.imagefileid=o.imagefileid,1==o.reloadBaseInfo){window.parent.WfForm.changeFieldValue(o.fieldid,(0,Se.toJS)(o.fieldvalue))}})}}}),ue=a(s.prototype,"doCheckSignApprovalFile",[i],{enumerable:!0,initializer:function(){var e=this;return function(t){var o={checktype:t,requestid:e.requestid,userid:e.userid,f_weaver_belongto_userid:e.f_weaver_belongto_userid,f_weaver_belongto_usertype:e.f_weaver_belongto_usertype};ke.checkSeal(o).then(function(){})}}}),a(s.prototype,"setSequenceId",[Se.action],(0,he.default)(s.prototype,"setSequenceId"),s.prototype),s);t.default=Ee},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertFile=t.checkSeal=t.hasSeal=t.isSeal=t.saveH5SealDoc=t.saveSdkSealDoc=t.getHqSealInfo=t.test=void 0;var n=o(0);t.test=function(e){return n.WeaTools.callApi("/api/odoc/odocTodoList/getTodoCount","POST",e)},t.getHqSealInfo=function(e){return n.WeaTools.callApi("/api/odoc/hq/getHqSealInfo","POST",e)},t.saveSdkSealDoc=function(e){return n.WeaTools.callApi("/api/odoc/hq/saveSdkSealDoc","POST",e)},t.saveH5SealDoc=function(e){return n.WeaTools.callApi("/api/odoc/hq/saveH5SealDoc","POST",e)},t.isSeal=function(e){return n.WeaTools.callApi("/api/odoc/hq/isSeal","POST",e)},t.hasSeal=function(e){return n.WeaTools.callApi("/api/odoc/hq/hasSeal","POST",e)},t.checkSeal=function(e){return n.WeaTools.callApi("/api/odoc/hq/checkSeal","POST",e)},t.convertFile=function(e){return n.WeaTools.callApi("/api/doc/acc/convertFile","GET",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,ee.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q,Y,X,$,Z=o(12),ee=n(Z),te=o(14),oe=n(te),ne=o(6),re=n(ne),ae=o(23),ie=n(ae),se=o(20),le=n(se),ce=o(1),ue=n(ce),de=o(2),pe=n(de),fe=o(8),he=o(62),me=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(he),ve=o(0),ge=o(11),ye=o(9),be=ve.WeaLocaleProvider.getLabel,we=(i=fe.action.bound,s=fe.action.bound,l=fe.action.bound,c=fe.action.bound,u=fe.action.bound,d=fe.action.bound,p=fe.action.bound,f=fe.action.bound,h=fe.action.bound,m=fe.action.bound,v=fe.action.bound,g=fe.action.bound,y=fe.action.bound,b=fe.action.bound,w=fe.action.bound,S=fe.action.bound,_=fe.action.bound,C=fe.action.bound,I=fe.action.bound,k=fe.action.bound,T=function(){function e(){(0,ue.default)(this,e),this.getDatas=function(){},r(this,"loading",E,this),r(this,"handworkForm",D,this),r(this,"workflowData",O,this),r(this,"tabs",P,this),r(this,"isShowAllTab",W,this),r(this,"registDailogKey",R,this),r(this,"handworkForm",A,this),r(this,"handwordCondition",x,this),r(this,"handworkShow",L,this),r(this,"selectRowId",F,this),r(this,"registDailogKey",M,this),r(this,"eleRegistShow",N,this),r(this,"registProcessShow",j,this),r(this,"fileId",z,this),r(this,"fileInfoArr",B,this),r(this,"docId",q,this),r(this,"step",K,this),r(this,"type",U,this),r(this,"createWorkflowDialog",V,this),r(this,"tabs",H,this),r(this,"workflowData",G,this),r(this,"workflowKeys",J,this),r(this,"receiveSmartShow",Q,this),r(this,"isReceivecheck",Y,this),r(this,"document_identifier",X,this),r(this,"isShowAllTab",$,this),this.isReally=!1}return(0,pe.default)(e,[{key:"setMobxState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,le.default)(t).forEach(function(o){e[o]=t[o]})}},{key:"showRegistDialog",value:function(){var e=this;this.loading=!0;var t=0;0==this.registDailogKey?t=0:1==this.registDailogKey?t=1:2==this.registDailogKey?t=2:3==this.registDailogKey&&(t=3),me.getRegistrationForm({receiveDocType:t}).then(function(t){e.loading=!1,e.setRegistrationForm(t),e.setMobxState({eleRegistShow:!e.eleRegistShow,type:"1"}),t.condition[0]&&(e.isShowAllTab=0!=t.condition[0].isShowAllTab,e.registDailogKey=e.isShowAllTab||"0"!=e.registDailogKey&&"1"!=e.registDailogKey?"0":"2",e.type=e.isShowAllTab||"2"!=e.registDailogKey?"1":"2")})}},{key:"setRegistrationForm",value:function(e){this.handworkForm=new ge.WeaForm;for(var t=[],o=e.condition[0].items,n=0;n<e.condition[0].items.length;n++){var r=o[n];r.conditionType.toUpperCase()==ve.WeaTools.types.UPLOAD&&(this.fileInfoArr[r.domkey[0]]=r.datas||[]),"Document_Attachments"==r.domkey[0]&&(o.splice(n,1),t.push(r),n--),"Document_Text"==r.domkey[0]&&(o.splice(n,1),t.unshift(r),n--)}e.condition[0].items=[].concat((0,ie.default)(e.condition[0].items),t),this.handworkForm.initFormFields((0,fe.toJS)(e.condition)),this.handwordCondition=e.condition}},{key:"registSave",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.handworkForm.getFormParams();if(this.fileId.Document_Text&&(o.Document_Attachments=this.fileId.Document_Attachments,o.Document_Text=this.fileId.Document_Text),""==o.Document_Title||""==o.Document_Text)return void ye.message.warning(be("","你有必填项没有填"));var n=(0,re.default)({},o,{receiveDocType:this.registDailogKey,receiveStatus:"0",documentIdentifier:this.document_identifier});this.loading=!0,me.saveRegistrationFormData(n).then(function(o){e.loading=!1,o.api_status?(e.getDatas({},!1,!1),1==t?(o.message&&(e.selectRowId=[o.message]),e.document_identifier=o.message,e.createWorkflowDialog=!0):e.eleRegistShowOnCancel()):ye.message.warning(o.message)})}},{key:"delList",value:function(e){var t=this,o={ids:e};me.delList(o).then(function(e){e.api_status&&(ye.message.success(be("","删除成功")),t.getDatas({},!1,!1))})}},{key:"getBaseInfoForDemo",value:function(){var e=this;me.getBaseInfoForDemo().then(function(t){e.tabs=t.groupinfo||[],e.getWorkflowListByTypeForDemo()})}},{key:"getWorkflowListByTypeForDemo",value:function(){var e=this,t={};(0,fe.toJS)(this.tabs).map(function(o){o.viewcondition==e.workflowKeys&&(t.groupid=o.groupid,t.title=o.title)}),me.getWorkflowListByTypeForDemo(t).then(function(t){t.api_status&&(e.workflowData=t.data)})}},{key:"smartRegistration",value:function(){var e=this,t=(0,fe.toJS)(this.fileInfoArr.Document_Text).map(function(e){return e.filename}),o=t.join(",");this.loading=!0;var n={docType:this.registDailogKey,imageFileId:this.fileId.Document_Text,imageFileName:o,attachmentIds:this.fileId.Document_Attachments,isReally:this.isReally?"0":"1"};me.smartRegistration(n).then(function(t){e.loading=!1,t.api_status?(e.docId=t.imagefileid,e.setRegistrationForm(t),e.step="2"):(e.dialogOnCancel(),ye.message.error(be("","文件转换失败")))})}},{key:"changeTab",value:function(e){this.registDailogKey=e,this.clearFile(),"0"==e||"1"==e?this.type="1":"2"==e?(this.type="2",this.getHandForm()):"3"==e&&(this.type="0",this.getHandForm())}},{key:"getRegistrationFormData",value:function(){var e=this,t={id:this.selectRowId.join(",")};me.getRegistrationFormData(t).then(function(t){t.api_status&&(e.setRegistrationForm(t),e.docId=t.message,e.eleRegistShow=!0,e.step="2",e.type="0")})}},{key:"eleRegistShowOnCancel",value:function(){this.eleRegistShow=!1,this.step="1",this.registDailogKey="0",this.type="1",this.clearFile(),this.document_identifier="",this.selectRowId=[],this.isReceivecheck=!1}},{key:"clearFile",value:function(){this.fileId={},this.fileInfoArr={Document_Attachments:[],Document_Text:[]}}},{key:"getHandForm",value:function(){var e=this,t=0;0==this.registDailogKey?t=0:1==this.registDailogKey?t=1:2==this.registDailogKey?t=2:3==this.registDailogKey&&(t=3),me.getRegistrationForm({receiveDocType:t}).then(function(t){e.setRegistrationForm(t)})}},{key:"setFileInfo",value:function(e,t,o,n){if(this.fileId[e]=t.join(","),this.fileInfoArr[e]=o,"smartRegist"==n){var r=[];o.map(function(e){r.push(e.filename)})}"3"==this.registDailogKey&&this.getChangeWordToPdf()}},{key:"changeWorkflowTab",value:function(e){this.workflowKeys=e,this.getWorkflowListByTypeForDemo()}},{key:"openCreatFlowWindow",value:function(e){var t=this;if(!this.createWorkflowLoading){this.createWorkflowLoading=!0;var o={ids:this.selectRowId.join(","),createWfid:e,isInnerChange:this.isInnerChange};me.getRequstId(o).then(function(e){if(t.createWorkflowLoading=!1,e.status){t.getDatas({},!1,!1);var o=t.handworkForm.getFormParams();o.Document_Attachments=t.fileId.Document_Attachments,o.Document_Text=t.fileId.Document_Text,t.eleRegistShowOnCancel(),t.createWorkflowOnCancel(),window.open(e.url),t.showCreatFlow=!1}else ye.message.error(e.message)})}}},{key:"createWorkflowOnCancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.createWorkflowDialog=!1,this.selectRowId=[],e||(this.step="1",this.eleRegistShowOnCancel())}},{key:"nextTept",value:function(){var e=this;this.handworkForm.validate().then(function(t){t.isValid?(e.type="0",e.step="2",e.getChangeWordToPdf()):t.showErrors()})}},{key:"previousTept",value:function(){this.step="1",this.clearFile()}},{key:"getChangeWordToPdf",value:function(){var e=this,t={imageFileId:this.fileId.Document_Text};me.changeWordToPdf(t).then(function(t){t.api_status?e.docId=t.message:ye.message.error(t.message)})}}]),e}(),E=a(T.prototype,"loading",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(T.prototype,"handworkForm",[fe.observable],{enumerable:!0,initializer:function(){return new ge.WeaForm}}),O=a(T.prototype,"workflowData",[fe.observable],{enumerable:!0,initializer:function(){return[]}}),P=a(T.prototype,"tabs",[fe.observable],{enumerable:!0,initializer:function(){return[]}}),W=a(T.prototype,"isShowAllTab",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),R=a(T.prototype,"registDailogKey",[fe.observable],{enumerable:!0,initializer:function(){return"0"}}),A=a(T.prototype,"handworkForm",[fe.observable],{enumerable:!0,initializer:function(){return new ge.WeaForm}}),x=a(T.prototype,"handwordCondition",[fe.observable],{enumerable:!0,initializer:function(){return[]}}),L=a(T.prototype,"handworkShow",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),F=a(T.prototype,"selectRowId",[fe.observable],{enumerable:!0,initializer:function(){return[]}}),M=a(T.prototype,"registDailogKey",[fe.observable],{enumerable:!0,initializer:function(){return"0"}}),N=a(T.prototype,"eleRegistShow",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),j=a(T.prototype,"registProcessShow",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),z=a(T.prototype,"fileId",[fe.observable],{enumerable:!0,initializer:function(){return{}}}),B=a(T.prototype,"fileInfoArr",[fe.observable],{enumerable:!0,initializer:function(){return{Document_Attachments:[],Document_Text:[]}}}),q=a(T.prototype,"docId",[fe.observable],{enumerable:!0,initializer:function(){return""}}),K=a(T.prototype,"step",[fe.observable],{enumerable:!0,initializer:function(){return"1"}}),U=a(T.prototype,"type",[fe.observable],{enumerable:!0,initializer:function(){return"1"}}),V=a(T.prototype,"createWorkflowDialog",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),H=a(T.prototype,"tabs",[fe.observable],{enumerable:!0,initializer:function(){return[]}}),G=a(T.prototype,"workflowData",[fe.observable],{enumerable:!0,initializer:function(){return[]}}),J=a(T.prototype,"workflowKeys",[fe.observable],{enumerable:!0,initializer:function(){return"0"}}),Q=a(T.prototype,"receiveSmartShow",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),Y=a(T.prototype,"isReceivecheck",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),X=a(T.prototype,"document_identifier",[fe.observable],{enumerable:!0,initializer:function(){return""}}),$=a(T.prototype,"isShowAllTab",[fe.observable],{enumerable:!0,initializer:function(){return!1}}),a(T.prototype,"setMobxState",[i],(0,oe.default)(T.prototype,"setMobxState"),T.prototype),a(T.prototype,"showRegistDialog",[s],(0,oe.default)(T.prototype,"showRegistDialog"),T.prototype),a(T.prototype,"setRegistrationForm",[l],(0,oe.default)(T.prototype,"setRegistrationForm"),T.prototype),a(T.prototype,"registSave",[c],(0,oe.default)(T.prototype,"registSave"),T.prototype),a(T.prototype,"delList",[u],(0,oe.default)(T.prototype,"delList"),T.prototype),a(T.prototype,"getBaseInfoForDemo",[d],(0,oe.default)(T.prototype,"getBaseInfoForDemo"),T.prototype),a(T.prototype,"getWorkflowListByTypeForDemo",[p],(0,oe.default)(T.prototype,"getWorkflowListByTypeForDemo"),T.prototype),a(T.prototype,"smartRegistration",[f],(0,oe.default)(T.prototype,"smartRegistration"),T.prototype),a(T.prototype,"changeTab",[h],(0,oe.default)(T.prototype,"changeTab"),T.prototype),a(T.prototype,"getRegistrationFormData",[m],(0,oe.default)(T.prototype,"getRegistrationFormData"),T.prototype),a(T.prototype,"eleRegistShowOnCancel",[v],(0,oe.default)(T.prototype,"eleRegistShowOnCancel"),T.prototype),a(T.prototype,"clearFile",[g],(0,oe.default)(T.prototype,"clearFile"),T.prototype),a(T.prototype,"getHandForm",[y],(0,oe.default)(T.prototype,"getHandForm"),T.prototype),a(T.prototype,"setFileInfo",[b],(0,oe.default)(T.prototype,"setFileInfo"),T.prototype),a(T.prototype,"changeWorkflowTab",[w],(0,oe.default)(T.prototype,"changeWorkflowTab"),T.prototype),a(T.prototype,"openCreatFlowWindow",[S],(0,oe.default)(T.prototype,"openCreatFlowWindow"),T.prototype),a(T.prototype,"createWorkflowOnCancel",[_],(0,oe.default)(T.prototype,"createWorkflowOnCancel"),T.prototype),a(T.prototype,"nextTept",[C],(0,oe.default)(T.prototype,"nextTept"),T.prototype),a(T.prototype,"previousTept",[I],(0,oe.default)(T.prototype,"previousTept"),T.prototype),a(T.prototype,"getChangeWordToPdf",[k],(0,oe.default)(T.prototype,"getChangeWordToPdf"),T.prototype),T);t.default=we},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,B.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.OnlineEditStore=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z=o(12),B=n(z),q=o(14),K=n(q),U=o(20),V=n(U),H=o(1),G=n(H),J=o(2),Q=n(J),Y=o(8),X=o(0);t.OnlineEditStore=(i=Y.action.bound,s=Y.action.bound,l=Y.action.bound,c=Y.action.bound,u=Y.action.bound,d=Y.action.bound,p=Y.action.bound,f=function(){function e(){(0,G.default)(this,e),r(this,"pageBreak",h,this),r(this,"showNum",m,this),r(this,"numActiveKey",v,this),r(this,"showStyle",g,this),r(this,"styleActiveKey",y,this),r(this,"showRevision",b,this),r(this,"showAccept",w,this),r(this,"showReject",S,this),r(this,"displayRevision",_,this),r(this,"newAnnotation",C,this),r(this,"showDelete",I,this),r(this,"displayAnnotations",k,this),r(this,"showToolBar",T,this),r(this,"showFileList",E,this),r(this,"toolsAllPage",D,this),r(this,"toolsNowPage",O,this),r(this,"styleNextPage",P,this),r(this,"loading",W,this),r(this,"tipShow",R,this),r(this,"uploading",A,this),r(this,"fullScreen",x,this),r(this,"delModalVisible",L,this),r(this,"isDelAll",F,this),r(this,"setMobxState",M,this),r(this,"setState",N,this),r(this,"getNextOne",j,this)}return(0,Q.default)(e,[{key:"changeDisplayAnnotations",value:function(e){this.displayAnnotations=e}},{key:"hiddenPopover",value:function(){this.showNum=!1,this.showStyle=!1,this.showAccept=!1,this.showReject=!1,this.showDelete=!1,this.showFileList=!1}},{key:"hideOnePopover",value:function(e){this[e]=!1}},{key:"saveLocalFile",value:function(){var e=jQuery("#CKIframe")[0].contentWindow.submit(),t=void 0;try{t=parent.parent.wfform.getOdocConfig().docParam["field"+parent.parent.wfform.getOdocConfig().docParam.documentTitleField]}catch(e){t="TempFile"}t||(t=parent.parent.wfform.getOdocConfig().docParam.field-1),t||(t="");var o={resultStr:e,fileName:t};X.WeaTools.callApi("/api/odoc/odocFile/convertHtmlToDocx","POST",o).then(function(e){window.console,open(encodeURI(e.filePath))})}},{key:"preview",value:function(){var e=jQuery("#CKIframe")[0].contentWindow.submit(),t=void 0;try{t=parent.parent.wfform.getOdocConfig().docParam["field"+parent.parent.wfform.getOdocConfig().docParam.documentTitleField]}catch(e){t="TempFile"}t||(t=parent.parent.wfform.getOdocConfig().docParam.field-1),t||(t="");var o={resultStr:e,fileName:t};X.WeaTools.callApi("/api/odoc/odocFile/convertHtmlToDocx","POST",o).then(function(e){window.console,open(e.filePreviewUrl)})}},{key:"odocPrint",value:function(){var e=jQuery("#CKIframe")[0].contentWindow.submit(),t=void 0;try{t=parent.parent.wfform.getOdocConfig().docParam["field"+parent.parent.wfform.getOdocConfig().docParam.documentTitleField]}catch(e){t="TempFile"}t||(t=parent.parent.wfform.getOdocConfig().docParam.field-1),t||(t="");var o={resultStr:e,fileName:t};X.WeaTools.callApi("/api/odoc/odocFile/convertHtmlToDocx","POST",o).then(function(e){window.console,document.getElementById("printIframe").src=e.filePreviewUrl,document.getElementById("printIframe").onload=function(){document.getElementById("printIframe").contentWindow.print()}})}},{key:"previewWithTempl",value:function(){var e=jQuery("#CKIframe")[0].contentWindow.submit(),t=parent.parent.wfform.getOdocConfig(),o=void 0;try{o=parent.parent.wfform.getOdocConfig().docParam["field"+parent.parent.wfform.getOdocConfig().docParam.documentTitleField]}catch(e){o="TempFile"}o||(o=t.docParam.field-1),o||(o=""),window.console;var n=t.docParam.showMouldId,r=t.docParam.id,a={resultStr:e,fileName:o,docId:r,showMouldId:n};X.WeaTools.callApi("/api/odoc/odocFile/convertHtmlToDocx","POST",a).then(function(e){window.console,open(e.useTempfilePreviewUrl)})}},{key:"getUploadState",value:function(e){"uploading"==e?this.uploading=!0:"uploaded"==e&&(this.uploading=!1)}}]),e}(),h=a(f.prototype,"pageBreak",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),m=a(f.prototype,"showNum",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),v=a(f.prototype,"numActiveKey",[Y.observable],{enumerable:!0,initializer:function(){return"0"}}),g=a(f.prototype,"showStyle",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),y=a(f.prototype,"styleActiveKey",[Y.observable],{enumerable:!0,initializer:function(){return"0"}}),b=a(f.prototype,"showRevision",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),w=a(f.prototype,"showAccept",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),S=a(f.prototype,"showReject",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),_=a(f.prototype,"displayRevision",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),C=a(f.prototype,"newAnnotation",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),I=a(f.prototype,"showDelete",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),k=a(f.prototype,"displayAnnotations",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),T=a(f.prototype,"showToolBar",[Y.observable],{enumerable:!0,initializer:function(){return!0}}),E=a(f.prototype,"showFileList",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(f.prototype,"toolsAllPage",[Y.observable],{enumerable:!0,initializer:function(){return 1}}),O=a(f.prototype,"toolsNowPage",[Y.observable],{enumerable:!0,initializer:function(){return 1}}),P=a(f.prototype,"styleNextPage",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),W=a(f.prototype,"loading",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),R=a(f.prototype,"tipShow",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),A=a(f.prototype,"uploading",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),x=a(f.prototype,"fullScreen",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),L=a(f.prototype,"delModalVisible",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),F=a(f.prototype,"isDelAll",[Y.observable],{enumerable:!0,initializer:function(){return!1}}),M=a(f.prototype,"setMobxState",[Y.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.hiddenPopover(),(0,V.default)(t).forEach(function(o){e[o]=t[o]})}}}),N=a(f.prototype,"setState",[Y.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,V.default)(t).forEach(function(o){e[o]=t[o]})}}}),j=a(f.prototype,"getNextOne",[Y.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setMobxState(t)}}}),a(f.prototype,"changeDisplayAnnotations",[i],(0,K.default)(f.prototype,"changeDisplayAnnotations"),f.prototype),a(f.prototype,"hiddenPopover",[Y.action],(0,K.default)(f.prototype,"hiddenPopover"),f.prototype),a(f.prototype,"hideOnePopover",[s],(0,K.default)(f.prototype,"hideOnePopover"),f.prototype),a(f.prototype,"saveLocalFile",[l],(0,K.default)(f.prototype,"saveLocalFile"),f.prototype),a(f.prototype,"preview",[c],(0,K.default)(f.prototype,"preview"),f.prototype),a(f.prototype,"odocPrint",[u],(0,K.default)(f.prototype,"odocPrint"),f.prototype),a(f.prototype,"previewWithTempl",[d],(0,K.default)(f.prototype,"previewWithTempl"),f.prototype),a(f.prototype,"getUploadState",[p],(0,K.default)(f.prototype,"getUploadState"),f.prototype),f)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,Y.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F,M,N,j,z,B,q,K,U,V,H,G,J,Q=o(12),Y=n(Q),X=o(14),$=n(X),Z=o(20),ee=n(Z),te=o(6),oe=n(te),ne=o(1),re=n(ne),ae=o(2),ie=n(ae),se=o(8),le=o(11),ce=o(9),ue=o(0),de=o(144),pe=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(de),fe=o(13),he=n(fe),me=le.WeaTableNew.TableStore,ve=le.WeaLogView.LogStore,ge=ue.WeaLocaleProvider.getLabel,ye=(i=se.action.bound,s=se.action.bound,l=se.action.bound,c=se.action.bound,u=function(){function e(){(0,re.default)(this,e),r(this,"topTab",d,this),r(this,"selectedTab",p,this),r(this,"showSearchAd",f,this),r(this,"conditioninfo",h,this),r(this,"adSearchForm",m,this),r(this,"loading",v,this),r(this,"istexttomodel",g,this),r(this,"tableStore",y,this),r(this,"selectedKeys",b,this),r(this,"editDialogVisible",w,this),r(this,"editForm",S,this),r(this,"currentId",_,this),r(this,"shareDialogVisible",C,this),r(this,"shareTableStore",I,this),r(this,"shareSelectedRowKeys",k,this),r(this,"showShareSearchAd",T,this),r(this,"addShareVisible",E,this),r(this,"shareConditions",D,this),r(this,"logVisible",O,this),r(this,"logStore",P,this),r(this,"logType",W,this),r(this,"logSmallType",R,this),r(this,"saveAsDialogVisible",A,this),r(this,"currentModelDocId",x,this),r(this,"currentImagefileId",L,this),r(this,"setMobxState",F,this),r(this,"getMyModelList",M,this),r(this,"selelctRow",N,this),r(this,"getSearchCondition",j,this),r(this,"getModelFormItems",z,this),r(this,"saveModel",B,this),r(this,"onOperatesClick",q,this),r(this,"clickModelName",K,this),r(this,"showDelModelConfirm",U,this),r(this,"getModelShareList",V,this),r(this,"shareRowSelection",H,this),r(this,"shareOperatesClick",G,this),r(this,"showDelShareConfirm",J,this)}return(0,ie.default)(e,[{key:"getModelShareItems",value:function(){var e=this;pe.getModelShareItems().then(function(t){e.shareConditions=t.conditions})}},{key:"saveShared",value:function(e){var t=this,o=(0,oe.default)({modelId:this.currentId},e);pe.saveModelShare(o).then(function(e){e.api_status?(t.getModelShareList(t.currentId),ce.message.success(ge(83880,"添加成功"))):ce.message.error(e.api_errormsg),t.addShareVisible=!1})}}]),e}(),d=a(u.prototype,"topTab",[se.observable],{enumerable:!0,initializer:function(){return[{title:ge("529994","我的范文"),viewcondition:1},{title:ge("529995","共享范文"),viewcondition:2}]}}),p=a(u.prototype,"selectedTab",[se.observable],{enumerable:!0,initializer:function(){return"1"}}),f=a(u.prototype,"showSearchAd",[se.observable],{enumerable:!0,initializer:function(){return!1}}),h=a(u.prototype,"conditioninfo",[se.observable],{enumerable:!0,initializer:function(){return[]}}),m=a(u.prototype,"adSearchForm",[se.observable],{enumerable:!0,initializer:function(){return new le.WeaForm}}),v=a(u.prototype,"loading",[se.observable],{enumerable:!0,initializer:function(){return!1}}),g=a(u.prototype,"istexttomodel",[se.observable],{enumerable:!0,initializer:function(){return!1}}),y=a(u.prototype,"tableStore",[se.observable],{enumerable:!0,initializer:function(){return new me}}),b=a(u.prototype,"selectedKeys",[se.observable],{enumerable:!0,initializer:function(){return[]}}),w=a(u.prototype,"editDialogVisible",[se.observable],{enumerable:!0,initializer:function(){return!1}}),S=a(u.prototype,"editForm",[se.observable],{enumerable:!0,initializer:function(){return new le.WeaForm}}),_=a(u.prototype,"currentId",[se.observable],{enumerable:!0,initializer:function(){return""}}),C=a(u.prototype,"shareDialogVisible",[se.observable],{enumerable:!0,initializer:function(){return!1}}),I=a(u.prototype,"shareTableStore",[se.observable],{enumerable:!0,initializer:function(){return new me}}),k=a(u.prototype,"shareSelectedRowKeys",[se.observable],{enumerable:!0,initializer:function(){return[]}}),T=a(u.prototype,"showShareSearchAd",[se.observable],{enumerable:!0,initializer:function(){return!1}}),E=a(u.prototype,"addShareVisible",[se.observable],{enumerable:!0,initializer:function(){return!1}}),D=a(u.prototype,"shareConditions",[se.observable],{enumerable:!0,initializer:function(){return[]}}),O=a(u.prototype,"logVisible",[se.observable],{enumerable:!0,initializer:function(){return!1}}),P=a(u.prototype,"logStore",[se.observable],{enumerable:!0,initializer:function(){return new ve}}),W=a(u.prototype,"logType",[se.observable],{enumerable:!0,initializer:function(){return""}}),R=a(u.prototype,"logSmallType",[se.observable],{enumerable:!0,initializer:function(){return""}}),A=a(u.prototype,"saveAsDialogVisible",[se.observable],{enumerable:!0,initializer:function(){return!1}}),x=a(u.prototype,"currentModelDocId",[se.observable],{enumerable:!0,initializer:function(){return""}}),L=a(u.prototype,"currentImagefileId",[se.observable],{enumerable:!0,initializer:function(){return""}}),F=a(u.prototype,"setMobxState",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ee.default)(t).map(function(o){e[o]=t[o]})}}}),M=a(u.prototype,"getMyModelList",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=(0,oe.default)({tabType:t||e.selectedTab},e.adSearchForm.getFormParams());pe.getMyModelList(o).then(function(t){e.selectedKeys=[],e.tableStore.getDatas(t.sessionkey),e.logType=t.logType,e.logSmallType=t.logSmallType,e.showSearchAd=!1})}}}),N=a(u.prototype,"selelctRow",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o){e.selectedKeys=t}}}),j=a(u.prototype,"getSearchCondition",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=(0,oe.default)({tabType:e.selectedTab},e.adSearchForm.getFormParams());e.conditioninfo=[],e.adSearchForm=new le.WeaForm,pe.getSearchCondition(o).then(function(t){e.conditioninfo=[{defaultshow:t.defaultshow,items:t.items,title:t.title}],e.adSearchForm.setCondition(e.conditioninfo)})}}}),z=a(u.prototype,"getModelFormItems",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.editForm=new le.WeaForm,pe.getModelFormItems({id:t,saveAs:o}).then(function(t){e.istexttomodel=t.istexttomodel;var n=[{defaultshow:!0,items:t.baseInfoItem.items,title:""}];e.editForm.setCondition(n),0==o&&(e.editDialogVisible=!0)})}}}),B=a(u.prototype,"saveModel",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.loading=!0,e.editForm.validateForm().then(function(o){if(o.isValid){var n=(0,oe.default)({id:e.currentId},e.editForm.getFormParams(),{saveAs:t});1==t&&(n.modelImagefileId=e.currentImagefileId),pe.saveModel(n).then(function(t){t.api_status?(e.getMyModelList(),e.editDialogVisible=!1,e.saveAsDialogVisible=!1,e.currentId="",ce.message.success(ge(22619,"保存成功！"))):ce.message.error(ge(84544,"保存失败！")),e.loading=!1})}else o.showErrors(),e.loading=!1})}}}),q=a(u.prototype,"onOperatesClick",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o,n,r){e.currentId=t.id,"1"==r?(e.getModelFormItems(t.id),e.editDialogVisible=!0):"2"==r?(e.getModelShareList(t.id),e.shareDialogVisible=!0):"3"==r?(e.currentId="",e.currentModelDocId=t.modelDocId,e.currentImagefileId=t.modelImagefileId,e.getModelFormItems(t.id,1),e.saveAsDialogVisible=!0):"4"==r?e.showDelModelConfirm():"5"==r?e.logVisible=!0:"6"==r&&window.open((0,he.default)("/odoc/odoc/index_odocpreview.jsp?imagefileId="+t.modelImagefileId))}}}),K=a(u.prototype,"clickModelName",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){1==e.selectedTab?(e.currentId=t.id,e.getModelFormItems(t.id)):2==e.selectedTab&&window.open((0,he.default)("/odoc/odoc/index_odocpreview.jsp?imagefileId="+t.modelImagefileId))}}}),U=a(u.prototype,"showDelModelConfirm",[i],{enumerable:!0,initializer:function(){var e=this;return function(){var t={ids:e.selectedKeys.join(",")||e.currentId};ce.Modal.confirm({title:ge("384484","您是否确认要删除这项内容"),onOk:function(){pe.deleteModel(t).then(function(t){e.currentId="",t.api_status?(e.getMyModelList(e.selectedTab),e.selectedKeys=[],ce.message.success(ge("20461","删除成功"))):ce.message.error(t.api_errormsg)})},onCancel:function(){e.selectedKeys=[],e.currentId="",e.tableStore.setSelectedRowKeys([])}})}}}),V=a(u.prototype,"getModelShareList",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){pe.getModelShareList({modelId:t}).then(function(t){e.shareTableStore.getDatas(t.sessionkey)})}}}),H=a(u.prototype,"shareRowSelection",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o){e.shareSelectedRowKeys=t}}}),G=a(u.prototype,"shareOperatesClick",[se.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.shareSelectedRowKeys=[t.id],e.showDelShareConfirm()}}}),a(u.prototype,"getModelShareItems",[s],(0,$.default)(u.prototype,"getModelShareItems"),u.prototype),a(u.prototype,"saveShared",[l],(0,$.default)(u.prototype,"saveShared"),u.prototype),J=a(u.prototype,"showDelShareConfirm",[c],{enumerable:!0,initializer:function(){var e=this;return function(){var t={ids:e.shareSelectedRowKeys.join(",")};ce.Modal.confirm({title:ge("384484","您是否确认要删除这项内容"),onOk:function(){pe.deleteModelShare(t).then(function(t){t.api_status?(e.getModelShareList(e.currentId),e.shareSelectedRowKeys=[],ce.message.success(ge("20461","删除成功"))):ce.message.error(t.api_errormsg)})},onCancel:function(){e.shareSelectedRowKeys=[],e.shareTableStore.setSelectedRowKeys([])}})}}}),u);t.default=ye},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,A.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R=o(12),A=n(R),x=o(6),L=n(x),F=o(20),M=n(F),N=o(1),j=n(N),z=o(8),B=o(11),q=o(9),K=o(0),U=o(144),V=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(U),H=B.WeaTableNew.TableStore,G=(B.WeaLogView.LogStore,K.WeaLocaleProvider.getLabel),J=(i=function e(){(0,j.default)(this,e),r(this,"loading",s,this),r(this,"modelTableStore",l,this),r(this,"selectedTab",c,this),r(this,"editDialogVisible",u,this),r(this,"currentModelId",d,this),r(this,"editForm",p,this),r(this,"setMobxState",f,this),r(this,"getMyModelList",h,this),r(this,"editModel",m,this),r(this,"saveModel",v,this),r(this,"modelRepText",g,this),r(this,"sensitiveTableColumns",y,this),r(this,"dataSource",b,this),r(this,"allType",w,this),r(this,"allSenWords",S,this),r(this,"expanded",_,this),r(this,"expandedRowKeys",C,this),r(this,"getSendWordsDatas",I,this),r(this,"getSenWordsList",k,this),r(this,"showSensitiveWordsList",T,this),r(this,"setWordView",E,this),r(this,"removeWordView",D,this),r(this,"odocSearchContent",O,this),r(this,"searchInputValue",P,this),r(this,"doSearchOdocContent",W,this)},s=a(i.prototype,"loading",[z.observable],{enumerable:!0,initializer:function(){return!1}}),l=a(i.prototype,"modelTableStore",[z.observable],{enumerable:!0,initializer:function(){return new H}}),c=a(i.prototype,"selectedTab",[z.observable],{enumerable:!0,initializer:function(){return"0"}}),u=a(i.prototype,"editDialogVisible",[z.observable],{enumerable:!0,initializer:function(){return!1}}),d=a(i.prototype,"currentModelId",[z.observable],{enumerable:!0,initializer:function(){return""}}),p=a(i.prototype,"editForm",[z.observable],{enumerable:!0,initializer:function(){return new B.WeaForm}}),f=a(i.prototype,"setMobxState",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.default)(t).map(function(o){e[o]=t[o]})}}}),h=a(i.prototype,"getMyModelList",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.modelTableStore=new H,V.getMyModelList({tabType:3,searchModelValue:t}).then(function(t){t.sessionkey&&e.modelTableStore.getDatas(t.sessionkey)})}}}),m=a(i.prototype,"editModel",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;showOrHideWeboffice(0),e.editForm=new B.WeaForm,V.getModelFormItems({id:t,saveAs:o}).then(function(t){var n=[{defaultshow:!0,items:t.baseInfoItem.items,title:""}];e.editForm.setCondition(n),0==o&&e.setMobxState({editDialogVisible:!0})})}}}),v=a(i.prototype,"saveModel",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.loading=!0,e.editForm.validateForm().then(function(o){if(o.isValid){var n=(0,L.default)({id:e.currentModelId},e.editForm.getFormParams(),{saveAs:t});V.saveModel(n).then(function(t){showOrHideWeboffice(1),t.api_status?(q.message.success(G(22619,"保存成功！")),e.getMyModelList(),e.setMobxState({editDialogVisible:!1})):q.message.error(G(84544,"保存失败！")),e.loading=!1})}else o.showErrors(),e.loading=!1})}}}),g=a(i.prototype,"modelRepText",[z.action],{enumerable:!0,initializer:function(){return function(e,t){var o={docId:e,modelImagefileId:t};V.modelRepText(o).then(function(e){if(e.api_status){oDocUtil.openModelRepText(e.docid,e.docimagefileid,e.versionid,e.extendName)?q.message.success(G("532155","替换正文成功!")):q.message.error(G("532154","替换失败！"))}else q.message.error(G("532154","替换失败！"))})}}}),y=a(i.prototype,"sensitiveTableColumns",[z.observable],{enumerable:!0,initializer:function(){return[{title:" ",dataIndex:"name",key:"name"}]}}),b=a(i.prototype,"dataSource",[z.observable],{enumerable:!0,initializer:function(){return[]}}),w=a(i.prototype,"allType",[z.observable],{enumerable:!0,initializer:function(){return 0}}),S=a(i.prototype,"allSenWords",[z.observable],{enumerable:!0,initializer:function(){return 0}}),_=a(i.prototype,"expanded",[z.observable],{enumerable:!0,initializer:function(){return!1}}),C=a(i.prototype,"expandedRowKeys",[z.observable],{enumerable:!0,initializer:function(){return""}}),I=a(i.prototype,"getSendWordsDatas",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){oDocUtil.getTempSendWordsDatas(e.getSenWordsList)}}}),k=a(i.prototype,"getSenWordsList",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if(e.expandedRowKeys="",t&&"200"==t.code){var o=t.data;e.allType=o.sensitiveWordCount||0,e.allSenWords=o.occurenceCount||0,e.sensitiveTableColumns=o.sensitiveWordsTableColumns||[{title:" ",dataIndex:"name",key:"name"}],e.dataSource=o.sensitiveWords||[]}}}}),T=a(i.prototype,"showSensitiveWordsList",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if(e.selectedTab="1","none"==jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css("display"))if(jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css({display:"block"}),jQuery(".OdocModelAndSensitivelList").css({width:"520px"}),"odoc"==t){var o=document.getElementsByClassName("iframeDiv")[0].classList;o.add("showOdocModelAndSensitivelList"),jQuery(".req-workflow-odoc").css({width:jQuery(".iframeDiv ").width()})}else"form"==t&&("l"==window.WfForm.getOdocConfig().docParam.documentTextPosition?(jQuery(".OdocModelAndSensitivelList").css({"-webkit-box-shadow":"1px 1px 10px #b6b6b6","box-shadow":"1px 1px 10px #b6b6b6","z-index":999}),jQuery(".OdocModelAndSensitivelList").css({"margin-right":"-470px"}),jQuery(".OdocModelAndSensitivelList .ant-tabs-bar").css({float:"left"}),jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css({float:"right"}),jQuery(".wf-req-form-right").css({"z-index":0}),jQuery(".wf-req-form-left-shrink").css({"z-index":0})):"r"==window.WfForm.getOdocConfig().docParam.documentTextPosition&&(jQuery(".OdocModelAndSensitivelList").css({"-webkit-box-shadow":"-1px 1px 10px #b6b6b6","box-shadow":"-1px 1px 10px #b6b6b6","z-index":999}),jQuery(".OdocModelAndSensitivelList").css({"margin-left":"-470px"}),jQuery(".wf-req-form-left").css({"z-index":0}),jQuery(".wf-req-form-right-shrink").css({"z-index":0})))}}}),E=a(i.prototype,"setWordView",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t,o){e.dataSource.forEach(function(n,r){if(t==n.key)return e.dataSource[r].occurenceCount=o+"/"+n.occurenceCount})}}}),D=a(i.prototype,"removeWordView",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.dataSource.forEach(function(o,n){if(t.key==o.key)return e.dataSource[n].occurenceCount=t.occurenceCount.split("/")[1]})}}}),O=a(i.prototype,"odocSearchContent",[z.observable],{enumerable:!0,initializer:function(){return{searchDatas:{},searchResult:[],emptyResult:"",page:"1",pages:"-1"}}}),P=a(i.prototype,"searchInputValue",[z.observable],{enumerable:!0,initializer:function(){return""}}),W=a(i.prototype,"doSearchOdocContent",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e.odocSearchContent.page=o);var n={key:t||e.searchInputValue,contentType:"ODOC",otherString:"",sourceType:"PC",searchType:"CONTENT",page:o||e.odocSearchContent.page,page_search_json:{CREATEDATE_date_select:"0",OFFICALTYPE:""},page_uuid:"FULLSEARCH",searchTagId:"",currentPage:0,lastRealNumber:0};V.doSearchOdocContent(n).then(function(t){e.odocSearchContent.pages="-1",e.odocSearchContent.emptyResult="";var o=t.normalkey;"-1"!=t.FLAG&&o!=e.searchInputValue||(e.odocSearchContent.searchDatas=t,e.odocSearchContent.pages=t.pages,-1==t.FLAG?(showOrHideWeboffice(0),q.Modal.error({title:G(15172,"系统提示"),content:React.createElement("span",{className:"content-img",dangerouslySetInnerHTML:{__html:t.MSG}}),onOk:function(){showOrHideWeboffice(1)}})):-99==t.FLAG?e.odocSearchContent.emptyResult=t.MSG:e.odocSearchContent.searchResult=t.result)})}}}),i);t.default=J},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,y.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g=o(12),y=n(g),b=o(14),w=n(b),S=o(96),_=n(S),C=o(52),I=n(C),k=o(34),T=n(k),E=o(21),D=n(E),O=o(6),P=n(O),W=o(1),R=n(W),A=o(2),x=n(A),L=o(8),F=o(9),M=o(11),N=o(24),j=o(40),z=(n(j),o(97)),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(z),q=(M.WeaTableNew.TableStore,i=(0,L.action)("加载数据"),s=(0,L.action)("更新表格行数据"),l=(0,L.action)("清空已选择的人员"),c=(0,L.action)("设置默认值"),u=(0,L.action)("设置流转环节表格的选中"),d=function(){function e(){(0,R.default)(this,e),r(this,"nextNodeList",p,this),r(this,"nodeOperatorMap",f,this),r(this,"remark",h,this),this.btnforbiden=!1,r(this,"rejectConfig",m,this),r(this,"tableConfig",v,this),this.setMember=this.setMember.bind(this),this.loadRejectData=this.loadRejectData.bind(this),this.flowReject=this.flowReject.bind(this),this.updateRow=this.updateRow.bind(this),this.clearRow=this.clearRow.bind(this),this.updateSelectKeys=this.updateSelectKeys.bind(this),this.resetStore=this.resetStore.bind(this)}return(0,x.default)(e,[{key:"nodeOperatorList",get:function(){var e=(0,L.toJS)(this.nextNodeList),t=(0,L.toJS)(this.nodeOperatorMap),o=[];return e&&e.length>0&&e.forEach(function(e){var n=e.nodeid,r=e.sqlwhere,a=e.sqlwhere1,i=t[n],s=void 0===i?{}:i,l=s.userIds,c=void 0===l?{}:l;s.userIds=(0,P.default)({},c,{sqlwhere:r,sqlwhere1:a});var u=s.ccUserIds,d=void 0===u?{}:u;s.ccUserIds=(0,P.default)({},d),o.push((0,P.default)({},e,s))}),o}},{key:"selectedRowKeys",get:function(){var e=(0,L.toJS)(this.nextNodeList),t=[];return e&&e.length>0&&e.forEach(function(e){var o=e.nodeid,n=e.selected;void 0!==n&&n&&t.push(o)}),t}}]),(0,x.default)(e,[{key:"setMember",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,D.default)(this,(0,P.default)({},e))}},{key:"loadRejectData",value:function(e,t){var o=this;B.loadRejectData(e).then(function(e){var n=e.success;if(1==(void 0===n?0:n)){t&&"function"===typeof t&&t(e);var r=e.nextNodeList,a=e.tableConfig,i=void 0===a?{}:a;(0,L.runInAction)(function(){o.nextNodeList=r,o.tableConfig=i})}else{var s=e.msg;s&&F.message.error(s)}})}},{key:"getNextDirections",value:function(){var e=(0,L.toJS)(this.nextNodeList),t=[];return e&&e.length>0&&(t=e.filter(function(e){return e.selected})),t}},{key:"getDataList",value:function(e){var t=(0,L.toJS)(this.nodeOperatorMap);return e.map(function(e){var o=e,n=o.nodeid,r=o.linkId,a=t[n],i=void 0===a?{}:a,s=i.userIds,l=void 0===s?{}:s,c=i.ccUserIds,u=void 0===c?{}:c,d=i.userSignType,p=void 0===d?"":d,f=i.userTransferType,h=void 0===f?"":f,m=i.userCopyType,v=void 0===m?"":m,g=(u.userList,u.userIds),y=void 0===g?"":g,b=(l.userList,l.userIds);return e={userIds:void 0===b?"":b,ccUserIds:y,userSignType:p,userTransferType:h,userCopyType:v,nodeid:n,linkId:r}})}},{key:"flowReject",value:function(e,t){var o=this.getNextDirections(),n=this.getDataList(o),r=(0,P.default)({},e,{nextDirections:(0,T.default)(n)});B.flowReject(r).then(function(e){t&&t(e)})}},{key:"updateRow",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,L.toJS)(this.nodeOperatorMap),r=n[e];r=r&&"object"===("undefined"===typeof r?"undefined":(0,I.default)(r))?(0,L.toJS)(r):{};var a=o;if(((0,N.isArray)(o)||(0,N.isObject)(o))&&(a=(0,N.cloneDeep)(o)),r[t]=a,n[e]=r,this.nodeOperatorMap=n,"userIds"==t){var i=o.userList,s=void 0===i?[]:i,l=s.length>0;l&&this.updateSelectKeys(e,l)}}},{key:"clearRow",value:function(e,t){var o=this.nodeOperatorMap[e];o&&"object"===("undefined"===typeof o?"undefined":(0,I.default)(o))&&(o=(0,L.toJS)(o),delete o[t]),this.nodeOperatorMap[e]=o}},{key:"setDefaultValue",value:function(){var e=this,t=(0,L.toJS)(this.nodeOperatorMap),o=(0,L.toJS)(this.nextNodeList);if(o&&o.length>0){var n=[],r=o.map(function(e){var o=e,r=o.nodeid,a=o.isMustSelected,i=void 0===a?0:a,s=o.isModifyOperator,l=void 0===s?1:s,c=o.isDefaultLoad,u=void 0===c?0:c,d=o.nodeOperators,p=void 0===d?[]:d,f=o.nodeOperatorIds,h=void 0===f?"":f,m=o.nodeCopyOperators,v=void 0===m?[]:m,g=o.nodeCopyOperatorIds,y=void 0===g?"":g;1==i&&(e=(0,P.default)({},e,{disabled:!0,selected:!0}),n.push(r));var b=t[r],w=void 0===b?{}:b;return 0==l||1==u?(w.userIds={userList:p,userIds:h},w.ccUserIds={userList:v,userIds:y}):(delete w.userIds,delete w.ccUserIds),t[r]=w,e});(0,L.runInAction)(function(){n.length>0&&e.updateSelectKeys(n,!0),e.nextNodeList=r,e.nodeOperatorMap=t})}}},{key:"updateSelectKeys",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=(0,L.toJS)(this.nextNodeList),n=this.rejectConfig.radio,r=void 0!==n&&n,a=1==arguments.length,i=[];if((0,N.isArray)(e)){r&&(e=e.slice(0,1));var s=new _.default(e);o.forEach(function(e){var o=e,n=o.nodeid;s.has(n)?e=(0,P.default)({},e,{selected:t}):a&&(e=(0,P.default)({},e,{selected:!1})),i.push(e)})}else o&&o.length>0&&o.forEach(function(o){var n=o,a=n.nodeid;e==a?o=(0,P.default)({},o,{selected:t}):r&&t&&(o=(0,P.default)({},o,{selected:!1})),i.push(o)});this.nextNodeList=i}},{key:"resetStore",value:function(){this.nextNodeList=[],this.nodeOperatorMap={},this.remark="",this.btnforbiden=!1,this.rejectConfig={},this.tableConfig={}}}]),e}(),p=a(d.prototype,"nextNodeList",[L.observable],{enumerable:!0,initializer:function(){return[]}}),f=a(d.prototype,"nodeOperatorMap",[L.observable],{enumerable:!0,initializer:function(){return{}}}),h=a(d.prototype,"remark",[L.observable],{enumerable:!0,initializer:function(){return""}}),m=a(d.prototype,"rejectConfig",[L.observable],{enumerable:!0,initializer:function(){return{}}}),v=a(d.prototype,"tableConfig",[L.observable],{enumerable:!0,initializer:function(){return{}}}),a(d.prototype,"nodeOperatorList",[L.computed],(0,w.default)(d.prototype,"nodeOperatorList"),d.prototype),a(d.prototype,"selectedRowKeys",[L.computed],(0,w.default)(d.prototype,"selectedRowKeys"),d.prototype),a(d.prototype,"setMember",[L.action],(0,w.default)(d.prototype,"setMember"),d.prototype),a(d.prototype,"loadRejectData",[i],(0,w.default)(d.prototype,"loadRejectData"),d.prototype),a(d.prototype,"updateRow",[s],(0,w.default)(d.prototype,"updateRow"),d.prototype),a(d.prototype,"clearRow",[l],(0,w.default)(d.prototype,"clearRow"),d.prototype),a(d.prototype,"setDefaultValue",[c],(0,w.default)(d.prototype,"setDefaultValue"),d.prototype),a(d.prototype,"updateSelectKeys",[u],(0,w.default)(d.prototype,"updateSelectKeys"),d.prototype),a(d.prototype,"resetStore",[L.action],(0,w.default)(d.prototype,"resetStore"),d.prototype),d);t.default=q},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,R.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W=o(12),R=n(W),A=o(14),x=n(A),L=o(6),F=n(L),M=o(21),N=n(M),j=o(1),z=n(j),B=o(2),q=n(B),K=o(8),U=o(0),V=o(9),H=o(478),G=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(H),J=U.WeaLocaleProvider.getLabel,Q=V.Modal.confirm,Y=(i=function(){function e(){(0,z.default)(this,e),r(this,"requestParam",s,this),r(this,"odocTypeOptions",l,this),r(this,"numberSetMap",c,this),r(this,"numberid",u,this),r(this,"year",d,this),r(this,"serial",p,this),r(this,"numberName",f,this),r(this,"odocTypeField",h,this),r(this,"odocfield",m,this),r(this,"selectNumberid",v,this),r(this,"selectYears",g,this),r(this,"selectSerial",y,this),r(this,"loading",b,this),r(this,"showYear",w,this),r(this,"selectNumberName",S,this),r(this,"dialogParam",_,this),r(this,"setProperty",C,this),r(this,"resetData",I,this),r(this,"getBaseInfo",k,this),r(this,"getCurrentYearSerial",T,this),r(this,"getLatestYearSerial",E,this),r(this,"saveRequestNumberConfirm",D,this),r(this,"saveRequestNumber",O,this),r(this,"clearRequestNumber",P,this)}return(0,q.default)(e,[{key:"getPreviewStr",get:function(){var e=(0,K.toJS)(this.numberSetMap)[this.numberid]||{},t=e.yearPre,o=void 0===t?"":t,n=e.yearEnd,r=void 0===n?"":n,a=e.showYear,i=void 0===a?"0":a,s=e.fillZero,l=void 0===s?"0":s,c=e.prefix,u=void 0===c?"":c,d=e.digit,p=void 0===d?1:d,f=e.serialPre,h=void 0===f?"":f,m=e.serialEnd,v=void 0===m?"":m;o=o.trim(),r=r.trim(),u=u.trim(),h=h.trim(),v=v.trim();var g=u;"1"==i&&(g+=o+this.year+r);var y=this.serial,b=(y+"").length;return 1==l&&b<p&&(y=Array(p-b+1).join("0")+y),g+=h+y+v}}]),e}(),s=a(i.prototype,"requestParam",[K.observable],{enumerable:!0,initializer:function(){return{}}}),l=a(i.prototype,"odocTypeOptions",[K.observable],{enumerable:!0,initializer:function(){return[]}}),c=a(i.prototype,"numberSetMap",[K.observable],{enumerable:!0,initializer:function(){return{}}}),u=a(i.prototype,"numberid",[K.observable],{enumerable:!0,initializer:function(){return"0"}}),d=a(i.prototype,"year",[K.observable],{enumerable:!0,initializer:function(){return 2020}}),p=a(i.prototype,"serial",[K.observable],{enumerable:!0,initializer:function(){return 1}}),f=a(i.prototype,"numberName",[K.observable],{enumerable:!0,initializer:function(){return""}}),h=a(i.prototype,"odocTypeField",[K.observable],{enumerable:!0,initializer:function(){return""}}),m=a(i.prototype,"odocfield",[K.observable],{enumerable:!0,initializer:function(){return""}}),v=a(i.prototype,"selectNumberid",[K.observable],{enumerable:!0,initializer:function(){return 0}}),g=a(i.prototype,"selectYears",[K.observable],{enumerable:!0,initializer:function(){return{}}}),y=a(i.prototype,"selectSerial",[K.observable],{enumerable:!0,initializer:function(){return{}}}),b=a(i.prototype,"loading",[K.observable],{enumerable:!0,initializer:function(){return!1}}),w=a(i.prototype,"showYear",[K.observable],{enumerable:!0,initializer:function(){return"0"}}),S=a(i.prototype,"selectNumberName",[K.observable],{enumerable:!0,initializer:function(){return""}}),_=a(i.prototype,"dialogParam",[K.observable],{enumerable:!0,initializer:function(){return{canEdit:!0,canEditType:!0,canEditYear:!0,canEditNumber:!0,showEditNumber:!0,showPreviewNumber:!0,title:"",showClear:!0,needSave:!0,fieldId:0,callBack:function(e,t){t&&t()}}}}),C=a(i.prototype,"setProperty",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(t){(0,N.default)(e,t)}}}),I=a(i.prototype,"resetData",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(){(0,N.default)(e,{selectNumberName:"",showYear:"0",selectNumberid:0,numberName:"",odocTypeOptions:[],numberSetMap:{},numberid:"0",year:2020,serial:1,odocTypeField:"",odocfield:"",selectYears:{},selectSerial:{}})}}}),k=a(i.prototype,"getBaseInfo",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.resetData(),e.loading=!0;var t=e.dialogParam.odoc_number,o=void 0===t?{}:t;delete o.globalStore,delete o.layoutStore;var n=(0,F.default)({},o,(0,K.toJS)(e.requestParam));G.getWorkflowFormOdocNumberInfo(n).then(function(t){var o=t.existSelectNumberid,n=void 0!==o&&o,r=t.errorInfo,a=void 0===r?"":r,i=(t.odocfield,t.odocTypeField),s=void 0===i?"":i,l=t.numberSetMap,c=void 0===l?{}:l,u=(t.odocTypeOptions,t.selectNumberid),d=void 0===u?0:u,p=t.selectSerial,f=void 0===p?0:p,h=t.selectYears,m=void 0===h?0:h;t.defaultNumberId;if((0,N.default)(e,t),d>0&&1==n)e.serial=f,e.year=m,e.numberid=d,e.showYear=c[d].showYear;else{if(d>0&&0==n&&V.message.warning(a),d>0&&0==n||""==s||!window.WfForm)e.numberid=t.odocTypeOptions[0].key;else{var v=WfForm.getFieldValueObj("field"+s);v&&v.specialobj&&v.specialobj.length>0?e.numberid=v.value:e.numberid=t.odocTypeOptions[0].key}var g=t.numberSetMap[e.numberid]||{},y=g.currentSerial,b=void 0===y?0:y,w=g.years,S=void 0===w?0:w,_=g.showYear,C=void 0===_?"0":_;e.serial=b+1,e.year=S>0?S:(new Date).getFullYear(),e.showYear=C,e.getCurrentYearSerial({numberid:e.numberid,years:e.year})}e.loading=!1})}}}),T=a(i.prototype,"getCurrentYearSerial",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.loading=!0,G.getCurrentYearSerial(t).then(function(t){e.serial=t.maxSerail,e.loading=!1})}}}),E=a(i.prototype,"getLatestYearSerial",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.loading=!0,G.getLatestYearSerial(t).then(function(t){e.serial=t.serial,e.year=t.years,e.loading=!1})}}}),a(i.prototype,"getPreviewStr",[K.computed],(0,x.default)(i.prototype,"getPreviewStr"),i.prototype),D=a(i.prototype,"saveRequestNumberConfirm",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=(0,K.toJS)(e.dialogParam);o.callBack?o.callBack({odocNumber:e.getPreviewStr,numberType:e.selectNumberid,serial:e.selectSerial,year:e.year}):function(){if(e.numberid==e.selectNumberid&&e.serial==e.selectSerial&&("1"==e.showYear&&e.selectYears==e.year||"1"!=e.showYear))t();else{var o=e,n=J(532059,"你是否确认生成编号")+'：<span style="font-weight:bold;color:red;font-size:14px;">'+e.getPreviewStr+"</span>？";""!=e.selectNumberName&&(n=J(532058,"确定修改当前文号为：$@$吗？原文号："),n=n.replace("$@$",'<span style="font-weight:bold;color:red;font-size:14px;">'+e.getPreviewStr+"</span>"),n+=e.selectNumberName),Q({className:"wea-odoc-number-modal",title:J("131329","信息确认"),content:React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),onOk:function(){o.saveRequestNumber(t)},onCancel:function(){},okText:J(83446,"确定")})}}()}}}),O=a(i.prototype,"saveRequestNumber",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.loading=!0;var o=e.getPreviewStr,n=(0,F.default)({odocTypeField:e.odocTypeField,odocField:e.odocfield},(0,K.toJS)(e.requestParam),(0,K.toJS)(e.numberSetMap)[e.numberid],{numberid:e.numberid,years:e.year,serial:e.serial,numberName:o});G.saveRequestNumber(n).then(function(r){if(e.loading=!1,1==r.api_status)if(0==r.status)V.message.error(r.msg||""+o+J("532052","已被占用，请重新选择"));else if(1==r.status)t();else{window.WfForm&&(""!=e.odocfield&&WfForm.changeFieldValue("field"+e.odocfield,{value:o,specialobj:{showhtml:o}}),""!=e.odocTypeField&&WfForm.changeFieldValue("field"+e.odocTypeField,{value:e.numberid,specialobj:[{id:e.numberid,name:n.typeName}]}));var a=WfForm.getOdocConfig().docParam;"odoc"===WfForm.getGlobalStore().tabKey&&1==a.isUseTempletNode&&a.docid>0&&oDocUtil.setDocParam(),V.message.success(""+J("15413","生成")+J("15242","成功")),t()}else V.message.error(""+(J(30986,"保存")+J("25009","失败")))})}}}),P=a(i.prototype,"clearRequestNumber",[K.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var o=(0,F.default)({odocTypeField:e.odocTypeField,odocField:e.odocfield},(0,K.toJS)(e.requestParam),{type:"clear"}),n=e,r='您是否确认清除编号：<span style="font-weight:bold;color:red;font-size:14px;">'+e.selectNumberName+"</span>？";Q({className:"wea-odoc-number-modal",title:J("131329","信息确认"),content:React.createElement("span",{dangerouslySetInnerHTML:{__html:r}}),onOk:function(){G.saveRequestNumber(o).then(function(e){1==e.api_status?(V.message.success(""+J("311","清除")+J("15242","成功")),window.WfForm&&(""!=n.odocfield&&WfForm.changeFieldValue("field"+n.odocfield,{value:"",specialobj:{showhtml:""}}),""!=n.odocTypeField&&WfForm.changeFieldValue("field"+n.odocTypeField,{value:"",specialobj:[]})),t()):V.message.error(""+J("311","清除")+J("25009","失败"))})},onCancel:function(){},okText:J(83446,"确定")})}}}),i);t.default=Y},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLatestYearSerial=t.getCurrentYearSerial=t.saveRequestNumber=t.getReservedNumberList=t.getWorkflowFormOdocNumberInfo=void 0;var n=o(0);t.getWorkflowFormOdocNumberInfo=function(e){return n.WeaTools.callApi("/api/odoc/odocNumberManage/getWorkflowFormOdocNumberInfo","GET",e)},t.getReservedNumberList=function(e){return n.WeaTools.callApi("/api/odoc/odocNumberManage/getReservedNumberList","GET",e)},t.saveRequestNumber=function(e){return n.WeaTools.callApi("/api/odoc/odocNumberManage/saveRequestNumber","POST",e)},t.getCurrentYearSerial=function(e){return n.WeaTools.callApi("/api/odoc/odocNumberManage/getCurrentYearSerial","GET",e)},t.getLatestYearSerial=function(e){return n.WeaTools.callApi("/api/odoc/odocNumberManage/getLatestYearSerial","GET",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,C.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_=o(12),C=n(_),I=o(14),k=n(I),T=o(21),E=n(T),D=o(3),O=n(D),P=o(1),W=n(P),R=o(2),A=n(R),x=o(4),L=n(x),F=o(5),M=n(F),N=o(11),j=o(0),z=o(8),B=o(38),q=o(480),K=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(q),U=j.WeaLocaleProvider.getLabel,V=N.WeaTableNew.TableStore,H=(i=function(e){function t(){var e,o,n,a;(0,W.default)(this,t);for(var i=arguments.length,_=Array(i),C=0;C<i;C++)_[C]=arguments[C];return o=n=(0,L.default)(this,(e=t.__proto__||(0,O.default)(t)).call.apply(e,[this].concat(_))),r(n,"tableStore",s,n),r(n,"load",l,n),r(n,"condition",c,n),r(n,"form",u,n),r(n,"showSearchs",d,n),r(n,"coreparams",p,n),r(n,"searchBaseValue",f,n),r(n,"showDialog",h,n),r(n,"showDialogParamsStr",m,n),r(n,"init",v,n),r(n,"loadCondition",g,n),r(n,"reloadLoad",y,n),r(n,"updateShowSearchs",b,n),r(n,"setSerarchValue",w,n),r(n,"updateShowDialog",S,n),n.destory=function(){n.submitparams=[],n.form.resetForm()},a=o,(0,L.default)(n,a)}return(0,M.default)(t,e),(0,A.default)(t,[{key:"getFormParams",get:function(){var e=this.form;return e&&e.getFormParams()||{}}},{key:"searchValue",get:function(){return this.searchBaseValue}},{key:"hasShowDialog",get:function(){return this.showDialog}},{key:"getDialogUrl",get:function(){var e=this.showDialogParamsStr||{},t=e.requestid,o=void 0===t?"":t,n=e.workflowid;return"/spa/odoc/static/index.html#/main/offical/odocSignGroupPage?workflowid="+(void 0===n?"":n)+"&requestid="+o+"&d="+(new Date).getTime()}}]),t}(B.Base),s=a(i.prototype,"tableStore",[z.observable],{enumerable:!0,initializer:function(){return null}}),l=a(i.prototype,"load",[z.observable],{enumerable:!0,initializer:function(){return!1}}),c=a(i.prototype,"condition",[z.observable],{enumerable:!0,initializer:function(){return[]}}),u=a(i.prototype,"form",[z.observable],{enumerable:!0,initializer:function(){return new N.WeaForm}}),d=a(i.prototype,"showSearchs",[z.observable],{enumerable:!0,initializer:function(){return!1}}),p=a(i.prototype,"coreparams",[z.observable],{enumerable:!0,initializer:function(){return{}}}),f=a(i.prototype,"searchBaseValue",[z.observable],{enumerable:!0,initializer:null}),h=a(i.prototype,"showDialog",[z.observable],{enumerable:!0,initializer:function(){return!1}}),m=a(i.prototype,"showDialogParamsStr",[z.observable],{enumerable:!0,initializer:null}),v=a(i.prototype,"init",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.coreparams=t,e.loadCondition(),e.reloadLoad()}}}),g=a(i.prototype,"loadCondition",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){K.subWorkflowConditions().then(function(t){var o=t.api_status,n=void 0!==o&&o,r=t.api_msg;if(n){var a=t.conditions;e.form.initFormFields(a),e.condition=a}else e.showWarningMsg(r||U(-111,"高级搜索表单异常！"))})}}}),y=a(i.prototype,"reloadLoad",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.getFormParams||{};(0,E.default)(t,e.coreparams),K.subWorkflowList(t).then(function(t){var o=t.api_status,n=void 0!==o&&o,r=t.api_msg;if(n){var a=t.sessionkey;e.tableStore=(new V).getDatas(a)}else e.showWarningMsg(r||U(500539,"获取数据异常！"))})}}}),a(i.prototype,"getFormParams",[z.computed],(0,k.default)(i.prototype,"getFormParams"),i.prototype),b=a(i.prototype,"updateShowSearchs",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.showSearchs=t}}}),w=a(i.prototype,"setSerarchValue",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.searchBaseValue=t}}}),a(i.prototype,"searchValue",[z.computed],(0,k.default)(i.prototype,"searchValue"),i.prototype),S=a(i.prototype,"updateShowDialog",[z.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.showDialog=t,e.showDialogParamsStr=o}}}),a(i.prototype,"hasShowDialog",[z.computed],(0,k.default)(i.prototype,"hasShowDialog"),i.prototype),a(i.prototype,"getDialogUrl",[z.computed],(0,k.default)(i.prototype,"getDialogUrl"),i.prototype),i);t.default=H},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subWorkflowConditions=t.subWorkflowList=void 0;var n=o(0);t.subWorkflowList=function(e){return n.WeaTools.callApi("/api/odoc/sub/subWorkflowList","POST",e)},t.subWorkflowConditions=function(e){return n.WeaTools.callApi("/api/odoc/sub/subWorkflowConditions","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&(0,M.default)(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function a(e,t,o,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S,_,C,I,k,T,E,D,O,P,W,R,A,x,L,F=o(12),M=n(F),N=o(34),j=n(N),z=o(1),B=n(z),q=o(8),K=o(9),U=o(482),V=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(U),H=o(0),G=H.WeaLocaleProvider.getLabel,J=(i=(0,q.action)("初始化"),s=(0,q.action)("获取附件列表"),l=(0,q.action)("控制列表显隐"),c=(0,q.action)("修改右侧展示区的已选id"),u=(0,q.action)("修改附件列表idNames"),d=(0,q.action)("修改附件列表数据"),p=(0,q.action)("设置选中的对象"),f=(0,q.action)("公文分发"),h=function e(){(0,B.default)(this,e),r(this,"requestid",m,this),r(this,"f_weaver_belongto_userid",v,this),r(this,"f_weaver_belongto_usertype",g,this),r(this,"workflowid",y,this),r(this,"nodeid",b,this),r(this,"checked",w,this),r(this,"columns",S,this),r(this,"datas",_,this),r(this,"showIds",C,this),r(this,"idNames",I,this),r(this,"selectedIds",k,this),r(this,"isloading",T,this),r(this,"attachmentNum",E,this),r(this,"initData",D,this),r(this,"getFilesData",O,this),r(this,"setVisible",P,this),r(this,"setIds",W,this),r(this,"setIdNames",R,this),r(this,"setFileDatas",A,this),r(this,"setSelectedIds",x,this),r(this,"sendFilesData",L,this)},m=a(h.prototype,"requestid",[q.observable],{enumerable:!0,initializer:function(){return 0}}),v=a(h.prototype,"f_weaver_belongto_userid",[q.observable],{enumerable:!0,initializer:function(){return 0}}),g=a(h.prototype,"f_weaver_belongto_usertype",[q.observable],{enumerable:!0,initializer:function(){return 0}}),y=a(h.prototype,"workflowid",[q.observable],{enumerable:!0,initializer:function(){return 0}}),b=a(h.prototype,"nodeid",[q.observable],{enumerable:!0,initializer:function(){return 0}}),w=a(h.prototype,"checked",[q.observable],{enumerable:!0,initializer:function(){return"0"}}),S=a(h.prototype,"columns",[q.observable],{enumerable:!0,initializer:function(){return[]}}),_=a(h.prototype,"datas",[q.observable],{enumerable:!0,initializer:function(){return[]}}),C=a(h.prototype,"showIds",[q.observable],{enumerable:!0,initializer:function(){return""}}),I=a(h.prototype,"idNames",[q.observable],{enumerable:!0,initializer:function(){return[]}}),k=a(h.prototype,"selectedIds",[q.observable],{enumerable:!0,initializer:function(){return""}}),T=a(h.prototype,"isloading",[q.observable],{enumerable:!0,initializer:function(){return!1}}),E=a(h.prototype,"attachmentNum",[q.observable],{enumerable:!0,initializer:function(){return 0}}),D=a(h.prototype,"initData",[i],{enumerable:!0,initializer:function(){var e=this;return function(){e.checked="0",e.showIds="",e.idNames=[],e.selectedIds="",e.columns=[],e.datas=[]}}}),O=a(h.prototype,"getFilesData",[s],{enumerable:!0,initializer:function(){var e=this;return function(t){e.requestid=t.requestid,e.workflowid=t.workflowid,e.nodeid=t.nodeid,e.f_weaver_belongto_userid=t.f_weaver_belongto_userid,e.f_weaver_belongto_usertype=t.f_weaver_belongto_usertype,e.initData(),e.isloading=!0,V.getFilesData(t).then(function(t){e.columns=t.columns,e.datas=t.datas,e.idNames=t.idNames,e.isloading=!1,e.attachmentNum=t.attachmentNum})}}}),P=a(h.prototype,"setVisible",[l],{enumerable:!0,initializer:function(){var e=this;return function(t){e.checked=t}}}),W=a(h.prototype,"setIds",[c],{enumerable:!0,initializer:function(){var e=this;return function(t){e.showIds=t}}}),R=a(h.prototype,"setIdNames",[u],{enumerable:!0,initializer:function(){var e=this;return function(t){e.idNames=t}}}),A=a(h.prototype,"setFileDatas",[d],{enumerable:!0,initializer:function(){var e=this;return function(t){e.datas=t}}}),x=a(h.prototype,"setSelectedIds",[p],{enumerable:!0,initializer:function(){var e=this;return function(t){e.selectedIds=t?t.toString():""}}}),L=a(h.prototype,"sendFilesData",[f],{enumerable:!0,initializer:function(){var e=this;return function(){var t={};t.requestid=e.requestid,t.f_weaver_belongto_userid=e.f_weaver_belongto_userid,t.f_weaver_belongto_usertype=e.f_weaver_belongto_usertype,t.workflowid=e.workflowid,t.nodeid=e.nodeid,t.isSetRange=e.checked,t.selectids=e.selectedIds,t.attachments=(0,j.default)(e.datas)||"",V.sendFilesData(t).then(function(t){1==t.api_status?(K.message.success(G("535502","文件分发完成！")),e.initData()):(K.message.warning(G("512426","发送失败！")),e.initData())})}}}),h);t.default=J},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendFilesData=t.getFilesData=void 0;var n=o(0);t.getFilesData=function(e){return n.WeaTools.callApi("/api/odoc/distributeDoc/getAttachmentList","POST",e)},t.sendFilesData=function(e){return n.WeaTools.callApi("/api/odoc/distributeDoc/doDistributeDoc","POST",e)}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(8),_=o(0),C=o(9),I=o(56),k=n(I),T=o(13),E=n(T),D=_.WeaLocaleProvider.getLabel;o(484);var O=(r=(0,w.inject)("odocSignGroupStore"))(a=(0,w.observer)(a=function(e){function t(){var e,o,n,r;(0,d.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),n.loadImag=function(){window.odocSignImgUtil.odocFormImgLazyLoad((0,k.default)(".workflow-signSetting"))},n.getColumn=function(e){var t=[];return(0,S.toJS)(e).map(function(e){if("remark"===e.key){var o=(0,s.default)({},e,{render:function(e,t){return n.getRemarkComp(e,t)}});t.push(o)}else if("operator"===e.key){var r=(0,s.default)({},e,{render:function(e,t){return b.default.createElement("a",{style:{color:"#4D7AD8"},href:"javaScript:openhrm("+t.operatorid+");",onClick:function(e){pointerXY(e)}},t.operator)}});t.push(r)}else if("operatordept"===e.key){var a=(0,s.default)({},e,{render:function(e,t){return b.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.operatordept}})}});t.push(a)}else t.push(e)}),t},n.download=function(e){(0,k.default)("#SignFileDownload").attr("src",e)},n.getRemarkComp=function(e,t){var o=n.props.odocSignGroupStore.logParams,r=(0,S.toJS)(o),a=r.authStr,i=void 0===a?"":a,s=r.authSignatureStr,l=void 0===s?"":s,c=(0,S.toJS)(t),u=c.annexdocs,d=void 0===u?[]:u,p=c.signdocs,f=void 0===p?[]:p,h=c.signwfs,m=void 0===h?[]:h,v=c.remarkLocation,g=void 0===v?"":v,y={};return""!=g&&(y=window.odocSignImgUtil.getLocationInfoData(g)),b.default.createElement("div",null,b.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),d.length>0&&b.default.createElement("div",{className:"content-right-docs"},b.default.createElement("i",{className:"icon-mail-enclosure"}),b.default.createElement("div",null,d.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filelink,o=void 0===t?"":t,r=e.tempshowname,a=void 0===r?"":r,i=e.fileExtendName,s=void 0===i?"":i,l=e.downloadlink,c=void 0===l?"":l,u=e.docImagefileSize,d=e.showdownload;return b.default.createElement("p",null,b.default.createElement("a",{target:"_blank",style:{color:"#4d7ad8"},href:(0,E.default)(o)},a+"."+s)," ",1==d&&b.default.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){n.download(c+"&_t="+(new Date).getTime())}},"["+D("31156","下载")+"("+(u/1e3).toFixed(1)+"k)]"))}))),f.length>0&&b.default.createElement("div",{className:"content-right-docs"},b.default.createElement("i",{className:"icon-search-File"}),b.default.createElement("div",null,f.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b.default.createElement("p",null,b.default.createElement("a",{target:"_blank",style:{color:"#4d7ad8"},href:(0,E.default)(e.filelink)},e.tempshowname))}))),m.length>0&&b.default.createElement("div",{className:"content-right-docs"},b.default.createElement("i",{className:"icon-coms-workflow"}),b.default.createElement("div",null,m.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b.default.createElement("p",null,b.default.createElement("a",{target:"_blank",style:{color:"#4d7ad8"},onClick:function(){openFullWindowHaveBar(""+(0,E.default)("/workflow/request/ViewRequestForwardSPA.jsp?requestid=")+e.requestid+"&isrequest=1&isovertime=0&desrequestid="+e.desrequestid+"&authStr="+i+"&authSignatureStr="+l)}},e.title))}))),""!=g&&y.longitude&&b.default.createElement("div",{className:"content-right-docs"},b.default.createElement("i",{className:"icon-coms-position",title:D(22981,"位置")}),b.default.createElement("div",null,b.default.createElement("a",{style:{color:"#4d7ad8"},onClick:function(){window.parent.openlocation(g,parent.jQuery("#container")[0])}},y.name))),n.getUserImg(t))},n.getUserImg=function(e){var t=e.qys_signature_id,o=void 0===t?"":t,n=e.userimg,r=void 0===n?"":n,a=e.signnaturImgHeight,i=e.qyswidth,l=void 0===i?0:i,c=e.qysheight,u=void 0===c?0:c,d={};l>0&&u>0&&(d.width=l,d.height=u);var p=-1==a?"none":a+"px";return o&&""!=o?b.default.createElement("div",{className:"content-right-userimg"},b.default.createElement("img",(0,s.default)({src:""+(0,E.default)("/weaver/weaver.file.FileDownload?fileid=")+o},d))):r&&""!=r?b.default.createElement("div",{className:"content-right-userimg"},b.default.createElement("img",{style:{maxHeight:""+p},id:"markImg",src:(0,E.default)(r)})):b.default.createElement("div",null)},n.getGroupComp=function(e,t){var o=n.props.odocSignGroupStore.signGroupPageLoadMore,r=e.groupName,a=e.groupDatas,i=e.groupColumn,s=e.groupid,l=e.mouldid,c=e.pagenumber,u=e.hasmore;return b.default.createElement(_.WeaSearchGroup,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSearchGroup@pdq4fp",title:b.default.createElement("span",{style:{fontWeight:"bold"}},r),showGroup:!0},b.default.createElement(_.WeaTable,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaTable@6znt75",columns:n.getColumn(i),dataSource:a,draggable:!1,pagination:!1}),"1"==u&&b.default.createElement("div",{className:"signsetting-load-more",onClick:function(){o(s,l,c,t)}},b.default.createElement("i",{className:"anticon anticon-arrow-down",style:{marginRight:"4px"}}),D(82720,"加载更多")))},r=o,(0,m.default)(n,r)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){(0,window.loadjs)("/social/js/imcarousel/imcarousel.js","signImcarousel");var e=this.props.location.query,t=e.workflowid,o=void 0===t?"":t,n=e.requestid,r=void 0===n?"":n,a=e.tabid,i=void 0===a?"":a,s=this.props.odocSignGroupStore,l=s.getSignGroupPageList,c=s.setProperty,u=s.initLogParams;if(window.parent&&window.parent.WfForm&&window.parent.WfForm.getGlobalStore()){u((0,S.toJS)(window.parent.WfForm.getGlobalStore()).commonParam)}c({pageLoading:!0,workflowid:o,requestid:r,tabid:i}),l()}},{key:"render",value:function(){var e=this,t=this.props.odocSignGroupStore,o=t.groupLists,n=t.pageLoading;return b.default.createElement("div",{className:"workflow-signSetting",id:"workflow_signSetting"},b.default.createElement(C.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@5p7b2c",spinning:n,size:"large"},b.default.createElement(_.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@cr35lc",height:(0,k.default)(window).height(),onScroll:this.loadImag},o.map(function(t,o){return e.getGroupComp(t,o)}))),b.default.createElement("div",{style:{display:"none"}},b.default.createElement("iframe",{src:"",frameBorder:"0",id:"SignFileDownload",title:"navigation"})))}}]),t}(b.default.Component))||a)||a;t.default=O},function(e,t,o){"use strict";var n={odocFormImgLazyLoad:function(e){if(e&&0!==e.length){var t=e.outerHeight(),o=e.outerWidth(),n=0,r=0;e.get(0)===window?(n=$(window).scrollTop(),r=$(window).scrollLeft()):(n=e.offset().top,r=e.offset().left),e.find("img[original-src]").each(function(){var e=jQuery(this).offset().top-(n+t),a=jQuery(this).offset().top+jQuery(this).height()-n,i=jQuery(this).offset().left-(r+o),s=jQuery(this).offset().left+jQuery(this).width()-r;if(e<0&&a>0&&i<0&&s>0){var l=jQuery(this).attr("original-src");""!=l&&(jQuery(this).removeAttr("src").attr("src",l).removeAttr("original-src"),jQuery(this).removeAttr("style").attr("style",jQuery(this).attr("original-style")).removeAttr("original-style"),jQuery(this).attr("width",jQuery(this).attr("original-width")).removeAttr("original-width"),jQuery(this).attr("height",jQuery(this).attr("original-height")).removeAttr("original-height"),jQuery(this).attr("onload",jQuery(this).attr("original-onload")).removeAttr("original-onload"),jQuery(this).attr("onresize",jQuery(this).attr("original-onresize")).removeAttr("original-onresize"),jQuery(this).hasClass("signatureImg")||(jQuery(this).addClass("formImgPlay"),jQuery(this).bind("click",function(){window.odocSignImgUtil.imageCarousel(this)})),jQuery(this).hasClass("handWrittenSign")&&handWritingHander(this))}})}},imageCarousel:function(e){var t=[],o=0,n=jQuery(e).attr("data-imgsrc")?jQuery(e).attr("data-imgsrc"):jQuery(e).attr("src"),r=!1;jQuery(".formImgPlay").each(function(){var a=jQuery(this).attr("data-imgsrc")?jQuery(this).attr("data-imgsrc"):jQuery(this).attr("src");a&&(t.push(a),n===a&&jQuery(e).closest(".workflow-signSetting").length===jQuery(this).closest(".workflow-signSetting").length?r=!0:r||o++)}),IMCarousel.showImgScanner4Pool(!0,t,o,null,window.top)},getLocationInfoData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};if(e){var o=e.split(",");4===o.length&&(t.longitude=o[1],t.latitude=o[2],t.name=o[3]),3===o.length&&(t.longitude=o[0],t.latitude=o[1],t.name=o[2])}return t},handWritingHander:function(e){if(e){var t=src.layoutStore.propFileCfg,o=t.form_image_handWritingShowType,n=t.form_image_handWritingMaxHeight,r=t.form_image_handWritingMaxWidth;if("1"==o&&null!=n)return;if("2"==o&&null!=r){var a=window.jQuery(e).attr("style")||"";";"!=a.charAt(a.length-1)&&(a+=";");var i=window.jQuery(e).closest("td.etype_5").width(),s=t.form_image_scalingRatio;a+=10*(i*s/100)>10*r?"max-width: "+r+"px !important":"max-width: "+s+"% !important",window.jQuery(e).css("cssText",a)}}}};window.odocSignImgUtil=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,l=o(6),c=n(l),u=o(23),d=n(u),p=o(3),f=n(p),h=o(1),m=n(h),v=o(2),g=n(v),y=o(4),b=n(y),w=o(5),S=n(w),_=o(7),C=n(_),I=o(0),k=o(11),T=o(10),E=o(9),D=o(8),O=o(127),P=n(O),W=o(90),R=o(13),A=n(R),x=I.WeaLocaleProvider.getLabel,L=k.WeaTableNew.WeaTable,F=(r=(0,T.inject)("odocFinishStore"))(a=(0,T.observer)((s=i=function(e){function t(){var e,o,n,r;(0,m.default)(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=n=(0,b.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(i))),n.getSearchsAdQuick=function(e){var t=n.props.odocFinishStore,o=t.searchForm,r=t.conditions;return o.isFormInit?e?r.map(function(e,t){return C.default.createElement(I.WeaSearchGroup,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSearchGroup@dzmwl3@"+t,needTigger:!1,title:e.title,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:C.default.createElement(I.WeaFormItem,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaFormItem@eeaoki@"+t,label:""+e.label,labelCol:{span:""+e.labelcol},wrapperCol:{span:""+e.fieldcol}},C.default.createElement(k.WeaSwitch,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSwitch@ybdoed@"+t,fieldConfig:e,form:o})),col:e.conditionType.toUpperCase()==I.WeaTools.types.CASCADER?1:2}})})}):r[0].items.map(function(e,t){if("odocTile"==e.domkey[0]||"odocSymbol"==e.domkey[0]||"workflowName"==e.domkey[0])return C.default.createElement(I.WeaFormItem,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaFormItem@ghqsbo@"+t,label:""+e.label,labelCol:{span:""+e.labelcol},wrapperCol:{span:""+e.fieldcol},className:"tabSearch"},C.default.createElement(k.WeaSwitch,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSwitch@idgkvo@"+t,fieldConfig:e,form:o}))}):null},n.getButtonsAdQuick=function(e){var t=n.props.odocFinishStore,o=t.searchForm,r=t.getSearchData,a=t.setStatus;return[C.default.createElement(E.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@7r8ur3@search",type:"primary",onClick:r},x("388113","搜索"))].concat((0,d.default)(e?[C.default.createElement(E.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@xve2ve@reset",type:"ghost",onClick:function(){return o.reset()}},x("2022","重置")),C.default.createElement(E.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@wvih42@cancel",type:"ghost",onClick:function(){return a({showSearchAd:!1})}},x("31129","取消"))]:[]))},n.getColumns=function(e){var t=n.props.odocFinishStore;return e.map(function(e){return"workflowname"==e.dataIndex?(0,c.default)({},e,{title:e.title,render:function(e,t){if(""!=t.randomFieldId)return C.default.createElement("a",{title:t.docsubject,onClick:function(){return n.openWorkflow(t.randomFieldId)}},e)}}):"docsubject"==e.dataIndex?(0,c.default)({},e,{title:e.title,render:function(e,t){return C.default.createElement("a",{title:e,onClick:function(){return openFullWindowForXtable((0,A.default)("/spa/document/index.jsp?id="+t.docid+"&router=1#/main/document/detail"))}},e)}}):"arc_status"==e.dataIndex?(0,c.default)({},e,{title:e.title,render:function(e,o){return C.default.createElement("a",{title:o.arc_statusspan,onClick:function(){return t.onOperatesClick(o,"","",o.arc_status)}},o.arc_statusspan)}}):e})},n.searchCustomRender=function(e,t,o){var r=n.props.odocFinishStore;return e.render({needTigger:!0},(0,c.default)({},o,{onEnterSearch:function(){o.closeSearch();var t=e.getFormParams();r.getTableData(t)},isHide:function(e,t){var o=!1;return"1"!=t.currentStatus&&("arcDirectory"!=e&&"arcNumber"!=e&&"volumeNumber"!=e&&"submitter"!=e&&"PersonLiable"!=e||(o=!0)),o}}))},n.showDialog=function(){n.props.odocFinishStore.showDialog(!0,void 0,!1)},n.batchDelete=function(){var e=n.props.odocFinishStore,t=e.RowSelectedInfo,o=e.onDelete,r=t.map(function(e){return e.requestid});(0,W.affirmDeleted)(function(){return o(r.join(","))})},r=o,(0,b.default)(n,r)}return(0,S.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.odocFinishStore,o=e.location.query;t.getSearchForm(o),t.getTableData(null,o),t.checkUserRight(o)}},{key:"render",value:function(){var e=this.props,t=e.prefix,o=e.odocFinishStore,n=e.location.query,r=o.tableStore,a=o.rowSelected,i=o.selectedRowKeys,s=o.onOperatesClick,l=o.dialogShow,c=o.closeDialog,u=o.IsCheckRight,d=o.getTableData,p=o.customSet,f=!(i.length>0);if(!u)return C.default.createElement(I.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@fqb5yu"},C.default.createElement("div",null,x(2012,"对不起，您暂时没有权限！")));var h=[{key:"1",icon:C.default.createElement("i",{className:"icon-portal-project-o"}),content:x("501369","批量归档"),onClick:this.showDialog,disabled:f},{key:"2",icon:C.default.createElement("i",{className:"icon-coms-form-delete"}),content:x("32136","批量删除"),onClick:this.batchDelete,disabled:f},{key:"3",icon:C.default.createElement("i",{className:"icon-coms-home"}),content:x("32535","显示列定制"),onClick:p},{key:"4",icon:C.default.createElement("i",{className:"icon-coms-export"}),content:x("28343","导出Excel"),onClick:function(){return r.exportAll()}}];return C.default.createElement("div",{className:""+t},C.default.createElement(I.WeaRightMenu,{datas:h},C.default.createElement(I.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@ggx9fe",title:x("501859","归档管理"),icon:C.default.createElement("i",{className:"icon-portal-official"}),iconBgcolor:"#f14a2d",buttons:[C.default.createElement(E.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@305xaj@finish",type:"primary",onClick:this.showDialog,disabled:f},x("501369","批量归档")),C.default.createElement(E.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@305xaj@delete",type:"primary",onClick:this.batchDelete,disabled:f},x("32136","批量删除"))]},C.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_TabComponent@t7n6vq",getDataList:function(e){return d(e,n)},baseSearchName:"odocTile",searchType:["base","advanced"],getFormUrl:"/api/odoc/filesenddoc/condition",searchCustomRender:this.searchCustomRender}),C.default.createElement(L,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@as3x54",comsWeaTableStore:r,rowSelection:{onChange:a,selectedRowKeys:i},getColumns:this.getColumns,onOperatesClick:s})),C.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@nlgvfp",title:x("21741","公文归档"),visible:l,buttons:this.getDialogBtns(),onCancel:c,parentClassName:"odoc-odocFinish-dialog",style:{width:"50%",height:"600px"},icon:"icon-coms-official",iconBgcolor:"#f14a2d"},this.getDialogContent())))}},{key:"getDialogBtns",value:function(){var e=this.props.odocFinishStore,t=e.closeDialog,o=e.odocArchive,n=e.selectedRowKeys,r=e.isLookOver,a=!(n.length>0);return[!r&&C.default.createElement(E.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@1514ke@finish",type:"primary",onClick:o,disabled:a},x("517290","确定归档")),C.default.createElement(E.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@z6343m@cancel",type:"primary",onClick:t},x("31129","取消"))]}},{key:"getDialogContent",value:function(){var e=this,t=this.props.odocFinishStore,o=t.RowSelectedInfo,n=t.selectedRowKeys,r=t.dialogCheck,a=t.dialogForm,i=t.ismultiple,s=C.default.createElement(_.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@jkp35h"});return"1"==i&&(s=C.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@p444kr",className:"showSelected"},o.map(function(t,o){var a=!1;return(0,D.toJS)(n).forEach(function(e){e==t.docid&&(a=!0)}),C.default.createElement(E.Col,{ecId:(e&&e.props&&e.props.ecId||"")+"_Col@s6bqxe@"+o,className:"selectedItem"},C.default.createElement(I.WeaCheckbox,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaCheckbox@ndsa6a@"+o,id:"test",value:a,onChange:function(){return r(t.docid)}}),C.default.createElement("div",{className:"selectedItemName"},t.name))}))),C.default.createElement("div",{className:"1"==i?"ismultiple":"isSingle"},s,a.render())}},{key:"openWorkflow",value:function(e){window.open((0,A.default)("/spa/workflow/index_form.jsp#/main/workflow/req?requestid="+e+"&timestamp=1559007302025&_key=p0j59c"))}}]),t}(_.Component),i.defaultProps={prefix:"odoc-odocFinish"},a=s))||a)||a;t.default=F},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(4),p=n(d),f=o(5),h=n(f),m=o(10),v=o(63),g=n(v),y=o(92),b=n(y),w=o(16),S=(0,m.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e)),n=(0,i.default)({isNew:!0},e.location.query,{iscomplete:1,type:"done"}),r=new b.default(n);return o.state={listStore:r},w.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,i.default)({customListId:-6},e.location.query)}),o}return(0,h.default)(t,e),t}(g.default))||r;t.default=function(e){return React.createElement(S,(0,i.default)({ecId:"_DoComponent@we1sxd"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(10),b=o(0),w=o(8),S=o(9),_=o(13),C=n(_),I=b.WeaLocaleProvider.getLabel,k=(r=(0,y.inject)("addOdocRequestStore"))(a=(0,y.observer)(a=function(e){function t(){var e,o,n,r;(0,d.default)(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=n=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),n.agentCreate=function(e){var t=n.props.addOdocRequestStore,o=t.wfOperateInfo,r=void 0===o?{}:o;(0,t.setShowBeagenters)(e.id,!r.showBeagenters)},n.removeAgent=function(e){(0,n.props.addOdocRequestStore.setShowBeagenters)(e.id,!1)},n.onCreateWorkflow=function(e,t,o,r){(0,n.props.addOdocRequestStore.addWorkflowUseCount)(e);var a="workflowid="+e+"&isagent="+r+"&beagenter="+o+"&f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0";openFullWindowHaveBar((0,C.default)("/workflow/request/CreateRequestForward.jsp?"+a))},r=o,(0,m.default)(n,r)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addOdocRequestStore,o=e.location;t.initDatas((0,s.default)({needall:"1"},o.query)),this.scrollheigth(),window.addEventListener("resize",t.setUpdate)}},{key:"componentWillReceiveProps",value:function(e){this.props.location.key!==e.location.key&&(this.props.addOdocRequestStore.initDatas((0,s.default)({needall:"1"},e.location.query)),this.scrollheigth());window.location.pathname.indexOf((0,C.default)("/spa/workflow/index"))>=0&&document.title!==I(84759,"新建流程")&&(document.title=I(84759,"新建流程"))}},{key:"componentDidUpdate",value:function(){this.scrollheigth()}},{key:"componentWillUnmount",value:function(){var e=this.props.addOdocRequestStore;window.removeEventListener("resinze",e.setUpdate)}},{key:"scrollheigth",value:function(){var e=document.documentElement.clientHeight,t=jQuery(".detailData").offset().top;jQuery(".detailData").height(e-t-20)}},{key:"goABC",value:function(e){this.props.addOdocRequestStore.setAbcSelected(e);var t=jQuery("#"+e).position().top;jQuery(".themeLayoutRoute").scrollTop(t)}},{key:"render",value:function(){var e=this,t=this.props,o=t.addOdocRequestStore,n=t.location,r=o.loading,a=o.wftypes,i=void 0===a?[]:a,l=o.wfOperateInfo,c=void 0===l?{}:l,u=c.curOperWfid,d=c.showBeagenters,p=200,f=document.getElementsByClassName("section_item")[0];f&&f.offsetWidth&&(p=f.offsetWidth-30);var h=I(509968,"发起公文");return n.query.officalType&&("1"==n.query.officalType&&(h=I("517281","新建发文流程")),"2"==n.query.officalType&&(h=I("517282","新建收文流程")),"3"==n.query.officalType&&(h=I("517283","新建签报流程"))),React.createElement("div",{className:"odoc-create-main"},React.createElement(b.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@jvrtpd",datas:[]},React.createElement("div",null,React.createElement("nav",{className:"contractCreation_div"},React.createElement(b.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@obdhcv",loading:r,icon:React.createElement("i",{className:"icon-coms-workflow"}),iconBgcolor:"#f14a2d",title:h}),React.createElement("nav",{className:"contractCreation_nav"},React.createElement("div",{className:"titleDiv"},I("23775","公文类型"),"："),React.createElement("ul",{className:"titleList"},i.map(function(t){var o=(0,s.default)({},(0,w.toJS)(t));return React.createElement("a",{onClick:function(){return e.tempScrollTo(o.id)},className:"titleA titleA"+o.id},React.createElement("li",{className:"titleLi titleLi"+o.id},o.typeName))}))))),React.createElement("div",{className:"detailData"},i.map(function(t){var o=(0,s.default)({},(0,w.toJS)(t));return React.createElement("section",{id:"section"+o.id,style:{borderLeftColor:o.color},key:o.id},React.createElement("h3",{style:{margin:"10px 0"}},React.createElement("i",{className:o.img,style:{color:o.color,fontSize:"18px",margin:"0px 10px",verticalAlign:"middle"}}),o.typeName),React.createElement("ul",{className:"section_ul"},o.wfbeans&&o.wfbeans.map(function(t){var n=!!t.beagenters&&t.beagenters.length>0,r=!!t.belongtoUsers&&t.belongtoUsers.length>0;return React.createElement("li",{onMouseLeave:function(){return e.removeAgent(t)}},React.createElement("div",{className:"section_item"},React.createElement("div",{style:{position:"absolute",width:"15%"}},React.createElement("div",{className:"section_fontItem"},React.createElement("a",{title:""==t.name?I("517284","无标题"):t.name,onClick:function(){return e.onCreateWorkflow(t.id,"",0,0)},target:"_blank",key:t.id},React.createElement("div",{className:"cont"},React.createElement("span",null," ",""==t.name?I("517284","无标题"):t.name)))),(r||n)&&React.createElement("div",{className:"section_iconItem"},React.createElement("div",{className:"wea-add-drop-btn"},React.createElement("span",{className:"wea-add-drop-btn-area",onClick:function(){return e.agentCreate(t)}},React.createElement(S.Icon,{ecId:(e&&e.props&&e.props.ecId||"")+"_Icon@7ith1u",title:I(84522,"选择创建身份"),type:"team"})),d&&u==t.id&&React.createElement("div",{className:"wea-add-drop-content",style:{width:p}},React.createElement("div",{className:"wea-add-drop-btn-on",onClick:function(){return e.agentCreate(t)}},React.createElement(S.Icon,{ecId:(e&&e.props&&e.props.ecId||"")+"_Icon@gv2tps",title:I(84522,"选择创建身份"),type:"team"})),r&&React.createElement("div",null,React.createElement("span",null,I(386168,"次账号")),React.createElement(S.Menu,{ecId:(e&&e.props&&e.props.ecId||"")+"_Menu@33biy5"},t.belongtoUsers.map(function(o,n){return React.createElement(S.Menu.Item,{ecId:(e&&e.props&&e.props.ecId||"")+"_undefined@kid35m@"+n},React.createElement("a",{style:{fontWeight:"400"},onClick:function(){return e.onCreateWorkflow(t.id,o.id,0,0)},target:"_blank"},o.departmentName&&o.departmentName,o.jobtitlename&&"/"+o.jobtitlename))}))),n&&React.createElement("div",null,React.createElement("span",null,I(84523,"代理他人创建")),React.createElement(S.Menu,{ecId:(e&&e.props&&e.props.ecId||"")+"_Menu@hk24ky"},t.beagenters.map(function(o,n){return React.createElement(S.Menu.Item,{ecId:(e&&e.props&&e.props.ecId||"")+"_undefined@tcv84t@"+n},React.createElement("a",{style:{fontWeight:"400"},onClick:function(){return e.onCreateWorkflow(t.id,"",o.id,1)},target:"_blank"},o.lastname,o.departmentName&&"/"+o.departmentName))})))))),React.createElement("div",{className:o.wfbeans.indexOf(t)<o.wfbeans.length-1?"div_line":""}))))})))}))))}},{key:"tempScrollTo",value:function(e){var t=this.props.addOdocRequestStore,o=t.wftypes,n=void 0===o?[]:o,r=n.length>0?n[0].id:"",a=r?jQuery("#section"+r).offset().top:jQuery(".detailData").offset().top,i=jQuery("#section"+e).offset().top;jQuery(".detailData").animate({scrollTop:i-a},500),this.addTitleStyle(e)}},{key:"addTitleStyle",value:function(e){this.delTitleStyle(),jQuery(".titleLi"+e).addClass("titleLiSelected")}},{key:"delTitleStyle",value:function(){jQuery(".titleLi").removeClass("titleLiSelected")}}]),t}(React.Component))||a)||a;t.default=function(e){return React.createElement(k,(0,s.default)({ecId:"_AddOdocRequest@44gzsu"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(16),w=y.WeaLocaleProvider.getLabel,S=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return b.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-16},e.location.query)}),o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement("span",null)}},{key:"getCompProps",value:function(e){var t={};return e.flowtype&&("0"==e.flowtype&&(t.topTitle=w("33787","待办收文")),"1"==e.flowtype&&(t.topTitle=w("33789","已办收文")),"2"==e.flowtype&&(t.topTitle=w("509715","待阅收文")),"3"==e.flowtype&&(t.topTitle=w("509718","已阅收文")),"4"==e.flowtype&&(t.topTitle=w("514557","超时收文")),"5"==e.flowtype&&(t.topTitle=w("514558","在办收文")),"6"==e.flowtype&&(t.topTitle=w("514559","未办收文")),t.tabParams=null,t.tabUrl=null,t.tableParams={officalType:1,flowtype:e.flowtype}),t}}]),t}(v.Component);t.default=function(e){return g.default.createElement(S,(0,a.default)({ecId:"_ReceiveDocManegerComp@0dltvo"},e,{key:e.location.query.flowtype||"-1"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(16),w=y.WeaLocaleProvider.getLabel,S=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return b.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-12},e.location.query)}),o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement("span",null)}},{key:"getCompProps",value:function(e){var t={};return e.flowtype&&("0"==e.flowtype&&(t.topTitle=w("33769","待办发文")),"1"==e.flowtype&&(t.topTitle=w("33770","已办发文")),"2"==e.flowtype&&(t.topTitle=w("509714","待阅发文")),"3"==e.flowtype&&(t.topTitle=w("509717","已阅发文")),"4"==e.flowtype&&(t.topTitle=w("514551","超时发文")),"5"==e.flowtype&&(t.topTitle=w("514552","在办发文")),"6"==e.flowtype&&(t.topTitle=w("514553","未办发文")),t.tabParams=null,t.tabUrl=null,t.tableParams={officalType:1,flowtype:e.flowtype}),t}}]),t}(v.Component);t.default=function(e){return g.default.createElement(S,(0,a.default)({ecId:"_ReceiveDocManegerComp@71os7h"},e,{key:e.location.query.flowtype||"-1"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(16),w=y.WeaLocaleProvider.getLabel,S=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return b.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-20},e.location.query)}),o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement("span",null)}},{key:"getCompProps",value:function(e){var t={};return e.flowtype&&("0"==e.flowtype&&(t.topTitle=w("382113","待办签报")),"1"==e.flowtype&&(t.topTitle=w("382115","已办签报")),"2"==e.flowtype&&(t.topTitle=w("509716","待阅签报")),"3"==e.flowtype&&(t.topTitle=w("509719","已阅签报")),"4"==e.flowtype&&(t.topTitle=w("514554","超时签报")),"5"==e.flowtype&&(t.topTitle=w("514555","在办签报")),"6"==e.flowtype&&(t.topTitle=w("514556","未办签报")),t.tabParams=null,t.tabUrl=null,t.tableParams={officalType:1,flowtype:e.flowtype}),t}}]),t}(v.Component);t.default=function(e){return g.default.createElement(S,(0,a.default)({ecId:"_ReceiveDocManegerComp@657jct"},e,{key:e.location.query.flowtype||"-1"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(16),b=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));o.getColumns=function(e){return e.map(function(e){return e})};var n=e.location,r=n.query.officalType;return r&&1==r?(y.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-13},n.query)}),(0,f.default)(o)):r&&2==r?(y.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-17},n.query)}),(0,f.default)(o)):r&&3==r?(y.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-21},n.query)}),(0,f.default)(o)):(y.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,a.default)({customListId:-8},n.query)}),o)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement("span",null)}}]),t}(v.PureComponent);t.default=function(e){return g.default.createElement(b,(0,a.default)({ecId:"_OdocLibraryNewComponent@iglrrg"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(8),_=o(10),C=o(16),I=o(13),k=n(I),T=w.WeaLocaleProvider.getLabel,E=(r=(0,_.inject)("trackingWorkflowStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return C.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,s.default)({customListId:-9},e.location.query)}),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return b.default.createElement("span",null)}},{key:"onOperatesClick",value:function(e,t){var o=this.props.trackingWorkflowStore,n=o.processOpinion;if("0"==t){var r=[e.requestid];this.onCancelTrack(r)}else if("1"==t){var a=[e.requestid],i=e.workflowid;n(a,i)}}},{key:"onCancelTrack",value:function(e,t){(0,this.props.trackingWorkflowStore.onCancelTrack)(e,t,this.getData)}},{key:"getData",value:function(){this.refs.baseOdocTypeComp.getTableDatas(),this.refs.baseOdocTypeComp.getTabData()}},{key:"getOtherDom",value:function(){var e=this.props.trackingWorkflowStore,t=e.processOpinionHide,o=e.processOpinionVisible;return b.default.createElement(w.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@eyrv4s",title:T("125734","流转意见"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:t,visible:o,style:{width:600,height:600},hasScroll:!0},this.getDiaglogContent())}},{key:"getDiaglogContent",value:function(){var e=this.props.trackingWorkflowStore,t=e.opinionList;return 0==(0,S.toJS)(t).length?b.default.createElement(w.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@5l8quf",icon:"icon-coms-blank"},b.default.createElement("div",{style:{color:"#000"}},T(83553,"暂无数据"))):b.default.createElement("div",{className:"WFTrackDialog"},(0,S.toJS)(t).map(function(e){return b.default.createElement("div",{className:"wf-req-sign-list-content"},b.default.createElement("div",{className:"content-left",style:{paddingLeft:"48px"}},b.default.createElement("img",{src:(0,k.default)(e.img_path),className:"content-text-left-user-img"}),b.default.createElement("div",{style:{width:"132px"}},b.default.createElement("p",null,b.default.createElement("a",{href:"javaScript:openhrm("+e.displayid+")",onClick:function(e){return pointerXY(e)}},e.displayname)),b.default.createElement("span",null,b.default.createElement("a",{href:(0,k.default)("/spa/hrm/engine.html#/hrmengine/organization?showTree=false&amp;isView=1&amp;type=department&amp;id=&amp;_key=3b4uab"),target:"_blank",style:{color:"rgb(155, 155, 155)",whiteSpace:"pre-wrap"}})))),b.default.createElement("div",{className:"content-right"},b.default.createElement("div",{className:"content-right-remark-html"},b.default.createElement("p",{dangerouslySetInnerHTML:{__html:""==e.log_remarkHtml?T("517289","无签字意见"):e.log_remarkHtml}})),b.default.createElement("p",{style:{lineHeight:"24px",color:"rgb(138, 138, 138)"}},b.default.createElement("span",{className:"receiveUserLable"},T("15525","接收人")," : "),b.default.createElement("span",{title:e.receiveUser,className:"receiveUser"},e.receiveUser)),b.default.createElement("p",{style:{lineHeight:"22px",marginTop:"10px",color:"rgb(154, 154, 154)"}},b.default.createElement("span",{style:{marginRight:"8px"}},e.log_operatedate," ",e.log_operatetime," "),b.default.createElement("span",null,"[",e.log_nodename," / ",e.operationname,"]"))))}))}}]),t}(y.PureComponent))||a)||a;t.default=function(e){return b.default.createElement(E,(0,s.default)({ecId:"_TrackingWorkflowComp@zl8mn7"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(11),_=o(10),C=o(8),I=o(9),k=o(16),T=o(13),E=n(T),D=w.WeaLocaleProvider.getLabel,O=S.WeaTableNew.WeaTable,P=(r=(0,_.inject)("superviseStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));o.getColumns=function(e){return e.map(function(e){return"wbr"==e.dataIndex?(0,s.default)({},e,{render:function(e,t){return b.default.createElement("div",{id:t.requestid+"todo"},b.default.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return o.getTodo(t.requestid,t.requestid+"todo")}},t.wbrspan))}}):"zbr"==e.dataIndex?(0,s.default)({},e,{render:function(e,t){return b.default.createElement("div",{id:t.requestid+"doing"},b.default.createElement("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return o.getDoing(t.requestid,t.requestid+"doing")}},t.zbrspan))}}):e})},o.getOtherDom=function(){var e=o.props.superviseStore,t=e.superviseVisible,n=e.superviseHide,r=e.saveSupervise,a=e.superviseForm,i=e.urgeForm,s=e.urgeHide,l=e.urgeVisible,c=e.saveUrge,u=e.validateForm,d=e.superviseconditions,p=e.delayRequestVisible,f=e.delayRequestForm,h=e.delayDate,m=e.detailDialogVisible,v=e.setMobxState,g=e.remindSetingVisible,S=e.remindSetingForm,_=e.validateRemindSetingForm,C=o.refs.superviseComp&&o.refs.superviseComp.wrappedInstance.getTableDatas||null,k=o.refs.superviseComp&&o.refs.superviseComp.wrappedInstance.getTabData||null;return b.default.createElement(y.Fragment,{ecId:(o&&o.props&&o.props.ecId||"")+"_Fragment@b4li1w"},b.default.createElement(w.WeaDialog,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@60c225",title:D("513073","公文督办"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:n,visible:t,style:{width:600,height:400},hasScroll:!0,buttons:[b.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@sdnj4x@ok",type:"primary",onClick:function(){return u(a,r,C,k)}},D("33703","确认"))]},o.getSuperviseForm(a,d)),b.default.createElement(w.WeaDialog,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@qnj9r5",title:D("500432","催办"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:s,visible:l,style:{width:600,height:300},hasScroll:!0,buttons:[b.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@lm2y7v@cuiban",type:"primary",onClick:function(){return u(i,c)}},D("500432","催办"))]},i.render({col:1})),b.default.createElement(w.WeaDialog,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@dhe9tg",title:D("513132","延期处理申请"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return v({delayRequestVisible:!1})},visible:p,style:{width:600,height:300},hasScroll:!0,buttons:[b.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@vxfz76@ok",type:"primary",onClick:function(){return u(f,h,C)}},D("33703","确认"))]},f.render({col:1})),b.default.createElement(w.WeaDialog,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@hjjaxl",title:D("501321","督办详情"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return v({detailDialogVisible:!1})},visible:m,style:{width:800,height:660},hasScroll:!0,buttons:[b.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@hbbhcb@ok",type:"primary",onClick:function(){return v({detailDialogVisible:!1})}},D("33703","确认"))]},o.getDetailData()),b.default.createElement(w.WeaDialog,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaDialog@bk68gw",title:D("21946","提醒设置"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return v({remindSetingVisible:!1})},visible:g,style:{width:800,height:660},hasScroll:!0,buttons:[b.default.createElement(I.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@ixdd49@ok",type:"primary",onClick:function(){return _()}},D("33703","确认"))]},S.render({col:1,center:!0},{isHide:function(e){var t=a.getFormParams();if(t.superviseRemindType){if(!t.superviseRemindType.includes("0")&&e.includes("before"))return!0;if(!t.superviseRemindType.includes("1")&&e.includes("after"))return!0}return!1}})))},o.getTodo=function(e,t){jQuery.ajax({url:(0,E.default)("/api/odoc/odocNewTodoList/getOperatorPersons?requestid="+e+"&persontype=0"),type:"post",dataType:"json",success:function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}}})},o.getDoing=function(e,t){jQuery.ajax({url:(0,E.default)("/api/odoc/odocNewTodoList/getOperatorPersons?requestid="+e+"&persontype=1"),type:"post",dataType:"json",success:function(e){try{jQuery("#"+t).html(e.info),jQuery("#"+t).parent().attr("title",e.info)}catch(e){}}})};var n=e.location,r=n.query.officalType;return r&&1==r?(k.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,s.default)({customListId:-14},n.query)}),(0,m.default)(o)):r&&2==r?(k.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,s.default)({customListId:-18},n.query)}),(0,m.default)(o)):r&&3==r?(k.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,s.default)({customListId:-22},n.query)}),(0,m.default)(o)):(k.hashHistory.replace({pathname:"/main/offical/customPage",query:(0,s.default)({customListId:-10},n.query)}),o)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.getTableDatas=this.refs.superviseComp&&this.refs.superviseComp.wrappedInstance.getTableDatas||null,this.getTabData=this.refs.superviseComp&&this.refs.superviseComp.wrappedInstance.getTabData||null}},{key:"render",value:function(){return b.default.createElement("span",null)}},{key:"getSuperviseForm",value:function(e,t){var o=this,n=this.props.superviseStore,r=n.checkChange,a=n.setMobxState,i=e.isFormInit,s=[];return i&&(0,C.toJS)(t).map(function(t,n){var i=[];t.items.map(function(t){var n=t.labelcol,s=t.fieldcol;if("superviseRemindType"==t.domkey[0]){var l=e.getFormParams().superviseRemindType,c=l.includes("0")?"1":"0",u=l.includes("1")?"1":"0";i.push({com:b.default.createElement(w.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@mrkqpe@"+t.domkey[0],label:""+t.label,labelCol:{span:n},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:s}},b.default.createElement("div",{className:"form-item"},b.default.createElement(w.WeaCheckbox,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaCheckbox@yf3fzz@"+t.domkey[0],value:c,onChange:function(){return r("pre")},content:D("32339","超时前提醒")}),l.includes("0")&&b.default.createElement("i",{className:"icon-coms-Flow-setting",onClick:function(){return a({remindSetingVisible:!0})}})),b.default.createElement("div",{className:"form-item"},b.default.createElement(w.WeaCheckbox,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaCheckbox@klvgyt@"+t.domkey[0],value:u,onChange:function(){return r("after")},content:D("32175","超时后提醒")}),l.includes("1")&&b.default.createElement("i",{className:"icon-coms-Flow-setting",onClick:function(){return a({remindSetingVisible:!0})}}))),col:1})}else i.push({com:b.default.createElement(w.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@9nhw95@"+t.domkey[0],label:""+t.label,labelCol:{span:n},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:s}},b.default.createElement(S.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@xxlxb9@"+t.domkey[0],fieldConfig:t,form:e})),col:1})}),s.push(b.default.createElement(w.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@mqnq9c@"+n,needTigger:!1,title:"",showGroup:!0,items:i}))}),s}},{key:"onOperatesClick",value:function(e,t){var o=this.props.superviseStore,n=o.setMobxState,r=o.onSupervise,a=o.reminder,i=o.checkDetails,s=o.cancelReminder,l=o.getDelayDateCondtion;n({workflowid:e.workflowid,operationType:t,requestid:e.requestid,superviseid:e.superviseid});var c=this.refs.superviseComp&&this.refs.superviseComp.wrappedInstance.getTableDatas||null,u=this.refs.superviseComp&&this.refs.superviseComp.wrappedInstance.getTabData||null;0==t?r():1==t?a():2==t?i():3==t?s(c,u):4==t?i():5==t&&l()}},{key:"getDetailData",value:function(){var e=this.props.superviseStore,t=e.detailForm,o=e.detailTabs,n=e.tableStore1,r=e.tableStore2,a=e.tableStore3,i=e.detailSelectKey,s=e.setMobxState;return b.default.createElement(y.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@99xflh"},t.render({center:!0}),b.default.createElement(w.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@9k338d",datas:(0,C.toJS)(o),keyParam:"viewcondition",selectedKey:i,onChange:function(e){return s({detailSelectKey:e})}}),"0"==i&&b.default.createElement(O,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@sap4su",comsWeaTableStore:n,bordered:!0}),"1"==i&&b.default.createElement(O,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@vu3d57",comsWeaTableStore:r,bordered:!0}),"2"==i&&b.default.createElement(O,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@sqvcv1",comsWeaTableStore:a,bordered:!0}))}}]),t}(y.Component))||a)||a;t.default=function(e){return b.default.createElement(P,(0,s.default)({ecId:"_SuperviseComponent@gazh39"},e,{key:e.location.query.officalType||"0"}))}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(84),g=n(v),y=o(495),b=n(y),w=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=window.weaWorkflowPublic.WFForwardStore,o=new t;e.setState({hasLoad:!0,store:o})},o=["/spa/workflow/static4public/index.js","/spa/workflow/static4public/index.css"];g.default.isDefined("workflowPublic")?g.default.ready("workflowPublic",t):(0,g.default)(o,"workflowPublic",t)}},{key:"render",value:function(){var e=this.state,t=e.hasLoad,o=e.store;if(t){var n=this.props,r=n.forwardParams,a=void 0===r?{}:r,i=n.callBackActions,s=void 0===i?{}:i,l=window.weaWorkflowPublic.WfForward;return o.setShowForward(a,s),m.default.createElement(l,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfForward@ndveeg",wfForwardStore:o,inOdoc:!0})}return m.default.createElement(b.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Loading@lri6r5"})}}]),t}(m.default.Component);t.default=w},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return m.default.createElement("div",null)}}]),t}(m.default.Component);t.default=v},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(84),g=n(v),y=o(0),b=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={hasLoad:!1},e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})},o="?v"+(y.WeaTools&&y.WeaTools.ls&&y.WeaTools.ls.getStr("staticVersion")||0),n=["/spa/workflow/static4public/index.js"+o,"/spa/workflow/static4public/index.css"];g.default.isDefined("workflowPublic")?g.default.ready("workflowPublic",t):(0,g.default)(n,"workflowPublic",t)}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaWorkflowPublic.WfBatchSubmit,t=this.props,o=t.onSubmit,n=t.visible,r=t.onCancel,a=t.onSubmitText,i=void 0===a?"":a,s=t.iconClassName,l=void 0===s?"":s;return m.default.createElement(e,{ecId:(this&&this.props&&this.props.ecId||"")+"_WfBatchSubmit@gn68k6",onSubmit:o,onCancel:r,visible:n,onSubmitText:i,iconClassName:l})}return m.default.createElement("div",null)}}]),t}(m.default.Component);t.default=b},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(11),w=o(9),S=o(8),_=o(10),C=y.WeaLocaleProvider.getLabel,I=b.WeaTableNew.WeaTable,k=(r=(0,_.inject)("customPageStore"))(a=(0,_.observer)(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return this.getOtherDom()}},{key:"getOtherDom",value:function(){var e=this.props,t=e.customPageStore,o=e.getTableDatas,n=e.getTabData,r=t.superviseVisible,a=t.superviseHide,i=t.saveSupervise,s=t.superviseForm,l=t.urgeForm,c=t.urgeHide,u=t.urgeVisible,d=t.saveUrge,p=t.validateForm,f=t.superviseconditions,h=t.delayRequestVisible,m=t.delayRequestForm,b=t.delayDate,S=t.detailDialogVisible,_=t.setMobxState,I=t.remindSetingVisible,k=t.remindSetingForm,T=t.validateRemindSetingForm;return g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@nj8d9r"},g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@kls76s",title:C("513073","公文督办"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:a,visible:r,style:{width:600,height:600},hasScroll:!0,buttons:[g.default.createElement(w.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@iipb1k@ok",type:"primary",onClick:function(){return p(s,i,o,n)}},C("33703","确认"))]},this.getSuperviseForm(s,f)),g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@c7chxb",title:C("500432","催办"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:c,visible:u,style:{width:600,height:300},hasScroll:!0,buttons:[g.default.createElement(w.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@is46u7@cuiban",type:"primary",onClick:function(){return p(l,d)}},C("500432","催办"))]},l.render({col:1})),g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@8dmf2t",title:C("513132","延期处理申请"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return _({delayRequestVisible:!1})},visible:h,style:{width:600,height:300},hasScroll:!0,buttons:[g.default.createElement(w.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@v1vr09@ok",type:"primary",onClick:function(){return p(m,b,o)}},C("33703","确认"))]},m.render({col:1})),g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@elwovl",title:C("501321","督办详情"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return _({detailDialogVisible:!1})},visible:S,style:{width:800,height:660},hasScroll:!0,buttons:[g.default.createElement(w.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@j60s0w@ok",type:"primary",onClick:function(){return _({detailDialogVisible:!1})}},C("33703","确认"))]},this.getDetailData()),g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@gz0cvj",title:C("21946","提醒设置"),icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return _({remindSetingVisible:!1})},visible:I,style:{width:800,height:660},hasScroll:!0,buttons:[g.default.createElement(w.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@32gb8g@ok",type:"primary",onClick:function(){return T()}},C("33703","确认"))]},k.render({col:1,center:!0},{isHide:function(e,t){var o=s.getFormParams();if(o.superviseRemindType){if(!o.superviseRemindType.includes("0")&&e.includes("before"))return!0;if(!o.superviseRemindType.includes("1")&&e.includes("after"))return!0}return!(!t.beforeRemindNumType.includes("1")||"beforeRemindNum"!=e)||!(!t.afterRemindNumType.includes("1")||"afterRemindNum"!=e)}})))}},{key:"getSuperviseForm",value:function(e,t){var o=this,n=this.props.customPageStore,r=n.checkChange,a=n.setMobxState,i=e.isFormInit,s=[];return i&&(0,S.toJS)(t).map(function(t,n){var i=[];t.items.map(function(t){var n=t.labelcol,s=t.fieldcol;if("superviseRemindType"==t.domkey[0]){var l=e.getFormParams().superviseRemindType,c=l.includes("0")?"1":"0",u=l.includes("1")?"1":"0";i.push({com:g.default.createElement(y.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@qat13k@"+t.domkey[0],label:""+t.label,labelCol:{span:n},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:s}},g.default.createElement("div",{className:"form-item"},g.default.createElement(y.WeaCheckbox,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaCheckbox@v51xbu@"+t.domkey[0],value:c,onChange:function(){return r("pre")},content:C("32339","超时前提醒")}),l.includes("0")&&g.default.createElement("i",{className:"icon-coms-Flow-setting",onClick:function(){return a({remindSetingVisible:!0})}})),g.default.createElement("div",{className:"form-item"},g.default.createElement(y.WeaCheckbox,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaCheckbox@zs31p6@"+t.domkey[0],value:u,onChange:function(){return r("after")},content:C("32175","超时后提醒")}),l.includes("1")&&g.default.createElement("i",{className:"icon-coms-Flow-setting",onClick:function(){return a({remindSetingVisible:!0})}}))),col:1})}else i.push({com:g.default.createElement(y.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@a2fxk5@"+t.domkey[0],label:""+t.label,labelCol:{span:n},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:s}},g.default.createElement(b.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@1b2gcq@"+t.domkey[0],fieldConfig:t,form:e})),col:1})}),s.push(g.default.createElement(y.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@it17hx@"+n,needTigger:!1,title:"",showGroup:!0,items:i}))}),s}},{key:"getDetailData",value:function(){var e=this.props.customPageStore,t=e.detailForm,o=e.detailTabs,n=e.tableStore1,r=e.tableStore2,a=e.tableStore3,i=e.detailSelectKey,s=e.setMobxState;return g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@59wi9o"},t.render({center:!0}),g.default.createElement(y.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@f9mld8",datas:o,keyParam:"viewcondition",selectedKey:i,onChange:function(e){return s({detailSelectKey:e})}}),"0"==i&&g.default.createElement(I,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@bn1ur5",comsWeaTableStore:n,bordered:!0}),"1"==i&&g.default.createElement(I,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@m4i0m7",comsWeaTableStore:r,bordered:!0}),"2"==i&&g.default.createElement(I,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@c7hczq",comsWeaTableStore:a,bordered:!0}))}}]),t}(v.Component))||a)||a;t.default=k},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(8),w=o(499),S=n(w),_=o(500),C=n(_),I=o(501),k=n(I),T=o(218),E=n(T),D=o(24),O=y.WeaLocaleProvider.getLabel,P=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.chartAction=function(e){var t=o.props.echartsOption,n=t[0].echartsType,r=void 0===n?"":n;e.off("click"),e.on("click",function(t){if(0==r){var n=e.getModel().option,a=n.series[t.seriesIndex].dataKey[t.dataIndex];o.setState({visible:!0,selectedTabKey:a})}else o.setState({visible:!0,selectedTabKey:t.data.id})})},o.dialogHide=function(){o.setState({visible:!1,selectedTabKey:""})},o.getRowKey=function(e){return e.randomFieldId+"_"+(e.userid||"")},o.getRef=function(e){return o.chart=e},o.getColumns=o.getColumns.bind(o),o.weaTableProps={rowKey:o.getRowKey,heightSpace:100},o.state={visible:!1,selectedTabKey:""},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidUpdate",value:function(e){(0,D.isEqual)(e,this.props)||(this.chart.clear(),this.chart.paint())}},{key:"render",value:function(){var e=this.props.echartsOption,t=this.state,o=t.visible,n=t.selectedTabKey,r=e[0],i=r.series,s=void 0===i?[]:i,l=r.seriesData,c=void 0===l?[]:l,u=r.echartsType,d=void 0===u?"":u,p=this.getReportOption();return""===d||0==s.length&&0==c.length?g.default.createElement(y.WeaAlertPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaAlertPage@prjewb",icon:g.default.createElement("i",{className:"icon-coms-blank"}),iconSize:120,paddingTop:"20%"},g.default.createElement("div",{style:{color:"#000"}},O("83553","占无数据"))):g.default.createElement("div",{className:"echarts"},g.default.createElement(y.WeaEchart,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaEchart@bnzlvu",key:d,ref:this.getRef,option:(0,b.toJS)(p),useDefault:!1,style:{width:"100%",height:"100%"},chartAction:this.chartAction}),g.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocDialogComponent@2udkc6",title:O("529603","公文办理清单"),style:{width:"70%",height:"700px"},visible:o,onCancel:this.dialogHide},o&&g.default.createElement(E.default,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_CustomTableComp@2jxj60",needTop:!1,selectedTabKey:n,customTabId:n,location:{query:{customListId:-30}},showSearchGroup:!1,weaTableProps:this.weaTableProps},this.props))))}},{key:"getReportOption",value:function(){var e=this.props.echartsOption,t=[],o=null,n=null;return 1!=e[0].color.length&&(t=e[0].color),"0"==e[0].echartsType&&(o=new C.default(e[0].xAxisData,e[0].series,e[0].title,e[0].legendData,e[0].series.length)),"1"==e[0].echartsType&&(o=new S.default(e[0].legendData,e[0].seriesData,e[0].title,"pie")),"2"==e[0].echartsType&&(o=new S.default(e[0].legendData,e[0].seriesData,e[0].title,"loop")),t.length>0&&o.setColor(t),n=o.getOption(),"0"==e[0].showLegend&&delete n.legend,n}},{key:"getColumns",value:function(e){return e}}]),t}(v.PureComponent);t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pie",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["50%","50%"],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["30%","60%"];(0,s.default)(this,e),this.pieOption={title:{text:"默认标题",x:"center",top:20},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],legend:{type:"scroll",orient:"vertical",right:10,top:30,bottom:20,animation:!0,selector:!0,data:[],formatter:function(e){return e.length<=8?e:e.length>8&&e.length<=16?e.slice(0,8)+"\n"+e.slice(8,16):e.length>16&&e.length<=24?e.slice(0,8)+"\n"+e.slice(8,16)+"\n"+e.slice(16,24):e.length>24&&e.length<=32?e.slice(0,8)+"\n"+e.slice(8,16)+"\n"+e.slice(16,24)+"\n"+e.slice(24):e.length>32?e.slice(0,8)+"\n"+e.slice(8,16)+"\n"+e.slice(16,24)+"\n"+e.slice(24,32)+"...":void 0}},series:[{name:"",id:"",type:"pie",animationType:"scale",radius:"55%",center:["50%","50%"],minAngle:1,avoidLabelOverlap:!0,hoverAnimation:!1,data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{align:"left",normal:{formatter:function(e){var t=e.name;return t.length<=8?t:t.length>8&&t.length<=16?t.slice(0,8)+"\n"+t.slice(8,16):t.length>16&&t.length<=24?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24):t.length>24&&t.length<=32?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24)+"\n"+t.slice(24):t.length>32?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24)+"\n"+t.slice(24,32)+"...":void 0},textStyle:{}}}}]},this.pieOption.legend.data=t,this.pieOption.series[0].data=o,this.pieOption.title.text=n,this.pieOption.series[0].name=n,"loop"==r&&(this.pieOption.series[0].center=a,this.pieOption.series[0].radius=i)}return(0,c.default)(e,[{key:"setTitleText",value:function(e){return this.pieOption.title.text=e,this.pieOption}},{key:"setlegendData",value:function(e){return this.pieOption.legend.data=e,this.pieOption}},{key:"setSeriesData",value:function(e){return this.pieOption.series[0].data=e,this.pieOption}},{key:"setSeries",value:function(e){return this.pieOption.series=e,this.pieOption}},{key:"setLegend",value:function(e){return this.pieOption.legend=(0,a.default)({},this.pieOption.legend,e),this.pieOption}},{key:"setTitle",value:function(e){return this.pieOption.title=(0,a.default)({},this.pieOption.title,e),this.pieOption}},{key:"setColor",value:function(e){return e?(this.pieOption.color=e,this.pieOption):this.pieOption}},{key:"getOption",value:function(){return this.pieOption}}]),e}();t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;(0,s.default)(this,e),this.categoryOption={title:{text:"默认标题",x:"left",top:20},color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{type:"scroll",orient:"horizontal",top:30,right:0,data:[],formatter:function(e){return e.length<=8?e:e.length>8&&e.length<=16?e.slice(0,8)+"\n"+e.slice(8,16):e.length>16&&e.length<=24?e.slice(0,8)+"\n"+e.slice(8,16)+"\n"+e.slice(16,24):e.length>24&&e.length<=32?e.slice(0,8)+"\n"+e.slice(8,16)+"\n"+e.slice(16,24)+"\n"+e.slice(24):e.length>32?e.slice(0,8)+"\n"+e.slice(8,16)+"\n"+e.slice(16,24)+"\n"+e.slice(24,32)+"...":void 0}},grid:{top:70,left:20,right:20,bottom:40,containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#333"},interval:0,formatter:function(e){var t="",o=e.length,n=Math.ceil(o/2);if(n>1){for(var r=0;r<n;r++){var a="",i=2*r,s=i+2;a=e.substring(i,s)+"\n",t+=a}return t}return e}}}],yAxis:[{type:"value"}],series:[{name:"数量",type:"bar",barWidth:"60%",data:[],label:{align:"left",normal:{formatter:function(e){var t=e.name;return t.length<=8?t:t.length>8&&t.length<=16?t.slice(0,8)+"\n"+t.slice(8,16):t.length>16&&t.length<=24?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24):t.length>24&&t.length<=32?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24)+"\n"+t.slice(24):t.length>32?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24)+"\n"+t.slice(24,32)+"...":void 0},textStyle:{}}}}]},t.length>10&&this.setDataZoom(),1==a?(this.categoryOption.series[0].name=n,this.categoryOption.series=o):this.setOneThanMoreSeries(o),this.categoryOption.title.text=n,this.categoryOption.xAxis[0].data=t,this.categoryOption.legend.data=r}return(0,c.default)(e,[{key:"setSeries",value:function(e){return this.categoryOption.series=e,this.categoryOption}},{key:"setLegend",value:function(e){return this.categoryOption.legend=e,this.categoryOption}},{key:"setGrid",value:function(e){return this.categoryOption.grid=e,this.categoryOption}},{key:"setColor",value:function(e){return e?(this.categoryOption.color=e,this.categoryOption):this.categoryOption}},{key:"setTitle",value:function(e){return this.categoryOption.title=e,this.categoryOption}},{key:"setDataZoom",value:function(){return this.categoryOption.dataZoom=[{type:"inside"},{type:"slider"}],this.categoryOption}},{key:"getOption",value:function(){return this.categoryOption}},{key:"setOneThanMoreSeries",value:function(e){for(var t=0;t<e.length;t++)this.categoryOption.series[t]={type:"bar",data:[],label:{align:"left",normal:{formatter:function(e){var t=e.name;return t.length<=8?t:t.length>8&&t.length<=16?t.slice(0,8)+"\n"+t.slice(8,16):t.length>16&&t.length<=24?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24):t.length>24&&t.length<=32?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24)+"\n"+t.slice(24):t.length>32?t.slice(0,8)+"\n"+t.slice(8,16)+"\n"+t.slice(16,24)+"\n"+t.slice(24,32)+"...":void 0},textStyle:{fontSize:14}}}},this.categoryOption.series[t]=(0,a.default)({},this.categoryOption.series[t],e[t])}}]),e}();t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement(y.WeaDialog,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@0a55sq",icon:"icon-coms-official",iconBgcolor:"#f14a2d",style:{width:800,height:660},hasScroll:!0},this.props),this.props.children)}}]),t}(v.Component);t.default=b},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(13),g=n(v),y=function(e){function t(e){(0,s.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return o.state={datas:[{name:getLabel("515333","发文中心"),url:"/wui/index.html#/main/offical/sendDocManage",img:"/hrm/hrm_e9/image/sysadmin/item_cowork_wev8.png"},{name:getLabel("515334","收文中心"),url:"/wui/index.html#/main/offical/receiveDocManage",img:"/hrm/hrm_e9/image/sysadmin/item_doc_wev8.png"},{name:getLabel("515335","签报中心"),url:"/wui/index.html#/main/offical/signDocManage",img:"/hrm/hrm_e9/image/sysadmin/item_hrm_wev8.png"},{name:getLabel("383001","公文库"),url:"/wui/index.html#/main/offical/odocLibraryNew",img:"/hrm/hrm_e9/image/sysadmin/item_custom_wev8.png"},{name:getLabel("384728","待办公文"),url:"/wui/index.html#/main/offical/newTodo",img:"/hrm/hrm_e9/image/sysadmin/item_project_wev8.png"},{name:getLabel("509711","待阅公文"),url:"/wui/index.html#/main/offical/odocToView",img:"/hrm/hrm_e9/image/sysadmin/item_cpt_wev8.png"},{name:getLabel("513073","公文督办"),url:"/wui/index.html#/main/offical/supervise",img:"/hrm/hrm_e9/image/sysadmin/item_fna_wev8.png"},{name:getLabel("383653","公文台账"),url:"/wui/index.html#/main/offical/accountList",img:"/hrm/hrm_e9/image/sysadmin/item_cowork_wev8.png"}]},o}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.state.datas;return m.default.createElement("div",{className:"quickEntryElement"},m.default.createElement("ul",null,e.map(function(e,t){return m.default.createElement("li",{key:t},m.default.createElement("a",{href:(0,g.default)(e.url),target:"_blank"},m.default.createElement("img",{src:(0,g.default)(e.img),alt:""}),m.default.createElement("span",null,e.name)))})))}}]),t}(h.Component);t.default=y},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=(o(9),o(10)),S=o(11),_=o(0),C=(o(8),o(19)),I=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);t.default=e}(C),S.WeaTableNew.WeaTable),k=(_.WeaLocaleProvider.getLabel,(r=(0,w.inject)("odocTypeChangeStore","odocCompsStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getColumns=function(e){return e.map(function(e){return"chanUserid"==e.dataIndex?(0,s.default)({},e,{render:function(t,n){return b.default.createElement(y.Fragment,{ecId:(o&&o.props&&o.props.ecId||"")+"_Fragment@m1yu1w@"+e.dataIndex},b.default.createElement(_.WeaPopoverHrm,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaPopoverHrm@67mda4@"+e.dataIndex}),b.default.createElement("a",{href:"javaScript:openhrm("+n.chanUserid+");",onClick:o.clickHrm,style:{color:"#4D7AD8",display:"inline-block",lineHeight:"30px"}},n.chanUseridspan))}}):e})},o.clickHrm=function(e){window.pointerXY(e)},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.odocTypeChangeStore;e.odocCompsStore,t.setProperty;(0,t.getContent)()}},{key:"render",value:function(){var e=this.props.odocTypeChangeStore,t=e.changeForm,o=e.tableTitle,n=e.tableStore;return b.default.createElement("div",{className:"workflow-odocTypeChange"},b.default.createElement("div",null,t.render({center:!0})),b.default.createElement("div",{className:"table"},b.default.createElement(_.WeaSearchGroup,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchGroup@n7fhyz",title:o,showGroup:!0},b.default.createElement(I,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@ipf3lo",comsWeaTableStore:n,getColumns:this.getColumns,hasOrder:!0}))))}}]),t}(b.default.Component))||a)||a);t.default=k},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(23),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(10),C=o(9),I=o(11),k=o(0),T=o(8);o(505);var E=I.WeaTableNew.WeaTable,D=k.WeaLocaleProvider.getLabel,O=(r=(0,_.inject)("odocTypeChangeStore","odocCompsStore"))(a=(0,_.observer)(a=function(e){function t(){var e,o,n,r;(0,f.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,g.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(i))),n.saveColTableDatas=function(){var e=n.props.odocTypeChangeStore,t=e.odocAttrDatasource,o=e.saveAssignmentSettings,r={},a=0;(0,T.toJS)(t).map(function(e){e.datas.map(function(e){var t=e.mainField;r["chanwfSetDetailId_"+a]=e.chanwfSetDetailId,r["mainFieldId_"+a]=t.length>0?t[0].id:"",r["chanFieldId_"+a]=e.chanFieldId,r["isDetail_"+a]=e.isDetail,a++})}),r.rows=a,o(r)},n.getSlideModalContent=function(){var e=n.props.odocTypeChangeStore,t=e.odocAttrDatasource,o=e.odocAttrColumn,r=(e.newOdocWorkflowid,e.odocAttrTitle),a=e.attrLoading,i=e.requestParam,s=(e.setProperty,e.updateFieldAttr),l=e.updateFieldAttr1,u=(0,T.toJS)(i),d=u.workflowid,p=u.requestid;return S.default.createElement("div",{style:{height:"100%"}},S.default.createElement(C.Spin,{ecId:(n&&n.props&&n.props.ecId||"")+"_Spin@i52rpw",spinning:a,size:"large",tip:"加载中..."},S.default.createElement("div",{className:"odoc-typechange-attr-title"},r),S.default.createElement(k.WeaNewScroll,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaNewScroll@ftumt3",height:"calc(100% - 50px)"},S.default.createElement("div",{style:{padding:"10px"}},S.default.createElement("div",{className:"colDialogInfo"},(0,T.toJS)(t).map(function(e,t){var r=e.title,a=e.datas,i=(0,T.toJS)(o).map(function(e){return"mainField"==e.key?(0,c.default)({},e,{render:function(e,o,r){var a=o.chanFieldId,i=void 0===a?"":a,c=o.chanhttype,u=void 0===c?"":c,f=o.chantype,h=void 0===f?"":f,m=o.isDoc,v=void 0===m?0:m,g=o.doGenNewDoc,y=void 0===g?0:g,b=o.mainField,w=void 0===b?[]:b,_=D(21718,"重新生成文档"),C=["1","2"];return v>0&&w.length>0&&"6"==w[0].httype&&C.indexOf(w[0].type)>=0&&(_=D(21719,"重新生成附件")),S.default.createElement("div",null,S.default.createElement(k.WeaBrowser,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaBrowser@bhguaw@"+r,inputStyle:{width:"90%"},type:"formFieldValue",title:D(385119,"主流程字段"),icon:"icon-coms-workflow",iconBgcolor:"#0079DE",hasAdvanceSerach:!0,dataParams:{workflowId:d,isNeedTrans:1,isNeedType:1,isDetail:o.isDetail,systemFieldType:"subWorkflow",requestid:p,fieldId:i,htType:u,type:h},conditionDataParams:{workflowId:d,isNeedTrans:1,isNeedType:1,isDetail:o.isDetail,systemFieldType:"subWorkflow",requestid:p,fieldId:i,htType:u,type:h},completeParams:{workflowId:d,isNeedTrans:1,isNeedType:1,isDetail:o.isDetail,systemFieldType:"subWorkflow",requestid:p,fieldId:i,htType:u,type:h},replaceDatas:o.mainField,onChange:function(e,n,a){s(e,n,a,o,t,r)}}),v>0&&w.length>0&&S.default.createElement(k.WeaCheckbox,{className:"wea-odoc-typechange-checkbox",value:y+"",content:_,style:{marginTop:"10px"},onChange:function(e){l(e,o,t,r)},helpfulTip:1==v?D("533358","提交变更后，将原文档复制一份重新生成新文档"):D("533359","提交变更后，将原附件复制一份重新生成新附件")}))}}):"mainFieldValue"==e.key?(0,c.default)({},e,{render:function(e,t,o){return S.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}}):e});return S.default.createElement(k.WeaSearchGroup,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSearchGroup@rhmpy5@"+t,title:r,needTigger:!0,showGroup:!0},S.default.createElement(k.WeaTable,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaTable@5vkpt8@"+t,columns:i,dataSource:a,pagination:!1}))}))))))},n.getLeftTree=function(){var e=n.props.odocTypeChangeStore,t=e.leftTree,o=void 0===t?{}:t,r=e.leftTreeLoading,a=(e.leftTreeCount,e.leftTreeCountType,e.setProperty),i=e.getAssignmentSettings,l=e.selectedTreeKey,u=e.expandedKeys,d=e.wfFormSrcModule;u=(0,T.toJS)(u);var p={loading:r,datas:(0,T.toJS)(o),selectedKeys:(0,T.toJS)(l),expandedKeys:u,onSearchLabelClick:function(){},onSelect:function(e,t,o){if(e.indexOf("wf")>=0){var n=e.replace("wf_","");a({newOdocWorkflowid:n,selectedTreeKey:[e],formLoading:!0,showSlideModal:!1}),document.getElementById("changeTypeIframe").src=d.replace("${workflowid}",n),document.getElementById("changeTypeIframe").contentWindow.location.reload(),i({subWorkflowid:n}),setTimeout(function(){document.getElementById("changeTypeIframe").contentWindow.onbeforeunload=null},1e3)}else u.indexOf(e)>=0?(u.splice(u.indexOf(e),1),a({expandedKeys:u})):a({expandedKeys:[].concat((0,s.default)((0,T.toJS)(u)),[e])})},onSearchChange:function(){},onExpand:function(e,t){t.expanded,t.node;a({expandedKeys:e})}};return S.default.createElement(k.WeaLeftTree,(0,c.default)({ecId:(n&&n.props&&n.props.ecId||"")+"_WeaLeftTree@mvhuds"},p))},n.getChangeRecordButton=function(){var e=n.props.odocTypeChangeStore.setProperty;return[S.default.createElement(C.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@5zdz9y@submit",type:"primary",onClick:function(){return e({showChangeRecord:!1})}},D(309,"关闭"))]},n.getColumns=function(e){return e.map(function(e,t){return"chanUserid"==e.dataIndex?(0,c.default)({},e,{render:function(o,r){return S.default.createElement(w.Fragment,{ecId:(n&&n.props&&n.props.ecId||"")+"_Fragment@npqwko@"+t},S.default.createElement(k.WeaPopoverHrm,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaPopoverHrm@67mda4@"+e.dataIndex}),S.default.createElement("a",{href:"javaScript:openhrm("+r.chanUserid+");",onClick:n.clickHrm,style:{color:"#4D7AD8",display:"inline-block",lineHeight:"30px"}},r.chanUseridspan))}}):e})},n.clickHrm=function(e){window.pointerXY(e)},n.getHandleWorkflowType=function(){var e=n.props.odocTypeChangeStore,t=e.operateMainWfItem,o=e.docTypeChangeOpMainWf,r=e.setProperty;return t=(0,T.toJS)(t),S.default.createElement(k.WeaFormItem,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaFormItem@21ey5r",label:D(532118,"变更后主流程处理方式"),labelCol:{span:6},wrapperCol:{span:18}},S.default.createElement(k.WeaSelect,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSelect@e88oj2",value:o+"",options:t.options||[],detailtype:3,onChange:function(e){r({docTypeChangeOpMainWf:e})}}))},r=o,(0,g.default)(n,r)}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){(0,this.props.odocTypeChangeStore.init)()}},{key:"render",value:function(){var e=this.props.odocTypeChangeStore,t=e.showSlideModal,o=(e.slideModalTop,e.slideModalHeight,e.setProperty),n=e.showLeft,r=(e.newOdocWorkflowid,e.wfFormSrc),a=e.formLoading,i=e.showChangeRecord,s=e.tableStore,l=e.changeReason,u=e.nustInputChangeReason,d=e.noChangeWorkflow,p=e.tip,f={right:"1px"};return t&&(f={left:"1px"}),1==d?S.default.createElement("div",{style:{paddingTop:"100px"}},S.default.createElement("img",{src:(window.ecologyContentPath||"")+"/images/ecology8/noright_wev8.png",width:"162px",height:"162px",style:{margin:"0px auto",display:"block"}}),S.default.createElement("div",{style:{color:"rgb(255,187,14)",textAlign:"center",fontSize:"16px"}},D(532530,"暂无可变更流程，请联系管理员进行设置"))):S.default.createElement("div",{className:"wea-odoc-changeType",style:{width:"100%",height:"100%",position:"relative"}},S.default.createElement(k.WeaLeftRightLayout,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLeftRightLayout@dp8igm",isNew:!0,col:2,leftCom:this.getLeftTree(),showLeft:n,onCollapse:function(e){return o({showLeft:e})}},S.default.createElement(C.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@4q8rfi",spinning:a,size:"large",tip:p},S.default.createElement("iframe",{src:r,key:"changeTypeIframe",frameBorder:"0",style:{width:"100%",display:"block",height:2==u?"calc(100% - 47px)":"calc(100% - 197px)"},id:"changeTypeIframe"}),S.default.createElement("div",{className:"wea-handle-workflow-type"},this.getHandleWorkflowType()),S.default.createElement("div",{className:"change-reason",style:{display:2==u?"none":"block"}},S.default.createElement("div",{className:"change-reason-title"},S.default.createElement("span",null,D(30287,"变更原因"))," ",0==u&&S.default.createElement("span",{style:{color:"red"}},"（",D(30036,"必填"),"）")),S.default.createElement(k.WeaTextarea,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTextarea@8z04n4",viewAttr:3,value:l,onChange:function(e){o({changeReason:e})},placaholder:D(532531,"请填写变更原因")}))),S.default.createElement("div",{className:"mask"})),S.default.createElement("div",{className:"wea-odoc-changeType-slide",style:{width:""+(t?"800px":0)}},S.default.createElement("div",{className:"wea-odoc-changeType-slide-content",style:{display:t?"block":"none"}},this.getSlideModalContent()),S.default.createElement("div",{className:"wea-odoc-changeType-slide-button "+(t?"btnright":"btnleft"),style:(0,c.default)({},f),title:t?D(532532,"隐藏变更流程赋值设置"):D(532533,"显示变更流程赋值设置"),onClick:function(){return o({showSlideModal:!t})}})),S.default.createElement(k.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@8v84g3",icon:"icon-coms-official",iconBgcolor:"red",hasScroll:!0,title:D("19765","变更记录"),visible:i,style:{width:800,height:450},buttons:this.getChangeRecordButton(),onCancel:function(){o({showChangeRecord:!1})}},S.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@ipf3lo",comsWeaTableStore:s,getColumns:this.getColumns,hasOrder:!0})))}}]),t}(S.default.Component))||a)||a;t.default=O},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(10),b=o(8),w=o(84),S=n(w),_=o(0),C=o(9),I=o(56),k=n(I),T=o(13),E=n(T),D=_.WeaLocaleProvider.getLabel,O=C.Modal.confirm,P=(r=(0,y.inject)("odocSignApprovalStore"))(a=(0,y.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.getSignApprovalStore=function(){return o.props.odocSignApprovalStore},o.ayncLoadResource=function(){var e=o.props.odocSignApprovalStore,t=e.cssPath,n=function(){document.onclick=function(){var e=0,o=setInterval(function(){e<5?(window.parent&&window.parent.jQuery("head>link[href='"+t+"']").length>0&&window.parent.jQuery("head>link[href='"+t+"']").remove(),e++):clearInterval(o)},100)},o.loadSignApprovalPage()};S.default.isDefined("haoqianResources")?S.default.ready("haoqianResources",n):(0,S.default)(e.resourceFiles(),"haoqianResources",n)},o.loadSignApprovalPage=function(){var e=o.props.odocSignApprovalStore,t=e.sequenceId,n=e.token,r=e.userid,a=e.lastname,i=e.isSeal,s=e.setProperty,l=e.saveSignApprovalDatas,c=e.defaultWriteColor,u=e.defaultWriteSize,d=new WSPCSignContext,p=o;d.Init({el:"#ctx",token:n,sequenceId:t,callerId:""+r,callerName:a}),d.Render({readonly:!i,hiddenToolbar:!0,customSaveConfirmTitle:"",customSaveConfirmContent:"",defaultWriteColor:c,defaultWriteSize:parseInt(u)}),d.On("saveSucceed",function(e){C.message.success(D("22619","保存成功"),1),1==p.props.odocSignApprovalStore.isClickSave&&(d.SimulateClickBtn("writeBtn"),s({isClickSave:!1,qpSelected:!0})),l(e)}),d.On("tbBtnClick",function(e){}),d.On("renderError",function(){}),d.On("writeClose",function(){s({qpSelected:!1})}),d.On("renderSucceed",function(){window.signApprovalCtx=d,p.ctxRenderDoneEvent(d)})},o.ctxRenderDoneEvent=function(e){var t=o.props.odocSignApprovalStore,n=t.isSeal,r=t.setProperty,a=t.defaultSign,i=t.qpSelected,s=t.isUseAudio;(a&&1==n||1==i)&&(e.SimulateClickBtn("writeBtn"),r({qpSelected:!0,defaultSign:!1})),r({ctx:e,hasLoad:!0});var l=window.parent.WfForm;l.registerCheckEvent(l.OPER_BEFOREVERIFY,function(e){l.verifyFormRequired(!1,!0)?e():l.getGlobalStore().setTabKey("form")}),l.registerCheckEvent(l.OPER_SUBMIT,function(e){window.signApprovalCtx.CloseWrite(),window.signApprovalCtx&&window.signApprovalCtx.CheckoutHasUnsaveData()?(window.signApprovalCtx.SimulateClickBtn("wsSaveBtn"),setTimeout(function(){e()},1e3)):e()}),l.registerCheckEvent(l.OPER_REJECT,function(e){window.signApprovalCtx.CloseWrite(),window.signApprovalCtx&&window.signApprovalCtx.CheckoutHasUnsaveData()?(window.signApprovalCtx.SimulateClickBtn("wsSaveBtn"),setTimeout(function(){e()},1e3)):e()}),1==n&&l.registerCheckEvent(l.OPER_SAVE,function(e){window.signApprovalCtx.CloseWrite(),window.signApprovalCtx&&window.signApprovalCtx.CheckoutHasUnsaveData()?(window.signApprovalCtx.SimulateClickBtn("wsSaveBtn"),setTimeout(function(){e()},1e3)):e()}),1!=s&&(0,k.default)(".ws-left-obj-name").each(function(e,t){var o=(0,k.default)(t);"语音"==o.text()&&o.parent().hide()})},o.getTopButton=function(){var e=o.props.odocSignApprovalStore,t=e.isviewHistory,n=e.historyVersionName,r=e.leftKeys,a=e.RrightKeys,i=e.isSeal,s=e.device,l=e.sealDocs,c=e.isDownload,u=e.downloadBtnName;return g.default.createElement("div",{id:"topMenu",className:"wea-haoqian-header"},g.default.createElement("div",{className:"haoqian-left"}),!t&&g.default.createElement("div",{className:"haoqian-middle"},(0,b.toJS)(r).map(function(e){if(i||"writeBtn"!=e.key&&"wsSaveBtn"!=e.key&&"audioBtn"!=e.key)return o.renderButton(e)})),g.default.createElement("div",{className:"haoqian-right "+(t?"haoqian-right-history":"")},t&&o.renderButton({key:"change-last-version",value:D("521674","切换至最新签批文件"),icon:"icon-coms-synchronization"}),(0,b.toJS)(a).map(function(e){if(("EC"!=s&&!t||"validBtn"!==e.key&&"thumbBtn"!==e.key)&&("signFile"!==e.key||1!=(0,b.toJS)(l).length))return o.renderButton(e)}),(t||"EC"==s)&&c&&o.renderButton({key:"downloadBtn",value:""+(""==u?D("258","下载"):u),icon:"icon-coms-download2"}),t&&g.default.createElement("span",{className:"wea-viewHistory-span"},D("511897","历史版本"),"：",n)))},o.doMenuClick=function(e){var t=o.props.odocSignApprovalStore,n=t.setProperty,r=t.historyImagefiles,a=t.convertFile,i=t.isUsePDFViewer;(0,b.toJS)(r).forEach(function(t){if(t.id==e.key){var o=t.encodeimagefileid;n({isviewHistory:!0,historyImagefileid:o,imagefileid:t.imagefileid,HistoryQianSelectedKeys:[""+t.id]}),1==i?a():(0,k.default)("#historyPdf")[0].contentWindow.location.reload()}})},o.doQianPiMenuClick=function(e){var t=o.props.odocSignApprovalStore,n=t.ctx,r=t.setProperty,a=t.sealDocs,i=t.QianSelectedKeys,s=t.device,l=t.isUsePDFViewer,c=t.convertFile,u=t.qpSelected;if(e.key!=(0,b.toJS)(i)[0])if("EC"!=s){var d=u,p=function(){(0,k.default)("#ctx").empty(),(0,b.toJS)(a).forEach(function(t){t.sequenceId==e.key&&(1==d&&r({qpSelected:!0}),r({sequenceId:e.key,QianSelectedKeys:[""+e.key],sealName:t.imagefilename,sealid:t.id,historyImagefileid:t.encodeimagefileid,imagefileid:t.imagefileid,showThumb:!1}),o.loadSignApprovalPage())})};n.CloseWrite(),n.CheckoutHasUnsaveData()?o.doIsSaveTip(p):p()}else(0,b.toJS)(a).forEach(function(t){t.sequenceId!=e.key&&t.id!=e.key||(r({sequenceId:t.sequenceId||"",QianSelectedKeys:[""+e.key],sealName:t.imagefilename,sealid:t.id,historyImagefileid:t.encodeimagefileid,imagefileid:t.imagefileid}),1==l?c():(0,k.default)("#historyPdf")[0].contentWindow.location.reload())})},o.doIsSaveTip=function(e){var t=o.props.odocSignApprovalStore,n=t.setProperty,r=t.ctx,a="1",i=o;O({title:D("131329","信息确认"),content:g.default.createElement("div",null,g.default.createElement("p",null,D("521675","当前签批文件未保存，是否要离开？")),g.default.createElement(_.WeaCheckbox,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaCheckbox@nrueve",id:"saveQian",value:a,onChange:function(e){a=e}}),g.default.createElement("span",{style:{marginLeft:"5px",verticalAlign:"middle"}},D("521676","保存当前签批文件"))),onOk:function(){if("1"==a){r.SimulateClickBtn("wsSaveBtn"),n({isSave:!0});var t=setInterval(function(){0==i.props.odocSignApprovalStore.isSave&&(clearInterval(t),e())},500)}else e()},onCancel:function(){}})},o.doHistoryMenuClick=function(e){var t=o.props.odocSignApprovalStore,n=t.histroyDocs,r=t.setProperty,a=t.ctx,i=t.HistorySelectedKeys,s=t.device,l=t.isUsePDFViewer,c=t.convertFile,u=t.qpSelected,d=(0,b.toJS)(n).length;if((0,b.toJS)(i)[0]!=e.key)if("EC"!=s){var p=u,f=function(){r({HistorySelectedKeys:[e.key]}),(0,b.toJS)(n).forEach(function(t,o){if(t.logid==e.key){var n=t.imagefileEntities;r({isviewHistory:!0,historyImagefiles:n,historyImagefileid:n[0].encodeimagefileid,imagefileid:n[0].imagefileid,historyVersionName:t.versionName+"（V"+(d-o)+")",HistoryQianSelectedKeys:[""+n[0].id],HistorySelectedKeys:[""+t.logid]}),1==l&&c()}}),1==p&&(r({qpSelected:!0}),a.SimulateClickBtn("writeBtn"))};a.CloseWrite(),a.CheckoutHasUnsaveData()?o.doIsSaveTip(f):f()}else r({HistorySelectedKeys:[e.key]}),n.forEach(function(t,o){if(t.logid==e.key){var n=t.imagefileEntities;r({isviewHistory:!0,historyImagefiles:n,historyImagefileid:n[0].encodeimagefileid,imagefileid:n[0].imagefileid,historyVersionName:t.versionName+"（V"+(d-o)+")",HistoryQianSelectedKeys:[""+n[0].id],HistorySelectedKeys:[""+t.logid]}),1==l?c():(0,k.default)("#historyPdf")[0].contentWindow.location.reload()}})},o.getQianFileMen=function(){var e=o.props.odocSignApprovalStore,t=e.isviewHistory,n=e.sealDocs,r=e.historyImagefiles,a=e.HistoryQianSelectedKeys,i=e.QianSelectedKeys;return t?g.default.createElement(C.Menu,{ecId:(o&&o.props&&o.props.ecId||"")+"_Menu@4wz6wb",onClick:o.doMenuClick,selectedKeys:(0,b.toJS)(a),style:{maxWidth:"200px"}},(0,b.toJS)(r).map(function(e,t){return g.default.createElement(C.Menu.Item,{ecId:(o&&o.props&&o.props.ecId||"")+"_undefined@eqasgb@"+t,key:e.id,title:e.imagefilename.replace(".pdf",""),className:"wea-sign-approval-dropdown-li"},e.imagefilename.replace(".pdf",""))})):g.default.createElement(C.Menu,{ecId:(o&&o.props&&o.props.ecId||"")+"_Menu@ookwqw",onClick:o.doQianPiMenuClick,selectedKeys:(0,b.toJS)(i),style:{maxWidth:"200px"}},(0,b.toJS)(n).map(function(e,t){return g.default.createElement(C.Menu.Item,{ecId:(o&&o.props&&o.props.ecId||"")+"_undefined@a6b91r@"+t,key:e.sequenceId||e.id,title:e.imagefilename.replace(".pdf",""),className:"wea-sign-approval-dropdown-li"},e.imagefilename.replace(".pdf",""))}))},o.renderButton=function(e){var t=o.props.odocSignApprovalStore,n=t.ctx,r=t.scale,a=t.setProperty,i=t.histroyDocs,s=t.HistorySelectedKeys,l=t.showThumb,c=t.qpSelected,u=t.device,d=t.sealDocs,p=t.sequenceId,f=t.isUsePDFViewer,h=t.convertFile,m=t.updateHeaderPosition,v=t.historyImagefileid;if("audioBtn"!=e.key&&n&&n.CloseAudioModal)try{n.CloseAudioModal()}catch(e){}var y=(0,b.toJS)(i).length,w=!1;return"wsZoomInBtn"===e.key&&0==r||"wsZoomOutBtn"===e.key&&3==r||("thumbBtn"===e.key&&0==l?w=!0:"validBtn"===e.key&&1==l&&(w=!0)),"viewHistory"!=e.key?"signFile"==e.key?g.default.createElement(C.Dropdown,{ecId:(o&&o.props&&o.props.ecId||"")+"_Dropdown@lpfo4i",trigger:["click"],overlay:o.getQianFileMen()},g.default.createElement(C.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@l9xzz1",type:"ghost"},g.default.createElement("i",{className:e.icon}),g.default.createElement("span",null,e.value),g.default.createElement("i",{className:"icon-coms-down2"}))):g.default.createElement(C.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@bh2u1r",type:"ghost",className:("writeBtn"===e.key?"wea-write-qp-btn":"")+" "+("writeBtn"===e.key&&c?"wea-write-btn-selected":"")+" "+(1==w?"wea-sign-approval-has-selected":""),onClick:function(){if("change-last-version"==e.key)a({isviewHistory:!1,HistorySelectedKeys:[]}),(0,b.toJS)(d).forEach(function(e){e.sequenceId==p&&a({historyImagefileid:e.encodeimagefileid,imagefileid:e.imagefileid})}),"EC"==u?(0,b.toJS)(d).forEach(function(e){e.sequenceId==p&&(1==f?h():(0,k.default)("#historyPdf")[0].contentWindow.location.reload())}):setTimeout(function(){m()},300);else if("downloadBtn"==e.key)window.open((0,E.default)("/weaver/weaver.file.FileDownload?fileid="+v+"&download=1"));else if("wsSaveBtn"!=e.key&&n.SimulateClickBtn(e.key),"wsZoomInBtn"===e.key)r>0&&a({scale:r-1});else if("wsZoomOutBtn"===e.key)r<3&&a({scale:r+1});else if("thumbBtn"===e.key)a({showThumb:!1});else if("validBtn"===e.key)a({showThumb:!0});else if("writeBtn"===e.key)a(1==c?{qpSelected:!1}:{qpSelected:!0});else if("wsSaveBtn"===e.key){var t=c;n.CloseWrite(),n.CheckoutHasUnsaveData()?(1==t&&a({isClickSave:!0}),n.SimulateClickBtn(e.key)):(1==t&&(n.SimulateClickBtn("writeBtn"),a({qpSelected:!0})),C.message.warning(D("524496","暂无未保存的内容")))}}},g.default.createElement("div",null,g.default.createElement("i",{className:e.icon}),g.default.createElement("span",null,e.value))):y>0?g.default.createElement(C.Dropdown,{ecId:(o&&o.props&&o.props.ecId||"")+"_Dropdown@cm27v1",trigger:["click"],overlay:g.default.createElement(C.Menu,{ecId:(o&&o.props&&o.props.ecId||"")+"_Menu@f34emn",onClick:o.doHistoryMenuClick,selectedKeys:(0,b.toJS)(s)},(0,b.toJS)(i).map(function(e,t){return g.default.createElement(C.Menu.Item,{ecId:(o&&o.props&&o.props.ecId||"")+"_undefined@on4huk@"+t,key:e.logid,className:"wea-sign-approval-dropdown-li"},"V",y-t,"：",e.versionName)}))},g.default.createElement(C.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@xd86w0",type:"ghost"},g.default.createElement("i",{className:e.icon}),g.default.createElement("span",null,e.value),g.default.createElement("i",{className:"icon-coms-down2"}))):void 0},o.state={},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.odocSignApprovalStore.setProperty,t=window.parent.WfForm.getGlobalStore(),o=t.commonParam,n=void 0===o?{}:o;e({workflowid:n.workflowid,nodeid:n.nodeid,requestid:n.requestid,f_weaver_belongto_userid:n.f_weaver_belongto_userid,f_weaver_belongto_usertype:n.f_weaver_belongto_usertype,commonParam:n})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.odocSignApprovalStore,o=t.getSignApprovalDatas,n=t.updateHeaderPosition;o().then(function(t){1==t&&e.ayncLoadResource()}),window.onresize=function(){n()},window.odocSignApprovalStore=this.getSignApprovalStore()}},{key:"render",value:function(){var e=this.props.odocSignApprovalStore,t=e.hasLoad,o=e.isviewHistory,n=e.historyImagefileid,r=e.device,a=e.histroyDocs,i=e.sealDocs,s=e.isUsePDFViewer,l=e.previewUrl,c=e.loading,u=e.isDownload,d="calc(100% - 60px)",p=!0;return"EC"==r&&1==(0,b.toJS)(i).length&&(0,b.toJS)(a).length<1&&0==u&&(d="100%",p=!1),g.default.createElement("div",{style:{height:"100%",width:"100%"}},g.default.createElement(C.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@fvaxv0",spinning:c,size:"large"},g.default.createElement("div",{style:{height:"100vh"}},t&&p&&this.getTopButton(),"EC"!=r&&g.default.createElement("div",{id:"ctx",style:{height:o?"0px":"calc(100% - 60px)",width:"100%"},className:"wea-haoqian-box"}),(o||"EC"==r)&&1!=s&&g.default.createElement("div",{className:"wea-haoqian-history-version",style:{height:d}},g.default.createElement("iframe",{id:"historyPdf",src:(0,E.default)("/docs/pdfview/web/pdfViewer.jsp?canPrint=false&canDownload=false&pdfimagefileid="+n),style:{width:"100%",height:"100%"},title:"historyPdf"})),(o||"EC"==r)&&1==s&&g.default.createElement("div",{className:"wea-haoqian-history-version",style:{height:d}},g.default.createElement("iframe",{id:"historyPdf",src:(0,E.default)(l),style:{width:"100%",height:"100%"},title:"historyPdf"})))))}}]),t}(g.default.Component))||a)||a;t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(8),_=o(9),C=o(11),I=o(0),k=o(122),T=n(k),E=C.WeaTableNew.WeaTable,D=C.WeaLogView.Component,O=I.WeaLocaleProvider.getLabel,P=(r=(0,w.inject)("odocModelEssayStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.renderEditDialog=function(){var e=o.props.odocModelEssayStore,t=e.editForm,n=(e.setMobxState,e.istexttomodel),r=t.isFormInit,a=[];return r&&t.condition.map(function(e,r){var i=[];e.items.map(function(e,r){if("modelImagefileId"==e.domkey[0]){var a=!e.datas&&"1"!=n;i.push({com:b.default.createElement(I.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@cy11ve@"+e.domkey[0],label:""+e.label,labelCol:{span:""+e.labelcol},ratio1to2:!0,error:t.getError(e),tipPosition:"bottom",wrapperCol:{span:""+e.fieldcol}},b.default.createElement(I.WeaUpload,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaUpload@zblo9c@"+e.domkey[0],viewAttr:"1"!=n?1:3,uploadUrl:"/api/doc/upload/uploadFile",category:"string",limitType:"doc,docx",editable:!0,maxFilesNumber:1,autoUpload:!0,datas:(0,S.toJS)(e.datas),showClearAll:!1,onChange:function(e,t){o.onChangeModelForm(e,t)}}),a&&b.default.createElement("p",{style:{color:"red","margin-top":"-50px"}},O("83157","附件上传目录未设置")),b.default.createElement("p",{style:{color:"#999","margin-top":a?"10px":"-30px"}},O("532151","仅支持上传doc、docx格式文件"))),col:1,center:!0})}else i.push({com:b.default.createElement(I.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@7u0wbs@"+e.domkey[0],label:""+e.label,labelCol:{span:""+e.labelcol},ratio1to2:!0,error:t.getError(e),tipPosition:"bottom",wrapperCol:{span:""+e.fieldcol}},b.default.createElement(C.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@pmrbx2@"+e.domkey[0],fieldConfig:e,form:t})),col:1,center:!0})}),a.push(b.default.createElement(I.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@h3ls1q@"+r,needTigger:!1,title:e.title,showGroup:e.defaultshow,items:i}))}),a},o.onChangeModelForm=function(e,t){o.props.odocModelEssayStore.editForm.updateFields({modelImagefileId:{datas:t,value:e[0]}})},o.getColumns=function(e){var t=o.props.odocModelEssayStore.clickModelName;return e.map(function(e){return"modelName"==e.dataIndex?(0,s.default)({},e,{render:function(e,o){return b.default.createElement("a",{dangerouslySetInnerHTML:{__html:o.modelNamespan},onClick:function(){return t(o)}})}}):e})},o.renderShareDialog=function(){var e=o.props.odocModelEssayStore,t=e.shareTableStore,n=e.shareSelectedRowKeys,r=e.setMobxState,a=e.showDelShareConfirm,i=e.shareRowSelection,s=e.shareOperatesClick,l=e.addShareVisible,c=e.showShareSearchAd,u=e.shareConditions,d=e.saveShared,p=!(n.length>0);return b.default.createElement("div",null,b.default.createElement(I.WeaTab,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTab@oedakg",datas:[{title:O("383654","共享列表"),viewcondition:0}],keyParam:"viewcondition",countParam:"groupid",selectedKey:0,buttons:[b.default.createElement(I.WeaButtonIcon,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaButtonIcon@rg9b9z@add",buttonType:"add",type:"primary",disabled:!1,onClick:function(){return r({addShareVisible:!0})}}),b.default.createElement(I.WeaButtonIcon,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaButtonIcon@kz24e1@del",buttonType:"del",type:"primary",disabled:p,onClick:a})],showSearchAd:c,setShowSearchAd:function(e){return r({showShareSearchAd:e})},advanceHeight:200,onAdSearch:function(){},onAdReset:function(e){r({inputValue1:"",inputValue:""})},onAdCancel:function(){},onSearch:function(){}}),b.default.createElement(E,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@cehpcv",hasOrder:!0,needScroll:!0,comsWeaTableStore:t,rowSelection:{selectedRowKeys:n,onChange:i},onOperatesClick:s,getColumns:o.getShareColumns}),b.default.createElement(I.WeaAuth,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaAuth@pdtpra",visible:l,conditions:(0,S.toJS)(u),title:O("389772","添加共享"),onOk:d,onCancel:function(){return r({addShareVisible:!1})},width:500,key:l}))},o.getShareColumns=function(){},o.state={},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.odocModelEssayStore;e.getMyModelList(1),e.getSearchCondition(1),e.getModelShareItems()}},{key:"render",value:function(){var e=this.props.odocModelEssayStore,t=e.topTab,o=e.selectedTab,n=e.selectedKeys,r=e.setMobxState,a=e.showSearchAd,i=e.tableStore,s=e.onOperatesClick,l=e.getMyModelList,c=e.editDialogVisible,u=e.getModelFormItems,d=e.adSearchForm,p=e.saveModel,f=e.shareDialogVisible,h=e.saveAsDialogVisible,m=e.logVisible,v=e.logStore,g=e.logType,y=e.logSmallType,w=e.currentId,S=e.getSearchCondition,C=e.showDelModelConfirm,k=e.loading,P=!(n.length>0),W=1==o?[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@xki7a7@ad",type:"primary",onClick:function(){return u()}},O(365,"新建")),b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@b58eh3@dels",type:"primary",disabled:P,onClick:C},O(32136,"批量删除"))]:[],R=1==o?[{key:"1",disabled:!1,icon:b.default.createElement("i",{className:"icon-coms-Add-to"}),content:O(365,"新建"),onClick:function(e){return u()}},{key:"2",disabled:P,icon:b.default.createElement("i",{className:"icon-coms-Batch-delete"}),content:O(32136,"批量删除"),onClick:function(e){return C()}}]:[];return b.default.createElement("div",{className:"odoc-modelEssay"},b.default.createElement(I.WeaRightMenu,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaRightMenu@juoln4",datas:R},b.default.createElement(I.WeaTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTop@fxgue5",title:O("530211","范文管理"),icon:b.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"#f14a2d",buttons:W,showDropIcon:!0,dropMenuDatas:R},b.default.createElement(I.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@vnf25c",datas:t,keyParam:"viewcondition",selectedKey:o,onChange:function(e){d.resetForm(),r({selectedTab:e}),l(e),S(e)},searchType:["base","advanced"],showSearchAd:a,setShowSearchAd:function(e){return r({showSearchAd:e})},advanceHeight:200,searchsAd:(0,T.default)(e,function(){return l()}),onAdSearch:function(){return l()},onAdReset:function(e){d.resetForm()},onSearchChange:function(e){d.updateFields({modelName:{value:e}})},searchsBaseValue:d.getFormParams().modelName,onSearch:function(e){return l()}}),b.default.createElement(E,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@xeb0r2",hasOrder:!0,needScroll:!0,comsWeaTableStore:i,onOperatesClick:s,getColumns:this.getColumns,rowSelection:{onChange:e.selelctRow,selectedRowKeys:e.selectedKeys}}))),c&&b.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@037fa5",icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return r({editDialogVisible:!1,currentId:""})},title:""==w?O(529905,"新建范文"):O(529906,"编辑范文"),visible:c,style:{width:640,height:300},hasScroll:!0,buttons:[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@sockgw@save",type:"primary",disabled:k,onClick:function(){return p()}},O("86","保存"))],moreBtn:{datas:[{key:"1",disabled:!1,icon:b.default.createElement("i",{className:"icon-coms02-Save-as"}),content:O("86","保存"),onClick:function(e){return p()}}]},parentClassName:"editModelDialog"},this.renderEditDialog()),b.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@hmh8kl",icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return r({shareDialogVisible:!1})},title:O("119","共享")+"："+O("529994","我的范文"),visible:f,style:{width:800,height:500},hasScroll:!0,moreBtn:{datas:[]},parentClassName:"editModelDialog"},this.renderShareDialog()),b.default.createElement(I.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@hh1qc1",icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return r({saveAsDialogVisible:!1})},title:O("529997","存为范文"),visible:h,style:{width:550,height:150},hasScroll:!0,buttons:[b.default.createElement(_.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@bvi3tl@saves",type:"primary",onClick:function(){return p(1)}},O("86","保存"))],moreBtn:{datas:[{key:"1",disabled:k,icon:b.default.createElement("i",{className:"icon-coms02-Save-as"}),content:O("86","保存"),onClick:function(e){return p(1)}}]},parentClassName:"editModelDialog"},e.editForm.render({center:!0})),b.default.createElement(D,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLogViewComp@0mpufx",visible:m,onCancel:function(){return r({logVisible:!1})},logStore:v,logType:g,logSmallType:y,targetId:w}))}}]),t}(y.Component))||a)||a;t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(2),p=n(d),f=o(4),h=n(f),m=o(5),v=n(m),g=o(7),y=n(g),b=o(8),w=o(10),S=o(9),_=o(0),C=o(11),I=o(13),k=n(I),T=o(509),E=n(T),D=o(510),O=n(D),P=_.WeaLocaleProvider.getLabel,W=S.Tabs.TabPane,R=(0,w.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return o.closeTabList=function(){jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css({display:"none"}),jQuery(".OdocModelAndSensitivelList").css({width:"50px","-webkit-box-shadow":"none","box-shadow":"none"})},o.getModelList=function(){var e=o.props.odocModelAndSensitiveStore,t=e.modelTableStore,n=e.getMyModelList,r=t.count;return y.default.createElement("div",{className:"listContent"},y.default.createElement("div",{className:"listContent-top"},y.default.createElement("span",{className:"title"},P(532140,"范文列表")),y.default.createElement(_.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@j7eb7r",placeholder:P(532141,"请输入正文内容或关键字搜索"),onSearch:function(e){return n(e)}})),r>0&&y.default.createElement("div",{className:"listContent-bottom"},y.default.createElement("div",{className:"pic-count"},y.default.createElement("span",{className:"icon"},y.default.createElement("i",{className:"Icon-coms03-Sample-text-list"})),y.default.createElement("div",{style:{display:"inline-block",marginRight:"15px"}},y.default.createElement("div",{style:{display:"inline-block",fontWeight:600}},P(18861,"共计"),y.default.createElement("span",{className:"count"}," ",r," "),P(15015,"篇")+P(532134,"范文"),"。"),y.default.createElement("br",null),y.default.createElement("span",{style:{color:"rgba(167, 165, 165, 0.647058823529412)"}},P("532142","点击范文标题可预览范文")))),y.default.createElement("div",{className:"tableItem"},o.renderModelTable())),r<=0&&y.default.createElement("div",{className:"listContent-noData"},P("532143","您还未添加过范文。")))},o.getModelColumns=function(e){var t=(o.props.odocModelAndSensitiveStore.editModel,navigator.userAgent,!1);return(window.ActiveXObject||"ActiveXObject"in window)&&(t=!0),e.map(function(e){return"modelName"==e.dataIndex?(0,i.default)({},e,{title:"",width:"100%",className:"modelName "+(t?"ie":""),render:function(e,t,n){return y.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@c37nwf",className:"modelTable-row"},y.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@zr5asq",className:"modelTable-col"},y.default.createElement("p",{className:"modelTable-name",onMouseOver:o.setRowColor,onMouseOut:o.moveRowColor,title:t.modelName,onClick:function(){return o.showModel(t.modelImagefileId)}},t.modelName),y.default.createElement("div",{className:"modelTable-bottom"},y.default.createElement("span",null,P(271,"创建者"),"：",t.createridspan),y.default.createElement("span",{className:"keyWords"},P(2095,"关键字"),"：",t.modelKeyword),y.default.createElement("span",{className:"icon"},y.default.createElement("i",{className:"icon-coms-replace icon-replace",title:P(84563,"替换"),onClick:function(){return o.replaceModel(t)}})))))}}):void 0})},o.setRowColor=function(){jQuery(".OdocModelAndSensitivelList .ant-table-row").css({background:"#FFF"})},o.moveRowColor=function(){jQuery(".OdocModelAndSensitivelList .ant-table-row").css({background:""})},o.getSensitiveList=function(){var e=o.props.odocModelAndSensitiveStore,t=e.allType,n=e.allSenWords,r=e.getSendWordsDatas;return y.default.createElement("div",{className:"listContent"},y.default.createElement("div",{className:"listContent-top"},y.default.createElement("span",{className:"title"},P("532144","敏感词扫描")),y.default.createElement("span",{className:"tip"},P("532145","自动识别正文中的敏感词"))),y.default.createElement("div",{className:"listContent-bottom"},y.default.createElement("div",{className:"pic-count"},y.default.createElement("span",{className:"icon"},y.default.createElement("i",{className:"Icon-coms03-Sensitive-word-search"})),y.default.createElement("div",{className:"sensitive-tip"},y.default.createElement("div",{style:{display:"inline-block",fontWeight:600}},P("532146","共发现"),y.default.createElement("span",{className:"count"}," ",t," "),P(27591,"个"),"，",P(523,"总计"),y.default.createElement("span",{className:"count"}," ",n," "),P(532147,"处敏感词。")),y.default.createElement("br",null)),y.default.createElement(S.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@a4rcid",style:{position:"absolute",top:"36px",right:"10px"},onClick:function(){r()}},P("532149","重新检查"))),t<=0&&y.default.createElement("div",{className:"listContent-noData listContent-noSenWord"},P("532150","恭喜，正文中未发现敏感词。")),t>0&&y.default.createElement("div",{className:"tableItem"},o.renderSensitveTable())))},o.showModel=function(e){window.open((0,k.default)("/spa/document/index2file.jsp?isEdit=0&imagefileId="+e+"#/main/document/fileView"))},o.renderDialog=function(){var e=o.props.odocModelAndSensitiveStore.editForm,t=e.isFormInit,n=[];return t&&e.condition.map(function(t,r){var a=[];(0,b.toJS)(t.items).map(function(t,n){"modelImagefileId"==t.domkey[0]?a.push({com:y.default.createElement(_.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@2f8vhj@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},y.default.createElement(_.WeaUpload,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaUpload@gtt77h@"+t.domkey[0],viewAttr:3,uploadUrl:"/api/doc/upload/uploadFile",category:"string",limitType:"doc,docx",editable:!0,maxFilesNumber:1,autoUpload:!0,datas:(0,b.toJS)(t.datas),showClearAll:!1,onChange:function(e,t){o.onChangeModelForm(e,t)}}),y.default.createElement("p",{style:{color:"#999","margin-top":"-30px"}},P("532151","仅支持上传doc、docx格式文件"))),col:1,center:!0}):a.push({com:y.default.createElement(_.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@ok9ipt@"+t.domkey[0],label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},y.default.createElement(C.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@wj72ih@"+t.domkey[0],fieldConfig:t,form:e})),col:1,center:!0})}),n.push(y.default.createElement(_.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@4xwxg5@"+r,needTigger:!1,title:t.title,showGroup:t.defaultshow,items:a}))}),n},o.onChangeModelForm=function(e,t){o.props.odocModelAndSensitiveStore.editForm.updateFields({modelImagefileId:{datas:t,value:e[0]}})},o.replaceModel=function(e){var t=o.props.odocModelAndSensitiveStore,n=o;showOrHideWeboffice(0),S.Modal.confirm({title:P(131329,"信息确认"),content:P(529998,"确定要用当前范文替换正文吗？"),okText:P(826,"确定"),cancelText:P(201,"取消"),onOk:function(){t.modelRepText(n.docInfo.docParam.docid,e.modelImagefileId)},onCancel:function(){showOrHideWeboffice(1)}})},o.renderSensitveTable=function(){var e=o.props.odocModelAndSensitiveStore,t=e.sensitiveTableColumns,n=e.dataSource,r=e.expandedRowKeys,a=r.split(",");return a=a.filter(function(e){return""!==e}),a=a.map(Number),y.default.createElement("div",null,y.default.createElement(_.WeaTable,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@laenct",className:"sensitiveTable",columns:(0,b.toJS)(t),defaultExpandAllRows:!1,expandedRowRender:function(e){return o.expandedRow(e)},pagination:!1,dataSource:(0,b.toJS)(n),onExpand:o.onExpand,expandedRowKeys:a,rowKey:"id"}))},o.expandedRow=function(e){var t=e.occurTextBlocks,n=[];if(t.length>0)return t.map(function(t,r){n.push(y.default.createElement("span",{className:"subListSpan subListSpan_"+e.key+" subListSpan_"+e.key+"_"+r,onClick:function(){o.clickSensitiveWord(e,r)},dangerouslySetInnerHTML:{__html:t}}))}),y.default.createElement("div",{className:"wea-table-child-acc-parent"},n)},o.clickSensitiveWord=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=o.props.odocModelAndSensitiveStore;jQuery(".subListSpan_"+e.key).removeClass("subListClick"),jQuery(".subListSpan_"+e.key+"_"+t).addClass("subListClick"),""==n&&r.removeWordView(e),r.setWordView(e.key,t+1)},o.onExpand=function(e,t){var n=o.props.odocModelAndSensitiveStore,r=n.expandedRowKeys,a=n.setMobxState;if(e){setTimeout(function(){o.clickSensitiveWord(t,0,"open")},100);a({expandedRowKeys:t.key+","+r})}else n.removeWordView(t),a({expandedRowKeys:r.replace(t.key,"")})},o.getSearchContent=function(e){var t=o.props.odocModelAndSensitiveStore,n=t.searchInputValue,r=t.doSearchOdocContent,a=t.setMobxState;return y.default.createElement("div",{className:"listContent"},y.default.createElement("div",{className:"listContent-top"},y.default.createElement("span",{className:"title"},P(532138,"公文搜索")),y.default.createElement(_.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@o7x9rh",value:n,placeholder:P("532152","请输入搜索内容或关键字"),onSearch:function(e){return r(e)},onChange:function(e){a({searchInputValue:e})}})),"-1"!=e.pages&&y.default.createElement("div",{className:"listContent-bottom"},y.default.createElement(E.default,{ecId:(o&&o.props&&o.props.ecId||"")+"_OdocSearchContentCom@7xmth9",odocSearchContent:e,onChangePage:r})),"-1"==e.pages&&y.default.createElement("div",{className:"listContent-noData"},P("532153","请输入搜索内容或关键字进行搜索。")))},o.getTempMouldList=function(){return y.default.createElement("div",{className:"listContent"},y.default.createElement(O.default,{selectvalue:o.state.selectFieldvalue}))},o.openTabList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=o.props.odocModelAndSensitiveStore;"1"==e&&"changeTab"!=t&&n.getSendWordsDatas(),jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css({display:"block"}),jQuery(".OdocModelAndSensitivelList").css({width:"520px"}),jQuery(".OdocModelAndSensitivelList .tableItem .modelTable .ant-table-body").css({height:jQuery(".OdocModelAndSensitivelList .tableItem").height()-84}),jQuery(".modelTable .modelName .modelTable-name").css({"text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"})},o.setContentIframeWidthInOdoc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("block"==jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css("display")&&"changeTab"!=t){o.closeTabList();document.getElementsByClassName("iframeDiv")[0].classList.remove("showOdocModelAndSensitivelList"),jQuery(".req-workflow-odoc").css({width:jQuery(".iframeDiv ").width()})}else{o.openTabList(e,t);document.getElementsByClassName("iframeDiv")[0].classList.add("showOdocModelAndSensitivelList"),jQuery(".req-workflow-odoc").css({width:jQuery(".iframeDiv ").width()})}},o.setContentIframeWidthInForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"block"==jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css("display")&&"changeTab"!=t?(o.closeTabList(),jQuery(".OdocModelAndSensitivelList").css({"-webkit-box-shadow":"none","box-shadow":"none",margin:0,"z-index":1}),jQuery(".wf-req-form-right").css({"z-index":"auto"}),jQuery(".wf-req-form-left-shrink").css({"z-index":999}),jQuery(".wf-req-form-left").css({"z-index":"auto"}),jQuery(".wf-req-form-right-shrink").css({"z-index":999})):(o.openTabList(e,t),o.openTabListInForm())},o.openTabListInForm=function(){"l"==o.docInfo.docParam.documentTextPosition?(jQuery(".OdocModelAndSensitivelList").css({"-webkit-box-shadow":"1px 1px 10px #b6b6b6","box-shadow":"1px 1px 10px #b6b6b6","z-index":999}),jQuery(".OdocModelAndSensitivelList").css({"margin-right":"-470px"}),jQuery(".OdocModelAndSensitivelList .ant-tabs-bar").css({float:"left"}),jQuery(".OdocModelAndSensitivelList .ant-tabs-content").css({float:"right"}),jQuery(".wf-req-form-right").css({"z-index":0}),jQuery(".wf-req-form-left-shrink").css({"z-index":0})):"r"==o.docInfo.docParam.documentTextPosition&&(jQuery(".OdocModelAndSensitivelList").css({"-webkit-box-shadow":"-1px 1px 10px #b6b6b6","box-shadow":"-1px 1px 10px #b6b6b6","z-index":999}),jQuery(".OdocModelAndSensitivelList").css({"margin-left":"-470px"}),jQuery(".wf-req-form-left").css({"z-index":0}),jQuery(".wf-req-form-right-shrink").css({"z-index":0}))},o.WfForm=window.WfForm||null,o.docInfo=o.WfForm.getOdocConfig(),o.state={showDocModel:!1,showSensitiveWords:!1,showSearchTab:!1,showTempMouldList:!1,selectFieldvalue:"-1",tabKey:"odoc"},o}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.odocModelAndSensitiveStore,o=e.tabKey,n=this.docInfo.docParam,r=n.reTextToModel,a=n.textShowSenWords,i=n.showTextSearch,s=n.isShowSelectOtherMould,l=n.hasUsedTemplet;if(this.setState({showDocModel:"1"==r,showSensitiveWords:"1"==a,showSearchTab:"1"==i,showTempMouldList:1==s&&"1"!=l,tabKey:o}),1==s&&"1"!=l?t.setMobxState({selectedTab:"3"}):"1"==r?(window.getOdocModelList=function(){setTimeout(function(){t.getMyModelList()},1e3)},t.getMyModelList()):"1"!=r&&"1"!=a?t.setMobxState({selectedTab:"2"}):"1"!=r&&"1"==a&&t.setMobxState({selectedTab:"1"}),0==s||"1"==l)this.closeTabList();else{document.getElementsByClassName("iframeDiv")[0].classList.add("showOdocModelAndSensitivelList"),jQuery(".req-workflow-odoc").css({width:jQuery(".iframeDiv ").width()})}"form"==o&&jQuery(".OdocModelAndSensitivelList").css({float:"none"}),oDocUtil.showOdocModelAndSensitivelList=!0,jQuery(".req-workflow-odoc").css({height:jQuery(".OdocModelAndSensitivelList").height(),width:jQuery(".iframeDiv").width()});var c=this.docInfo.docParam.odocTypeField,u=this.WfForm.getBrowserShowName("field"+c);t.setMobxState({searchInputValue:u})}},{key:"componentWillReceiveProps",value:function(){var e=this.props.odocModelAndSensitiveStore,t=e.searchInputValue,o=e.selectedTab,n=e.getSendWordsDatas,r=this.docInfo.docParam.odocTypeField,a=this.WfForm.getBrowserShowName("field"+r);""==t&&t!=a&&(e.setMobxState({searchInputValue:a}),"2"==o&&e.doSearchOdocContent(a));var i=this.docInfo.docParam,s=i.reTextToModel,l=i.textShowSenWords,c=i.showTextSearch,u=i.isShowSelectOtherMould,d=i.hasUsedTemplet,p=i.clickSmartOfficial,f=(i.clickQuerenSmartOfficial,i.clickCancelSmartOfficial,"1"==s),h="1"==l,m="1"==c,v=1==u&&"1"!=d,g=this.state,y=g.showDocModel,b=g.showSensitiveWords,w=g.showSearchTab,S=g.showTempMouldList;if(S==v||v?S!=v&&v&&e.setMobxState({selectedTab:"3"}):f?(e.setMobxState({selectedTab:"0"}),e.getMyModelList()):(h&&e.setMobxState({selectedTab:"1"}),h&&n()),y==f&&b==h&&w==m&&S==v||this.setState({showDocModel:f,showSensitiveWords:h,showSearchTab:m,showTempMouldList:v}),v){var _=document.getElementsByClassName("iframeDiv")[0].classList;p?(this.closeTabList(),_.remove("showOdocModelAndSensitivelList")):(this.openTabList("3","changeTab"),_.add("showOdocModelAndSensitivelList")),jQuery(".req-workflow-odoc").css({width:jQuery(".iframeDiv ").width()})}var C=this.docInfo.docParam,I=C.showMouldFieldid,k=C.isShowSelectField,T=C.selectFieldType,E=-1;-1==I?E=-1:(E=""==this.WfForm.getFieldValue("field"+I)?-1:this.WfForm.getFieldValue("field"+I),"false"==k&&""!=this.WfForm.getFieldValue("field"+I)&&(E=324==T?-1*Number(E)-100:Number(E)+100)),this.setState({selectFieldvalue:E})}},{key:"componentWillUnmount",value:function(){oDocUtil.showOdocModelAndSensitivelList=!1}},{key:"render",value:function(){var e=this,t=this.props.odocModelAndSensitiveStore,o=t.editDialogVisible,n=t.selectedTab,r=t.saveModel,a=t.setMobxState,s=t.getMyModelList,l=t.getSendWordsDatas,c=t.loading,u=t.odocSearchContent,d=t.doSearchOdocContent,p=this.state,f=p.showDocModel,h=p.showSensitiveWords,m=p.showSearchTab,v=p.showTempMouldList,g=p.tabKey,b={datas:[{key:"1",disabled:c,icon:y.default.createElement("i",{className:"icon-coms02-Save-as"}),content:P(86,"保存"),onClick:function(e){return r()}}]};return y.default.createElement("div",{className:"OdocModelAndSensitivelList"},y.default.createElement(S.Tabs,{ecId:(this&&this.props&&this.props.ecId||"")+"_Tabs@tuthym",tabPosition:"right",size:"small",activeKey:n,onChange:function(t){a({selectedTab:t,expandedRowKeys:""}),"form"==g?e.setContentIframeWidthInForm(t,"changeTab"):e.setContentIframeWidthInOdoc(t,"changeTab"),"0"==t?s():"1"==t?l():"2"==t&&d()},onTabClick:function(t){t==n&&("form"==g?e.setContentIframeWidthInForm(t,""):e.setContentIframeWidthInOdoc(t,""))}},v&&y.default.createElement(W,{tab:y.default.createElement("i",{className:"Icon-coms03-Red-formwork"}),key:"3"},this.getTempMouldList()),f&&y.default.createElement(W,{ecId:(this&&this.props&&this.props.ecId||"")+"_TabPane@riojbq",tab:y.default.createElement("i",{className:"Icon-coms03-Sample-text-list"}),key:"0"},this.getModelList()),h&&y.default.createElement(W,{ecId:(this&&this.props&&this.props.ecId||"")+"_TabPane@v03doj",tab:y.default.createElement("i",{className:"Icon-coms03-Sensitive-word-search"}),key:"1"},this.getSensitiveList()),m&&y.default.createElement(W,{ecId:(this&&this.props&&this.props.ecId||"")+"_TabPane@4hgmgg",tab:y.default.createElement("i",{className:"icon-coms02-coms-preview"}),key:"2"},this.getSearchContent(u))),o&&y.default.createElement(_.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@nrxepd",icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return a({editDialogVisible:!1,moreBtn:(0,i.default)({},b,{visible:!1})})},title:P(529906,"编辑范文"),visible:o,style:{width:640,height:300},hasScroll:!0,buttons:[y.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@1p638p@save",type:"primary",disabled:c,onClick:function(){return r()}},P(86,"保存"))],moreBtn:b,parentClassName:"editModelDialog"},this.renderDialog()))}},{key:"renderModelTable",value:function(){var e=C.WeaTableNew.WeaTable,t=this.props.odocModelAndSensitiveStore.modelTableStore;return y.default.createElement(e,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@f6lizl",className:"modelTable",comsWeaTableStore:t,getColumns:this.getModelColumns,needScroll:!0,showHeader:!1,paginationProps:{showQuickJumper:!1}})}}]),t}(g.Component))||r;t.default=R},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(6),i=n(a),s=o(3),l=n(s),c=o(1),u=n(c),d=o(2),p=n(d),f=o(4),h=n(f),m=o(5),v=n(m),g=o(7),y=n(g),b=o(8),w=o(10),S=o(9),_=o(0),C=o(13),I=n(C),k=_.WeaLocaleProvider.getLabel,T=_.WeaTools.Base64,E=(0,w.observer)(r=function(e){function t(e){(0,u.default)(this,t);var o=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return o.getHrmNameContent=function(e,t){return e.head.titlelink&&""!=e.head.titlelink?y.default.createElement("a",{target:"_Blank",href:e.head.titlelink,onClick:function(){o.userHabitCollect(e.head.titlelink,t)}},y.default.createElement("span",{dangerouslySetInnerHTML:{__html:T.decode(e.head.title)}})):y.default.createElement("span",null,y.default.createElement("span",{dangerouslySetInnerHTML:{__html:T.decode(e.head.title)}}))},o}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.odocSearchContent,n=t.onChangePage,r=o.searchResult,a=o.emptyResult,s=o.page,l=o.searchDatas;l=(0,b.toJS)(l);var c=l.maxPerPage||"",u=l.recordCount||"",d={showQuickJumper:!1,showTotal:function(e){return k("514163","共${num}页").replace("${num}",Math.ceil(e/c))}};return y.default.createElement("div",{className:"odoc-searchResult",style:{height:r&&0!=r.length&&u>c?"":"100%"}},y.default.createElement(_.WeaNewScroll,{height:"100%"},a?y.default.createElement("div",{className:"wea-content-empty"},y.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}})):y.default.createElement("div",null,r&&0!=r.length&&r.map(function(t,o){if("ROBOT"==t.schema)return y.default.createElement("div",{className:"robot-content"},y.default.createElement("iframe",{name:t.head.name,width:t.head.width||"100%",height:t.head.height,src:t.head.iframe,frameborder:"0"}));if("RSC"==t.schema)return y.default.createElement("div",{className:"content"},y.default.createElement("div",{className:"content-img"},t&&t.head&&""!=t.head.id?y.default.createElement(_.WeaAvatar,{userId:t.head.id}):y.default.createElement("img",{src:t.head.imageUrl})),y.default.createElement("div",{className:"content-detail"},y.default.createElement("p",{className:"detail-msg"},e.getHrmNameContent(t,o),y.default.createElement("span",{className:"detail-msg-gender"},t.head.gender),y.default.createElement("img",{className:"detail-addrs",src:(0,I.default)("/fullsearch/img/unit_wev8.png")}),y.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.head.org}})),t.foot&&t.foot.info&&0!=t.foot.info.length&&t.foot.info.map(function(e){return y.default.createElement("p",{className:"content-foot"},y.default.createElement("span",null,e.key,"："),y.default.createElement("p",null,e.value))})),e.getCommonComtent(t.head));var n=t.other?JSON.parse(t.other):void 0;return y.default.createElement("div",{className:"common-content"},y.default.createElement("p",{className:"common-content-top wea-f14 "},y.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.head&&t.head.type}}),y.default.createElement("a",{className:"content-link",target:"_Blank",href:t.head&&t.head.titlelink,dangerouslySetInnerHTML:{__html:t.head&&T.decode(t.head.title)}}),n&&!0===n.attachFile&&y.default.createElement("i",{style:{marginLeft:5,color:"#4d7ad8"},className:"icon-coms-currency-Enclosure"})),y.default.createElement("p",{dangerouslySetInnerHTML:{__html:t.head&&T.decode(t.contents.contents)}}),t.foot&&t.foot.info&&0!=t.foot.info.length&&t.foot.info.map(function(e){return y.default.createElement("p",{className:"conmon-content-foot"},y.default.createElement("span",null,e.key,"："),y.default.createElement("p",null,e.value))}))}))),r&&0!=r.length&&u>c&&y.default.createElement("div",{className:"result-pagination"},y.default.createElement(S.Pagination,(0,i.default)({},d,{hideFirstLast:!0,defaultCurrent:Number(s),current:Number(s),pageSize:c,total:u,onChange:function(e){n("",String(e),!0)}}))))}}]),t}(g.Component))||r;t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(0),g=v.WeaLocaleProvider.getLabel,y=function(e){function t(e){(0,s.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return o.currentSelectvalue="",o.getMouldList=function(e){var t=WfForm.getOdocConfig().docParam,n=t.workflowid,r=t.requestid,a=t.showMouldId,i=t.showMouldFieldid,s=t.isShowSelectField,l=t.selectFieldType,c=t.systemType;if(""==o.currentSelectvalue){var u=-1;-1==i?u=-1:(u=""==WfForm.getFieldValue("field"+i)?-1:WfForm.getFieldValue("field"+i),"false"==s&&""!=WfForm.getFieldValue("field"+i)&&(u=324==l?-1*Number(u)-100:Number(u)+100)),o.currentSelectvalue=u}var d={selectvalue:o.currentSelectvalue,workflowid:n,requestId:r,iseditmould:"isShowmould",searchValue:e||"",systemType:c};v.WeaTools.callApi("/api/odoc/odocSelectMould/getMouldList","POST",d).then(function(t){if(t.api_status&&t.mouldList){var n=[],r=a;!e&&t.defaultMouldId&&t.defaultMouldId>0&&(r=t.defaultMouldId+""),t.mouldList.forEach(function(e,t){var o={haschild:!1,isopen:!0,key:e.mouldid,name:e.mouldname};n.push(o)}),o.setState({treeDatas:n,selectedKeys:r?[r.toString()]:[]})}})},o.getModleListCom=function(){var e=o.state,t=e.treeDatas,n=e.selectedKeys;return m.default.createElement("div",{style:{height:"100%"}},m.default.createElement("div",{className:"title"},m.default.createElement("span",null,g("514468","选择套红模板")+"：")),m.default.createElement("div",{className:"search"},m.default.createElement(v.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@gaga4i",placeholder:g(18510,"请输入模板名称"),onSearch:function(e){o.getMouldList(e)},onEnter:function(e){o.getMouldList(e)},onSearchChange:function(e){""==e&&o.getMouldList(e)}})),t.length>0?m.default.createElement("div",{className:"list"},m.default.createElement(v.WeaTree,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTree@eexdv9",datas:t,selectedKeys:n,renderNode:function(e){return m.default.createElement("span",{title:e.name},e.name)},onSelect:function(e,t,n,r){WfForm.getOdocConfig().needReload=!1,o.getOtherMould(e)}})):m.default.createElement(v.WeaAlertPage,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaAlertPage@w34i9m",icon:"icon-coms-blank",iconSize:"65"},m.default.createElement("div",{style:{color:"#999"}},g(83553,"暂无数据"))))},o.getOtherMould=function(e){if(!o.state.loading){o.setState({selectedKeys:e});var t=void 0,n=e[0],r=WfForm.getOdocConfig().docParam,a=r.isColumnShow,i=r.isTextInFormCanEdit,s=r.isTextInForm,l=r.docid;t=i&&("1"==a||s)&&l>0?"1"==a?document.getElementsByClassName("wf-req-form-odoc-iframe")[0].contentWindow:document.getElementById("requestdocInForm").contentWindow:document.getElementsByClassName("req-workflow-odoc")[0].contentWindow,t.afterSelectMould(void 0,{id:n})}},o.setIframeWidth=function(e){var t=document.getElementsByClassName("iframeDiv")[0].classList;e?(t.remove("set-odocIframe-Width"),t.add("setOdocIframeWidth")):(t.remove("setOdocIframeWidth"),t.add("set-odocIframe-Width"))},o.setLoading=function(e){o.setState({loading:e})},window.setLoading=o.setLoading,o.state={treeDatas:[],selectedKeys:[],loading:!1},o}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.getMouldList()}},{key:"componentWillUnmount",value:function(){window.setLoading=null}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectvalue;(t!=this.currentSelectvalue||WfForm.getOdocConfig().needReload)&&(t!=this.currentSelectvalue&&(this.currentSelectvalue=t),this.getMouldList())}},{key:"render",value:function(){return m.default.createElement("div",{className:"odocTemplateList",style:{height:"100%"}},this.getModleListCom())}}]),t}(m.default.Component);t.default=y},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(9),w=o(11),S=o(144),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(S),C=y.WeaLocaleProvider.getLabel,I=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.saveModel=function(){var e=o.docInfo.docParam,t=e.docid,n=e.imagefileId,r=(0,a.default)({},o.state.form.getFormParams(),{modelImagefileId:n,textDocId:t,saveAs:2});if(!r.modelName||""==r.modelName)return b.message.warn(C("508377","有必填项没有填写"));_.saveModel(r).then(function(e){e.api_status?(b.message.success(C(22619,"保存成功！")),o.onCancel(),window.getOdocModelList&&window.getOdocModelList()):b.message.error(C(84544,"保存失败！"))})},o.onCancel=function(){var e=document.getElementsByClassName("req-workflow-odoc");e.length>0&&(e[0].style.width="100%");var t=parent.document.getElementsByClassName("saveAsModelDialog")[0],o=document.getElementById("saveAsModelCom");o&&o.parentNode.removeChild(o),t&&t.parentNode.removeChild(t);try{top.showOrHideTextInForm(!1),top.showOrHideWeboffice(1)}catch(e){parent.showOrHideTextInForm(!1),parent.showOrHideWeboffice(1)}},o.WfForm=window.WfForm||null,o.docInfo=o.WfForm.getOdocConfig(),o.state={visible:!0,form:new w.WeaForm},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;_.getModelFormItems({id:"",saveAs:1}).then(function(t){var o=[{defaultshow:!0,items:t.baseInfoItem.items,title:""}],n=new w.WeaForm;n.setCondition(o),e.setState({form:n})})}},{key:"render",value:function(){var e=this,t=this.state,o=t.visible,n=t.form,r={datas:[{key:"1",disabled:!1,icon:g.default.createElement("i",{className:"icon-coms02-Save-as"}),content:C("86","保存"),onClick:function(t){return e.saveModel()}}]};return g.default.createElement(y.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@eoztgy",icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:this.onCancel,title:C("529997","存为范文"),visible:o,style:{width:600,height:115},hasScroll:!0,buttons:[g.default.createElement(b.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@axoi7e@save",type:"primary",onClick:function(){return e.saveModel()}},C("86","保存"))],moreBtn:r,parentClassName:"saveAsModelDialog",destroyBodyOnClose:!0},n.render({center:!0}))}}]),t}(v.Component);t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(128),b=n(y),w=o(10),S=(r=(0,w.inject)("reportStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.type=e.params.id,o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.reportStore,t=e.doSearch;(0,e.setSelectedTab)(1),t({dateType:0,orgtype:1})}},{key:"render",value:function(){var e=this.props.reportStore,t=e.docChart1title,o=e.docChart2title,n=e.docChart3title,r=e.docChart1,a=e.docChart2,i=e.docChart3;return g.default.createElement("div",null,"variety"==this.type&&g.default.createElement(b.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@szb5af",title:t+"（Top10）",id:"docchart1",echart:r,needDailog:!0}),"classify"==this.type&&g.default.createElement(b.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@08as83",title:o+"（Top10）",id:"docchart2",echart:a,needDailog:!0}),"monthly"==this.type&&g.default.createElement("div",{className:"report-row div_docchart3"},g.default.createElement(b.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_FlowChartComponent@xhczk9",title:n,id:"docchart3",echart:i,needDailog:!0})))}}]),t}(v.Component))||a)||a;t.default=S},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(145),_=n(S),C=o(169),I=n(C),k=o(90),T=o(0),E=o(13),D=n(E),O=T.WeaLocaleProvider.getLabel,P=(r=(0,w.inject)("registDocStore"))(a=(0,w.observer)(a=function(e){function t(){var e,o,n,r;(0,d.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),n.getTopBtns=function(){var e=n.props.registDocStore,t=e.showRegistDialog,o=e.delList;return[{isDropDown:!1,icon:b.default.createElement("i",{className:"icon-coms-shouxie"}),title:O("510164","来文登记"),onClick:t,needCheck:!1},{isDropDown:!1,icon:b.default.createElement("i",{className:"icon-coms-Delete"}),title:O("32136","批量删除"),onClick:function(e){return(0,k.affirmDeleted)(function(){return o(e.join(","))})},needCheck:!0}]},n.onOperatesClick=function(e,t){var o=n.props.registDocStore,r=o.delList,a=o.getRegistrationFormData;if(o.type=e.receive_doc_type,"0"==t)o.selectRowId=[e.id],o.document_identifier=e.document_identifier,a();else if("1"==t)o.isReceivecheck=!0,o.selectRowId=[e.id],a();else if("2"==t){var i={content:O("15097","确定要删除吗？")};(0,k.affirmDeleted)(function(){return r(e.id)},i)}},n.getOtherDom=function(){return b.default.createElement(I.default,{ecId:(n&&n.props&&n.props.ecId||"")+"_ReceiveRegistDialog@3odgzu"})},n.getColumn=function(e){return e.map(function(e){return"document_title"==e.dataIndex?(0,s.default)({},e,{title:e.title,render:function(e,t){var o="1";return""==t.registration_processing&&(o="0"),b.default.createElement("a",{title:t.document_title,onClick:function(){return n.onOperatesClick(t,o)}},t.document_title)}}):e})},r=o,(0,m.default)(n,r)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.registDocStore.setMobxState)({getDatas:this.baseTableComp&&this.baseTableComp.wrappedInstance.getTableDatasByDirect})}},{key:"componentWillUnmount",value:function(){this.props.registDocStore.setMobxState({getDatas:function(){}})}},{key:"render",value:function(){var e=this;return b.default.createElement(_.default,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_BaseTableComp@6e6b4c",getColumns:this.getColumn,topTitle:O("33788","收文登记"),searchType:["base","advanced"],getTopBtns:this.getTopBtns,tabKey:"customTabId",baseSearchName:"title",searchFormUrl:"/api/offical/receiveDoc/condition",tableUrl:"/api/offical/receiveDoc/getList",ref:function(t){return e.baseTableComp=t},showCustomCol:!0,showExportTable:!0,moreTimeGetCondition:!1,onOperatesClick:this.onOperatesClick,tableParams:{menuType:"receiptRegistration"},getOtherDom:this.getOtherDom,searchParams:{menuType:"receiptRegistration"}},this.props))}},{key:"openWorkflow",value:function(e){window.open((0,D.default)("/workflow/request/ViewRequestForwardSPA.jsp?requestid="+e))}}]),t}(y.Component))||a)||a;t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(3),a=n(r),i=o(1),s=n(i),l=o(2),c=n(l),u=o(4),d=n(u),p=o(5),f=n(p),h=o(7),m=n(h),v=o(0),g=o(9),y=v.WeaLocaleProvider.getLabel,b=function(e){function t(e){(0,s.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return o.removeDialog=function(){try{var e=document.getElementsByClassName("uploadDocComponent")[0];null==e&&(e=parent.document.getElementsByClassName("uploadDocComponent")[0]);var t=document.getElementById("uploadDocComponent");t.parentNode.removeChild(t),e.parentNode.removeChild(e)}catch(e){window.console}},o.state={limitType:"docx,doc,wps",loading:!0},o}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("uploadDocComponent"),t="";e&&e.getAttribute("limitType")&&(t=e.getAttribute("limitType")),this.setState({loading:!1,limitType:t})}},{key:"render",value:function(){var e=this,t=this.state,o=t.loading,n=t.limitType;return m.default.createElement(v.WeaDialog,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@q792ce",title:y("20798","上传文件"),icon:"icon-coms-official",onCancel:this.removeDialog,visible:!0,style:{width:500,height:300},hasScroll:!0,maskClosable:!0,parentClassName:"uploadDocComponent"},!o&&m.default.createElement("div",{style:{display:"inline-block",width:"80px",height:"35px",margin:"130px 210px"}},m.default.createElement(v.WeaUpload,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaUpload@h30ct8",uploadUrl:"/api/doc/upload/uploadFile",category:"string",maxFilesNumber:1,maxUploadSize:100,listType:"list",limitType:n,clearWhenReset:!1,showClearAll:!0,onChange:function(t,o){return e.onChange(t,o)}},m.default.createElement(g.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@fqh73m",type:"primary"},y(125333,"选择文件")))))}},{key:"onChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],o=t[0]&&t[0].fileExtendName;if(0==e.length)return void g.message.error("25389","上传失败");this.removeDialog(),window.uploadLoacalFile(e[0],o)}}]),t}(h.Component);t.default=b},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(8),S=o(10),_=o(9),C=o(0),I=o(11),k=o(516),T=n(k),E=o(517),D=n(E),O=o(13),P=n(O),W=C.WeaLocaleProvider.getLabel,R=_.Tabs.TabPane,A=(r=(0,S.inject)("odocModelAndSensitiveStore"))(a=(0,S.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getModelList=function(){var e=o.props.odocModelAndSensitiveStore.modelTableStore,t=e.count;return b.default.createElement("div",{className:"listContent"},b.default.createElement("div",{className:"listContent-top"},b.default.createElement("span",{className:"title"},"范文列表"),b.default.createElement(C.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@j7eb7r",placeholder:"请输入正文内容或关键字搜索",onSearch:o.onSearch})),t>0&&b.default.createElement("div",{className:"listContent-bottom"},b.default.createElement("div",{className:"pic-count"},b.default.createElement("span",{className:"icon"},b.default.createElement("i",{className:"icon-coms02-coms-preview"})),b.default.createElement("div",{style:{display:"inline-block",marginRight:"15px"}},b.default.createElement("div",{style:{display:"inline-block",fontWeight:600}},"共计",b.default.createElement("span",{className:"count"}," ",t," "),"篇范文。"),b.default.createElement("br",null),b.default.createElement("span",{style:{color:"rgba(167, 165, 165, 0.647058823529412)"}},"点击范文标题可预览范文"))),b.default.createElement("div",{className:"tableItem"},o.renderModelTable())),t<=0&&b.default.createElement("div",{className:"listContent-noData"},"您还未添加过范文。"))},o.getModelColumns=function(e){var t=o.props.odocModelAndSensitiveStore.editModel;return e.map(function(e){if("modelName"==e.dataIndex)return(0,s.default)({},e,{title:"",width:"100%",className:"modelName",render:function(e,n,r){return b.default.createElement("span",null,b.default.createElement(_.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@c37nwf",className:"modelTable-row"},b.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@zr5asq",className:"modelTable-col"},b.default.createElement("p",{className:"modelTable-name",onMouseOver:o.setRowColor,onMouseOut:o.moveRowColor,title:n.modelName,onClick:function(){return o.showModel(n.modelDocId)}},n.modelName),b.default.createElement("div",{className:"modelTable-bottom"},b.default.createElement("span",null,"创建者：",n.createridspan),b.default.createElement("span",{className:"keyWords"},"关键字：",n.modelKeyword),b.default.createElement("span",{className:"icon"},"1"==n.isMyModelIdspan&&b.default.createElement("i",{className:"icon-coms-edit icon-edit",onClick:function(){return t(n.id)}}),"     ",b.default.createElement("i",{className:"icon-coms-replace icon-replace",onClick:function(){return o.replaceModel(n)}}))))))}})})},o.getSensitiveList=function(){return b.default.createElement("div",{className:"sensitiveList"},b.default.createElement("div",{className:"sensitive-top"},b.default.createElement("span",{className:"title"},"敏感词扫描")),b.default.createElement("div",{className:"sensitive-bottom"},b.default.createElement("div",{className:"pic-count"},b.default.createElement("span",{className:"icon"},b.default.createElement("i",{className:"icon-coms02-coms-preview"})),b.default.createElement("div",{style:{display:"inline-block",marginRight:"15px"}},b.default.createElement("div",{style:{display:"inline-block",fontWeight:600}},"共发现",b.default.createElement("span",{className:"count"}," 6 "),"个，总计",b.default.createElement("span",{className:"count"}," 18 "),"处敏感词。"),b.default.createElement("br",null),b.default.createElement("span",{style:{color:"rgba(167, 165, 165, 0.647058823529412)"}},"点击敏感词进行定位查看")),b.default.createElement(_.Button,{style:{marginTop:"-30px"}},"重新检查"))))},o.showModel=function(e){window.open((0,P.default)("/odoc/odoc/index_odoc4formShow.jsp?id="+e))},o.renderDialog=function(){var e=o.props.odocModelAndSensitiveStore.editForm,t=e.isFormInit,n=[];return t&&e.condition.map(function(t,r){var a=[];t.items.map(function(t,n){"modelDocId"==t.domkey[0]?a.push({com:b.default.createElement(C.WeaFormItem,{ecId:"Demo_WeaFormItem@jsxoq6@"+r+"@"+n,label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},b.default.createElement(C.WeaUpload,{viewAttr:3,uploadUrl:"/api/doc/upload/uploadFile",category:"string",limitType:"doc,docx",editable:!0,maxFilesNumber:1,autoUpload:!0,datas:(0,w.toJS)(t.datas),showClearAll:!1,onChange:function(e,t){setMobxState({fileList:e[0]?t:[]}),o.onChangeModelForm(e,t)}}),b.default.createElement("p",{style:{color:"#999","margin-top":"-30px"}},"仅支持上传doc、docx格式文件")),col:1,center:!0}):a.push({com:b.default.createElement(C.WeaFormItem,{ecId:"Demo_WeaFormItem@jsxoq6@"+r+"@"+n,label:""+t.label,labelCol:{span:""+t.labelcol},ratio1to2:!0,error:e.getError(t),tipPosition:"bottom",wrapperCol:{span:""+t.fieldcol}},b.default.createElement(I.WeaSwitch,{ecId:"Demo_WeaSwitch@r2lhga@"+r+"@"+n,fieldConfig:t,form:e})),col:1,center:!0})}),n.push(b.default.createElement(C.WeaSearchGroup,{ecId:"Demo_WeaSearchGroup@3y8h9i@"+r,needTigger:!1,title:t.title,showGroup:t.defaultshow,items:a}))}),n},o.onChangeModelForm=function(e,t){o.props.odocModelAndSensitiveStore.editForm.updateFields({modelDocId:{datas:t}})},o.replaceModel=function(e){var t=o.props,n=t.odocModelAndSensitiveStore,r=t.odocInfo;_.Modal.confirm({title:W(131329,"信息确认"),content:W("","确定要用当前范文替换正文吗？"),okText:W(826,"确定"),cancelText:W(201,"取消"),onOk:function(){n.modelRepText(r.docParam.docid,e.modelImagefileId)},onCancel:function(){}})},o.onSearch=function(e){},o.tabChange=function(e){var t=o.props.odocModelAndSensitiveStore,n=t.getMyModelList;switch(o.setState({hideList:!1}),e){case"-1":break;case"0":n()}},o.onExpend=function(e){var t=o.props.odocModelAndSensitiveStore,n=t.selectedTab,r=t.setMobxState,a=o.state.hideList;if(e==n&&o.setState({hideList:!a}),r({selectedTab:e}),window.wps){var i=wps.WpsApplication().ActiveDocument,s=JSON.parse(wps.PluginStorage.getItem(i.DocID)),l=s.moduleTaskpaneId;if(l){var c=wps.GetTaskPane(l);c.Visible=!0,c.Width=a?60:o.widthObj[e],c.DockPosition=0,document.body.width=o.widthObj[e]+"px"}}},o.isLoading=!1,o.widthObj={"-3":300,"-2":800,"-1":300,0:800,1:500},o.state={hideList:!1},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){document.body.style.width="300px"}},{key:"componentDidMount",value:function(){this.props.odocModelAndSensitiveStore}},{key:"componentDidUpdate",value:function(){var e=this.state.hideList,t=this.props.odocModelAndSensitiveStore,o=t.selectedTab;e&&(document.body.style.width="60px"),!e&&(document.body.style.width=this.widthObj[o]+"px")}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.odocModelAndSensitiveStore,o=t.editDialogVisible,n=t.tabs,r=t.selectedTab,a=t.saveModel,i=t.setMobxState,l={datas:[{key:"1",disabled:!1,icon:b.default.createElement("i",{className:"icon-coms02-Save-as"}),content:"保存",onClick:function(e){return a()}}]};return b.default.createElement("div",{className:"odoc-wpsJsApi"},b.default.createElement(_.Tabs,{tabPosition:"left",size:"small",datas:n,keyParam:"viewcondition",selectedTab:r,onChange:this.tabChange,onTabClick:this.onExpend},b.default.createElement(R,{tab:b.default.createElement("i",{className:"Icon-coms03-Red-formwork"}),key:"-1"},b.default.createElement(T.default,{onExpend:this.onExpend,refs:function(t){return e.selectModule=t},widthObj:this.widthObj})),b.default.createElement(R,{tab:b.default.createElement("i",{className:"Icon-coms03-Sample-text-list"}),key:"-3"},b.default.createElement(D.default,null))),o&&b.default.createElement(C.WeaDialog,{icon:"icon-coms-official",iconBgcolor:"#f14a2d",onCancel:function(){return i({editDialogVisible:!1,moreBtn:(0,s.default)({},l,{visible:!1})})},title:"编辑范文",visible:o,style:{width:640,height:300},hasScroll:!0,buttons:[b.default.createElement(_.Button,{type:"primary",onClick:function(){return a()}},"保存")],moreBtn:l,parentClassName:"editModelDialog"},this.renderDialog()))}},{key:"renderModelTable",value:function(){var e=WeaTableNew.WeaTable,t=this.props.odocModelAndSensitiveStore.modelTableStore;return b.default.createElement(e,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@f6lizl",className:"modelTable",comsWeaTableStore:t,getColumns:this.getModelColumns,needScroll:!0,showHeader:!1,paginationProps:{showQuickJumper:!1}})}}]),t}(y.Component))||a)||a;t.default=A},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(65),i=n(a),s=o(66),l=n(s),c=o(34),u=n(c),d=o(3),p=n(d),f=o(1),h=n(f),m=o(2),v=n(m),g=o(4),y=n(g),b=o(5),w=n(b),S=o(7),_=n(S),C=o(9),I=o(0),k=o(16),T=o(221);o(147);var E=I.WeaLocaleProvider.getLabel,D=(0,k.withRouter)(r=function(e){function t(e){var o=this;(0,h.default)(this,t);var n=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.selectTemplate=function(e){n.setState({selectTemplateId:e});var t={opeart:"useTemplate",datas:{showModuleId:e}};n.handleOaMessage((0,u.default)(t))},n.onTemplateSearch=function(e){var t=n.templatebakData.filter(function(t){return t.mouldname.includes(e)});n.setState({templateDatas:t})},n.getTemplateData=function(){var e=n.props.location.query,t=e.selectValue,o=e.workflowid,r=e.isUseTempletNode,a=e.requestid,i={selectvalue:t,workflowid:o,iseditmould:"false"!=r?"isShowmould":"isEditMould",requestid:a};I.WeaTools.callApi("/api/odoc/odocSelectMould/getMouldList","POST",i).then(function(e){e.api_status&&(n.templatebakData=e.mouldList||[],n.setState({templateDatas:e.mouldList}))})},n.handleOaMessage=function(){var e=(0,l.default)(i.default.mark(function e(t){var r,a,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.location.query,a=r.isStartNode,s=r.secid,l=r.docid,c=r.workflowid,u=r.requestid,d=r.nodeid,p=r.extendName,f=r.hasUsedTemplet,h=r.imagefileId,m=r.fileName,v=r.openRevision,g=r.isUseTempletNode,y=window.location.protocol+"//"+window.location.host,n.isLoading&&wps.alert("上一个操作还没有完成"),b={secid:s,docid:l,workflowid:c,requestid:u,nodeid:d,extendName:p,docSubject:m},w=JSON.parse(t),e.t0=w.opeart,e.next="onSave"===e.t0?9:"useTemplate"===e.t0?11:"cancelUseTemplate"===e.t0?14:"signature"===e.t0?16:18;break;case 9:return l>-1&&"true"==g?T.wpsOnlineEdit.OnBtnSaveToServer(b):T.wpsOnlineEdit.onSave(f,function(e){return T.wpsOperat.onSaveCallBack(e,b)}),e.abrupt("break",18);case 11:return S="true"!=a?n.getTaohongPath(w.datas.showModuleId,h):n.getDownloadpath("editMould",w.datas.showModuleId),"string"==typeof S?T.wpsOnlineEdit.openLocalFile(S,"true"==v):wps.WpsApplication().ActiveDocument.Bookmarks.Item("quanwen")?(T.wpsOnlineEdit.openLocalFile(S.documentDownloadLink,"true"==v),T.wpsOnlineEdit.useTemplet(y+S.mouldDownloadLink)):T.wpsOnlineEdit.useTemplet(y+S.mouldDownloadLink),e.abrupt("break",18);case 14:return T.wpsOnlineEdit.cancelUseTemplate(),e.abrupt("break",18);case 16:return T.wpsOnlineEdit.insertPictureSignature(w.datas.path,"true"==v),e.abrupt("break",18);case 18:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),n.templatebakData=[],n.state={templateDatas:[],selectTemplateId:""},n}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.query;(0,T.setWpsOnlineEditPageId)(t.pageId),this.timer=setInterval(function(){var o=wps.PluginStorage.getItem("wpsMessage"+t.pageId);o&&(wps.PluginStorage.setItem("wpsMessage"+t.pageId,null),e.handleOaMessage(o))},500),this.getTemplateData()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.templateDatas,o=this.props,n=o.location.query,r=o.onExpend,a=n.isUseTempletNode,i=n.selectTemplateId,s=n.docid,l="true"==a||s<0;return _.default.createElement("div",{className:"sensitiveList"},_.default.createElement("div",{className:"sensitive-top"},_.default.createElement("span",{className:"title"},"true"==a?E("","套红模板"):s<0?E("","编辑模板"):E("","选择模板")),_.default.createElement(C.Icon,{type:"menu-fold",style:{fontSize:"16px",float:"right",marginTop:"12px",marginRight:"15px",fontWeight:"bold"},onClick:function(){return r("-1")}})),_.default.createElement("div",{style:{padding:"5px 10px"}},_.default.createElement(I.WeaInputSearch,{placeholder:E("","请输入模板名称搜索"),onSearch:this.onTemplateSearch,onSearchChange:this.onTemplateSearch,style:{width:"100%"}})),_.default.createElement("div",{className:"sensitive-bottom"},l&&t.map(function(t){return _.default.createElement(C.Col,{className:"templateList"+(i==t.mouldid?" templateSelected":""),key:t.mouldid,onClick:function(){return e.selectTemplate(t.mouldid)}},t.mouldname)})))}},{key:"getDownloadpath",value:function(e,t){var o="";return jQuery.ajax({type:"POST",url:"/odoc/docs/odocSetUserInfoAjax.jsp?date="+(new Date).getTime(),data:{action:"setUserInfo"},async:!1,cache:!1,dataType:"json",success:function(n){1==n.success?e&&""!=e&&t&&""!=t?o="/weaver/weaver.file.FileDownloadForNews?uuid="+n.uuid+"&fileid="+t+"&type="+e+"&fromWpsJsAPI=1":t&&""!=t&&(o="/weaver/weaver.file.FileDownloadForNews?uuid="+n.uuid+"&fileid="+t+"&type=document&fromWpsJsAPI=1"):window.console&&window.console.log("getDownloadLink:获取用户信息失败,没有权限打开文档")}}),o}},{key:"getTaohongPath",value:function(e,t){var o={};return e<=0||t<=0?o:(jQuery.ajax({type:"POST",url:"/odoc/docs/odocSetUserInfoAjax.jsp?date="+(new Date).getTime(),data:{action:"setUserInfo",isBatch:"1"},async:!1,cache:!1,dataType:"json",success:function(n){1==n.success?(o.mouldDownloadLink="/weaver/weaver.file.FileDownloadForNews?uuid="+n.uuid+"&fileid="+e+"&type=showMould&fromWpsJsAPI=1",o.documentDownloadLink="/weaver/weaver.file.FileDownloadForNews?uuid="+n.uuid2+"&fileid="+t+"&type=document&fromWpsJsAPI=1"):window.console&&window.console.log("getDownloadLink:获取用户信息失败,没有权限打开文档")}}),o)}}]),t}(S.Component))||r;t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(65),i=n(a),s=o(66),l=n(s),c=o(3),u=n(c),d=o(1),p=n(d),f=o(2),h=n(f),m=o(4),v=n(m),g=o(5),y=n(g),b=o(7),w=n(b),S=o(0),_=o(9),C=o(16);o(147);var I=o(221),k=S.WeaLocaleProvider.getLabel,T=(0,C.withRouter)(r=function(e){function t(e){var o=this;(0,p.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.onSigntura=function(){var e=n.props.location.query,t=n.state.signatureId,o={action:"setUserInfo"};S.WeaTools.callApi("/odoc/docs/odocSetUserInfoAjax.jsp","POST",o).then(function(o){var n=window.location.protocol+"//"+window.location.host,r=n+"/weaver/weaver.file.FileDownloadForNews?uuid="+o.uuid+"&type=pictureSign&markId="+t;I.wpsOnlineEdit.insertPictureSignature(r,"true"==e.openRevision)})},n.onChange=function(e){n.setState({signatureId:e})},n.handleOaMessage=function(){var e=(0,l.default)(i.default.mark(function e(t){var r,a,s,l,c,u,d,p,f,h,m,v,g,y,b,w,S;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.location.query,a=r.isStartNode,s=r.secid,l=r.docid,c=r.workflowid,u=r.requestid,d=r.nodeid,p=r.extendName,f=r.hasUsedTemplet,h=r.imagefileId,m=r.fileName,v=r.openRevision,g=r.isUseTempletNode,y=window.location.protocol+"//"+window.location.host,t){e.next=5;break}return e.abrupt("return");case 5:b={secid:s,docid:l,workflowid:c,requestid:u,nodeid:d,extendName:p,docSubject:m},w=JSON.parse(t),e.t0=w.opeart,e.next="onSave"===e.t0?10:"useTemplate"===e.t0?12:"cancelUseTemplate"===e.t0?15:"signature"===e.t0?17:19;break;case 10:return l>-1&&"true"==g?I.wpsOnlineEdit.OnBtnSaveToServer(b):I.wpsOnlineEdit.onSave(f,function(e){return I.wpsOperat.onSaveCallBack(e,b)}),e.abrupt("break",19);case 12:return S="true"!=a?n.getTaohongPath(w.datas.showModuleId,h):n.getDownloadpath("editMould",w.datas.showModuleId),"string"==typeof S?I.wpsOnlineEdit.openLocalFile(S,"true"==v):wps.WpsApplication().ActiveDocument.Bookmarks.Item("quanwen")?(I.wpsOnlineEdit.openLocalFile(S.documentDownloadLink,"true"==v),I.wpsOnlineEdit.useTemplet(y+S.mouldDownloadLink)):I.wpsOnlineEdit.useTemplet(y+S.mouldDownloadLink),e.abrupt("break",19);case 15:return I.wpsOnlineEdit.cancelUseTemplate(),e.abrupt("break",19);case 17:return I.wpsOnlineEdit.insertPictureSignature(w.datas.path,"true"==v),e.abrupt("break",19);case 19:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),n.state={signatureId:"",option:[],hasSignatureSucceed:!1},n}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.query,o="true"==t.isSignatureNodes;(0,I.setWpsOnlineEditPageId)(t.pageId),(0,I.setIsSignature)(o),this.timer=setInterval(function(){var o=wps.PluginStorage.getItem("wpsMessage"+t.pageId);o&&(wps.PluginStorage.setItem("wpsMessage"+t.pageId,null),e.handleOaMessage(o))},500),o&&S.WeaTools.callApi("/api/odoc/OdocWps/getPictureSignature","POST").then(function(t){if(t.api_status){var o=[];t.markList.map(function(e){o.push({showname:e.showName,key:e.key})}),e.setState({option:o})}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.option,o=e.signatureId;return w.default.createElement("div",{style:{padding:"10px 15px"}},w.default.createElement("div",null,k("","选择签章图片")),w.default.createElement(S.WeaSelect,{options:t,value:o,style:{width:"100%",marginTop:"10px"},onChange:this.onChange}),w.default.createElement("div",{style:{textAlign:"right",marginTop:"10px"}},w.default.createElement(_.Button,{type:"primary",onClick:this.onSigntura,disabled:""==o},k("","签章"))))}}]),t}(b.Component))||r;t.default=T},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(20),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(0),C=o(10),I=o(9),k=o(16),T=o(171),E=n(T),D=o(13),O=n(D),P=_.WeaLocaleProvider.getLabel,W=(r=(0,C.inject)("centerStore"),(0,k.withRouter)(a=r(a=(0,C.observer)(a=function(e){function t(e){(0,f.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return o.state={visible:!1,path:""},o}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.props.centerStore.buildSearchCondition()}},{key:"render",value:function(){var e=this,t=this.props.centerStore,o=this.state,n=o.visible,r=o.path,a=window.location,i=a.protocol,s=a.host,l=i+"//"+s+(0,O.default)("/spa/odoc/static/index.html#")+r,c=t.searchStore,u=t.getSearchsBaseValue,d=t.setSearchsBaseValue;return S.default.createElement(w.Fragment,null,S.default.createElement(_.WeaDialog,{visible:n,url:l,style:{width:1400,height:700},icon:"icon-coms-official",iconBgcolor:"#f14a2d",title:P("383001","公文库"),onCancel:function(){return e.setState({visible:!1})}}),S.default.createElement(I.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@h0vxra",className:"wea-odoc-center-right-row"},S.default.createElement(_.WeaSearchPanel,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaSearchPanel@bq9r1m",searched:c.searched,inputValue:u(),onSearch:function(t){return e.jumpToLibraryForOdocSubject(t)},onSearchChange:function(e){return d(e)},buttonsAd:this.renderSearchAdButtons(),searchsAd:S.default.createElement(E.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_SearchComponent@glwui6",searchStore:c,listStore:t}),visible:c.showSearchAd,onVisibleChange:function(e){return c.changeShowSearchAd(e)}})))}},{key:"renderSearchAdButtons",value:function(){var e=this,t=this.props.centerStore;return[S.default.createElement(I.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@2a1oc8@search",type:"primary",onClick:function(){return e.jumpToLibrary()}},P("197","搜索")),S.default.createElement(I.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@efsm7p@reset",type:"ghost",onClick:function(){return t.resetForm()}},P("2022","重置")),S.default.createElement(I.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@sa30bo@cancel",type:"ghost",onClick:function(){t.resetForm(),t.searchStore.changeShowSearchAd(!1)}},P("31129","取消"))]}},{key:"jumpToLibraryForAll",value:function(){var e=this.props.centerStore,t=e.searchStore.form.getFormDatas(),o=t.odoctype.value[0];if("1"==o){var n="",r="";t.odoctype.value[1]&&(n=t.odoctype.value[1][0],r=t.odoctype.value[1][1]),o=o+"|"+n+"|"+r}var a=t.topictype.value[0];if("1"==a){var i="",s="";t.topictype.value[1]&&(i=t.topictype.value[1][0],s=t.topictype.value[1][1]),a=a+"|"+i+"|"+s}var l=t.writtendateselect.value[0];"6"==l&&t.writtendateselect.value[1]&&""!==t.writtendateselect.value[1][0]&&""!==t.writtendateselect.value[1][1]&&(l=l+"|"+t.writtendateselect.value[1][0]+"|"+t.writtendateselect.value[1][1]),this.jumpToLibrary(t.odocSubject.value,o,a,t.dispatchnum.value,l,t.readstatus.value)}},{key:"jumpToLibrary",value:function(e,t,o,n,r,a){var i=this.props,l=i.centerStore,u=i.location,d=l.searchStore.form.getFormParams(),p=(0,c.default)({},d,{odocSubject:e,odoctype:t,topictype:o,dispatchnum:n,writtendateselect:r,readstatus:a}),f="";(0,s.default)(p).forEach(function(e){f+=e+"="+(p[e]||"")+"&"});var h={pathname:"/main/offical/odocLibraryNew",query:p};u.pathname.includes("odocCenter")?this.setState({visible:!0,path:"/main/offical/odocLibraryNew?"+f+"inDialog=true"}):k.hashHistory.push(h)}},{key:"jumpToLibraryForOdocSubject",value:function(e){this.jumpToLibrary(e)}}]),t}(w.Component))||a)||a)||a);t.default=W},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(222),b=n(y),w=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.params,t={tabParams:{reqType:e.id},tabUrl:"/api/odoc/odocDoclib/getNewDocLibCount",tableUrl:"/api/odoc/odocDoclib/getNewDocLibrary",tabKey:"officalType"};return g.default.createElement(b.default,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_OdocPortalCommonComp@dei4bf"},t))}}]),t}(v.PureComponent);t.default=w},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(222),b=n(y),w=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e)),n=e.params;return o.portalCompProps={tabParams:{reqType:n.id},searchParams:{officalType:n.id},tableParams:{officalType:n.id}},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return g.default.createElement(b.default,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_OdocPortalCommonComp@auxwr7"},this.portalCompProps))}}]),t}(v.PureComponent);t.default=w},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(10),b=o(8),w=o(9),S=o(0),_=o(13),C=n(_),I=S.WeaLocaleProvider.getLabel,k=(r=(0,y.inject)("odocPrintMouldStore"))(a=(0,y.observer)(a=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e)),n=o.props.location.query.requestName;return o.state={requestName:n},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.odocPrintMouldStore,t=this.props.location.query,o=t.officeType,n=t.isIE,r=t.requestid,a=t.workflowid,i=t.selectValue,s=t.printMouldid,l=t.requestName;e.getOdocIframe(o,n,r,a,i,s),e.getMouldList(i,a),document.title=I("513622","打印呈批表")+":"+l}},{key:"render",value:function(){var e=this.props,t=e.odocPrintMouldStore,o=e.location,n=t.iframeSrc,r=t.printIframe,a="wpsEditor"==o.query.officeType?[]:[g.default.createElement(w.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@4na4i8@print",type:"primary",onClick:function(){return r()}},I("257","打印"))];return g.default.createElement("div",{className:"odocPrintMouldPage"},g.default.createElement(S.WeaReqTop,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaReqTop@wk1h17",title:g.default.createElement("span",{style:{color:"#333"}},I("513622","打印呈批表")+":"+this.state.requestName),icon:g.default.createElement("i",{className:"icon-coms-official"}),iconBgcolor:"rgb(241, 74, 45)",buttons:a},g.default.createElement("div",{style:{height:"100%",borderRight:"1px solid #eaeaea"}},g.default.createElement(S.WeaLeftRightLayout,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaLeftRightLayout@i7z7et",leftWidth:230,leftCom:this.getModleList()},g.default.createElement("div",{className:"odocPrintIframe"},g.default.createElement("iframe",{className:"req-printOdocMould",src:(0,C.default)(n),style:{border:0,width:"100%",height:"100%"},title:"req-printOdocMould"}))))))}},{key:"getModleList",value:function(){var e=this.props.odocPrintMouldStore,t=e.treeDatas,o=e.getOtherMould,n=e.selectedKeys;return g.default.createElement(v.Fragment,{ecId:(this&&this.props&&this.props.ecId||"")+"_Fragment@lvrtas"},g.default.createElement("div",{className:"title"},g.default.createElement("span",null,I("","选择打印模板"))),g.default.createElement(S.WeaTree,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTree@tuglbo",datas:(0,b.toJS)(t),selectedKeys:(0,b.toJS)(n),renderNode:function(e){return g.default.createElement("span",{title:e.name},e.name)},onSelect:o}))}}]),t}(v.Component))||a)||a;t.default=k},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(6),l=r(s),c=o(3),u=r(c),d=o(1),p=r(d),f=o(2),h=r(f),m=o(4),v=r(m),g=o(5),y=r(g),b=o(7),w=r(b),S=o(10),_=o(8),C=n(_),I=o(0),k=o(19),T=n(k),E=o(223),D=r(E),O=o(240),P=r(O),W=o(243),R=r(W),A=o(244),x=r(A),L=o(245),F=r(L),M=o(146),N=r(M),j=o(246),z=r(j),B=o(248),q=r(B),K=o(249),U=r(K),V=o(250),H=r(V),G=o(251),J=r(G),Q=o(616),Y=r(Q),X=o(622),$=r(X),Z=o(624),ee=(r(Z),o(94)),te=r(ee),oe=o(252),ne=r(oe),re=I.WeaLocaleProvider.getLocaleLabelByCode,ae=I.WeaLocaleProvider.getLabel,ie=(a=(0,S.inject)("odocCompsStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.closeDialog=o.closeDialog.bind(o),o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"closeDialog",value:function(e,t){var o=this.props.odocCompsStore,n=o.dialogParam;n=C.toJS(n);var r=n[e];if(r&&r.onClose&&"function"==typeof r.onClose){var a=t||{},i=a.api_status,s=void 0!==i&&i,l=a.status,c=void 0!==l&&l;r.onClose(s||c,t)}o.setDialogVisible(e,!1)}},{key:"renderDialog",value:function(e){var t=this.props.odocCompsStore,o=t.dialogVisible,n=t.dialogInit,r=t.dialogParam,a=t.requestParam;r=C.toJS(r),a=C.toJS(a);var i=null;if(n.has(e)&&n.get(e)&&e==T.ODOC_TRANSFER_DIALOG){var s=ae("518550","公文流转"),c=r[e],u=a,d=u.requestid,p=u.workflowid,f=u.nodeid,h=u.markInfo,m=void 0===h?{}:h,v=m.remark,g=(0,l.default)({title:s,requestid:d,workflowid:p,nodeid:f,remark:v},c);i=w.default.createElement(D.default,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_OdocTransferDialog@ghs7ns"},g,{visible:o.get(e),onClose:this.closeDialog.bind(this,e)}))}return i}},{key:"render",value:function(){var e=this,t=this.props.odocCompsStore,o=t.dialogInit,n=t.dialogVisible;return w.default.createElement("div",null,o.has(T.ODOC_TRANSFER_DIALOG)&&o.get(T.ODOC_TRANSFER_DIALOG)&&this.renderDialog(T.ODOC_TRANSFER_DIALOG),o.has(T.ODOC_WITHDRAW_DIALOG)&&o.get(T.ODOC_WITHDRAW_DIALOG)&&w.default.createElement(P.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocWithdraw@pifidu",onClose:this.closeDialog.bind(this,T.ODOC_WITHDRAW_DIALOG)}),o.has(T.ODOC_WITHDRAW_MANAGER_DIALOG)&&o.get(T.ODOC_WITHDRAW_MANAGER_DIALOG)&&w.default.createElement(R.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocWithdrawManager@y5cnxk",onClose:this.closeDialog.bind(this,T.ODOC_WITHDRAW_MANAGER_DIALOG)}),o.has(T.ODOC_UPDATEOPERATOR_DIALOG)&&o.get(T.ODOC_UPDATEOPERATOR_DIALOG)&&w.default.createElement(x.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocUpdateOperator@baz5pl",dilogotherparams:{subparams:{dialogType:1}},onClose:this.closeDialog.bind(this,T.ODOC_UPDATEOPERATOR_DIALOG)}),o.has(T.ODOC_APPEND_SIGNLOG)&&o.get(T.ODOC_APPEND_SIGNLOG)&&w.default.createElement(z.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocAppend@932k7u",visible:n.get(T.ODOC_APPEND_SIGNLOG),onClose:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.closeDialog(T.ODOC_APPEND_SIGNLOG,t)}}),o.has(T.ODOC_APPEND_SIGNLOG_SELF)&&o.get(T.ODOC_APPEND_SIGNLOG_SELF)&&w.default.createElement(q.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocAppendSelf@v4hk5t",visible:n.get(T.ODOC_APPEND_SIGNLOG_SELF),onClose:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.closeDialog(T.ODOC_APPEND_SIGNLOG_SELF,t)}}),o.has(T.ODOC_UPDATE_SIGNLOG)&&o.get(T.ODOC_UPDATE_SIGNLOG)&&w.default.createElement(U.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocSignUpdate@s7451f",visible:n.get(T.ODOC_UPDATE_SIGNLOG),onClose:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.closeDialog(T.ODOC_UPDATE_SIGNLOG,t)}}),o.has(T.ODOC_FILL_REMARK_DIALOG)&&o.get(T.ODOC_FILL_REMARK_DIALOG)&&w.default.createElement(F.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocFillRemark@9flbt9",onClose:this.closeDialog.bind(this,T.ODOC_FILL_REMARK_DIALOG)}),o.has(T.ODOC_CHANGE_ODOC_TYPE_DIALOG)&&o.get(T.ODOC_CHANGE_ODOC_TYPE_DIALOG)&&w.default.createElement(N.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocTypeChangeDialog@0lyr7c",onClose:this.closeDialog.bind(this,T.ODOC_CHANGE_ODOC_TYPE_DIALOG)}),o.has(T.ODOC_ADJUST_LOG)&&o.get(T.ODOC_ADJUST_LOG)&&w.default.createElement(H.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocAdjustLog@c2rhj6",visible:n.get(T.ODOC_ADJUST_LOG),onClose:this.closeDialog.bind(this,T.ODOC_ADJUST_LOG)}),o.has(T.ODOC_ASSIGN_REMARK_LIST)&&o.get(T.ODOC_ASSIGN_REMARK_LIST)&&w.default.createElement(J.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocAssignRemarkList@0vkmln"}),o.has(T.ODOC_REJECT_DIALOG)&&o.get(T.ODOC_REJECT_DIALOG)&&w.default.createElement(Y.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocRequestReject@o5dszv",visible:n.get(T.ODOC_REJECT_DIALOG),onClose:this.closeDialog.bind(this,T.ODOC_REJECT_DIALOG)}),o.has(T.ODOC_NUMBER)&&o.get(T.ODOC_NUMBER)&&w.default.createElement(ne.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocNumber@c2rhj7",visible:n.get(T.ODOC_NUMBER),onClose:this.closeDialog.bind(this,T.ODOC_NUMBER)}),o.has(T.ODOC_DISPATCH_DOC_DIALOG)&&o.get(T.ODOC_DISPATCH_DOC_DIALOG)&&w.default.createElement($.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocDispatchComp@c2rhj7",visible:n.get(T.ODOC_DISPATCH_DOC_DIALOG),onClose:this.closeDialog.bind(this,T.ODOC_DISPATCH_DOC_DIALOG)}))}}]),t}(w.default.Component))||i)||i,se=function(e){function t(){return(0,p.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return w.default.createElement(I.WeaErrorPage,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaErrorPage@3pg8sg",msg:e?this.props.error:""+ae(385218,"对不起，该页面异常，请联系管理员！")})}}]),t}(w.default.Component),le=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.state={reRender:!1},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this;re("odoc").then(function(){return e.setState({reRender:!0})})}},{key:"render",value:function(){return w.default.createElement(S.Provider,(0,l.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Provider@s3s7k4"},te.default),w.default.createElement(ie,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocComps@o1tx0d"}))}}]),t}(w.default.Component);t.default=I.WeaTools.tryCatch(w.default,se,{error:""})(le)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(8),C=o(0),I=o(41),k=(r=(0,w.inject)("odocRequestStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getInstance=function(e,t){o.instances?o.instances[e]=t:(o.instances=[],o.instances[e]=t)},o.getViewAttrBySelected=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.selected,n=void 0!==o&&o,r=e.isModifyOperator,a=void 0===r?1:r,i=2;return 1==a||"userIds"!=t&&"ccUserIds"!=t?n&&(i=3,"ccUserIds"==t&&(i=2)):i=1,i},o.getColumns=function(){var e=o.props.odocRequestStore,t=e.tableConfig,n=e.nodeConfig;t=(0,_.toJS)(t),n=(0,_.toJS)(n);var r=t,a=r.columns,i=void 0===a?[]:a,l=r.signTypeOptions,c=void 0===l?[]:l,u=r.transferTypeOptions,d=void 0===u?[]:u,p=r.copyTypeOptions,f=void 0===p?[]:p,h=n,m=h.copyType,v=void 0===m?0:m;return i.map(function(e,t){var n=e.key;"userIds"==n||"ccUserIds"==n?e.render=function(e,r){var a=r.nodeid,i=r[n],l=r.userCopyType,c=void 0===l?"1":l,u=r.isModifyOperator,d=void 0===u?1:u,p=i.userList,h=void 0===p?[]:p,m=i.userIds,g=i.sqlwhere,y=void 0===g?"":g,w=i.sqlwhere1,k=void 0===w?"":w,T=null,E={sqlwhere:y},D={sqlwhere:k},O=o.getViewAttrBySelected(r,n),P=h&&h.length>0,W=b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"DirectionTable-browser_"+n,Comp:C.WeaBrowser,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@y4l7qi@browser@"+t,ref:o.getInstance.bind(o,a)},o.cusCompProps,{compProps:{type:17,value:m,isSingle:!1,title:(0,I.odocGetLabel)(505966,"选择人员"),onChange:function(e,t,r){r=(0,_.toJS)(r);var i={userIds:e,userNames:t,userList:r};o.onUpdateRow(a,n,i)},viewAttr:O,maxBrowerHeight:60,completeParams:(0,s.default)({},D),conditionDataParams:(0,s.default)({},E),dataParams:(0,s.default)({},E),replaceDatas:h}})),R=b.default.createElement(I.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"DirectionTable-clear-btn_"+n,otherProps:{onClilck:o.onClearRow.bind(o,a,n)}}),b.default.createElement("a",{className:"deletebtn",onClick:o.onClearRow.bind(o,a,n)},(0,I.odocGetLabel)(15504,"清空"))),A=b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"DirectionTable-copySelectCom",Comp:C.WeaSelect,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@v13v4y@"+t},o.cusCompProps,{compProps:{options:f,style:{"min-width":"100px"},value:c,viewAttr:2,onChange:function(e){o.onUpdateRow(a,"userCopyType",e)}}}));return"userIds"==n?T=1!=d&&0==h.length?b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"odoc-no-node-operator"},o.cusCompProps),b.default.createElement("div",{className:"odoc-no-node-operator"},(0,I.odocGetLabel)(533355,"未找到操作者，请联系管理员"))):b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"odoc-have-node-operator"},o.cusCompProps,{otherProps:{userCom:W,clearCom:R,showClearCom:P&&1!=O}}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@5v1foc@row@"+t,type:"flex",align:"middle"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@5xnqhz@col@"+t,span:20},W),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@by8fp5@col@"+t,span:4},P&&1!=O?R:null))):"ccUserIds"==n&&(T=3==v?b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"odoc-cs-node-operator"},o.cusCompProps,{otherProps:{userCom:W,clearCom:R,showClearCom:P&&1!=O,copySelectCom:A,showCopySelectCom:P}}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@e3812n@row@"+t,type:"flex",align:"middle"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@lv9viq@col@"+t,span:14},W),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@atczkn@col@"+t,span:3},P&&1!=O?R:null),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@atczk2@col@"+t,span:7},P?A:null))):b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"odoc-default-node-operator"},o.cusCompProps,{otherProps:{userCom:W,clearCom:R,showClearCom:P&&1!=O}}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@e3812n@row@"+t,type:"flex",align:"middle"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@lv9viq@col@"+t,span:20},W),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@atczkn@col@"+t,span:4},P&&1!=O?R:null)))),T}:"userSignType"==n?e.render=function(e,r){var a=r.nodeid,i=o.getViewAttrBySelected(r);return b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"DirectionTable-userSignType",Comp:C.WeaSelect,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@je9798@"+t},o.cusCompProps,{compProps:{options:c,style:{"min-width":"85px"},value:e,viewAttr:i,onChange:function(e){o.onUpdateRow(a,n,e)}}}))}:"userTransferType"==n&&(e.render=function(e,r){var a=r.nodeid,i=o.getViewAttrBySelected(r);return b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"DirectionTable-userTransferType",Comp:C.WeaSelect,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@sabtpl@"+t},o.cusCompProps,{compProps:{options:d,style:{"min-width":"130px"},value:e,viewAttr:i,onChange:function(e){o.onUpdateRow(a,n,e)}}}))})}),i},o.onUpdateRow=function(e,t,n){o.props.odocRequestStore.updateRow(e,t,n)},o.onClearRow=function(e,t){o.props.odocRequestStore.clearRow(e,t)},o.onSelect=function(e,t,n){var r=o.props.odocRequestStore,a=e.nodeid;r.updateSelectKeys(a,t)},o.onSelectAll=function(e,t,n){var r=o.props.odocRequestStore,a=n.map(function(e){return e.nodeid});r.updateSelectKeys(a,e)},o.getCheckboxProps=function(e){var t=e.disabled;return{disabled:void 0!==t&&t}},o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.odocRequestStore,t=e.nodeOperatorList,o=e.selectedRowKeys,n=e.tableConfig,r=void 0===n?{}:n;t=(0,_.toJS)(t),r=(0,_.toJS)(r);var a=r,i=a.tableType,l=void 0===i?"checkbox":i,c={type:l,selectedRowKeys:o,onSelect:this.onSelect,onSelectAll:this.onSelectAll,getCheckboxProps:this.getCheckboxProps};return b.default.createElement(I.OverrideWedget,(0,s.default)({compKey:"DirectionTable",Comp:C.WeaTable,ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@gwk4pc"},this.cusCompProps,{compProps:{columns:this.getColumns(),dataSource:t,rowSelection:c,pagination:!1,rowKey:"nodeid"}}))}}]),t}(b.default.Component))||a)||a;t.default=k},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(6),l=r(s),c=o(3),u=r(c),d=o(1),p=r(d),f=o(2),h=r(f),m=o(4),v=r(m),g=o(5),y=r(g),b=o(7),w=r(b),S=o(10),_=o(9),C=o(8),I=o(24),k=o(0),T=o(525),E=r(T),D=o(238),O=n(D),P=o(69),W=n(P),R=o(41),A=(a=(0,S.inject)("odocRequestStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.getExtendItem=function(e){var t=o.props.odocRequestStore,n=t.tableConfig;n=(0,C.toJS)(n);var r=n,a=r.columns,i=void 0===a?[]:a,s=i.filter(function(t){return t.key==e});return s.length>0?s[0]:null},o.onItemChange=function(e,t){var n=o.props.odocRequestStore;n.editNodeId>0?n.updateEditFormData(e,t):n.updateOperatorFormData(e,t)},o.onNodeChange=function(e){var t=o.props.odocRequestStore;e?e*=1:e=0,t.setMember({selectNodeId:e}),t.resetOperatorFormDataByKeys(["userIds","ccUserIds"])},o.getFormContent=function(){var e=o.props.odocRequestStore,t=e.tableConfig,n=e.nodeConfig,r=e.nextNodeList,a=e.selectNodeId,i=e.editNodeId,s=e.formData,c=e.formConfig;t=(0,C.toJS)(t),n=(0,C.toJS)(n),r=(0,C.toJS)(r),s=(0,C.toJS)(s),c=(0,C.toJS)(c);var u=t,d=u.columns,p=void 0===d?[]:d,f=u.signTypeOptions,h=void 0===f?[]:f,m=u.transferTypeOptions,v=void 0===m?[]:m,g=u.copyTypeOptions,y=void 0===g?[]:g,b=u.formLayout,S=void 0===b?{}:b,T=n,D=T.copyType,O=void 0===D?0:D,P=T.radio,W=void 0!==P&&P,A=S.labelCol,x=void 0===A?4:A,L=S.wrapperCol,F=void 0===L?20:L,M={labelCol:{span:x},wrapperCol:{span:F}},N=i>0?i:a,j=!1;return p.map(function(e){var t=e.key,n=e.title;if("nodename"==t){var a=r.some(function(e){var t=e.isMustSelected;return 1==(void 0===t?0:t)}),u=3;(a&&W||i>0)&&(u=1);var d=r.map(function(e){var t=e.nodeid,o=e.nodename,n=e.disabled,r=void 0!==n&&n,a=e.relateType,i=void 0===a?0:a;return{key:t,showname:o,selected:t==N,disabled:r&&2==i}});return w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-nodename-form-item",Comp:k.WeaFormItem},o.cusCompProps,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@3p68l8@",compProps:(0,l.default)({},M,{label:n})}),w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-nodename-select",Comp:k.WeaSelect},o.cusCompProps,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@06vmu8@",compProps:{detailtype:3,value:N,options:d,viewAttr:u,onChange:function(e){o.onNodeChange(e)}}})))}if("userIds"==t){var p=c,f=p.nodeid,m=(p.userCopyType,p.sqlwhere),g=void 0===m?"":m,b=p.sqlwhere1,S=void 0===b?"":b,T=p.isModifyOperator,D=void 0===T?1:T,P=s,A=P[t],L=void 0===A?{}:A,z=L.userList,B=void 0===z?[]:z,q=L.userIds,K={sqlwhere:g,refresh:f},U={sqlwhere:S,refresh:f},V=3;1!=D&&(V=1);var H={labelCol:{span:0},wrapperCol:{span:24}},G=null;return 1==V&&0==B.length?(G=w.default.createElement(R.OverrideWedget,(0,l.default)({},o.cusCompProps,{compKey:"odoc-mode2-no-node-operator"}),w.default.createElement("div",{className:"odoc-no-node-operator"},(0,R.odocGetLabel)(533355,"未找到操作者，请联系管理员"))),H=(0,l.default)({label:n},M)):G=w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-hrm-browser",Comp:E.default,ecId:(o&&o.props&&o.props.ecId||"")+"_OdocHrmBrowser@peevgv@"},o.cusCompProps,{compProps:{style:{width:"100%","margin-top":"-8px","margin-bottom":"10px"},titleWraperProps:{labelCol:x,wrapperCol:F},type:17,value:q,isSingle:!1,title:n,onChange:function(e,n,r){r=(0,C.toJS)(r);var a={userIds:e,userNames:n,userList:r};o.onItemChange(t,a)},viewAttr:V,maxBrowerHeight:60,completeParams:(0,l.default)({},U),conditionDataParams:(0,l.default)({},K),dataParams:(0,l.default)({},K),replaceDatas:B}})),w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-operate-formitem",Comp:k.WeaFormItem,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@hweb0h@"},o.cusCompProps,{compProps:(0,l.default)({},H,{className:"odoc-select-user"})}),G)}if("userSignType"==t){j=!0;var J=s,Q=J[t],Y=void 0===Q?"":Q,X=J.userTransferType,$=void 0===X?"":X,Z=o.getExtendItem("userTransferType"),ee=null,te=null;(0,I.isEmpty)(Z)||(te=Z.title,ee=w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-userSignType-transfertype",Comp:k.WeaSelect,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@zkvq4e@"},o.cusCompProps,{compProps:{options:v,value:$,viewAttr:3,onChange:function(e){o.onItemChange("userTransferType",e)}}})));var oe=w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-userSignType-select",Comp:k.WeaSelect,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@q5j3fw@"},o.cusCompProps,{compProps:{options:h,value:Y,viewAttr:3,onChange:function(e){o.onItemChange(t,e)}}}));return w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-userSignType-formitem",Comp:k.WeaFormItem,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@s82t4x@"},o.cusCompProps,{compProps:(0,l.default)({},M,{label:n}),otherProps:{transferTypeCom:ee,transferTypeInfo:Z,transferTypeTitle:te}}),w.default.createElement(_.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@r0r7c5@",type:"flex",align:"middle"},ee?[w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@nitclh@",span:5},oe),w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@zk6aee@",span:4,offset:2},te),w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@tg4wyh@",span:6},ee)]:w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@nitclh@",span:17},oe)))}if("userTransferType"==t){if(j)return null;var ne=s,re=ne[t],ae=void 0===re?"":re;return w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-userTransferType-formitem",Comp:k.WeaFormItem,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@s82t4x@"},o.cusCompProps,{compProps:(0,l.default)({},M,{label:n})}),w.default.createElement(_.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@r0r7c5@",type:"flex",align:"middle"},w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@tg4wyh@",span:17},w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-userTransferType-select",Comp:k.WeaSelect,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@zkvq4e@"},o.cusCompProps,{compProps:{options:v,value:ae,viewAttr:3,onChange:function(e){o.onItemChange(t,e)}}})))))}if("ccUserIds"==t){var ie=c,se=(ie.nodeid,ie.sqlwhere),le=void 0===se?"":se,ce=ie.sqlwhere1,ue=void 0===ce?"":ce,de=ie.isModifyOperator,pe=void 0===de?1:de,fe=s,he=fe[t],me=void 0===he?{}:he,ve=fe.userCopyType,ge=void 0===ve?"1":ve,ye=me.userList,be=void 0===ye?[]:ye,we=me.userIds,Se={sqlwhere:le},_e={sqlwhere:ue},Ce=null;3==O&&(Ce=w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-cs-copy-type",ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@zkvq4e@",Comp:k.WeaSelect},o.cusCompProps,{compProps:{options:y,value:ge,viewAttr:2,onChange:function(e){o.onItemChange("userCopyType",e)}}})));var Ie=2,ke=k.WeaBrowser,Te=(0,l.default)({label:n},M),Ee={};1!=pe&&(Ie=1,ke=E.default,Ee={labelCol:0,wrapperCol:24});var De=w.default.createElement(ke,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@t8b5bn@",type:17,value:we,isSingle:!1,title:(0,R.odocGetLabel)(505966,"选择人员"),titleWraperProps:Ee,onChange:function(e,n,r){r=(0,C.toJS)(r);var a={userIds:e,userNames:n,userList:r};o.onItemChange(t,a)},viewAttr:Ie,maxBrowerHeight:60,completeParams:(0,l.default)({},_e),conditionDataParams:(0,l.default)({},Se),dataParams:(0,l.default)({},Se),replaceDatas:be});return 1!=pe&&0==be.length?null:w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-cs-form-item",Comp:k.WeaFormItem,ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@cwlbwh@"},o.cusCompProps,{compProps:(0,l.default)({},Te),otherProps:{userInfo:me,userCopyType:ge,userCopyTypeCom:Ce,userList:be,userIds:we}}),Ce&&be.length>0?w.default.createElement(_.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@zy47t1@",type:"flex",align:"middle"},w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@dq77dp",span:10},De),w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@nt4fqu",span:6,offset:1},Ce)):w.default.createElement(_.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@zy47t1",type:"flex",align:"middle"},w.default.createElement(_.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@dq77dp",span:17},De)))}})},o.onFormCancel=function(){o.props.odocRequestStore.setMember({editNodeId:0})},o.onFormSave=function(){var e=o.props.odocRequestStore,t=e.formData,n=e.nodeConfig;t=(0,C.toJS)(t),n=(0,C.toJS)(n);var r=O.checkRequiredFail(t,n),a=r.result,i=void 0!==a&&a,s=r.message,l=void 0===s?"":s;i?W.showGlobalError(l):e.saveEditFormData()},o.onAdd2SelectedList=function(){var e=o.props.odocRequestStore,t=e.selectedList,n=e.nodeMap,r=e.selectNodeId,a=e.formData,i=e.nodeConfig;t=(0,C.toJS)(t),n=(0,C.toJS)(n),a=(0,C.toJS)(a),i=(0,C.toJS)(i);var s=n,l=s[r],c=void 0===l?"":l,u=O.checkRequiredFail(a,i),d=u.result,p=void 0!==d&&d,f=u.message,h=void 0===f?"":f,m=(0,R.odocGetLabel)(531511,"已添加，确定要覆盖吗？");p?W.showGlobalError(h):-1!=t.indexOf(r)?_.Modal.confirm({title:(0,R.odocGetLabel)(131329,"信息确认"),content:c+" "+m,onOk:function(){e.addData2SelectedList()}}):e.addData2SelectedList()},o.getFormBtns=function(){var e=o.props.odocRequestStore,t=e.editNodeId,n=e.nodeConfig;n=(0,C.toJS)(n);var r=n,a=r.radio,i=[];return a||(i=t>0?[w.default.createElement("div",null,w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-btn-cancel",Comp:_.Button,ecId:(o&&o.props&&o.props.ecId||"")+"_Button@0zywit"},o.cusCompProps,{compProps:{onClick:o.onFormCancel}}),(0,R.odocGetLabel)(31129,"取消"))),w.default.createElement("div",null,w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-btn-save",Comp:_.Button},o.cusCompProps,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@mzmk92",compProps:{type:"primary",onClick:o.onFormSave}}),(0,R.odocGetLabel)(86,"保存")))]:[w.default.createElement("div",null,w.default.createElement(R.OverrideWedget,(0,l.default)({compKey:"odoc-mode2-btn-add-transfer",Comp:_.Button,ecId:(o&&o.props&&o.props.ecId||"")+"_Button@a1rz0q"},o.cusCompProps,{compProps:{type:"primary",onClick:o.onAdd2SelectedList}}),(0,R.odocGetLabel)(520038,"添加流转")))]),i},o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){this.props.odocRequestStore;return w.default.createElement(R.OverrideWedget,{compKey:"odoc-mode2-form-render"},w.default.createElement("div",{className:"wea-form-item-group"},w.default.createElement(R.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-page-form-content"}),this.getFormContent()),w.default.createElement(R.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-page-form-btns"}),w.default.createElement("div",{className:"odoc-page-form-btns"},this.getFormBtns()))))}}]),t}(w.default.Component))||i)||i;t.default=A},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=(n(v),o(526)),y=o(527),b=n(y),w=o(9);o(599);var S=o(155),_=o(0),C=_.WeaLocaleProvider.getLabel,I=function(e){function t(){var e,o,n,r;(0,c.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(i))),n.state={browserloaded:!1,lineHeight:30,showAll:!1},n.initHeight=function(){},r=o,(0,f.default)(n,r)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.initHeight()},0)}},{key:"componentWillReceiveProps",value:function(e){var t=this;setTimeout(function(){t.initHeight()},0)}},{key:"render",value:function(){var e=this,t=this.props,o=t.dataURL,n=t.type,r=t.titleWraperProps,i=void 0===r?{}:r,s=t.replaceDatas,l=void 0===s?[]:s,c=t.defaultShowLength,u=void 0===c?10:c,d=this.state,p=(d.browserloaded,d.lineHeight),f=d.showAll,h=(0,a.default)({},S.defaultProps,{initFunc:function(t){e.setState({browserloaded:!0}),e.browser=t}},this.props,{dataURL:o||"/api/public/browser/data/"+n,searchAdFormCallbackKey:this.searchAdFormCallbackKey,urlOfIframeInDialogKey:this.urlOfIframeInDialogKey,setMinWidth:function(){}}),m=i.labelCol,v=void 0===m?4:m,y=i.wrapperCol,I=void 0===y?20:y;return this.props.viewAttr&&this.props.viewAttr<2?React.createElement("div",{className:"wea-odoc-hrm-resource"},React.createElement("div",{className:"wea-odoc-hrm-resource-head clearfix"},React.createElement(w.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@pc8m8f"},React.createElement(w.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@c961md",span:v,className:"wea-odoc-hrm-resource-title"},this.props.title||C(502894,"操作者")),React.createElement(w.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@x1pt1r",span:I,className:"wea-odoc-hrm-resource-tabs"},React.createElement("div",{style:{lineHeight:p+"px"},className:"odoc-hrm-readonly"},l.map(function(e,t){if(0==f&&t<u||1==f){var o=e.id;return React.createElement("span",{style:{marginRight:"10px"}},React.createElement("a",{href:"javaScript:openhrm("+(o||"")+");",onClick:function(e){window.pointerXY(e)}},e.name||e.lastname),React.createElement(_.WeaPopoverHrm,{inDialog:!0}))}}),l.length>u&&React.createElement("span",{title:f?"收缩":"展开",onClick:function(){e.setState({showAll:!f})}},React.createElement("i",{className:"icon-coms-right",style:{transform:"rotate("+(f?"-90":"90")+"deg)",display:"inline-block",cursor:"pointer"}}))))))):(h=(0,g.handleBrowserProps)(h),React.createElement(b.default,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Main@ya50dk"},h)))}}]),t}(React.Component);t.default=I},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.default)({},e),o=t,n=o.type,r=o.isSingle,i=o.isMultCheckbox;return t.associativeValueWrap="valueWrap"in t?t.valueWrap:(0,f.getValueWarp)(t),t.pageSize=Number(t.pageSize>0?t.pageSize:(0,f.getPageSize)(t)),t.selectedAllMaxLength=Number(t.selectedAllMaxLength>0?t.selectedAllMaxLength:(0,f.getSelectAllMaxSize)(t)),t.key=t.key||t.type,r&&(i&&(t.isMultCheckbox=!1),16==n&&(t.addSelect=!0),"hasAdvanceSearch"in t?t.hasAdvanceSearch=t.hasAdvanceSearch:"hasAdvanceSerach"in t&&(t.hasAdvanceSearch=t.hasAdvanceSerach)),r||(142==n&&(t.hasAdvanceSearch=!0),t.hasAdvanceSearch=!t.hideAdvanceSearch),1!=n&&17!=n||(t=a(t)),-1!==m.findIndex(function(e){return e==n})&&(t.isOrgInfo=!0,t.dropMenuKey="virtualCompanyid",t.handleTypes="org"),165!=n&&166!=n||(t.handleTypes="dece_hrm",t.isLoadUser=!0),-1===m.findIndex(function(e){return e==n})&&165!=n&&166!=n||(t._tabs=[{key:"2",browserProps:{displaySearchAd:!1}}]),142==n&&(t.handleTypes="normal",t.defaultCheckStrictly=!1,t.checkStrictlyKey="checkStrictly"),"systempage"==n&&(t.defaultCheckStrictly=!1,t.dropMenuKey="key"),152!=n&&171!=n||(t.addSelect=!0),161!=n&&162!=n||(t.displaySearchAdInBar=!0),t}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.default)({},e),o=t,n=o.type,r=o.dataParams,a=void 0===r?{}:r;return t.handleTypes="hrm",t.displayType="list",t.dropMenuKey=t.dropMenuKey||"virtualtype",t.showAccount="isNoAccount",t.showCheckStrictly=!0,t.hasAdvanceSearch=!0,t.destUrl="/api/public/browser/data/",t.destDataParams=(0,s.default)({},t.dataParams||{},t.destDataParams),t.virtualUrl=t.virtualUrl||"/api/public/browser/data/"+n,t.virtualParams=(0,s.default)({},t.virtualParams,{cmd:"companyvirtual"}),t.defaultCheckStrictly=!1,t.searchParams=(0,s.default)({},t.searchParams,{cmd:"search"}),t.searchAtTab="",t.hideVirtualOrg=!0,t.onOkClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length>0){var t="/api/public/browser/data/"+n,o=(0,c.default)({cmd:"addList",ids:e.join(",")},a);u.WeaTools.callApi(t,(0,f.getMethod)(t,o),o)}},(0,p.default)(t.tabs)&&(t.tabs=[{name:h(24515,"最近"),title:h(24515,"最近"),key:"1",isSearch:!1},{name:h(531084,"可选人员"),title:h(531084,"可选人员"),key:"6",isSearch:!1},{name:h(18511,"同部门"),title:h(18511,"同部门"),key:"2",isSearch:!1},{name:h(513088,"本单位"),title:h(513088,"本单位"),key:"7",isSearch:!1},{name:h(18770,"按组织结构"),title:h(18770,"按组织结构"),key:"4",isSearch:!1},{name:h(81554,"常用组"),title:h(81554,"常用组"),key:"5",isSearch:!1}]),t._tabs=[{key:"1",dataParams:{cmd:"newly"},browserProps:{showAccount:!1}},{key:"2",dataParams:{cmd:"underling"},browserProps:{hideVirtualOrg:!1}},{key:"3",dataParams:{cmd:"branch"},browserProps:{hideVirtualOrg:!1,showAllbranch:"alllevel"}},{key:"4",dataParams:{cmd:"v2resourcetree"},browserProps:{displayType:"tree",hideVirtualOrg:!1,showCheckStrictly:!0}},{key:"5",dataParams:{cmd:"v2grouptree"},browserProps:{displayType:"tree",isGroupTree:!0,showCheckStrictly:!0}},{key:"6",dataParams:{cmd:"search"},browserProps:{showAccount:!1}},{key:"7",dataParams:{cmd:"v2resourcetree",odoc:1},browserProps:{displayType:"tree",hideVirtualOrg:!1,showCheckStrictly:!0}}],window.odocTransferUtil&&window.odocTransferUtil.overrideHrmEvent&&(t=window.odocTransferUtil.overrideHrmEvent("ODOC_HRM_PROPS",t)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.orgInfoArr=void 0;var i=o(21),s=n(i),l=o(6),c=n(l);t.handleBrowserProps=r;var u=o(0),d=o(29),p=n(d),f=o(57),h=u.WeaLocaleProvider.getLabel,m=t.orgInfoArr=[4,57,167,168,164,194,169,170]},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s,l=o(23),c=r(l),u=o(6),d=r(u),p=o(20),f=r(p),h=o(3),m=r(h),v=o(1),g=r(v),y=o(2),b=r(y),w=o(4),S=r(w),_=o(5),C=r(_),I=o(7),k=r(I),T=o(148),E=(r(T),o(9)),D=o(45),O=(r(D),o(149)),P=r(O),W=o(55),R=r(W),A=o(29),x=r(A),L=o(152),F=r(L),M=o(153),N=r(M),j=o(0),z=o(155),B=o(542),q=n(B),K=o(559),U=n(K),V=o(560),H=n(V),G=o(561),J=n(G),Q=o(593),Y=n(Q),X=o(594),$=n(X),Z=o(596),ee=n(Z),te=o(598),oe=n(te),ne=o(157),re=r(ne),ae=o(236),ie=r(ae),se=j.WeaLocaleProvider.getLabel,le=(i=a=function(e){function t(e){(0,g.default)(this,t);var o=(0,S.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));s.call(o),[q,U,H,J,Y,$,ee,oe].map(function(e){(0,f.default)(e).forEach(function(t){"function"===typeof e[t]&&(o[t]=e[t].bind(o))})});var n=e.searchAdFormCallbackKey;n&&!z.formCb[n]&&(z.formCb[n]=o.onFieldsChange);var r={showDls:!1,isAccount:!1,quickSearch:e.quickSearchName||"",pageSize:e.pageSize};return E.TreeZ.loadZTree(),o.updateState(e,r,!0),o}return(0,C.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){this.setMinWidth();var e=this.props,t=e.initFunc,o=e.quickSearchName,n={quickSearch:o||""};this.updateState(this.props,n,!0),t&&t(this),this.initDatas()}},{key:"componentWillReceiveProps",value:function(e){this.setMinWidth(e),this.updateState(e),(0,P.default)(this.props.dataParams,e.dataParams)||(this.setState({activeKey:"1"}),this.initDatas())}},{key:"componentWillUnmount",value:function(){var e=this.props.searchAdFormCallbackKey;e&&z.formCb[e]&&delete z.formCb[e],this.setState({selectedDialogVisible:!1})}},{key:"setMinWidth",value:function(e){e=e||this.props,e.setMinWidth&&e.setMinWidth()}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.state.inputId,n=0,r=[];return e.forEach(function(e){e.users?r=r.concat(e.users.map(function(e){return e[o]||e.id})):r.push(e[o]||e.id)}),n+=(0,N.default)(r).length,t?n:n>0?"("+n+")":""}},{key:"render",value:function(){var e=this,t=this.props,o=t.style,n=t.titleWraperProps,r=void 0===n?{}:n,a=this.getTabsProps(),i=(a.isSingle,a.hasRadio,a.type,a.hideVirtualOrg,a.icon,a.isLoadUser,a.isImgIcon,a.topPrefix,a.checkStrictly,a.asynLoadAll,a.showCheck,a.showCheckBtn,a.displaySearchAd,a.isMultCheckbox,a.selectedAllMaxLength,a.browserTreeCustomProps,a.clickNameExpandFirst,a.showCheckStrictly,this.state),s=i.contentType,l=i.inputId,c=i.inputName,u=i.inputTop,p=i.inputBottom,f=(i.companyList,i.selectedAllCurrent,i.count,i.selectedDialogVisible),h=(i.dataOfListWithoutKeyAndPg,i.dataOfListWithoutKeyButPg,i.pageSize,i.idCache,i.nameCache,i.treeDatas,i.selectedData),m=(i.showCheckedDatas,i.defaultExpandedKeys,i.loadAllTreeData,i.leftTreeCheckedData,i.loading),v=i.activeKey,g=i.displayType,y=i.rightCheckedData,b=i.fetchDataLoading,w=r.labelCol,S=void 0===w?4:w,_=r.wrapperCol,C=void 0===_?20:_,I=y.filter(function(e){return!!e}).map(function(t){return t[e.isCrm()?"nodeid":l]});return k.default.createElement("div",{style:(0,d.default)({width:"800px"},o)},k.default.createElement(E.Spin,{ecId:(this&&this.props&&this.props.ecId||"")+"_Spin@f8srv4",size:"large",spinning:m||b},k.default.createElement("div",{className:"wea-odoc-hrm-resource"},k.default.createElement("div",{className:"wea-odoc-hrm-resource-head clearfix"},k.default.createElement(E.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@qz3z1d"},k.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@ib1u4m",span:S,className:"wea-odoc-hrm-resource-title"},this.props.title||se(502894,"操作者")),k.default.createElement(E.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@oz5nqi",span:C,className:"wea-odoc-hrm-resource-tabs"},k.default.createElement(j.WeaTab,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@zgm450",datas:this.getTabs(),keyParam:"key",selectedKey:v,onChange:this.onTabChange,autoCalculateWidth:!0})))),k.default.createElement("div",{className:"wea-odoc-hrm-resource-content clearfix ant-modal-wrap wea-browser-modal wea-browser-muli wea-browser-test-muli wea-hr-muti-input"},k.default.createElement("div",{className:"wea-hr-muti-input-left "+("tree"===g?"displayTree":"")},this.getModalMainContentLeft()),k.default.createElement("div",{className:"wea-transfer-opration"},k.default.createElement(ie.default,(0,d.default)({},this.getOprationProps(),{ecId:this.props.ecId+"_Operation@o7w69g"}))),k.default.createElement("div",{className:"wea-hr-muti-input-right"},k.default.createElement(re.default,(0,d.default)({},a,{ecId:"_SelectedList@w6drvr",data:h,inputId:l,inputName:c,inputTop:u,inputBottom:p,contentType:s,checkedKeys:I,visible:f,checkedCb:this.onSelectedListCheck,onVisibleChange:function(t){return e.setState({selectedDialogVisible:t})},onDoubleClick:this.onSelectedListDoubleClick,onSelectedGroupExpand:this.onSelectedGroupExpand,height:this.getContentHeight({showAdvanceSearch:!0}),onDrag:function(t){return e.setState({selectedData:t})}})))))))}}]),t}(k.default.Component),a.defaultProps=(0,d.default)({},z.defaultProps,{title:se(24986,"标题"),loading:!1,displayType:"list"}),s=function(){var e=this;this.state=z.defaultState,this.modules={},this.renderModules={},this.resourceCache={},this.tabConditions={},this.tabConditionsOuter={},this.initDatas=function(){var t=e.getTabsProps(),o=(t.isSingle,t.pageSize),n=t.virtualUrl,r=(t.hasLeftTree,t.defaultCheckStrictly),a=t.defaultShowDls,i=t.defaultShowAllBranch,s=t.defaultShowAccount,l=(0,d.default)({},z.initialState,{loadModal:!0,visible:!0,showDls:a,isAccount:s,showAllBranch:i,checkStrictly:r,pageSize:o});e.onTabChange(e.getDefaultActiveKey(),l,function(){e.getSelectedData(e.props.replaceDatas||[])}),n&&e.getVirtual()},this.updateState=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=(0,d.default)({},o),a=e.getDataOfProps(t,n);void 0===a||(0,P.default)(a,e.state.data)||(r.data=a),e.setState(r)},this.updateModules=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.modules=(0,d.default)({},e.modules,t)},this.getTabsProps=function(){var t=e.props,o=e.state.activeKey,n=e.getTabs();if(!(0,x.default)(n)&&o){var r=n.filter(function(e){return e.key===o})[0]||{};t=(0,d.default)({},t,r.browserProps||{})}return t},this.onChange=function(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.props,r=n.onChange,a=n.type,i=e.state,s=i.inputId,l=i.inputName,c=i.activeKey,u=i.companyList,p=i.companyId,f=[],h=[],m=[];t.forEach(function(t){if(!e.isCrm()||"resource"==t.type||"all"==t.type||!(0,x.default)(t.users)){var o=t[s]||t.id||"",n=t.orgWholePathspan||t[l+"span"]||t[l]||t.name||t.lastname||"";if("all"==t.type?f=[t.ids]:t.users?f=f.concat(t.users.map(function(e){return e[s]||e.id})):f.push(o),"systempage"===a){var r=u.find(function(e){return e.id==p})||{};t.dropMenuValue=p,t.dropMenuUrl=r.url,t.activeKey=c}h.push(n),"children"in t&&delete t.children,"subs"in t&&delete t.subs,m.push((0,d.default)({},t,{id:o,name:n}))}}),e.setState({data:m}),(0,R.default)(r)&&r(""+f,""+h,m),o&&e.closeModal()},this.onSearch=function(t,o,n){var r=e.getTabsProps();e.setState({activeKey:o||("searchAtTab"in r?r.searchAtTab:e.getDefaultActiveKey(!1)),showCheckedDatas:!1,showSearchAd:!1},function(){e.getData(e.getSearchParams((0,d.default)({},t)),n),e.weaSrcoll&&e.weaSrcoll.scrollerToTop()})},this.onFieldsChange=function(t,o){var n=e.state.quickSearch||"name",r={};if(o[n]){var a=o[n].value;(0,F.default)(a)&&(r.inputValue=a)}if(o.date2during){var i=o.date2during.value;r.date2during=i}e.setState(r)},this.isCrm=function(){var t=e.getTabsProps(),o=t.type,n=void 0===o?1:o;return 1==n||17==n},this.propsOnChange=function(){var t=e.getTabsProps(),o=e.state,n=o.selectedData,r=o.inputId,a=o.inputName,i=t.maxLength,s=(t.onBeforeBrowserOK,t.onOkClick);if(n&&Array.isArray(n)&&e.props.onChange&&(0,R.default)(e.props.onChange)){if(i&&i<e.count(n,!0))return void window.alert("所选的数量不能超过"+i+"!");var l=n.map(function(e){return e.id=e[r]||e.id,e.name=e.orgWholePathspan||e[a+"span"]||e[a]||e.name||e.lastname||"",e}),c=l.map(function(e){return e.id}),u=c.join(","),d=l.map(function(e){return e.name}).join(",");e.props.onChange(u,d,l),(0,R.default)(s)&&s(c)}},this.getOprationProps=function(){var t=e.getTabsProps(),o=(t.isSingle,t.hasRadio,t.type,t.hideVirtualOrg,t.icon,t.isLoadUser,t.isImgIcon,t.topPrefix,t.checkStrictly,t.asynLoadAll,t.showCheck,t.showCheckBtn,t.displaySearchAd,t.isMultCheckbox,t.selectedAllMaxLength),n=(t.browserTreeCustomProps,t.clickNameExpandFirst,t.showCheckStrictly,e.state),r=n.contentType,a=n.inputId,i=(n.inputName,n.inputTop,n.inputBottom,n.companyList,n.selectedAllCurrent),s=n.count,l=(n.selectedDialogVisible,n.dataOfListWithoutKeyAndPg),u=n.dataOfListWithoutKeyButPg,d=(n.pageSize,n.idCache,n.nameCache,n.treeDatas,n.selectedData),p=(n.showCheckedDatas,n.defaultExpandedKeys,n.loadAllTreeData,n.leftTreeCheckedData),f=3==r||6==r||7==r,h=e.state,m=h.leftCheckedData,v=h.leftGroupCheckedData,g=h.rightCheckedData,y=h.dataOfListWithkey,b=[].concat((0,c.default)(y),(0,c.default)(l&&l.datas||[]),(0,c.default)(u&&u.datas||[]));return{rightActiveTitle:se(384113,"添加"),rightActive:m.length>0||p.length>0||v.length>0,moveToRight:function(){return e.moveTo("right")},leftActiveTitle:se(91,"删除"),leftActive:g.length>0,moveToLeft:function(){return e.moveTo("left")},rightPageActiveTitle:se(515643,"将当页数据全部添加到右侧已选列表"),rightPageActive:!f&&b.length>0&&b.filter(function(e){return!d.some(function(t){return t[a]===e[a]})}).length>0,movePageToRight:function(){return e.moveTo("pageToRight")},canMoveAllToRight:o>0,rightAllActiveTitle:se(520388,"全部添加（一次最多添加$s条）").replace(/\$s/,o),rightAllActive:!f&&o*i<s,moveAllToRight:function(){return e.moveTo("allToRight")},leftAllActiveTitle:se(16335,"全部删除"),leftAllActive:d.length>0,moveAllToLeft:function(){return e.moveTo("allToLeft")}}}},i);t.default=E.Form.create({onFieldsChange:function(e,t){var o=e.searchAdFormCallbackKey;o&&z.formCb[o]&&z.formCb[o](e,t)}})(le)},function(e,t,o){function n(e,t,o,n,v,y){var b=c(e),w=c(t),S=b?h:l(e),_=w?h:l(t);S=S==f?m:S,_=_==f?m:_;var C=S==m,I=_==m,k=S==_;if(k&&u(e)){if(!u(t))return!1;b=!0,C=!1}if(k&&!C)return y||(y=new r),b||d(e)?a(e,t,o,n,v,y):i(e,t,S,o,n,v,y);if(!(o&p)){var T=C&&g.call(e,"__wrapped__"),E=I&&g.call(t,"__wrapped__");if(T||E){var D=T?e.value():e,O=E?t.value():t;return y||(y=new r),v(D,O,o,n,y)}}return!!k&&(y||(y=new r),s(e,t,o,n,v,y))}var r=o(133),a=o(224),i=o(532),s=o(534),l=o(83),c=o(28),u=o(103),d=o(138),p=1,f="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,g=v.hasOwnProperty;e.exports=n},function(e,t){function o(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=o},function(e,t){function o(e){return this.__data__.has(e)}e.exports=o},function(e,t){function o(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}e.exports=o},function(e,t,o){function n(e,t,o,n,r,C,k){switch(o){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!C(new a(e),new a(t)));case p:case f:case v:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case m:var T=l;case y:var E=n&u;if(T||(T=c),e.size!=t.size&&!E)return!1;var D=k.get(e);if(D)return D==t;n|=d,k.set(e,t);var O=s(T(e),T(t),n,r,C,k);return k.delete(e),O;case w:if(I)return I.call(e)==I.call(t)}return!1}var r=o(81),a=o(217),i=o(134),s=o(224),l=o(533),c=o(151),u=1,d=2,p="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",_="[object DataView]",C=r?r.prototype:void 0,I=C?C.valueOf:void 0;e.exports=n},function(e,t){function o(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}e.exports=o},function(e,t,o){function n(e,t,o,n,i,l){var c=o&a,u=r(e),d=u.length;if(d!=r(t).length&&!c)return!1;for(var p=d;p--;){var f=u[p];if(!(c?f in t:s.call(t,f)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=c;++p<d;){f=u[p];var g=e[f],y=t[f];if(n)var b=c?n(y,g,f,t,e,l):n(g,y,f,e,t,l);if(!(void 0===b?g===y||i(g,y,o,n,l):b)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S)&&(m=!1)}return l.delete(e),l.delete(t),m}var r=o(214),a=1,i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t,o){function n(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}var r=o(154);e.exports=n},function(e,t){function o(e,t,o,n){for(var r=e.length,a=o+(n?1:-1);n?a--:++a<r;)if(t(e[a],a,e))return a;return-1}e.exports=o},function(e,t){function o(e){return e!==e}e.exports=o},function(e,t){function o(e,t,o){for(var n=o-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}e.exports=o},function(e,t){function o(e,t,o){for(var n=-1,r=null==e?0:e.length;++n<r;)if(o(t,e[n]))return!0;return!1}e.exports=o},function(e,t,o){var n=o(216),r=o(541),a=o(151),i=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:r;e.exports=i},function(e,t){function o(){}e.exports=o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=[];return!(0,g.default)(e)&&e.length&&e.map(function(e){e&&("resource"===e.type?t.push(e):e.users&&(t=t.concat(e.users)))}),t}function a(e){var t=this.state.data,o=[],n=[];return t&&t.forEach(function(e){"resource"==e.type?n.push(e.id):e.users&&e.users.forEach(function(e){return n.push(e.id)})}),e&&(o=e.filter(function(e){return-1==n.indexOf(e.id)||"resource"!=e.type})),o}function i(e){var t=this,o=this.getTabsProps(),n=[],r=o.isShowGroup,a=o.displayGroup;return e.forEach(function(e){var o=t.resourcesCache[e.type+e.id]||e;if("resource"===e.type)n.push(e);else if(o.users=e.users||[],a){var i=o.children,s=void 0===i?[]:i;"true"==o.isPrivate?n=n.concat(t.formatData(o.users)):s&&s.length>0?n=n.concat(t.formatData(o.children)):n.push(o)}else r?"true"==o.isPrivate?n=n.concat(t.formatData(o.users)):n.push(o):n=n.concat(t.formatData(o.users))}),n}function s(e,t,o){return this.isCrm()?(t=(0,S.default)(t,o),t=t.filter(function(t){return-1===e.findIndex(function(e){return e.type==t.type&&e[o]==t[o]})}),e=e.concat(t)):e=(0,S.default)(e.concat(t),o),e}function l(e){Array.isArray(e)?e.map(this.getGroupTreeDatas):("true"===e.open&&(e.canClick="false"),e.nocheck=!0,e.isParent="true"===e.isParent||!0===e.isParent||void 0!=e.children&&e.children.length>0,e.isParent&&this.getGroupTreeDatas(e.children))}function c(e,t,o){var n=this;return e.map(function(e){return e.key===t?(0,m.default)({},e,{childs:o}):e.childs?(0,m.default)({},e,{childs:n.refreshTreeDatas(e.childs,t,o)}):e})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.state.data,n=(0,C.default)(o);return t&&(e=this.filterDatas(e)),this.setSearchValues(e,n)}function d(e){if(this.isCrm())return this.setSearchValues(e,[],!1);var t=this.state.inputName,o=this.getTabsProps,n=[];return e.forEach(function(e){e&&(o.isOrgInfo&&(e.name=e.orgWholePathspan||e[t+"span"]||e[t]||e.name),n.push(e))}),n}function p(e,t){var o=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getTabsProps(),a=r.maxLength;if(e&&e.length>0){for(var i=0;i<e.length;i++){if("break"===function(o){var n=e[o];if(n){if(n.type=n.type||"resource",n.lastname=n.lastname||n.name||"","all"===n.type)return n.id=n.id||"all_x",n.nodeid="all_x",t=[n],"break";"resource"===n.type?n.nodeid="resource_"+n.id+"x":n.nodeid=n.type+"_"+n.id+"x",t&&!t.some(function(e){return e.nodeid==n.nodeid})&&t.push(n)}}(i))break}if(a&&a<this.countCrm(t,!0))return void window.alert(k(385619,"所选人数不能超出$s人!").replace(/\$s/,a));n&&this.setState({selectedData:t},function(){return o.onChange(t)})}return t}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=0,n=[];return e.forEach(function(e){"all"===e.type?o+=e.count:"resource"!==e.type?o+=(e.users||[]).length:n.push(e.id)}),o+=(0,b.default)(n).length,t?o:o>0?"("+o+")":""}Object.defineProperty(t,"__esModule",{value:!0});var h=o(6),m=n(h);t.getFilterData=r,t.filterDatas=a,t.formatData=i,t.filterDuplData=s,t.getGroupTreeDatas=l,t.refreshTreeDatas=c,t.appendSearchValues=u,t.replaceSearchValues=d,t.setSearchValues=p,t.countCrm=f;var v=o(29),g=n(v),y=o(153),b=n(y),w=o(228),S=n(w),_=o(67),C=n(_),I=o(0),k=I.WeaLocaleProvider.getLabel},function(e,t,o){function n(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?a(e[0],e[1]):r(e):l(e)}var r=o(544),a=o(547),i=o(235),s=o(28),l=o(556);e.exports=n},function(e,t,o){function n(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(o){return o===e||r(o,e,t)}}var r=o(545),a=o(546),i=o(230);e.exports=n},function(e,t,o){function n(e,t,o,n){var l=o.length,c=l,u=!n;if(null==e)return!c;for(e=Object(e);l--;){var d=o[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){d=o[l];var p=d[0],f=e[p],h=d[1];if(u&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new r;if(n)var v=n(f,h,p,e,t,m);if(!(void 0===v?a(h,f,i|s,n,m):v))return!1}}return!0}var r=o(133),a=o(150),i=1,s=2;e.exports=n},function(e,t,o){function n(e){for(var t=a(e),o=t.length;o--;){var n=t[o],i=e[n];t[o]=[n,i,r(i)]}return t}var r=o(229),a=o(82);e.exports=n},function(e,t,o){function n(e,t){return s(e)&&l(t)?c(u(e),t):function(o){var n=a(o,e);return void 0===n&&n===t?i(o,e):r(t,n,d|p)}}var r=o(150),a=o(548),i=o(553),s=o(156),l=o(229),c=o(230),u=o(107),d=1,p=2;e.exports=n},function(e,t,o){function n(e,t,o){var n=null==e?void 0:r(e,t);return void 0===n?o:n}var r=o(231);e.exports=n},function(e,t,o){var n=o(550),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,o,n,r){t.push(n?r.replace(a,"$1"):o||e)}),t});e.exports=i},function(e,t,o){function n(e){var t=r(e,function(e){return o.size===a&&o.clear(),e}),o=t.cache;return t}var r=o(551),a=500;e.exports=n},function(e,t,o){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var o=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=o.cache;if(a.has(r))return a.get(r);var i=e.apply(this,n);return o.cache=a.set(r,i)||a,i};return o.cache=new(n.Cache||r),o}var r=o(136),a="Expected a function";n.Cache=r,e.exports=n},function(e,t){function o(e,t){for(var o=-1,n=null==e?0:e.length,r=Array(n);++o<n;)r[o]=t(e[o],o,e);return r}e.exports=o},function(e,t,o){function n(e,t){return null!=e&&a(e,t,r)}var r=o(554),a=o(555);e.exports=n},function(e,t){function o(e,t){return null!=e&&t in Object(e)}e.exports=o},function(e,t,o){function n(e,t,o){t=r(t,e);for(var n=-1,u=t.length,d=!1;++n<u;){var p=c(t[n]);if(!(d=null!=e&&o(e,p)))break;e=e[p]}return d||++n!=u?d:!!(u=null==e?0:e.length)&&l(u)&&s(p,u)&&(i(e)||a(e))}var r=o(232),a=o(137),i=o(28),s=o(206),l=o(139),c=o(107);e.exports=n},function(e,t,o){function n(e){return i(e)?r(s(e)):a(e)}var r=o(557),a=o(558),i=o(156),s=o(107);e.exports=n},function(e,t){function o(e){return function(t){return null==t?void 0:t[e]}}e.exports=o},function(e,t,o){function n(e){return function(t){return r(t,e)}}var r=o(231);e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this.getTabsProps(),o=t.dataURL,n=this.state,r=n.current,a=n.pageSize,i=e.current||r,s=o;e.customUrl&&(s=e.customUrl,delete e.customUrl);var l=(0,b.default)({pageSize:a,current:i,min:(i-1)*a+1,max:i*a},e);return D(s,(0,E.getMethod)(s,l),l)}function a(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState({loading:!0});var n=this.getTabsProps(),r=n.onError,a=n.isSingle,i=n.dropMenuKey,s=n.displayType,l=n.isGroupTree,c=this.state,u=c.current,d=c.pageSize,p=c.activeKey,f=e.current||u,h=e.pageSize||d,m={};i&&(m.companyId=e[i]),this.callGetData(e).then(function(e){if(t.state.activeKey==p){var n=e.datas,r=e.columns,i=e.companys,c=e.selectDatas,u=e.type;if(!u&&s&&("tree"==s?(u=6,l&&(u=7)):u=8),"number"===typeof u){if(m=(0,b.default)({},m,{contentType:u}),"checkStrictly"in e&&(m.checkStrictly=e.checkStrictly),1===u?n&&(m.dataKey=n,a||t.getDataOfListWithkey({dataKey:n,current:f,pageSize:h})):(0,C.default)(r)||(m=(0,b.default)({},m,t.getRowNameKeyFromColumns(r))),2===u&&(m=(0,b.default)({},m,{dataOfListWithoutKeyAndPg:{datas:n,columns:r},listDatas:n,columns:r})),3===u)if(m=(0,b.default)({},m,{treeDatas:n,loadAllTreeData:e.isLoadAll}),(0,C.default)(i))if(c){var d=c.options,v=c.selected,g=d.map(function(e){return(0,b.default)({},e,{id:e.key,name:e.showname})});m=(0,b.default)({},m,{companyList:g,companyId:v})}else"undefined"===typeof i&&"undefined"===typeof c&&(m.companyList=void 0);else{var y=i.map(function(e){return(0,b.default)({},e,{id:e.companyid})});m=(0,b.default)({},m,{companyList:y,companyId:y[0].id})}4===u&&(m=(0,b.default)({},m,{columns:r,dataOfListWithoutKeyButPg:{datas:n,columns:r,count:e.total},listDatas:n,count:e.total,current:f})),5==u&&(m=(0,b.default)({},m,{urlOfIframeInDialog:n.pcurl})),6===u&&(n&&"_self"==n.target&&(n.isParent="true",n.open="true",n.canClick="false"),m=(0,b.default)({},m,{treeDatas:n})),7===u&&(t.getGroupTreeDatas(n),n&&n.isParent&&(n.isParent="true",n.open="true",n.canClick="false"),m=(0,b.default)({},m,{groupTreeDatas:n,hasRight:e.hasRight||0})),8===u&&(n.forEach(function(e){e.icon=e.messagerurl,e.nodeid="resource_"+e.id+"x",e.type="resource"}),m=(0,b.default)({},m,t.getRowNameKeyFromColumns(r),{columns:r,current:f,dataOfListWithoutKeyButPg:{datas:n},count:e.count}))}t.setState(m,function(){return 1!=u&&t.setState({loading:!1})}),o()}}).catch(function(e){return(0,S.default)(r)&&r(e)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getTabsProps(),o=t.tableApiPrefix,n=this.state,r=n.current,a=n.pageSize,i=e.current||r;return D((o||"")+"/api/ec/dev/table/datas","POST",(0,b.default)({pageSize:a,current:i,min:(i-1)*a+1,max:i*a},e))}function s(e){var t=this,o=this.getTabsProps(),n=this.state,r=n.current,a=n.dataKey,i=o.tableApiPrefix,s=o.onError,l=e.current||r,c=e.dataKey||a;this.callDataOfListWithKey((0,b.default)({},e,{dataKey:c})).then(function(e){var o={loading:!1,current:l,dataKey:c};if(e&&e.datas){var n=e.datas,r=e.columns;o=(0,b.default)({},o,{columns:r,dataOfListWithkey:n},t.getRowNameKeyFromColumns(r))}t.setState(o)}).catch(function(e){return(0,S.default)(s)&&s(e)}),D((i||"")+"/api/ec/dev/table/counts","POST",{dataKey:c}).then(function(e){return t.setState({count:e.count})}).catch(function(e){return(0,S.default)(s)&&s(e)})}function l(e){(0,C.default)(e)||this.setState((0,b.default)({},this.getRowNameKeyFromColumns(e)))}function c(e){var t=this.state,o=t.inputId,n=t.inputName,r=[],a=[];Array.isArray(e)&&e.forEach(function(e){"true"===e.isPrimarykey&&(o=e.dbField||e.dataIndex),"true"===e.isInputCol&&(n=e.dbField||e.dataIndex),"false"===e.hide&&("1"===e.showType&&r.push(e.dbField||e.dataIndex),"0"===e.showType&&a.push(e.dbField||e.dataIndex))});var i={inputTop:r,inputBottom:a,showAvatar:!0};return window.odocTransferUtil&&window.odocTransferUtil.overrideHrmEvent&&(i=window.odocTransferUtil.overrideHrmEvent("ODOC_HRM_ROW_LAYOUT",i)),window.odocHrmResourceShowAvatar=i.showAvatar||!1,(0,b.default)({inputId:o,inputName:n},i)}function u(e,t){var o=this.getTabsProps(),n=o.type,r=o.destUrl,a=o.destDataParams,i=void 0===a?{}:a,s=o.dataURL,l=o.isMultCheckbox,c=this.state.contentType,u=""+r+n,d=(0,b.default)({},i,this.getExtraParams(t),e);if(l&&1!=c){u=(this.getSearchParams()||{}).customUrl||s}return D(u,(0,E.getMethod)(u,d),d)}function d(e){var t=this,o=this.getTabsProps(),n=o.needCallDest,r=o.isMultCheckbox,a=this.state.inputId,i=e||this.getDataOfProps()||[],s={},l=(0,k.default)(i);s.selectids=i.map(function(e){return e[a]||e.id||""}),(0,C.default)(i)||!n&&!r?this.setState({selectedData:l}):this.callSelectedReq(s,i).then(function(e){var o={};if(!(0,C.default)(e)&&3!=e.type){var n=e.datas,r=e.columns;t.isCrm()&&(n=t.formatData(n)),(0,C.default)(r)||(o=(0,b.default)({},o,t.getRowNameKeyFromColumns(r))),a=o.inputId||a,l=(n||[]).filter(function(e){return e[a]||e.id})}o.selectedData=l,t.setState(o)})}function p(){var e=this,t=this.getTabsProps(),o=t.virtualUrl,n=t.virtualParams;D(o,"GET",void 0===n?{}:n).then(function(t){var o=0,n=t.datas.map(function(e){return 0==e.id&&(o=e.virtualtype),(0,b.default)({},e,{companyid:e.id,name:e.virtualtype})});e.setState({companyId:o,companyList:n})})}function f(e,t,o){var n=this,r=this.getTabsProps(),a=r.leftTreeUrl,i=r.leftTreeParams,s=r.type,l=r.conditionDataParams;D(""+a+s,"GET",(0,b.default)({},l,i,e)).then(function(e){var r=e.datas||[];if(t){var a=n.state.leftTreeDatas;r=n.refreshTreeDatas(a,t.key,r)}n.setState({leftTreeDatas:r}),o&&o()})}function h(e){var t=this,o=this.props,n=o.tabsUrl,r=o.tabsParams,a=o.type,i=o.onError,s=o.extendTabs,l=void 0===s?[]:s,c=this.getTabs();n&&(0,C.default)(c)&&(0,C.default)(this.state.tabsFromApi)?D(""+n+a,"GET",r).then(function(o){var n=o.datas;n=n?[].concat((0,g.default)(n),(0,g.default)(l)):[],t.setState({tabsFromApi:n},e)}).catch(function(e){return(0,S.default)(i)&&i(e)}):e&&e()}function m(e,t){e=e||this.getTabsProps();var o=e,n=o.isSingle,r=o.value,a=o.valueSpan,i=o.replaceDatas,s=o.appendDatas,l=o.replaceNotCtrl,c=o.valueObj,u=void 0;if("value"in e)if(n)if(r){var d="";!(0,C.default)(i)&&i[0]&&(d=i[0].orgWholePathspan||i[0].name||i[0].lastname),u=[{id:r,name:a||d}]}else u=[];else(0,C.default)(r)?u=[]:(c||i)&&(u=this.replaceSearchValues(c||i));if("appendDatas"in e&&this.appendSearchValues(s,!0),n||(0,C.default)(c)||!t||(u=this.replaceSearchValues(c)),"replaceDatas"in e&&(!l||t))if(n)if(!(0,C.default)(i)&&i[0]){var p=i[0],f=p.orgWholePathspan||p.name||p.lastname,h=""+p.id;h&&(u=[{id:h,name:f}])}else u=[];else u=this.replaceSearchValues(i||[]);if(u)try{u=u.filter(function(e){return e&&e.id})}catch(e){console,u=[]}return u}Object.defineProperty(t,"__esModule",{value:!0});var v=o(23),g=n(v),y=o(6),b=n(y);t.callGetData=r,t.getData=a,t.callDataOfListWithKey=i,t.getDataOfListWithkey=s,t.formatInput=l,t.getRowNameKeyFromColumns=c,t.callSelectedReq=u,t.getSelectedData=d,t.getVirtual=p,t.getLeftTreeDatas=f,t.getTabsFromUrl=h,t.getDataOfProps=m;var w=o(55),S=n(w),_=o(29),C=n(_),I=o(67),k=n(I),T=o(0),E=o(57),D=T.WeaTools.callApi},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this.getTabsProps(),o=t.isSingle,n=this.state.inputName;if(o){var r="",a="",i=[];if(!(0,p.default)(e)){a=e[0].name,r=e[0].id;var s=(0,l.default)({},e[0],{id:r,name:a});this.isCrm()&&(s.type="resource"),i.push(s)}this.setState({idCache:r,nameCache:a,data:i,selectedData:i})}else{var c=[];this.isCrm()?c=this.replaceSearchValues(e):e.forEach(function(e){e&&(e.name=e.orgWholePathspan||e[n+"span"]||e[n]||e.name||"",c.push(e))}),this.setState({selectedData:c,data:c})}}function a(){var e=this.getTabsProps(),t=e.isSingle,o=this.state,n=o.idCache,r=o.nameCache;if(t)return{id:n,name:r};var a=this.state,i=a.selectedData,s=a.inputId,l=[];return!(0,p.default)(i)&&i.forEach(function(e){l.push(e[s]||e.id)}),{id:l,ids:l,datas:i}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2],n=arguments[3],r=e[t];return r&&("function"===typeof r&&(o=r(n)),o=r),o}Object.defineProperty(t,"__esModule",{value:!0});var s=o(6),l=n(s);t.set=r,t.get=a,t.getModuleRender=i;var c=o(7),u=(n(c),o(9),o(45)),d=(n(u),o(29)),p=n(d),f=o(0);f.WeaTools.WindowFunc,f.WeaLocaleProvider.getLabel},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this,t=this.getTabsProps(),o=t.isSingle,n=t.icon,r=t.iconBgcolor,a=t.topPrefix,i=t.dataParams,s=t.is_012app,l=t.recentUrl,c=t.checkGroup,u=t.browserTreeCustomProps,d=void 0===u?{}:u,f=t.defaultCurrentUser,m=t.clickNameExpandFirst,v=t.showAccount,g=t.showAllbranch,y=t.showCheckStrictly,b=t.hideVirtualOrg,S=t.displayType,_=t.isGroupTree,I=this.state,k=I.activeKey,T=I.inputId,D=I.inputTop,O=I.inputBottom,P=I.dataOfListWithoutKeyButPg,R=I.idCache,A=I.nameCache,x=I.treeDatas,L=I.groupTreeDatas,F=I.defaultExpandedKeys,M=I.selectedData,N=I.leftCheckedData,j=I.leftTreeCheckedKeys,z=I.leftGroupCheckedKeys,B=I.isAccount,q=I.showDls,K=I.hasRight,U=I.checkStrictly,V=I.companyList,H=I.contentType,G=P&&P.datas||[],J=void 0;if("tree"==S){var Q=x;if(_&&(Q=L),(0,w.default)(Q))J=this.renderEmpty();else{var Y=t.defaultExpandedLevel;"undefined"===typeof Y&&Q&&Q.id&&(Y=1);var X=(0,p.default)({icon:n,iconBgcolor:r,dataParams:i,recentUrl:l,isAccount:B,showDls:q,topPrefix:a,checkable:!1,isMult:!o,ztreeMode:!1,isHrmTree:!0,inputTop:D,inputBottom:O,treeData:Q,defaultCurrentUser:f,defaultExpandedKeys:F,defaultExpandedLevel:Y,clickNameExpandFirst:m,ecId:t.ecId+"_WeaBrowserTree@0bi5n8"},this.getAsyncParams());X=o?(0,p.default)({},X,{dataParams:i,checkable:!1,hasRadio:!0,radioCheckedData:{id:R,name:A},setRadioData:function(t,o,n){return e.onHrmTableChange([t],[n])},setData:this.onHrmTableChange}):(0,p.default)({},X,{checkStrictly:U,className:"rsc-wrapper",checkGroup:c,onDoubleClick:this.onleftTreeDoubleClick,filterData:this.getFilterData(M)}),6==H?o||(X=(0,p.default)({},X,{checkedCb:this.onLeftTreeCheck,checkedKeys:j})):7==H&&(X=(0,p.default)({},X,{hasRight:K,getGrouptree:function(){return e.onSearch({},k)}}),o||(X=(0,p.default)({},X,{checkedCb:this.onLeftGroupCheck,checkedKeys:z}))),J=h.default.createElement("div",{className:"wea-tree-hr"},h.default.createElement(W.default,(0,p.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowserTree@hnke4g"},X,d)))}}else{var $={is_012app:s,isSingle:o,inputTop:D,inputBottom:O,ecId:t.ecId+"_HrmList@y0fmxv",datas:G};if(o)$=(0,p.default)({},$,{onClick:this.onHrmTableChange});else{var Z=N.map(function(e){return e[T]});$=(0,p.default)({},$,{onDoubleClick:this.onleftDoubleClick,onClick:this.onleftClick,selectedKeys:Z,filterData:M})}J=h.default.createElement(E.default,(0,p.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_HrmList@3rsw03"},$))}var ee="list"==S,te={showDls:t.showDls,showAccount:v,showAllbranch:g,showCheckStrictly:!o&&"list"!=S&&y},oe=!b&&!(0,w.default)(V),ne=!o&&this.hasAdvanceSearch(),re=this.getContentHeight({showDropMenu:oe,showAdvanceSearch:ne,showPagination:ee}),ae=15;return oe&&(ae+=37),o||(ae+=35),[ne&&this.getActionBarInTrans(),oe&&this.getDropMenuInTrans(),h.default.createElement(C.WeaNewScroll,{ecId:t.ecId+"_WeaNewScroll@xop0ga",height:re,ref:function(t){return e.weaSrcoll=t}},J),this.getTreeButtonInTrans(te,{top:ae}),ee&&this.getPaginationInTrans()]}function a(e){var t=this,o=this.getTabsProps(),n=o.selectedAllMaxLength,r=this.state,a=r.count,i=r.current,s=r.inputId,l=r.pageSize,c=r.activeKey,d=r.selectedData,f=r.leftCheckedData,h=r.rightCheckedData,m=r.dataOfListWithkey,v=r.selectedAllCurrent,g=r.leftTreeCheckedData,y=r.leftGroupCheckedData,b=r.dataOfListWithoutKeyAndPg,S=r.dataOfListWithoutKeyButPg,_={};if("allToRight"===e){this.setState({fetchDataLoading:!0});var C=Math.ceil(a/l),I=Math.ceil(((v+1)*n+1)/l);C<I&&(I=C),I!=i&&this.onPageChange(I);var k=(0,p.default)({},this.getSearchParams(),{min:v*n+1,max:(v+1)*n,current:v+1,pageSize:n});this.callGetData(k).then(function(e){var o=function(e,o){if(t.state.activeKey==c){if(Array.isArray(e)&&!(0,w.default)(e)){t.isCrm()&&e.forEach(function(e){e.icon=e.messagerurl,e.nodeid="resource_"+e.id+"x",e.type="resource"});var n=t.filterDuplData(d,e,s||"id");t.onCountChange(n),o.selectedData=n}t.setState(o)}},n={fetchDataLoading:!1,selectedAllCurrent:v+1};1==e.type?t.callDataOfListWithKey((0,p.default)({},k,{dataKey:e.datas})).then(function(e){return o(e.datas,n)}):o(e.datas,n)})}else if(/right$/i.test(e)){if(g.length>0||y.length>0)this.setState({loading:!0}),this.callSelectedReq(this.getExtraParams()).then(function(e){var o={};(0,w.default)(e.columns)||(o=(0,p.default)({},o,t.getRowNameKeyFromColumns(e.columns)));var n=f.concat(t.isCrm()?t.formatData(e.datas||[]):e.datas),r=t.isCrm()?"nodeid":o.inputId||s||"id",a=t.filterDuplData(d,n,r);t.onCountChange(a),o=(0,p.default)({},o,{loading:!1,selectedData:a,leftTreeCheckedData:[],leftTreeCheckedKeys:[],leftGroupCheckedData:[],leftGroupCheckedKeys:[]}),t.setState(o,function(){t.propsOnChange()})});else{var T="right"===e?f:[].concat((0,u.default)(m),(0,u.default)(b&&b.datas||[]),(0,u.default)(S&&S.datas||[]));_.leftCheckedData=[],_.selectedData=this.filterDuplData(d,T,s||"id")}if("pageToRight"==e){var E=this.state,D=E.current,O=E.pageSize,P=E.count;D*O<P&&this.onPageChange(D+1)}}else/left$/i.test(e)&&(_.rightCheckedData=[],_.selectedData="left"===e?d.filter(function(e){return!h.some(function(t){return t&&t[s]===e[s]})}):[],"allToLeft"===e&&(_.selectedAllCurrent=0));"selectedData"in _&&this.onCountChange(_.selectedData),this.setState(_,function(){t.propsOnChange()})}function i(){var e={icon:h.default.createElement(v.Icon,{ecId:this.props.ecId+"_Icon@sbf5vu",type:"frown"}),iconSize:12,minHeight:413};return h.default.createElement(C.WeaAlertPage,(0,p.default)({ecId:this.props.ecId+"_WeaAlertPage@zngb8b"},e),h.default.createElement("span",{style:{paddingLeft:15,color:"#999"}},A("83553","暂无数据")))}function s(){var e=this.getTabsProps(),t=e.dataURL,o=e.isSingle,n=e.dataParams,r=e.isMultCheckbox,a=this.state,i=a.dataKey,s=a.listDatas,l=a.contentType,c=a.dataOfListWithkey,u=a.dataOfListWithoutKeyAndPg,d=a.dataOfListWithoutKeyButPg,p={};if(o||r){var f=t;1==l&&(p={dataKey:i,hasPagination:!0,url:f}),2==l&&(p={noPgTableData:u,hasPagination:!1,url:f}),4==l&&(p={hasPgTableData:d,hasPagination:!0,url:f+"?"+x(n)})}else p={datas:[]},1==l&&(p={datas:c}),2==l&&(p={datas:s}),4==l&&(p={datas:(0,w.default)(s)?[]:s});return p}function l(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.getTabsProps(),n=o.isSingle,r=o.hasRadio,a=o.type,i=o.hideVirtualOrg,s=o.icon,l=o.isLoadUser,c=o.isImgIcon,d=o.topPrefix,f=o.checkStrictly,m=o.asynLoadAll,v=o.showCheck,g=void 0===v||v,b=(o.showCheckBtn,o.displaySearchAd),S=o.isMultCheckbox,I=o.selectedAllMaxLength,T=o.browserTreeCustomProps,E=void 0===T?{}:T,D=o.clickNameExpandFirst,P=o.showCheckStrictly,x=this.state,L=x.contentType,F=x.inputId,M=x.inputName,N=x.inputTop,j=x.inputBottom,z=x.companyList,B=x.selectedAllCurrent,q=x.count,K=x.selectedDialogVisible,U=x.dataOfListWithoutKeyAndPg,V=x.dataOfListWithoutKeyButPg,H=x.pageSize,G=x.idCache,J=x.nameCache,Q=x.treeDatas,Y=x.selectedData,X=x.showCheckedDatas,$=x.defaultExpandedKeys,Z=x.loadAllTreeData,ee=x.leftTreeCheckedData,te=3==L||6==L||7==L,oe=void 0,ne=void 0,re=void 0,ae=void 0;if(n||S)if(6==L||7==L||8==L)oe=this.getHrmMainContent();else{var ie=void 0,se={showCheckStrictly:!n&&te&&P},le=te&&!i&&!(0,w.default)(z),ce=this.getContentHeight({showDropMenu:le});if(3==L)if((0,w.default)(Q))ie=this.renderEmpty();else{var ue=o.defaultExpandedLevel;"undefined"===typeof ue&&Q&&Q.id&&(ue=1);var de=(0,p.default)({ztreeMode:!1,type:a,checkable:!0,topPrefix:d},this.getAsyncParams(),{icon:s,treeData:Q,defaultExpandedKeys:(0,_.default)($),clickNameExpandFirst:D,isLoadUser:l,isLoadAll:Z,asynLoadAll:m,ecId:o.ecId+"_WeaBrowserTree@5utkdw",defaultExpandedLevel:ue});de=S?(0,p.default)({},de,{isMult:!0,browserTree:!1,checkedDatas:Y,contentType:L,checkStrictly:this.state.checkStrictly,clickNodeExpandChildren:!0,checkedCb:this.onTreeMultCheck.bind(this)}):(0,p.default)({},de,{hasRadio:!0,isImgIcon:c,inputId:F,inputName:M,inputTop:N,inputBottom:j,checkStrictly:f,setRadioData:this.onTreeClick,radioCheckedData:{id:G,name:J}}),ie=h.default.createElement(W.default,(0,p.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowserTree@rdj3ph"},de,E))}else{var pe=(0,p.default)({},this.getTableKeyProps(),{hasRadio:r,contentType:R.contentTypeMap[L],setLoading:function(t){return e.setState({loading:t})},getTableParams:this.getSearchParams,formatInput:this.formatInput,scrollHeight:this.getContentHeight({},42)},o,{ecId:o.ecId+"_TableSingle@x7gyhx",pageSize:H});pe=S?(0,p.default)({},pe,{checkedDatas:Y,keepSelectedRowKeys:!0,getSelection:this.onMultTableCheck,setData:this.onMultTableChange,showCheck:g,showCheckedDatas:X}):(0,p.default)({},pe,{getSelection:this.onTableCheck,setData:this.onTableChange}),ie=h.default.createElement("div",null)}ie=te?h.default.createElement(C.WeaNewScroll,{ecId:o.ecId+"_WeaNewScroll@0fz2i6",height:ce,ref:function(t){return e.weaSrcoll=t}},ie):h.default.createElement("div",{style:{height:ce}},ie),oe=[le&&this.getDropMenuInTrans(),this.getTreeButtonInTrans(se),ie]}else{var fe=this.state,he=fe.leftCheckedData,me=fe.leftGroupCheckedData,ve=fe.rightCheckedData,ge=fe.dataOfListWithkey,ye=(0,y.default)("wea-hr-muti-input-left",{noTop:!(b&&this.hasAdvanceSearch())}),be=[].concat((0,u.default)(ge),(0,u.default)(U&&U.datas||[]),(0,u.default)(V&&V.datas||[])),we={rightActiveTitle:A(384113,"添加"),rightActive:he.length>0||ee.length>0||me.length>0,moveToRight:function(){return e.moveTo("right")},leftActiveTitle:A(91,"删除"),leftActive:ve.length>0,moveToLeft:function(){return e.moveTo("left")},rightPageActiveTitle:A(515643,"将当页数据全部添加到右侧已选列表"),rightPageActive:!te&&be.length>0&&be.filter(function(e){return!Y.some(function(t){return t[F]===e[F]})}).length>0,movePageToRight:function(){return e.moveTo("pageToRight")},canMoveAllToRight:I>0,rightAllActiveTitle:A(520388,"全部添加（一次最多添加$s条）").replace(/\$s/,I),rightAllActive:!te&&I*B<q,moveAllToRight:function(){return e.moveTo("allToRight")},leftAllActiveTitle:A(16335,"全部删除"),leftAllActive:Y.length>0,moveAllToLeft:function(){return e.moveTo("allToLeft")}},Se=ve.filter(function(e){return!!e}).map(function(t){return t[e.isCrm()?"nodeid":F]});ne=this.getModalMainContentLeft(),ne=this.getModuleRender(t,"module_2_2_1",ne,this),re=h.default.createElement(k.default,(0,p.default)({},we,{ecId:o.ecId+"_Operation@a9wtn1"})),re=this.getModuleRender(t,"module_2_2_2",re,this),ae=h.default.createElement(O.default,(0,p.default)({},o,{ecId:o.ecId+"_SelectedList@8p189i",data:Y,inputId:F,inputName:M,inputTop:N,inputBottom:j,contentType:L,checkedKeys:Se,visible:K,checkedCb:this.onSelectedListCheck,onVisibleChange:function(t){return e.setState({selectedDialogVisible:t})},onDoubleClick:this.onSelectedListDoubleClick,onSelectedGroupExpand:this.onSelectedGroupExpand,height:this.getContentHeight({showAdvanceSearch:!0}),onDrag:function(t){return e.setState({selectedData:t})}})),ae=this.getModuleRender(t,"module_2_2_3",ae,this),oe=h.default.createElement("div",{style:{padding:10},ref:"weaModalContent"},h.default.createElement("div",{className:ye},ne),h.default.createElement("div",{className:"wea-transfer-opration"},re),h.default.createElement("div",{className:"wea-hr-muti-input-right"},ae))}return oe=this.getModuleRender(t,"module_2_2",oe,this),{module_2_2:oe,module_2_2_1:ne,module_2_2_2:re,module_2_2_3:ae}}Object.defineProperty(t,"__esModule",{value:!0});var c=o(23),u=n(c),d=o(6),p=n(d);t.getHrmMainContent=r,t.moveTo=a,t.renderEmpty=i,t.getTableKeyProps=s,t.getModalMainContent=l;var f=o(7),h=n(f),m=o(148),v=(n(m),o(9)),g=o(45),y=n(g),b=o(29),w=n(b),S=o(562),_=n(S),C=o(0),I=o(236),k=n(I),T=o(563),E=n(T),D=o(157),O=n(D),P=o(237),W=n(P),R=o(155),A=C.WeaLocaleProvider.getLabel,x=(C.WeaTools.EncryBase,C.WeaTools.getFd);C.WeaTools.ua},function(e,t,o){function n(e){return r(e,a)}var r=o(199),a=4;e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(23),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(57),w=y.WeaLocaleProvider.getLabel,S=null,_=function(e,t){var o=(0,b.text)(e,t);return"string"!==typeof o?g.default.createElement("span",{style:{display:"inline-block",marginRight:5,lineHeight:2}},o):g.default.createElement("span",{style:{marginRight:5},dangerouslySetInnerHTML:{__html:o}})},C=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.state={},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.datas,n=t.inputTop,r=t.inputBottom;this.dataObj={};var a=o.map(function(t,o){var a=[];t.departmentname&&a.push(t.departmentname),t.supsubcompanyname&&a.push(t.supsubcompanyname),t.subcompanyname&&a.push(t.subcompanyname),t.crmNames=a.join("／"),e.dataObj[t.id]=t;var i=void 0;try{t.requestParams&&(i=JSON.parse(t.requestParams))}catch(e){}return g.default.createElement("li",{ecId:e.props.ecId+"_li@knclvn@"+o,className:e.cls(t),onDoubleClick:e.onDoubleClick.bind(e,t),onClick:e.onClick.bind(e,t)},g.default.createElement("div",{className:"item-wrap"},window.odocHrmResourceShowAvatar&&g.default.createElement(y.WeaAvatar,{ecId:e.props.ecId+"_WeaAvatar@cc7lcd@"+o,className:"wea-tree-hr-portrait",userId:t.id,requestParams:i}),g.default.createElement("div",{className:"resource-content breakall",style:window.odocHrmResourceShowAvatar?{}:{paddingLeft:"0"}},g.default.createElement("div",null,e.props.is_012app&&t.workcode&&g.default.createElement("span",{title:t.workcode,style:{marginRight:10}},t.workcode),n||r?(n||[]).map(function(e){return _(t,e)}):[g.default.createElement("span",{key:"lastname",className:"lastname",title:t.lastname},t.lastname),g.default.createElement("span",{key:"jobtitlename",className:"jobtitlename gray",title:t.jobtitlename},t.jobtitlename)]),g.default.createElement("div",null,n||r?(r||[]).map(function(e){return _(t,e)}):g.default.createElement("div",{className:"gray",title:t.crmNames},t.crmNames)))),g.default.createElement("div",{className:"icon-wrap"}),g.default.createElement("i",{className:"icon-coms-Selected"}))});return g.default.createElement("div",{className:"wea-crm-list"},g.default.createElement("ul",{className:"wea-crm-list-wrapper"},a),0==a.length&&g.default.createElement("div",{className:"empty-tip",style:{color:"#999",paddingTop:30,textAlign:"center"}},w(83320,"没有可显示的数据")))}},{key:"cls",value:function(e){var t=this.props,o=t.selectedKeys,n=t.filterData,r=["cursor-pointer"];if(o&&o.indexOf(e.id)>-1&&r.push("selected"),n){var a=[];n.forEach(function(e){"resource"==e.type?a.push(e.id):e.users&&e.users.forEach(function(e){a.push(e.id)})}),a.indexOf(e.id)>-1&&r.push("hide")}return r.join(" ")}},{key:"onClick",value:function(e){var t=this;clearTimeout(S),S=setTimeout(function(){var o=t.props.selectedKeys,n=o?[].concat((0,a.default)(o)):[],r=[];n.indexOf(e.id)>-1?n=n.filter(function(t){return t!==e.id}):n.push(e.id),n.forEach(function(e){t.dataObj[e]&&r.push(t.dataObj[e])}),t.props.onClick&&t.props.onClick(n,r)},200)}},{key:"onDoubleClick",value:function(e){var t=this.props,o=t.isSingle,n=t.is_012app;o&&n&&alert(w(385602,"请“单击”选择人员，不可“双击”")),clearTimeout(S),this.props.onDoubleClick&&this.props.onDoubleClick([e])}}]),t}(g.default.Component);t.default=C},function(e,t,o){function n(e,t,o){if((e=c(e))&&(o||void 0===t))return e.replace(u,"");if(!e||!(t=r(t)))return e;var n=l(e),d=l(t),p=s(n,d),f=i(n,d)+1;return a(n,p,f).join("")}var r=o(234),a=o(565),i=o(567),s=o(568),l=o(569),c=o(233),u=/^\s+|\s+$/g;e.exports=n},function(e,t,o){function n(e,t,o){var n=e.length;return o=void 0===o?n:o,!t&&o>=n?e:r(e,t,o)}var r=o(566);e.exports=n},function(e,t){function o(e,t,o){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),o=o>r?r:o,o<0&&(o+=r),r=t>o?0:o-t>>>0,t>>>=0;for(var a=Array(r);++n<r;)a[n]=e[n+t];return a}e.exports=o},function(e,t,o){function n(e,t){for(var o=e.length;o--&&r(t,e[o],0)>-1;);return o}var r=o(154);e.exports=n},function(e,t,o){function n(e,t){for(var o=-1,n=e.length;++o<n&&r(t,e[o],0)>-1;);return o}var r=o(154);e.exports=n},function(e,t,o){function n(e){return a(e)?i(e):r(e)}var r=o(570),a=o(571),i=o(572);e.exports=n},function(e,t){function o(e){return e.split("")}e.exports=o},function(e,t){function o(e){return n.test(e)}var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=o},function(e,t){function o(e){return e.match(d)||[]}var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",l="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,i].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+l,u="(?:"+["[^\\ud800-\\udfff]"+n+"?",n,a,i,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(r+"(?="+r+")|"+u+c,"g");e.exports=o},function(e,t,o){function n(e,t,o){function n(t){var o=y,n=b;return y=b=void 0,I=t,S=e.apply(n,o)}function u(e){return I=e,_=setTimeout(f,t),k?n(e):S}function d(e){var o=e-C,n=e-I,r=t-o;return T?c(r,w-n):r}function p(e){var o=e-C,n=e-I;return void 0===C||o>=t||o<0||T&&n>=w}function f(){var e=a();if(p(e))return h(e);_=setTimeout(f,d(e))}function h(e){return _=void 0,E&&y?n(e):(y=b=void 0,S)}function m(){void 0!==_&&clearTimeout(_),I=0,y=C=b=_=void 0}function v(){return void 0===_?S:h(a())}function g(){var e=a(),o=p(e);if(y=arguments,b=this,C=e,o){if(void 0===_)return u(C);if(T)return clearTimeout(_),_=setTimeout(f,t),n(C)}return void 0===_&&(_=setTimeout(f,t)),S}var y,b,w,S,_,C,I=0,k=!1,T=!1,E=!0;if("function"!=typeof e)throw new TypeError(s);return t=i(t)||0,r(o)&&(k=!!o.leading,T="maxWait"in o,w=T?l(i(o.maxWait)||0,t):w,E="trailing"in o?!!o.trailing:E),g.cancel=m,g.flush=v,g}var r=o(43),a=o(574),i=o(575),s="Expected a function",l=Math.max,c=Math.min;e.exports=n},function(e,t,o){var n=o(35),r=function(){return n.Date.now()};e.exports=r},function(e,t,o){function n(e){if("number"==typeof e)return e;if(a(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var o=c.test(e);return o||u.test(e)?d(e.slice(2),o?2:8):l.test(e)?i:+e}var r=o(43),a=o(106),i=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SortableListItem=t.SortableList=void 0;var r=o(23),a=n(r),i=o(6),s=n(i),l=o(577),c=n(l),u=o(7),d=n(u),p=o(578),f=n(p),h=o(45),m=n(h),v=function(e){var t=e.children,o=(0,c.default)(e,["children"]);return d.default.createElement(f.default,(0,s.default)({ecId:"_Sortable@wugrok",className:"sortable-list"},o),d.default.Children.map(t,function(e){if("SortableListItem"===e.type.displayName)return e}))};t.SortableList=v;var g=t.SortableListItem=function(e){var t=e.data,o=e.ecId,n=e.selectedKeys,r=e.multiple,i=e.selectable,s=e.draggable,l=e.getDataKey,c=e.getItemRender,u=e.onSelect,p=e.onDoubleClick,f=e.onDragStart,h="function"===typeof l?l(t):t,v=-1!==(n||[]).indexOf(h);return d.default.createElement("div",{className:(0,m.default)("sortable-list-item-wrap",{"sortable-list-item-selected":v}),ecId:o+"_div@r6bnz1",draggable:s,"data-id":h,onClick:i?function(){var e=[].concat((0,a.default)(n));if(r){var t=e.indexOf(h);-1!==t?e.splice(t,1):e.push(h)}else e=[h];"function"===typeof u&&u(e)}:void 0,onDoubleClick:i?function(){"function"===typeof p&&p(h)}:void 0,onDragStart:s?f:void 0},"function"===typeof c?c(t):t,v&&[d.default.createElement("span",{className:"wea-icon-selected-bg"}),d.default.createElement("i",{className:"icon-coms-Selected"})])};g.displayName="SortableListItem",g.defaultProps={}},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}},function(e,t,o){"use strict";var n=o(579).default;e.exports=n},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var o,n,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function i(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(o,!0).forEach(function(t){y(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,o){return t&&d(e.prototype,t),o&&d(e,o),e}function f(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var b=function(e){return e&&e.__esModule?e:{default:e}}(o(580)),w=n(o(7)),S=n(o(583)),_={nextSibling:null,activeComponent:null};S.default.mount(new S.AutoScroll);var C=function(e){function t(){var e,o;u(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=f(this,(e=h(t)).call.apply(e,[this].concat(r))),y(m(o),"sortable",null),o}return v(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this,t=c({},this.props.options);["onChoose","onStart","onEnd","onAdd","onUpdate","onSort","onRemove","onFilter","onMove","onClone"].forEach(function(o){var n=t[o];t[o]=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0];if("onChoose"===o)_.nextSibling=i.item.nextElementSibling,_.activeComponent=e;else if(("onAdd"===o||"onUpdate"===o)&&e.props.onChange){var l=e.sortable.toArray(),c=_.activeComponent,u=c.sortable.toArray(),d=_.nextSibling&&null!==_.nextSibling.parentNode?_.nextSibling:null;if(i.from.insertBefore(i.item,d),c!==e){var p=c.props.options||{};"object"===s(p.group)&&"clone"===p.group.pull&&i.item.parentNode.removeChild(i.item),c.props.onChange&&c.props.onChange(u,c.sortable,i)}e.props.onChange&&e.props.onChange(l,e.sortable,i)}if("move"===i.type){var f=r[0],h=r[1];return!n||n(f,h)}setTimeout(function(){n&&n(i)},0)}}),this.sortable=S.default.create(this.node,t)}},{key:"shouldComponentUpdate",value:function(e){return!!e.onChange}},{key:"componentWillUnmount",value:function(){this.sortable&&(this.sortable.destroy(),this.sortable=null)}},{key:"render",value:function(){var e=this,t=this.props,o=t.tag,n=(t.options,t.onChange,a(t,["tag","options","onChange"]));return w.default.createElement(o,r({},n,{ref:function(t){e.node=t}}))}}]),t}(w.Component);y(C,"propTypes",{options:b.default.object,onChange:b.default.func,tag:b.default.oneOfType([b.default.string,b.default.func]),style:b.default.object}),y(C,"defaultProps",{options:{},tag:"div",style:{}});var I=C;t.default=I},function(e,t,o){e.exports=o(581)()},function(e,t,o){"use strict";function n(){}function r(){}var a=o(582);r.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,r,i){if(i!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return o.PropTypes=o,o}},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,o){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a.apply(this,arguments)}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(o,!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function c(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}function u(e,t){if(null==e)return{};var o,n,r=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function d(e){return p(e)||f(e)||h()}function p(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){return!!navigator.userAgent.match(e)}function v(e,t,o){e.addEventListener(t,o,!ge&&Ce)}function g(e,t,o){e.removeEventListener(t,o,!ge&&Ce)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function b(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,o,n){if(e){o=o||document;do{if(null!=t&&(">"===t[0]?e.parentNode===o&&y(e,t):y(e,t))||n&&e===o)return e;if(e===o)break}while(e=b(e))}return null}function S(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Ie," ").replace(" "+t+" "," ");e.className=(n+(o?" "+t:"")).replace(Ie," ")}}function _(e,t,o){var n=e&&e.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=o+("string"===typeof o?"":"px")}}function C(e,t){var o="";do{var n=_(e,"transform");n&&"none"!==n&&(o=n+" "+o)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return r&&new r(o)}function I(e,t,o){if(e){var n=e.getElementsByTagName(t),r=0,a=n.length;if(o)for(;r<a;r++)o(n[r],r);return n}return[]}function k(){return ge?document.documentElement:document.scrollingElement}function T(e,t,o,n,r){if(e.getBoundingClientRect||e===window){var a,i,s,l,c,u,d;if(e!==window&&e!==k()?(a=e.getBoundingClientRect(),i=a.top,s=a.left,l=a.bottom,c=a.right,u=a.height,d=a.width):(i=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||o)&&e!==window&&(r=r||e.parentNode,!ge))do{if(r&&r.getBoundingClientRect&&("none"!==_(r,"transform")||o&&"static"!==_(r,"position"))){var p=r.getBoundingClientRect();i-=p.top+parseInt(_(r,"border-top-width")),s-=p.left+parseInt(_(r,"border-left-width")),l=i+a.height,c=s+a.width;break}}while(r=r.parentNode);if(n&&e!==window){var f=C(r||e),h=f&&f.a,m=f&&f.d;f&&(i/=m,s/=h,d/=h,u/=m,l=i+u,c=s+d)}return{top:i,left:s,bottom:l,right:c,width:d,height:u}}}function E(e,t,o,n){for(var r=A(e,!0),a=(t||T(e))[o];r;){var i=T(r)[n];if(!("top"===n||"left"===n?a>=i:a<=i))return r;if(r===k())break;r=A(r,!1)}return!1}function D(e,t,o){for(var n=0,r=0,a=e.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==G.ghost&&a[r]!==G.dragged&&w(a[r],o.draggable,e,!1)){if(n===t)return a[r];n++}r++}return null}function O(e,t){for(var o=e.lastElementChild;o&&(o===G.ghost||"none"===_(o,"display")||t&&!y(o,t));)o=o.previousElementSibling;return o||null}function P(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===G.clone||t&&!y(e,t)||o++;return o}function W(e){var t=0,o=0,n=k();if(e)do{var r=C(e),a=r.a,i=r.d;t+=e.scrollLeft*a,o+=e.scrollTop*i}while(e!==n&&(e=e.parentNode));return[t,o]}function R(e,t){for(var o in e)if(e.hasOwnProperty(o))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[o][n])return Number(o);return-1}function A(e,t){if(!e||!e.getBoundingClientRect)return k();var o=e,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var r=_(o);if(o.clientWidth<o.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!o.getBoundingClientRect||o===document.body)return k();if(n||t)return o;n=!0}}}while(o=o.parentNode);return k()}function x(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function L(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function F(e,t){return function(){if(!ve){var o=arguments,n=this;1===o.length?e.call(n,o[0]):e.apply(n,o),ve=setTimeout(function(){ve=void 0},t)}}}function M(){clearTimeout(ve),ve=void 0}function N(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function j(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}function z(e,t){_(e,"position","absolute"),_(e,"top",t.top),_(e,"left",t.left),_(e,"width",t.width),_(e,"height",t.height)}function B(e){_(e,"position",""),_(e,"top",""),_(e,"left",""),_(e,"width",""),_(e,"height","")}function q(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){[].slice.call(this.el.children).forEach(function(e){if("none"!==_(e,"display")&&e!==G.ghost){t.push({target:e,rect:T(e)});var o=T(e);if(e.thisAnimationDuration){var n=C(e,!0);n&&(o.top-=n.f,o.left-=n.e)}e.fromRect=o}})}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(R(t,{target:e}),1)},animateAll:function(o){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof o&&o());var r=!1,a=0;t.forEach(function(e){var t=0,o=e.target,i=o.fromRect,s=T(o),l=o.prevFromRect,c=o.prevToRect,u=e.rect,d=C(o,!0);d&&(s.top-=d.f,s.left-=d.e),o.toRect=s,(E(o,s,"bottom","top")||E(o,s,"top","bottom")||E(o,s,"right","left")||E(o,s,"left","right"))&&(E(o,u,"bottom","top")||E(o,u,"top","bottom")||E(o,u,"right","left")||E(o,u,"left","right"))&&(E(o,i,"bottom","top")||E(o,i,"top","bottom")||E(o,i,"right","left")||E(o,i,"left","right"))||(o.thisAnimationDuration&&L(l,s)&&!L(i,s)&&(u.top-s.top)/(u.left-s.left)===(i.top-s.top)/(i.left-s.left)&&(t=U(u,l,c,n.options)),L(s,i)||(o.prevFromRect=i,o.prevToRect=s,t||(t=n.options.animation),n.animate(o,u,t)),t&&(r=!0,a=Math.max(a,t),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout(function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null},t),o.thisAnimationDuration=t))}),clearTimeout(e),r?e=setTimeout(function(){"function"===typeof o&&o()},a):"function"===typeof o&&o(),t=[]},animate:function(e,t,o){if(o){_(e,"transition",""),_(e,"transform","");var n=T(e),r=C(this.el),a=r&&r.a,i=r&&r.d,s=(t.left-n.left)/(a||1),l=(t.top-n.top)/(i||1);e.animatingX=!!s,e.animatingY=!!l,_(e,"transform","translate3d("+s+"px,"+l+"px,0)"),K(e),_(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),_(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){_(e,"transition",""),_(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},o)}}}}function K(e){return e.offsetWidth}function U(e,t,o,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*n.animation}function V(e){var t=e.sortable,o=e.rootEl,n=e.name,r=e.targetEl,a=e.cloneEl,i=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,p=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,m=e.eventOptions;t=t||o[ke];var v,g=t.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||ge||ye?(v=document.createEvent("Event"),v.initEvent(n,!0,!0)):v=new CustomEvent(n,{bubbles:!0,cancelable:!0}),v.to=i||o,v.from=s||o,v.item=r||o,v.clone=a,v.oldIndex=c,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=p,v.originalEvent=f,v.pullMode=h?h.lastPutMode:void 0;var b=l({},m,{},De.getEventOptions(n,t));for(var w in b)v[w]=b[w];o&&o.dispatchEvent(v),g[y]&&g[y].call(t,v)}function H(e){V(l({putSortable:Ke,cloneEl:Fe,targetEl:Pe,rootEl:Ae,oldIndex:Ne,oldDraggableIndex:ze,newIndex:je,newDraggableIndex:Be},e))}function G(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[ke]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ct(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==G.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};De.initializePlugins(this,e,o);for(var n in o)!(n in t)&&(t[n]=o[n]);pt(t);for(var r in this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&st,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Ze.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,q())}function J(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Q(e,t,o,n,r,a,i,s){var l,c,u=e[ke],d=u.options.onMove;return!window.CustomEvent||ge||ye?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=o,l.draggedRect=n,l.related=r||t,l.relatedRect=a||T(t),l.willInsertAfter=s,l.originalEvent=i,e.dispatchEvent(l),d&&(c=d.call(u,l,i)),c}function Y(e){e.draggable=!1}function X(){nt=!1}function $(e,t,o){var n=T(O(o.el,o.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}function Z(e,t,o,n,r,a,i,s){var l=n?e.clientY:e.clientX,c=n?o.height:o.width,u=n?o.top:o.left,d=n?o.bottom:o.right,p=!1;if(!i)if(s&&Qe<c*r){if(!et&&(1===Je?l>u+c*a/2:l<d-c*a/2)&&(et=!0),et)p=!0;else if(1===Je?l<u+Qe:l>d-Qe)return-Je}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return ee(t);return p=p||i,p&&(l<u+c*a/2||l>d-c*a/2)?l>u+c/2?1:-1:0}function ee(e){return P(Pe)<P(e)?1:-1}function te(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function oe(e){rt.length=0;for(var t=e.getElementsByTagName("input"),o=t.length;o--;){var n=t[o];n.checked&&rt.push(n)}}function ne(e){return setTimeout(e,0)}function re(e){return clearTimeout(e)}function ae(){function e(){this.options={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.sortable.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.sortable.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),se(),ie(),M()},nulling:function(){St=yt=gt=It=_t=bt=wt=null,Ct.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var o=this,n=e.clientX,r=e.clientY,a=document.elementFromPoint(n,r);if(St=e,t||ye||ge||we){kt(e,this.sortable.options,a,t);var i=A(a,!0);!It||_t&&n===bt&&r===wt||(_t&&se(),_t=setInterval(function(){var a=A(document.elementFromPoint(n,r),!0);a!==i&&(i=a,ie()),kt(e,o.sortable.options,a,t)},10),bt=n,wt=r)}else{if(!this.sortable.options.bubbleScroll||A(a,!0)===k())return void ie();kt(e,this.sortable.options,A(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}function ie(){Ct.forEach(function(e){clearInterval(e.pid)}),Ct=[]}function se(){clearInterval(_t)}function le(){}function ce(){}function ue(){function e(){this.options={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;Et=t},dragOverValid:function(e){var t=e.completed,o=e.target,n=e.onMove,r=e.activeSortable,a=e.changed;if(r.options.swap){var i=this.sortable.el,s=this.sortable.options;if(o&&o!==i){var l=Et;!1!==n(o)?(S(o,s.swapClass,!0),Et=o):Et=null,l&&l!==Et&&S(l,s.swapClass,!1)}return a(),t(!0)}},drop:function(e){var t=e.activeSortable,o=e.putSortable,n=e.dragEl,r=o||this.sortable,a=this.sortable.options;Et&&S(Et,a.swapClass,!1),Et&&(a.swap||o&&o.options.swap)&&n!==Et&&(r.captureAnimationState(),r!==t&&t.captureAnimationState(),de(n,Et),r.animateAll(),r!==t&&t.animateAll())},nulling:function(){Et=null}},a(e,{pluginName:"swap",eventOptions:function(){return{swapItem:Et}}})}function de(e,t){var o,n,r=e.parentNode,a=t.parentNode;r&&a&&!r.isEqualNode(t)&&!a.isEqualNode(e)&&(o=P(e),n=P(t),r.isEqualNode(a)&&o<n&&n++,r.insertBefore(t,r.children[o]),a.insertBefore(e,a.children[n]))}function pe(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.options={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,o){var n="";xt.length&&Ot===e?xt.forEach(function(e,t){n+=(t?", ":"")+e.textContent}):n=o.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Pt=t},delayEnded:function(){this.isMultiDrag=~xt.indexOf(Pt)},setupClone:function(e){var t=e.sortable;if(this.isMultiDrag){for(var o=0;o<xt.length;o++)Lt.push(j(xt[o])),Lt[o].sortableIndex=xt[o].sortableIndex,Lt[o].draggable=!1,Lt[o].style["will-change"]="",S(Lt[o],t.options.selectedClass,!1),xt[o]===Pt&&S(Lt[o],t.options.chosenClass,!1);return t._hideClone(),!0}},clone:function(e){var t=e.sortable,o=e.rootEl,n=e.dispatchSortableEvent;if(this.isMultiDrag)return!t.options.removeCloneOnHide&&xt.length&&Ot===t?(he(!0,o),n("clone"),!0):void 0},showClone:function(e){var t=e.cloneNowShown,o=e.rootEl;if(this.isMultiDrag)return he(!1,o),Lt.forEach(function(e){_(e,"display","")}),t(),Rt=!1,!0},hideClone:function(e){var t=e.sortable,o=e.cloneNowHidden;if(this.isMultiDrag)return Lt.forEach(function(e){_(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),o(),Rt=!0,!0},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&Ot&&Ot.multiDrag._deselectMultiDrag(),xt.forEach(function(e){e.sortableIndex=P(e)}),xt=xt.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),Nt=!0},dragStarted:function(e){var t=e.sortable;if(this.isMultiDrag){if(t.options.sort&&(t.captureAnimationState(),t.options.animation)){xt.forEach(function(e){e!==Pt&&_(e,"position","absolute")});var o=T(Pt,!1,!0,!0);xt.forEach(function(e){e!==Pt&&z(e,o)}),Mt=!0,Ft=!0}t.animateAll(function(){Mt=!1,Ft=!1,t.options.animation&&xt.forEach(function(e){B(e)}),t.options.sort&&me()})}},dragOver:function(e){var t=e.target,o=e.completed;if(Mt&&~xt.indexOf(t))return o(!1)},revert:function(e){var t=e.fromSortable,o=e.rootEl,n=e.sortable,r=e.dragRect;xt.length>1&&(xt.forEach(function(e){n.addAnimationState({target:e,rect:Mt?T(e):r}),B(e),e.fromRect=r,t.removeAnimationState(e)}),Mt=!1,fe(!n.options.removeCloneOnHide,o))},dragOverCompleted:function(e){var t=e.sortable,o=e.isOwner,n=e.insertion,r=e.activeSortable,a=e.parentEl,i=e.putSortable,s=t.options;if(n){if(o&&r._hideClone(),Ft=!1,s.animation&&xt.length>1&&(Mt||!o&&!r.options.sort&&!i)){var l=T(Pt,!1,!0,!0);xt.forEach(function(e){e!==Pt&&(z(e,l),a.appendChild(e))}),Mt=!0}if(!o)if(Mt||me(),xt.length>1){var c=Rt;r._showClone(t),r.options.animation&&!Rt&&c&&Lt.forEach(function(e){r.addAnimationState({target:e,rect:Wt}),e.fromRect=Wt,e.thisAnimationDuration=null})}else r._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,o=e.isOwner,n=e.activeSortable;if(xt.forEach(function(e){e.thisAnimationDuration=null}),n.options.animation&&!o&&n.multiDrag.isMultiDrag){Wt=a({},t);var r=C(Pt,!0);Wt.top-=r.f,Wt.left-=r.e}},dragOverAnimationComplete:function(){Mt&&(Mt=!1,me())},drop:function(e){var t=e.originalEvent,o=e.rootEl,n=e.parentEl,r=e.sortable,a=e.dispatchSortableEvent,i=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=r.options,u=n.children;if(!Nt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(Pt,c.selectedClass,!~xt.indexOf(Pt)),~xt.indexOf(Pt))xt.splice(xt.indexOf(Pt),1),Dt=null,V({sortable:r,rootEl:o,name:"deselect",targetEl:Pt,originalEvt:t});else{if(xt.push(Pt),V({sortable:r,rootEl:o,name:"select",targetEl:Pt,originalEvt:t}),(!c.multiDragKey||this.multiDragKeyDown)&&t.shiftKey&&Dt&&r.el.contains(Dt)){var d=P(Dt),p=P(Pt);if(~d&&~p&&d!==p){var f,h;for(p>d?(h=d,f=p):(h=p,f=d+1);h<f;h++)~xt.indexOf(u[h])||(S(u[h],c.selectedClass,!0),xt.push(u[h]),V({sortable:r,rootEl:o,name:"select",targetEl:u[h],originalEvt:t}))}}else Dt=Pt;Ot=l}if(Nt&&this.isMultiDrag){if((n[ke].options.sort||n!==o)&&xt.length>1){var m=T(Pt),v=P(Pt,":not(."+r.options.selectedClass+")");if(!Ft&&c.animation&&(Pt.thisAnimationDuration=null),l.captureAnimationState(),!Ft&&(c.animation&&(Pt.fromRect=m,xt.forEach(function(e){if(e.thisAnimationDuration=null,e!==Pt){var t=Mt?T(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}})),me(),xt.forEach(function(e){u[v]?n.insertBefore(e,u[v]):n.appendChild(e),v++}),i===P(Pt))){var g=!1;xt.forEach(function(e){if(e.sortableIndex!==P(e))return void(g=!0)}),g&&a("update")}xt.forEach(function(e){B(e)}),l.animateAll()}Ot=l}(o===n||s&&"clone"!==s.lastPutMode)&&Lt.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=Nt=!1,Lt.length=0},destroy:function(){this._deselectMultiDrag(),g(document,"pointerup",this._deselectMultiDrag),g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!Nt&&Ot===this.sortable&&(!e||!w(e.target,this.sortable.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))for(;xt.length;){var t=xt[0];S(t,this.sortable.options.selectedClass,!1),xt.shift(),V({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[ke];t&&t.options.multiDrag&&!~xt.indexOf(e)&&(Ot&&Ot!==t&&(Ot.multiDrag._deselectMultiDrag(),Ot=t),S(e,t.options.selectedClass,!0),xt.push(e))},deselect:function(e){var t=e.parentNode[ke],o=xt.indexOf(e);t&&t.options.multiDrag&&~o&&(S(e,t.options.selectedClass,!1),xt.splice(o,1))}},eventOptions:function(){var e=this,t=[],o=[];return xt.forEach(function(n){t.push({multiDragElement:n,index:n.sortableIndex});var r;r=Mt&&n!==Pt?-1:Mt?P(n,":not(."+e.options.selectedClass+")"):P(n),o.push({multiDragElement:n,index:r})}),{items:d(xt),clones:[].concat(Lt),oldIndicies:t,newIndicies:o}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),"ctrl"===e?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function fe(e,t){xt.forEach(function(o){var n=t.children[o.sortableIndex+(e?Number(i):0)];n?t.insertBefore(o,n):t.appendChild(o)})}function he(e,t){Lt.forEach(function(o){var n=t.children[o.sortableIndex+(e?Number(i):0)];n?t.insertBefore(o,n):t.appendChild(o)})}function me(){xt.forEach(function(e){e!==Pt&&e.parentNode&&e.parentNode.removeChild(e)})}Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"AutoScroll",function(){return ae}),o.d(t,"MultiDrag",function(){return pe}),o.d(t,"OnSpill",function(){return At}),o.d(t,"Sortable",function(){return G}),o.d(t,"Swap",function(){return ue});var ve,ge=m(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ye=m(/Edge/i),be=m(/firefox/i),we=m(/safari/i)&&!m(/chrome/i)&&!m(/android/i),Se=m(/iP(ad|od|hone)/i),_e=m(/chrome/i)&&m(/android/i),Ce={capture:!1,passive:!1},Ie=/\s+/g,ke="Sortable"+(new Date).getTime(),Te=[],Ee={initializeByDefault:!0},De={mount:function(e){for(var t in Ee)!Ee.hasOwnProperty(t)||t in e||(e[t]=Ee[t]);Te.push(e)},pluginEvent:function(e,t,o){var n=this;this.eventCanceled=!1;var r=e+"Global";Te.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&(n.eventCanceled=!!t[a.pluginName][r](l({sortable:t},o))),t.options[a.pluginName]&&t[a.pluginName][e]&&(n.eventCanceled=n.eventCanceled||!!t[a.pluginName][e](l({sortable:t},o))))})},initializePlugins:function(e,t,o){Te.forEach(function(n){var r=n.pluginName;if(e.options[r]||n.initializeByDefault){var i=new n(e,t);i.sortable=e,e[r]=i,a(o,i.options)}});for(var n in e.options)if(e.options.hasOwnProperty(n)){var r=this.modifyOption(e,n,e.options[n]);"undefined"!==typeof r&&(e.options[n]=r)}},getEventOptions:function(e,t){var o={};return Te.forEach(function(n){"function"===typeof n.eventOptions&&a(o,n.eventOptions.call(t,e))}),o},modifyOption:function(e,t,o){var n;return Te.forEach(function(r){e[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[t]&&(n=r.optionListeners[t].call(e[r.pluginName],o))}),n}},Oe=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.evt,r=u(o,["evt"]);De.pluginEvent.bind(G)(e,t,l({dragEl:Pe,parentEl:We,ghostEl:Re,rootEl:Ae,nextEl:xe,lastDownEl:Le,cloneEl:Fe,cloneHidden:Me,dragStarted:He,putSortable:Ke,activeSortable:G.active,originalEvent:n,oldIndex:Ne,oldDraggableIndex:ze,newIndex:je,newDraggableIndex:Be,hideGhostForTarget:ft,unhideGhostForTarget:ht,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(e){H({sortable:t,name:e,originalEvent:n})}},r))};if("undefined"===typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");var Pe,We,Re,Ae,xe,Le,Fe,Me,Ne,je,ze,Be,qe,Ke,Ue,Ve,He,Ge,Je,Qe,Ye,Xe=!1,$e=!1,Ze=[],et=!1,tt=!1,ot=[],nt=!1,rt=[],at=Se,it=ye||ge?"cssFloat":"float",st=!_e&&!Se&&"draggable"in document.createElement("div"),lt=function(){if(ge)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),ct=function(e,t){var o=_(e),n=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=D(e,0,t),a=D(e,1,t),i=r&&_(r),s=a&&_(a),l=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+T(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(a).width;if("flex"===o.display)return"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal";if("grid"===o.display)return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&"none"!==i.float){var u="left"===i.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return r&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||l>=n&&"none"===o[it]||a&&"none"===o[it]&&l+c>n)?"vertical":"horizontal"},ut=function(e,t,o){var n=o?e.left:e.top,r=o?e.right:e.bottom,a=o?e.width:e.height,i=o?t.left:t.top,s=o?t.right:t.bottom,l=o?t.width:t.height;return n===i||r===s||n+a/2===i+l/2},dt=function(e,t){var o;return Ze.some(function(n){if(!O(n)){var r=T(n),a=n[ke].options.emptyInsertThreshold,i=e>=r.left-a&&e<=r.right+a,s=t>=r.top-a&&t<=r.bottom+a;return a&&i&&s?o=n:void 0}}),o},pt=function(e){function t(e,o){return function(n,r,a,i){var s=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==e&&(o||s))return!0;if(null==e||!1===e)return!1;if(o&&"clone"===e)return e;if("function"===typeof e)return t(e(n,r,a,i),o)(n,r,a,i);var l=(o?n:r).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var o={},r=e.group;r&&"object"==n(r)||(r={name:r}),o.name=r.name,o.checkPull=t(r.pull,!0),o.checkPut=t(r.put),o.revertClone=r.revertClone,e.group=o},ft=function(){!lt&&Re&&_(Re,"display","none")},ht=function(){!lt&&Re&&_(Re,"display","")};document.addEventListener("click",function(e){if($e)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),$e=!1,!1},!0);var mt=function(e){if(Pe){e=e.touches?e.touches[0]:e;var t=dt(e.clientX,e.clientY);if(t){var o={};for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[ke]._onDragOver(o)}}},vt=function(e){Pe&&Pe.parentNode[ke]._isOutsideThisEl(e.target)};G.prototype={constructor:G,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ge=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,Pe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,n=this.options,r=n.preventOnFilter,a=e.type,i=e.touches&&e.touches[0],s=(i||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(oe(o),!Pe&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(!(s=w(s,n.draggable,o,!1))||!s.animated)&&Le!==s){if(Ne=P(s),ze=P(s,n.draggable),"function"===typeof c){if(c.call(this,e,s,this))return H({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:o,fromEl:o}),Oe("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(n){if(n=w(l,n.trim(),o,!1))return H({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:o,toEl:o}),Oe("filter",t,{evt:e}),!0})))return void(r&&e.cancelable&&e.preventDefault());n.handle&&!w(l,n.handle,o,!1)||this._prepareDragStart(e,i,s)}}},_prepareDragStart:function(e,t,o){var n,r=this,a=r.el,i=r.options,s=a.ownerDocument;if(o&&!Pe&&o.parentNode===a)if(Ae=a,Pe=o,We=Pe.parentNode,xe=Pe.nextSibling,Le=o,qe=i.group,G.dragged=Pe,Ue={target:Pe,clientX:(t||e).clientX,clientY:(t||e).clientY},this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Pe.style["will-change"]="all",n=function(){if(Oe("delayEnded",r,{evt:e}),G.eventCanceled)return void r._onDrop();r._disableDelayedDragEvents(),!be&&r.nativeDraggable&&(Pe.draggable=!0),r._triggerDragStart(e,t),H({sortable:r,name:"choose",originalEvent:e}),S(Pe,i.chosenClass,!0)},i.ignore.split(",").forEach(function(e){I(Pe,e.trim(),Y)}),v(s,"dragover",mt),v(s,"mousemove",mt),v(s,"touchmove",mt),v(s,"mouseup",r._onDrop),v(s,"touchend",r._onDrop),v(s,"touchcancel",r._onDrop),be&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Pe.draggable=!0),Oe("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(ye||ge))n();else{if(G.eventCanceled)return void this._onDrop();v(s,"mouseup",r._disableDelayedDrag),v(s,"touchend",r._disableDelayedDrag),v(s,"touchcancel",r._disableDelayedDrag),v(s,"mousemove",r._delayedDragTouchMoveHandler),v(s,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&v(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,i.delay)}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Pe&&Y(Pe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._disableDelayedDrag),g(e,"touchend",this._disableDelayedDrag),g(e,"touchcancel",this._disableDelayedDrag),g(e,"mousemove",this._delayedDragTouchMoveHandler),g(e,"touchmove",this._delayedDragTouchMoveHandler),g(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):t?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(Pe,"dragend",this),v(Ae,"dragstart",this._onDragStart));try{document.selection?ne(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Xe=!1,Ae&&Pe){Oe("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",vt);var o=this.options;!e&&S(Pe,o.dragClass,!1),S(Pe,o.ghostClass,!0),G.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ve){this._lastX=Ve.clientX,this._lastY=Ve.clientY,ft();for(var e=document.elementFromPoint(Ve.clientX,Ve.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ve.clientX,Ve.clientY))!==t;)t=e;if(Pe.parentNode[ke]._isOutsideThisEl(e),t)do{if(t[ke]){if(t[ke]._onDragOver({clientX:Ve.clientX,clientY:Ve.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);ht()}},_onTouchMove:function(e){if(Ue){var t=this.options,o=t.fallbackTolerance,n=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=Re&&C(Re),i=Re&&a&&a.a,s=Re&&a&&a.d,l=at&&Ye&&W(Ye),c=(r.clientX-Ue.clientX+n.x)/(i||1)+(l?l[0]-ot[0]:0)/(i||1),u=(r.clientY-Ue.clientY+n.y)/(s||1)+(l?l[1]-ot[1]:0)/(s||1),d=e.touches?"translate3d("+c+"px,"+u+"px,0)":"translate("+c+"px,"+u+"px)";if(!G.active&&!Xe){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}Ve=r,_(Re,"webkitTransform",d),_(Re,"mozTransform",d),_(Re,"msTransform",d),_(Re,"transform",d),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Re){var e=this.options.fallbackOnBody?document.body:Ae,t=T(Pe,!0,at,!0,e),o=this.options;if(at){for(Ye=e;"static"===_(Ye,"position")&&"none"===_(Ye,"transform")&&Ye!==document;)Ye=Ye.parentNode;Ye!==document.body&&Ye!==document.documentElement?(Ye===document&&(Ye=k()),t.top+=Ye.scrollTop,t.left+=Ye.scrollLeft):Ye=k(),ot=W(Ye)}Re=Pe.cloneNode(!0),S(Re,o.ghostClass,!1),S(Re,o.fallbackClass,!0),S(Re,o.dragClass,!0),_(Re,"transition",""),_(Re,"transform",""),_(Re,"box-sizing","border-box"),_(Re,"margin",0),_(Re,"top",t.top),_(Re,"left",t.left),_(Re,"width",t.width),_(Re,"height",t.height),_(Re,"opacity","0.8"),_(Re,"position",at?"absolute":"fixed"),_(Re,"zIndex","100000"),_(Re,"pointerEvents","none"),G.ghost=Re,e.appendChild(Re)}},_onDragStart:function(e,t){var o=this,n=e.dataTransfer,r=o.options;if(Oe("dragStart",this,{evt:e}),G.eventCanceled)return void this._onDrop();Oe("setupClone",this),G.eventCanceled||(Fe=j(Pe),Fe.draggable=!1,Fe.style["will-change"]="",this._hideClone(),S(Fe,this.options.chosenClass,!1),G.clone=Fe),o.cloneId=ne(function(){Oe("clone",o),G.eventCanceled||(o.options.removeCloneOnHide||Ae.insertBefore(Fe,Pe),o._hideClone(),H({sortable:o,name:"clone"}))}),!t&&S(Pe,r.dragClass,!0),t?($e=!0,o._loopId=setInterval(o._emulateDragOver,50)):(g(document,"mouseup",o._onDrop),g(document,"touchend",o._onDrop),g(document,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(o,n,Pe)),v(document,"drop",o),_(Pe,"transform","translateZ(0)")),Xe=!0,o._dragStartId=ne(o._dragStarted.bind(o,t,e)),v(document,"selectstart",o),He=!0,we&&_(document.body,"user-select","none")},_onDragOver:function(e){function t(t,o){Oe(t,y,l({evt:e,isOwner:m,axis:c?"vertical":"horizontal",revert:s,dragRect:a,targetRect:i,canSort:v,fromSortable:g,target:d,completed:n,onMove:function(t,o){return Q(Ae,u,Pe,a,t,T(t),e,o)},changed:r},o))}function o(){t("dragOverAnimationCapture"),y.captureAnimationState(),y!==g&&g.captureAnimationState()}function n(o){return t("dragOverCompleted",{insertion:o}),o&&(m?h._hideClone():h._showClone(y),y!==g&&(S(Pe,Ke?Ke.options.ghostClass:h.options.ghostClass,!1),S(Pe,p.ghostClass,!0)),Ke!==y&&y!==G.active?Ke=y:y===G.active&&Ke&&(Ke=null),g===y&&(y._ignoreWhileAnimating=d),y.animateAll(function(){t("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(d===Pe&&!Pe.animated||d===u&&!d.animated)&&(Ge=null),p.dragoverBubble||e.rootEl||d===document||(Pe.parentNode[ke]._isOutsideThisEl(e.target),!o&&mt(e)),!p.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function r(){je=P(Pe),Be=P(Pe,p.draggable),H({sortable:y,name:"change",toEl:u,newIndex:je,newDraggableIndex:Be,originalEvent:e})}var a,i,s,c,u=this.el,d=e.target,p=this.options,f=p.group,h=G.active,m=qe===f,v=p.sort,g=Ke||h,y=this,b=!1;if(!nt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),d=w(d,p.draggable,u,!0),t("dragOver"),G.eventCanceled)return b;if(Pe.contains(e.target)||d.animated&&d.animatingX&&d.animatingY||y._ignoreWhileAnimating===d)return n(!1);if($e=!1,h&&!p.disabled&&(m?v||(s=!Ae.contains(Pe)):Ke===this||(this.lastPutMode=qe.checkPull(this,h,Pe,e))&&f.checkPut(this,h,Pe,e))){if(c="vertical"===this._getDirection(e,d),a=T(Pe),t("dragOverValid"),G.eventCanceled)return b;if(s)return We=Ae,o(),this._hideClone(),t("revert"),G.eventCanceled||(xe?Ae.insertBefore(Pe,xe):Ae.appendChild(Pe)),n(!0);var C=O(u,p.draggable);if(!C||$(e,c,this)&&!C.animated){if(C===Pe)return n(!1);if(C&&u===e.target&&(d=C),d&&(i=T(d)),!1!==Q(Ae,u,Pe,a,d,i,e,!!d))return o(),u.appendChild(Pe),We=u,r(),n(!0)}else if(d.parentNode===u){i=T(d);var I,k=0,D=Pe.parentNode!==u,W=!ut(Pe.animated&&Pe.toRect||a,d.animated&&d.toRect||i,c),R=c?"top":"left",A=E(d,null,"top","top")||E(Pe,null,"top","top"),x=A?A.scrollTop:void 0;Ge!==d&&(I=i[R],et=!1,tt=!W&&p.invertSwap||D),k=Z(e,d,i,c,W?1:p.swapThreshold,null==p.invertedSwapThreshold?p.swapThreshold:p.invertedSwapThreshold,tt,Ge===d);var L;if(0!==k){var F=P(Pe);do{F-=k,L=We.children[F]}while(L&&("none"===_(L,"display")||L===Re))}if(0===k||L===d)return n(!1);Ge=d,Je=k;var M=d.nextElementSibling,j=!1;j=1===k;var z=Q(Ae,u,Pe,a,d,i,e,j);if(!1!==z)return 1!==z&&-1!==z||(j=1===z),nt=!0,setTimeout(X,30),o(),j&&!M?u.appendChild(Pe):d.parentNode.insertBefore(Pe,j?M:d),A&&N(A,0,x-A.scrollTop),We=Pe.parentNode,void 0===I||tt||(Qe=Math.abs(I-T(d)[R])),r(),n(!0)}if(u.contains(Pe))return n(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",mt),g(document,"mousemove",mt),g(document,"touchmove",mt)},_offUpEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._onDrop),g(e,"touchend",this._onDrop),g(e,"pointerup",this._onDrop),g(e,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(je=P(Pe),Be=P(Pe,o.draggable),Oe("drop",this,{evt:e}),je=P(Pe),Be=P(Pe,o.draggable),G.eventCanceled)return void this._nulling();Xe=!1,tt=!1,et=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),re(this.cloneId),re(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),we&&_(document.body,"user-select",""),e&&(He&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),Re&&Re.parentNode&&Re.parentNode.removeChild(Re),(Ae===We||Ke&&"clone"!==Ke.lastPutMode)&&Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),Pe&&(this.nativeDraggable&&g(Pe,"dragend",this),Y(Pe),Pe.style["will-change"]="",He&&!Xe&&S(Pe,Ke?Ke.options.ghostClass:this.options.ghostClass,!1),S(Pe,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:We,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ae!==We?(je>=0&&(H({rootEl:We,name:"add",toEl:We,fromEl:Ae,originalEvent:e}),H({sortable:this,name:"remove",toEl:We,originalEvent:e}),H({rootEl:We,name:"sort",toEl:We,fromEl:Ae,originalEvent:e}),H({sortable:this,name:"sort",toEl:We,originalEvent:e})),Ke&&Ke.save()):je!==Ne&&je>=0&&(H({sortable:this,name:"update",toEl:We,originalEvent:e}),H({sortable:this,name:"sort",toEl:We,originalEvent:e})),G.active&&(null!=je&&-1!==je||(je=Ne,Be=ze),H({sortable:this,name:"end",toEl:We,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Oe("nulling",this),Ae=Pe=We=Re=xe=Fe=Le=Me=Ue=Ve=He=je=Be=Ne=ze=Ge=Je=Ke=qe=G.dragged=G.ghost=G.clone=G.active=null,rt.forEach(function(e){e.checked=!0}),rt.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Pe&&(this._onDragOver(e),J(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,n=0,r=o.length,a=this.options;n<r;n++)e=o[n],w(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||te(e));return t},sort:function(e){var t={},o=this.el;this.toArray().forEach(function(e,n){var r=o.children[n];w(r,this.options.draggable,o,!1)&&(t[e]=r)},this),e.forEach(function(e){t[e]&&(o.removeChild(t[e]),o.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(void 0===t)return o[e];var n=De.modifyOption(this,e,t);o[e]="undefined"!==typeof n?n:t,"group"===e&&pt(o)},destroy:function(){Oe("destroy",this);var e=this.el;e[ke]=null,g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),g(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),Ze.splice(Ze.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Me){if(Oe("hideClone",this),G.eventCanceled)return;_(Fe,"display","none"),this.options.removeCloneOnHide&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),Me=!0}},_showClone:function(e){if("clone"!==e.lastPutMode)return void this._hideClone();if(Me){if(Oe("showClone",this),G.eventCanceled)return;Ae.contains(Pe)&&!this.options.group.revertClone?Ae.insertBefore(Fe,Pe):xe?Ae.insertBefore(Fe,xe):Ae.appendChild(Fe),this.options.group.revertClone&&this._animate(Pe,Fe),_(Fe,"display",""),Me=!1}}},v(document,"touchmove",function(e){(G.active||Xe)&&e.cancelable&&e.preventDefault()}),G.utils={on:v,off:g,css:_,find:I,is:function(e,t){return!!w(e,t,e,!1)},extend:x,throttle:F,closest:w,toggleClass:S,clone:j,index:P,nextTick:ne,cancelNextTick:re,detectDirection:ct,getChild:D},G.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));e.utils&&(G.utils=l({},G.utils,{},e.utils)),De.mount(e)})},G.create=function(e,t){return new G(e,t)},G.version="1.0.0";var gt,yt,bt,wt,St,_t,Ct=[],It=!1,kt=F(function(e,t,o,n){if(t.scroll){var r,a=t.scrollSensitivity,i=t.scrollSpeed,s=k(),l=!1;yt!==o&&(yt=o,ie(),gt=t.scroll,r=t.scrollFn,!0===gt&&(gt=A(o,!0)));var c=0,u=gt;do{var d=u,p=T(d),f=p.top,h=p.bottom,m=p.left,v=p.right,g=p.width,y=p.height,b=void 0,w=void 0,S=d.scrollWidth,C=d.scrollHeight,I=_(d),E=d.scrollLeft,D=d.scrollTop;d===s?(b=g<S&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),w=y<C&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(b=g<S&&("auto"===I.overflowX||"scroll"===I.overflowX),w=y<C&&("auto"===I.overflowY||"scroll"===I.overflowY));var O=b&&(Math.abs(v-e.clientX)<=a&&E+g<S)-(Math.abs(m-e.clientX)<=a&&!!E),P=w&&(Math.abs(h-e.clientY)<=a&&D+y<C)-(Math.abs(f-e.clientY)<=a&&!!D);if(!Ct[c])for(var W=0;W<=c;W++)Ct[W]||(Ct[W]={});Ct[c].vx==O&&Ct[c].vy==P&&Ct[c].el===d||(Ct[c].el=d,Ct[c].vx=O,Ct[c].vy=P,clearInterval(Ct[c].pid),0==O&&0==P||(l=!0,Ct[c].pid=setInterval(function(){n&&0===this.layer&&G.active._onTouchMove(St);var t=Ct[this.layer].vy?Ct[this.layer].vy*i:0,o=Ct[this.layer].vx?Ct[this.layer].vx*i:0;"function"===typeof r&&"continue"!==r.call(G.dragged.parentNode[ke],o,t,e,St,Ct[this.layer].el)||N(Ct[this.layer].el,o,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&u!==s&&(u=A(u,!1)));It=l}},30),Tt=function(e){var t=e.originalEvent,o=e.putSortable,n=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,i=e.hideGhostForTarget,s=e.unhideGhostForTarget,l=o||r;i();var c=document.elementFromPoint(t.clientX,t.clientY);s(),l&&!l.el.contains(c)&&(a("spill"),this.onSpill(n))};le.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){this.sortable.captureAnimationState();var t=D(this.sortable.el,this.startIndex,this.sortable.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll()},drop:Tt},a(le,{pluginName:"revertOnSpill"}),ce.prototype={onSpill:function(e){this.sortable.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),this.sortable.animateAll()},drop:Tt},a(ce,{pluginName:"removeOnSpill"});var Et,Dt,Ot,Pt,Wt,Rt,At=[ce,le],xt=[],Lt=[],Ft=!1,Mt=!1,Nt=!1;t.default=G},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(9),S=o(0),_=o(157),C=n(_),I=S.WeaLocaleProvider.getLabel,k=(a=r=function(e){function t(){return(0,d.default)(this,t),(0,m.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.checkedKeys,o=e.data,n=e.contentHeight,r=e.onDoubleClick,a=e.onVisibleChange,i=e.onOk,l=e.dialogProps;return b.default.createElement(S.WeaDialog,(0,s.default)({ecId:this.props.ecId+"_WeaDialog@ehtv73",className:"wea-browser-test-selected-dialog",title:"已选列表",destroyBodyOnClose:!0,style:{height:n},buttons:[b.default.createElement(w.Button,{onClick:function(){a&&a(!1),i&&i()},ecId:this.props.ecId+"_Button@tx8txx",type:"primary"},I(385565,"确 定"),"(",o.length,")"),b.default.createElement(w.Button,{onClick:function(){r&&r(t)},ecId:this.props.ecId+"_Button@juy5pk",disabled:0===t.length},I(385566,"清 除"),"(",t.length,")")],onCancel:a&&function(){return a(!1)}},l||{}),b.default.createElement(C.default,(0,s.default)({},this.props,{ecId:this.props.ecId+"_WeaSelectedRight@wwmhjb",forceShowAll:!0,height:n-48,needLoading:!0})))}}]),t}(b.default.PureComponent),r.defaultProps={checkedKeys:[],data:[],contentHeight:460,dialogProps:{}},a);t.default=k},function(e,t,o){function n(e,t){return(s(e)?r:a)(e,i(t))}var r=o(202),a=o(586),i=o(591),s=o(28);e.exports=n},function(e,t,o){var n=o(587),r=o(590),a=r(n);e.exports=a},function(e,t,o){function n(e,t){return e&&r(e,t,a)}var r=o(588),a=o(82);e.exports=n},function(e,t,o){var n=o(589),r=n();e.exports=r},function(e,t){function o(e){return function(t,o,n){for(var r=-1,a=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++r];if(!1===o(a[l],l,a))break}return t}}e.exports=o},function(e,t,o){function n(e,t){return function(o,n){if(null==o)return o;if(!r(o))return e(o,n);for(var a=o.length,i=t?a:-1,s=Object(o);(t?i--:++i<a)&&!1!==n(s[i],i,s););return o}}var r=o(105);e.exports=n},function(e,t,o){function n(e){return"function"==typeof e?e:r}var r=o(235);e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(9),b=o(0),w=o(57),S=b.WeaLocaleProvider.getLabel,_=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.opsHandler=function(e,t,n){var r=o.props.dataParams,a=void 0===r?{}:r;(0,w.stopPropagation)(t);var i={};"delete"==e?y.Modal.confirm({title:S(131329,"信息确认"),content:S(385625,"确定要删除选择的记录吗？"),onOk:function(){b.WeaTools.callApi("/api/hrm/group/delete","POST",{cmd:"base",groupid:n.id,f_weaver_belongto_userid:a.f_weaver_belongto_userid||""}).then(function(e){if("1"===e.status){var t=o.props.getGrouptree;t&&t()}}).catch(function(e){return o.props.onError&&o.props.onError(e)})}}):i={ops:e,groupId:n.id,groupType:"true"===n.isPrivate?0:1,visible:!0},o.setState({optParams:i})},o.state={optParams:{}},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.icon,n=t.iconBgcolor,r=t.dataParams,i=void 0===r?{}:r,s=this.state.optParams,l=s.groupType,c=s.groupId,u=s.visible,d=void 0!==u&&u,p=s.ops,f={ecId:this.props.ecId+"_WeaDialog@02skc4",icon:o,iconBgcolor:n,visible:d},h=function(){return e.setState({optParams:{}})};if("advice"==p){var m=(window.ecologyContentPath||"")+"/spa/hrm/static/index.html#/main/hrm/groupAdvice?groupId="+c;f=(0,a.default)({},f,{title:S("126253","公共组调整建议"),style:{width:650,height:360},url:m,onCancel:h,callback:h})}else if("add"==p||"edit"==p){var v=i.f_weaver_belongto_userid||"",y=(window.ecologyContentPath||"")+"/spa/hrm/index_mobx.html#/main/hrm/operateGroup?groupType="+l,w=(window.ecologyContentPath||"")+"/spa/hrm/index_mobx.html#/main/hrm/operateGroup?groupId="+c,_="add"==p?y:w;v&&(_+="&f_weaver_belongto_userid="+v),f=(0,a.default)({},f,{title:"add"==p?S("386496","新建常用组"):S("126252","常用组设置"),style:"add"==p?{width:650,height:225}:{width:750,height:482},url:_,onCancel:h,callback:function(t){return e.setState({optParams:t?(0,a.default)({},s,{ops:"edit"}):{}})}})}return g.default.createElement(b.WeaDialog,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@6xayc9"},f))}}]),t}(g.default.Component);t.default=_},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=this.getTabsProps(),n=o.dataParams,r=void 0===n?{}:n,a=o.isOrgInfo,i=o.handleTypes,s=this.state,l=s.inputId,c=s.leftTreeCheckedData,u=s.leftGroupCheckedData,d=s.leftTreeCheckedKeys,p=(0,v.default)({},a?r:{},this.getStateParams({},!0),this.getFormParams()),f=[].concat((0,h.default)(c),(0,h.default)(t)),m=[].concat((0,h.default)(d)),g="";this.resourcesCache={};var y=function(t,o){if(!o)return t;var n=o[l]||o.id||"";if("function"===typeof i){return t+=i(o)+","}if("org"==i){if(o&&"0"!=n){var r=("1"==o.type?"subcom":"dept")+"|"+n;return t+=r+","}}else if("dece_hrm"==i){if(o&&"0"!=n){var a=("1"==o.type?"subcom|":"2"==o.type?"dept|":"")+n;return t+=a+","}}else{if("hrm"==i){e.resourcesCache[o.type+n]=o;var s=("resource"==o.type?"":o.type+"|")+n;return t+=s+","}if("normal"==i){var c=o.type+"|"+n;return t+=c+","}}return t};return g=f.reduce(y,g),"org"==i?m=m.filter(function(e){return"0"!=e}):"dece_hrm"==i?m=m.filter(function(e){return"0"!=e}):"hrm"==i&&(p.cmd="resource",g=u.reduce(y,g)),"hrm"!=i&&(p.selectids=m.join(",")),g&&(p.types=g.substring(0,g.length-1)),p}function a(e){var t=this.getTabsProps(),o=t.dataURL,n=t.dataParams,r=this.getTabs(),a=o,i=(0,v.default)({},n),s={},l={};return e=e||this.state.activeKey,(0,y.default)(r)||(s=r.filter(function(t){return t.key==e})[0]),s&&(a=s.url||a,i=(0,v.default)({},i,s.dataParams||{})),i=(0,v.default)({},i,this.getFormParams(),this.getStateParams(),l),{dataUrl:a,asyncOtherParams:i}}function i(){var e=this.getTabsProps(),t=e.form;if(!this.hasAdvanceSearch())return{};var o=[],n={},r=t.getFields()||[];for(var a in r)r.hasOwnProperty(a)&&o.push(a);var i=(0,w.default)(t.getFieldsValue(o));return(0,p.default)(i).forEach(function(e){var t=i[e];(t||0===t||!1===t)&&(n[e]=t)}),n}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=this.getTabsProps(),n=o.dropMenuKey,r=o.showCheckStrictly,a=o.showAccount,i=o.hideVirtualOrg,s=o.checkStrictlyKey,l=this.state,c=l.isAccount,u=l.showDls,d=l.showAllbranch,p=l.checkStrictly,f=l.companyId,h={};return(e.showCheckStrictly||r&&!p)&&(h[s||"alllevel"]=1),(e.showAllbranch||o.showAllbranch&&d)&&(h["string"===typeof o.showAllbranch?o.showAllbranch:"showAllbranch"]=1),(e.showAccount||a&&c)&&(h["string"===typeof a?a:"showAccount"]=1),(e.showDls||o.showDls&&u)&&(h["string"===typeof o.showDls?u:"showDls"]=1),t||!e.showVirtualOrg&&i||(h[n]=f||"1"),h}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getTabsProps(),o=t.dataParams,n=t.form,r=t.searchParams,a=void 0===r?{}:r,i=this.state,s=i.inputValue,l=i.activeKey,c=i.date2during,d=i.isInSearch,p=this.getTabs(),f=this.state.quickSearch||"name",h=(0,v.default)({},this.getStateParams(),this.getFormParams()),m={};if(f&&s&&(h[f]=s,n.setFieldsValue((0,u.default)({},f,s))),c&&(h.date2during=c),!(0,y.default)(p)&&l){var g=p.filter(function(e){return e.key===l})[0];m=g.dataParams||{},g.url&&(h.customUrl=g.url||void 0)}return d&&(h=(0,v.default)({},h,a)),(0,v.default)({},h,o,m,e)}Object.defineProperty(t,"__esModule",{value:!0});var c=o(53),u=n(c),d=o(20),p=n(d),f=o(23),h=n(f),m=o(6),v=n(m);t.getExtraParams=r,t.getAsyncParams=a,t.getFormParams=i,t.getStateParams=s,t.getSearchParams=l;var g=o(29),y=n(g),b=o(67),w=n(b)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getTabsProps(),o=t.form,n=t.hasAdvanceSearch,r=this.state.browserConditions,a=void 0===r?[]:r,i=n;return(e?i:i&&a.length>0)&&o}function a(e){e=e?e||[]:this.state.browserConditions||[];var t="";return e.forEach(function(e){e.isQuickSearch&&(t=e.domkey[0])}),t}function i(e){var t=this,o=this.getTabsProps(),n=o.conditionURL,r=o.type,a=o.conditionDataParams,i=o.onError,s=o.hasTabConditions,l=this.state,c=l.activeKey,u=l.browserConditions,d=l.browserConditionsOuter,p=s&&c?this.tabConditions[c]:u,f=s&&c?this.tabConditionsOuter[c]:d;if(!(0,q.default)(p)){var h={};return s?(this.defaultConditionParams=H(p),h={quickSearch:this.getQuickSearchInCondition(p),browserConditions:p,browserConditionsOuter:f}):h={quickSearch:this.getQuickSearchInCondition(p)},void this.setState(h,e)}J(""+n+r,"GET",a).then(function(n){if((0,q.default)(n.conditions))e&&e();else{var r={},a=t.getQuickSearchInCondition(n.conditions);r.quickSearch=a;var i=t.getSearchAdOuterConditions(n.conditions),l=H(n.conditions);t.defaultConditionParams=(0,W.default)({},l),s&&c&&(t.tabConditions[c]=n.conditions,t.tabConditionsOuter[c]=i);var u=o.form,d=u.setFieldsValue;(0,u.resetFields)(),(0,q.default)(l)||(d(l),l[a]&&(r.inputValue=l[a]),l.date2during&&(r.date2during=l.date2during)),t.setState((0,W.default)({},r,{browserConditions:n.conditions,browserConditionsOuter:i,showSearchAd:!1}),function(){e&&e(l)})}}).catch(function(e){return(0,N.default)(i)&&i(e)})}function s(){var e=this.props,t=e.tabs,o=e.defualtTabs,n=e.extendTabs,r=e._tabs,a=this.state.tabsFromApi,i=o&&o.length?o:[],s=void 0;return s="tabs"in this.props?[].concat((0,O.default)(t||[]),(0,O.default)(n||[])):(0,q.default)(i)?a:[].concat((0,O.default)(i),(0,O.default)(n||[])),Array.isArray(s)&&(s=(0,V.joinArray)(s,r||[])),s}function l(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getTabs();return Array.isArray(t)&&!(0,q.default)(t)?(t.filter(function(t){return e?t.selected:t.isSearch})[0]||t[0]).key:""}function c(){var e=this,t=this.getTabs();return(0,q.default)(t)?null:A.default.createElement(L.Tabs,{ecId:this.props.ecId+"_Tabs@r1gi06",activeKey:this.state.activeKey,onChange:this.onTabChange},t.map(function(t,o){return!t.hideTab&&A.default.createElement(Q,{ecId:e.props.ecId+"_TabPane@70q583@"+o,tab:t.name,key:t.key})}))}function u(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=function(){var o=t.getTabsProps(),r=o.form,a=o.isMultCheckbox;if(!a&&n&&n(),t.hasAdvanceSearch()){var i=r.resetFields,s=r.setFieldsValue;i(),t.setState({inputValue:t.defaultConditionParams[t.state.quickSearch]||""}),s(t.defaultConditionParams)}else t.setState({inputValue:"",quickSearch:o.quickSearchName||""});t.onSearch({},e,function(){a&&n&&n()})};this.setState((0,W.default)({activeKey:e,current:1,selectedAllCurrent:0,isInSearch:!1},o),function(){t.hasAdvanceSearch(!0)?t.getConditions(r):r()})}function d(e){var t=window.event||e,o=t.target;13==(t.keyCode||t.which||t.charCode)&&o&&"INPUT"==o.nodeName&&o.id&&this.onSearchClick()}function p(e){var t=this.state.browserConditions;return e=e||t,e=Array.isArray(e)?e:[],e.filter(function(e){return e.defaultDisplayInBar})}function f(){for(var e=this.getTabsProps(),t=e.displaySearchAdInBarCol,o=this.state.browserConditionsOuter,n=o.map(function(t,o){var n=F.WeaTools.isComponentHide(t)?{display:"none"}:null,r=t.label,a=t.viewAttr,i=t.conditionType,s=t.browserConditionParam,l=t.domkey,c=a&&1!=a?{display:"inline-block",verticalAlign:"top"}:{display:"table"};return A.default.createElement(L.Col,{ecId:e.ecId+"_Col@tp14gk@"+o,className:"wea-form-cell wea-form-item",span:6,style:n},A.default.createElement(L.Row,{ecId:e.ecId+"_Row@po0o4o@"+o},A.default.createElement(L.Col,{ecId:e.ecId+"_Col@qkvanh@"+o,className:"wea-form-label-wrapper",span:24},A.default.createElement("div",{title:(0,z.default)(r)?r:"",className:"wea-form-item-label text-elli colon",style:{width:"100%"}},r))),A.default.createElement(L.Row,{ecId:e.ecId+"_Row@5z685e@"+o},A.default.createElement(L.Col,{ecId:e.ecId+"_Col@m51f2a@"+o,span:24},A.default.createElement("div",{className:"wea-form-item-wrapper",style:c},G(i,s,l,e,t)))))}),r=Math.ceil(n.length/t),a=[],i=0;i<r;i++)a.push(A.default.createElement(L.Row,{ecId:e.ecId+"_Row@wqsw5v@"+i,className:"wea-content"},n.slice(i*t,(i+1)*t)));return A.default.createElement("div",{ecId:e.ecId+"_div@blcfvk",className:"wea-search-group",onKeyDown:this.onAdvanceSearchEnter},a)}function h(){var e=this.getTabsProps(),t=e.isSingle,o=e.isMultCheckbox,n=e.getAdvanceSearch,r=this.state,a=r.browserConditions,i=r.showSearchAd;if(n&&i)return n(a,e);var s=a.map(function(n,r){var a=F.WeaTools.isComponentHide(n)?{display:"none"}:null;return A.default.createElement(L.Col,{ecId:e.ecId+"_Col@fne4oz@"+r,className:"wea-form-cell",span:24/(t||o?n.colSpan||2:1),style:a},A.default.createElement(F.WeaFormItem,{ecId:e.ecId+"_WeaFormItem@u4b5js@"+r,label:n.label,labelCol:{span:n.labelcol},wrapperCol:{span:n.fieldcol},viewAttr:n.viewAttr},G(n.conditionType,n.browserConditionParam,n.domkey,e,n)))});return A.default.createElement("div",{ecId:e.ecId+"_div@nysh6i",className:"wea-search-group",onKeyDown:this.onAdvanceSearchEnter},A.default.createElement(L.Row,{ecId:e.ecId+"_Row@asw4w5",className:"wea-content"},s))}function m(){var e=this.getTabsProps(),t=e.form,o=t.getFieldValue,n=t.resetFields,r=t.setFieldsValue,a=this.state.browserConditions,i=this.state.quickSearch||"name",s=H(a);o(i)&&this.setState({inputValue:""}),n(),r(s)}function v(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=this.getTabsProps(),n=o.hasLeftTree,r=o.leftToSearchKey,a=o.hasTabConditions,i={current:1,selectedAllCurrent:0,isInSearch:!0},s={};if(t&&(i.showSearchAd=!1,n)){var l=this.getSearchParams();l[r]&&this.setState({leftSelectKeys:[l[r]]})}this.isCrm()&&(i.isAccount=!0);var c=function(){};this.setState(i,function(){return e.onSearch(s,a?e.state.activeKey:void 0,c)})}function g(){var e=this;return[A.default.createElement(L.Button,{ecId:this.props.ecId+"_Button@b2cwmf",type:"primary",onClick:this.onSearchClick},Y(197,"搜索")),A.default.createElement(L.Button,{ecId:this.props.ecId+"_Button@umfxn5",type:"ghost",onClick:function(){return e.reset()}},Y(2022,"重置")),A.default.createElement(L.Button,{ecId:this.props.ecId+"_Button@wlo4ob",type:"ghost",onClick:function(){return e.setState({showSearchAd:!1})}},Y(31129,"取消"))]}function y(e){this.setState({inputValue:e});var t=this.getTabsProps(),o=t.form,n=this.state.quickSearch;this.hasAdvanceSearch()&&n&&o.setFieldsValue((0,E.default)({},n,e))}function b(){var e=this,t=this.getTabsProps(),o=t.form,n=this.state,r=n.showSearchAd,a=(n.inputValue,n.quickSearch),i=this.getActionSearchType(!0),s=/base/.test(""+i),l=/advanced/.test(""+i),c=null,u=null;(s||l)&&(c=A.default.createElement(L.Col,{ecId:this.props.ecId+"_Col@euic6c",span:l?18:24},s?A.default.createElement(F.WeaInputSearch,{ecId:this.props.ecId+"_WeaInputSearch@fkqc0g",placeholder:"",value:o.getFieldValue(a||"name"),onSearchChange:this.onSearchChange,onSearch:function(){return e.onSearchClick(!1)}}):A.default.createElement("div",{className:"wea-transfer-search-base-disabled"}))),l&&(u=A.default.createElement(L.Col,{ecId:this.props.ecId+"_Col@qlh3ba",span:6},A.default.createElement(L.Button,{ecId:this.props.ecId+"_Button@amzoqx",className:"wea-workflow-serch-condition",type:"ghost",onClick:function(){return e.setState({showSearchAd:!0})}},Y(347,"高级搜索"))));var d=this.getActionButtonsAd().map(function(e){return A.default.createElement("span",{style:{marginLeft:15}},e)}),p=A.default.createElement("div",{className:"wea-search-wrap",style:{display:r?"block":"none"}},A.default.createElement(L.Button,{ecId:this.props.ecId+"_Button@5i3gq5",type:"ghost",className:"wea-advanced-search",onClick:function(){return e.setState({showSearchAd:!1})}},Y(347,"高级搜索")),A.default.createElement("div",{className:"wea-advanced-searchs"},A.default.createElement(L.Form,{ecId:this.props.ecId+"_Form@o5o4z7",horizontal:!0},this.getActionSearchAd(),A.default.createElement("div",{className:"wea-search-buttons"},A.default.createElement("div",{style:{textAlign:"center"}},d)))));return[s||l?A.default.createElement(L.Row,{ecId:this.props.ecId+"_Row@qf17lm",style:{height:35}},c,u):null,p]}function w(e){var t=[],o=this.getTabsProps(),n=this.state,r=n.quickSearch,a=n.browserConditionsOuter,i=o.isSingle,s=o.isMultCheckbox,l=o.displaySearchAd,c=o.displaySearchAdInBar;if(!i&&!s&&!e)return t;var u=a.length;return!r||!l||(e||c&&u)&&!e||t.push("base"),l&&this.hasAdvanceSearch()&&t.push("advanced"),t.filter(Boolean)}function S(e){var t=this,o=this.getTabsProps(),n=o.form;this.hasAdvanceSearch()&&n.setFieldsValue({date2during:e}),this.setState({date2during:e},function(){return t.onSearch()})}function _(){var e=this.getTabsProps(),t=e.isSingle,o=e.isMultCheckbox,n=(e.displaySearchAd,this.state.contentType),r=this.getActionTab(),a=1==n||2==n||4==n,i=this.getActionSearchType();return r||o&&(!a&&i.length>0||a)||t&&i.length>0}function C(){var e=this.getTabsProps(),t=e.displaySearchAdInBar,o=this.state.browserConditionsOuter,n=o.length;return t&&n}function I(e){var t=0;if(e)try{var o=(0,x.findDOMNode)(e);o&&(t=o.clientHeight)}catch(e){}this.setState({outerAdHeight:t})}function k(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.getTabsProps(),n=o.isSingle,r=o.addSelect,a=o.isMultCheckbox,i=o.showCheckBtn,s=void 0===i||i,l=o.displaySearchAdInBarRow,c=o.displaySearchAdInBarCol,u=o.getRenderModule,d=this.state,p=d.browserConditions,f=d.browserConditionsOuter,h=d.date2during,m=d.inputValue,v=d.showCheckedDatas,g=d.showSearchAd,y=void 0,b=void 0,w=this.getActionTab(),S=[].concat((0,O.default)(o.tabExtendButtons||[])),_=this.getActionSearchType();if(this.showSearchBar()){if(y=A.default.createElement(U.default,{ecId:o.ecId+"_Search@v8odnf",buttons:S,buttonsAd:this.getActionButtonsAd(),addSelect:r?function(){var t=[],n="2";return p&&p.forEach(function(e){"date2during"==e.domkey[0]&&(t=e.options,e.viewAttr&&(n=e.viewAttr))}),t.length>0?A.default.createElement(F.WeaSelect,{ecId:o.ecId+"_WeaSelect@08jtg8",viewAttr:n,style:{width:100},value:h,options:t,onChange:e.onSelectChange}):null}():"",tabs:w,showCheckBtn:a&&s,showCheckedDatas:v,showCheckedDatasChange:function(t){return e.setState({showCheckedDatas:t})},searchType:_,searchsBaseValue:m,searchsAd:A.default.createElement(L.Form,{ecId:o.ecId+"_Form@cy53h3",horizontal:!0},this.getActionSearchAd()),showSearchAd:(n||a)&&g,setShowSearchAd:function(t){return e.setState({showSearchAd:t})},onSearchChange:this.onSearchChange,onSearch:function(){return e.onSearchClick(!1)},getRenderModule:"function"===typeof u&&function(t,o){return e.updateModules(o),e.renderModules}}),this.showSearchOuter()){var C=f.length,I=58*Math.min(l,Math.ceil(C/c))+5;!g&&S.push(A.default.createElement(L.Button,{ecId:o.ecId+"_Button@ao1obv",type:"primary",onClick:this.onSearchClick},Y(197,"搜索")));var k={display:g?"none":"block"};b=A.default.createElement("div",{className:"wea-tab-outer-SearchAd",style:k,ref:this.setOuterAdRef},A.default.createElement(F.WeaNewScroll,{ecId:o.ecId+"_WeaNewScroll@78hl6x",height:I},A.default.createElement(L.Form,{ecId:o.ecId+"_Form@lfmpmp",horizontal:!0},this.getActionSearchAdOuter())))}}else y=null,b=null;return y=this.getModuleRender(t,"module_2_1",y,this),b=this.getModuleRender(t,"module_2_3",b,this),{module_2_1:y,module_2_3:b}}Object.defineProperty(t,"__esModule",{value:!0});var T=o(53),E=n(T),D=o(23),O=n(D),P=o(6),W=n(P);t.hasAdvanceSearch=r,t.getQuickSearchInCondition=a,t.getConditions=i,t.getTabs=s,t.getDefaultActiveKey=l,t.getActionTab=c,t.onTabChange=u,t.onAdvanceSearchEnter=d,t.getSearchAdOuterConditions=p,t.getActionSearchAdOuter=f,t.getActionSearchAd=h,t.reset=m,t.onSearchClick=v,t.getActionButtonsAd=g,t.onSearchChange=y,t.getActionBarInTrans=b,t.getActionSearchType=w,t.onSelectChange=S,t.showSearchBar=_,t.showSearchOuter=C,t.setOuterAdRef=I,t.getActionBar=k;var R=o(7),A=n(R),x=o(158),L=o(9),F=o(0),M=o(55),N=n(M),j=o(152),z=n(j),B=o(29),q=n(B),K=o(595),U=n(K),V=o(57),H=F.WeaTools.getParamsByConditions,G=F.WeaTools.getComponent,J=(F.WeaTools.WindowFunc,F.WeaTools.callApi),Q=L.Tabs.TabPane,Y=F.WeaLocaleProvider.getLabel},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s=o(6),l=n(s),c=o(3),u=n(c),d=o(1),p=n(d),f=o(2),h=n(f),m=o(4),v=n(m),g=o(5),y=n(g),b=o(7),w=n(b),S=o(9),_=o(55),C=n(_),I=o(45),k=n(I),T=o(0),E=T.WeaLocaleProvider.getLabel,D=(a=r=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.call(o),o.updateState(e),o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.updateState()}},{key:"componentWillReceiveProps",value:function(e){this.updateState(e)}},{key:"render",value:function(){var e=this,t=this.state.showSearchAd,o=this.props,n=o.tabs,r=o.addSelect,a=o.searchType,i=o.getRenderModule,s=o.showCheckBtn,c=o.showCheckedDatas,u=o.showCheckedDatasChange,d=/base/.test(""+a),p=/advanced/.test(""+a),f={display:t?"block":"none"},h=n||s&&w.default.createElement("span",{className:"check-button-wrapper"},w.default.createElement(S.Button,{ecId:this.props.ecId+"_Button@ultbv1",className:"check-button",type:c?"primary":"ghost",onClick:function(){e.setState({showCheckedDatas:!c}),u&&u(!c)}},E(385596,"仅显示已选")),c&&w.default.createElement("span",{className:"icon-check-wrapper"},w.default.createElement(S.Icon,{ecId:this.props.ecId+"_Icon@5yfuc1",className:"icon-check",type:"check"}))),m=this.getTabBarRight(),v=this.getSearchContainer();if("function"===typeof i){var g=i(this,(0,l.default)({module_2_1_1:h},m,v))||{};h=this.getModuleRender(g,"module_2_1_1",h,this),m=this.getTabBarRight(g),v=this.getSearchContainer(g)}return w.default.createElement("div",{className:"wea-tab"},w.default.createElement(S.Row,{ecId:this.props.ecId+"_Row@iaye3p",className:"wea-tab-row"},w.default.createElement(S.Col,{ecId:this.props.ecId+"_Col@ubl8ph",className:(0,k.default)({"wea-tab-row-left":!0,"add-select":r,"search-base":d,"search-advanced":p})},h),w.default.createElement(S.Col,{ecId:this.props.ecId+"_Col@2v05dw",className:(0,k.default)({"wea-tab-row-right":!0})},m.module_2_1_2)),v.module_2_1_3,w.default.createElement("div",{className:"mask-dark",style:f}),w.default.createElement("div",{ecId:this.props.ecId+"_div@jfo7zi",className:"mask-wrapper",style:f,onClick:function(){return e.props.hideSearchAd&&e.props.hideSearchAd()}}))}}]),t}(w.default.Component),i=function(){var e=this;this.state={showSearchAd:!1},this.updateState=function(t){var o=t||e.props,n=o.showSearchAd;void 0!==n&&e.state.showSearchAd!==n&&e.setState({showSearchAd:n})},this.onSearch=function(t){var o=e.props.onSearch;(0,C.default)(o)&&o(t)},this.onSearchChange=function(t){var o=e.props.onSearchChange;(0,C.default)(o)&&o(t)},this.setShowSearchAd=function(t){var o=e.props.setShowSearchAd;e.setState({showSearchAd:t}),(0,C.default)(o)&&o(t)},this.getTabBarRight=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.props,n=o.searchType,r=o.searchsBaseValue,a=o.buttons,i=o.addSelect,s=/base/.test(""+n),l=/advanced/.test(""+n),c=[a&&a.map(function(e){return w.default.createElement("span",{style:{marginLeft:8}},e)}),i];c=e.getModuleRender(t,"module_2_1_2_1",c,e);var u=w.default.createElement("div",{className:"advance-search-wrapper"},s&&w.default.createElement(T.WeaInputSearch,{ecId:e.props.ecId+"_WeaInputSearch@qo9eil",value:r,onSearch:e.onSearch,onSearchChange:e.onSearchChange}),l&&w.default.createElement(S.Button,{ecId:e.props.ecId+"_Button@rywqsl",type:"ghost",className:"wea-advanced-search",onClick:function(){return e.setShowSearchAd(!0)}},E(347,"高级搜索")));u=e.getModuleRender(t,"module_2_1_2_2",u,e);var d=w.default.createElement("div",{className:"wea-search-tab"},c,u);return d=e.getModuleRender(t,"module_2_1_2",d,e),{module_2_1_2:d,module_2_1_2_1:c,module_2_1_2_2:u}},this.getSearchContainer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.state.showSearchAd,n=e.props,r=n.buttonsAd,a=n.searchsAd,i=n.height,s={display:o?"block":"none"},l=w.default.createElement(S.Button,{ecId:e.props.ecId+"_Button@ktai1q",type:"ghost",className:"wea-advanced-search",onClick:function(){return e.setShowSearchAd(!1)}},E(347,"高级搜索"));l=e.getModuleRender(t,"module_2_1_3_1",l,e);var c=w.default.createElement("div",{className:"wea-advanced-searchsAd",style:{maxHeight:i}},a);c=e.getModuleRender(t,"module_2_1_3_2",c,e);var u=w.default.createElement("div",{className:"wea-search-buttons"},w.default.createElement("div",{style:{textAlign:"center"}},r&&r.map(function(e){return w.default.createElement("span",{style:{marginLeft:15}},e)})));u=e.getModuleRender(t,"module_2_1_3_3",u,e);var d=w.default.createElement("div",{className:"wea-search-container",style:s},l,c,u);return d=e.getModuleRender(t,"module_2_1_3",d,e),{module_2_1_3:d,module_2_1_3_1:l,module_2_1_3_2:c,module_2_1_3_3:u}}},a);t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"checkStrictly",o=this.state,n=o.checkStrictly,r=o.isAccount,a=o.showAllbranch,i=o.showDls,s=o.activeKey,l={},c=function(){};"showAllbranch"==t?(l={showAllbranch:!a},c=function(){return e.onSearch({cmd:"branch"},s)}):"showAccount"==t?(l={isAccount:!r},c=function(){return e.onSearch({},s)}):"checkStrictly"==t?l={checkStrictly:!n}:"showDls"==t&&(l={showDls:!i},c=function(){return e.onSearch({},s)}),this.setState(l,c)}function a(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getTabsProps(),r=n.checkStrictlyTitle,a=n.showCheckStrictly,i=this.state,s=i.checkStrictly,l=i.isAccount,c=i.showAllbranch,u=i.showDls,d=[],p=function(t){var o=t.type,r=t.title,a=t.icon,i=t.opIcon,s=t.flag;return m.default.createElement(y.Button,{ecId:n.ecId+"_Button@21a9m6@"+o,size:"small",title:r,onClick:function(){return e.onButtonsClick(o)}},m.default.createElement("span",null,s?m.default.createElement("i",{className:"icon-coms-"+a,style:{color:"#2db7f5"}}):m.default.createElement("i",{className:"icon-coms-"+i})))};return a&&t.showCheckStrictly&&d.push(p({type:"checkStrictly",title:r||(s?T(33454,"包含下级机构"):T(390067,"不包含下级机构")),flag:!s,icon:"DisplaySubordinates",opIcon:"NoDisplayOfSubordinates"})),t.showAllbranch&&d.push(p({type:"showAllbranch",title:c?T(390066,"隐藏下级下属"):T(83783,"显示下级下属"),flag:c,icon:"DisplaySubordinates",opIcon:"NoDisplayOfSubordinates"})),t.showDls&&d.push(p({type:"showDls",title:u?T(513842,"隐藏代理商"):T(513843,"显示代理商"),flag:u,icon:"currency-Customer",opIcon:"currency-Customer"})),t.showAccount&&d.push(p({type:"showAccount",title:l?T(385568,"隐藏无账号人员"):T(31504,"显示无账号人员"),flag:l,icon:"ShowNoAccount",opIcon:"NoAccountNoDisplay"})),m.default.createElement("div",{className:"operation-wrap",style:o},d)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.onSearch((0,f.default)({current:e},t),this.state.activeKey)}function s(){var e=this.state,t=e.pageSize,o=e.current,n=e.count;return m.default.createElement(y.Pagination,{ecId:this.props.ecId+"_Pagination@7ag78p",weaSimple:!0,showTotal:function(e){return T(385617,"共$s条").replace(/\$s/,e)},total:n,pageSize:t,current:o,onChange:this.onPageChange})}function l(e){var t=this,o=this.getTabsProps(),n=o.dropMenuKey,r={current:1};n&&(r[n]=e.key||"1"),this.setState({companyId:e.key||"1"},function(){t.onSearch(r,t.state.activeKey)})}function c(){var e=this,t=this.getTabsProps(),o=t.isSingle,n=t.isMultCheckbox,r=this.state,a=r.companyList,i=r.companyId,s=r.scaleHeight,l=[];a&&a.map(function(o,n){l.push(m.default.createElement(y.Menu.Item,{ecId:t.ecId+"_MenuItem@8apug6@"+n,key:o.id},o.name)),l.push(m.default.createElement(y.Menu.Divider,{ecId:(e&&e.props&&e.props.ecId||"")+"_MenuDivider@ivirxz@"+n}))});var c=a.find(function(e){return e.id==i}),u=c&&c.name?c.name:"",d=m.default.createElement(y.Menu,{ecId:t.ecId+"_Menu@88qyls",className:"wea-browser-drop-menu wea-browser-drop-menu-test max-height "+(o||n?"":"wea-hr-muti-input-drop-menu"),onSelect:this.onCompanySelect.bind(this)},l);return m.default.createElement(y.Row,{ecId:t.ecId+"_Row@vswdb5"},m.default.createElement(y.Col,{ecId:t.ecId+"_Col@48ah5v",span:24,style:{fontSize:0}},m.default.createElement(y.Dropdown,{className:"wea-browser-virtual-dropdown",ecId:t.ecId+"_Dropdown@asbcjr",key:s,overlay:d,trigger:["click"]},m.default.createElement("a",{className:"wea-dropdown-link",href:"javascript:;"},m.default.createElement("span",{className:"wea-dropdown-link-menuicon"},m.default.createElement("i",{className:"icon-toolbar-Organization-list"})),m.default.createElement("div",{className:"text-elli wea-dropdown-link-company",title:u},u),m.default.createElement("span",{className:"wea-dropdown-link-arrow"},m.default.createElement(y.Icon,{ecId:t.ecId+"_Icon@zcyjh9",type:"down",className:"wea-dropdown-link-downicon"}))))))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.props,n=o.contentHeight,r=o.isSingle,a=o.isMultCheckbox,i=this.state,s=i.outerAdHeight,l=i.showSearchAd,c=i.scaleHeight,u=e.showDropMenu,d=e.showPagination,p=e.showAdvanceSearch,f=e.isWrap,h=c||n;if(!f){this.showSearchBar()&&(t+=47),u&&(t+=37),p&&(t+=35),d&&(t+=35),r||a||(t+=21),l||(t+=s)}if(window.setLayoutWindow){var m=(0,g.default)(window.setLayoutWindow.document.body).height();m<550&&(m=550);var v=m-49-52-t;h>v&&(h=v)}else{var y=(E.getTop()||window).document,b=y.documentElement.clientHeight||0;b&&h>b-49-52&&(h=b-49-52),h<270&&(h=270),h-=t}return h}function d(){var e=this,t=this.getTabsProps(),o=t.icon,n=t.isImgIcon,r=t.type,a=t.topPrefix,i=t.asynLoadAll,s=t.isLoadUser,l=t.browserTreeCustomProps,c=void 0===l?{}:l,u=t.hideVirtualOrg,d=t.clickNameExpandFirst,p=t.showCheckStrictly,h=this.state,v=h.contentType,g=h.inputId,y=h.inputName,w=h.inputTop,_=h.inputBottom,I=h.selectedData,T=h.leftCheckedData,E=h.checkStrictly,D=h.leftTreeCheckedData,O=h.treeDatas,P=h.companyList,W=h.defaultExpandedKeys,R=h.loadAllTreeData,A=3==v,x=null;if(A){var L=t.defaultExpandedLevel;"undefined"===typeof L&&O&&O.id&&(L=1),x=(0,S.default)(O)?this.renderEmpty():m.default.createElement(k.default,(0,f.default)({ecId:t.ecId+"_WeaBrowserTree@c0om2l",ztreeMode:!1,isImgIcon:n,type:r,browserTree:!1,onDoubleClick:this.onleftTreeDoubleClick,checkable:!0,topPrefix:a},this.getAsyncParams(),{checkedCb:this.onLeftTreeCheck.bind(this),filterData:I,inputId:g,inputName:y,inputTop:w,inputBottom:_,checkedDatas:D,isMult:!0,icon:o,treeData:O,defaultExpandedKeys:W,checkStrictly:E,isLoadUser:s,isLoadAll:R,asynLoadAll:i,clickNameExpandFirst:d,defaultExpandedLevel:L},c))}else{if(6==v||7==v||8==v)return this.getHrmMainContent();var F=T.map(function(e){return e[g]}),M=this.getTableKeyProps();x=m.default.createElement(C.default,(0,f.default)({},M,{ecId:t.ecId+"_TableLeft@cvr7xq",contentType:v,inputId:g,inputName:y,inputTop:w,inputBottom:_,onDoubleClick:this.onleftDoubleClick,onClick:this.onleftClick,selectedKeys:F,filterData:I}))}var N=A&&!u&&!(0,S.default)(P),j=(this.getActionSearchType(!0)||[]).length>0,z=this.getContentHeight({showDropMenu:N,showAdvanceSearch:j,showPagination:1==v||4==v}),B={showCheckStrictly:A&&p},q=15;return N&&(q+=37),j&&(q+=35),[this.getActionBarInTrans(),N&&this.getDropMenuInTrans(),m.default.createElement(b.WeaNewScroll,{ecId:t.ecId+"_WeaNewScroll@4f88d2",height:z,ref:function(t){return e.weaSrcoll=t}},x),this.getTreeButtonInTrans(B,{top:q}),(1==v||4==v)&&this.getPaginationInTrans()].filter(Boolean)}Object.defineProperty(t,"__esModule",{value:!0});var p=o(6),f=n(p);t.onButtonsClick=r,t.getTreeButtonInTrans=a,t.onPageChange=i,t.getPaginationInTrans=s,t.onCompanySelect=l,t.getDropMenuInTrans=c,t.getContentHeight=u,t.getModalMainContentLeft=d;var h=o(7),m=n(h),v=o(148),g=n(v),y=o(9),b=o(0),w=o(29),S=n(w),_=o(597),C=n(_),I=o(237),k=n(I),T=b.WeaLocaleProvider.getLabel,E=b.WeaTools.WindowFunc},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(23),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=y.WeaLocaleProvider.getLabel,w=function(e,t){var o="";return void 0!==e[t]&&(o=e[t]),void 0!==e[t+"span"]&&(o=e[t+"span"]),o},S=null,_=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.state={},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.datas,n=void 0===o?[]:o,r=t.inputId,a=t.inputTop,i=t.inputBottom;this.dataObj={};var s=[];return r&&(s=n.map(function(t,o){t.id=t[r],e.dataObj[t.id]=t;var n=[],s=[];return a&&a.forEach(function(e){n.push(g.default.createElement("span",{style:{marginRight:"5px"},dangerouslySetInnerHTML:{__html:w(t,e)}}))}),i&&i.forEach(function(e){s.push(g.default.createElement("span",{style:{marginRight:"5px"},dangerouslySetInnerHTML:{__html:w(t,e)}}))}),g.default.createElement("li",{ecId:e.props.ecId+"_li@onrwpu@"+o,className:e.cls(t),onDoubleClick:e.onDoubleClick.bind(e,t),onClick:e.onClick.bind(e,t)},g.default.createElement("div",{className:"item-wrap wea-f12"},g.default.createElement("div",{className:"item-top"},n),g.default.createElement("div",{className:"item-bottom"},s)),g.default.createElement("div",{className:"icon-wrap"}),g.default.createElement("i",{className:"icon-coms-Selected"}))})),g.default.createElement("div",{className:"wea-crm-list"},g.default.createElement("ul",{className:"wea-crm-list-wrapper"},s),0==s.length&&g.default.createElement("div",{className:"empty-tip",style:{color:"#999",paddingTop:30,textAlign:"center"}},b(83320,"没有可显示的数据")))}},{key:"cls",value:function(e){var t=this.props,o=t.selectedKeys,n=t.filterData,r=t.inputId,a=[];return o&&o.indexOf(e.id)>-1&&a.push("selected"),n&&n.filter(function(t){return t[r]===e.id}).length>0&&a.push("hide"),a.join(" ")}},{key:"onClick",value:function(e){var t=this;if(e.isDevModule){var o=this.props.selectedKeys,n=o?[].concat((0,a.default)(o)):[],r=[];return n.forEach(function(e){t.dataObj[e]&&r.push(t.dataObj[e])}),void(this.props.onClick&&this.props.onClick(n,r,e))}var i=this;clearTimeout(S),S=setTimeout(function(){var t=i.props.selectedKeys,o=t?[].concat((0,a.default)(t)):[],n=[];o.indexOf(e.id)>-1?o=o.filter(function(t){return t!==e.id}):o.push(e.id),o.forEach(function(e){i.dataObj[e]&&n.push(i.dataObj[e])}),i.props.onClick&&i.props.onClick(o,n,e)},200)}},{key:"onDoubleClick",value:function(e){e.isDevModule||(clearTimeout(S),this.props.onDoubleClick&&this.props.onDoubleClick([e]))}}]),t}(g.default.Component);t.default=_},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o=this.state.inputName,n=(0,C.default)({},t[0]);if(n&&n.id){var r=n.orgWholePathspan||n[o+"span"]||n[o]||n.name||n.lastname||"";this.onCountChange(t),this.setState({idCache:e[0],nameCache:r,checkedKeys:e,selectedData:t}),this.onChange(t,!1)}}function a(e,t){var o=this.getTabsProps(),n=o.onOkClick,r=this.state.inputName;if(e){"function"===typeof n&&n(e,t);var a=(0,C.default)({},t[0]),i=a.orgWholePathspan||a[r+"span"]||a[r]||a.name||a.lastname||"";this.onTableChange(e[0],i,t)}}function i(e,t,o){var n=this.getTabsProps(),r=n.isSingle,a=n.hasRadio,i=n.sap,s=n.checkHook,l={};if(r){if(a)return;s&&s(e,t,o),i||(l=(0,C.default)({},l,{idCache:e,nameCache:t}))}else this.onCountChange(o),l=(0,C.default)({},l,{idCache:e,nameCache:t,checkedKeys:[e],selectedData:o});this.onChange(o)}function s(e,t,o){var n=this.state.inputId;if(o&&o[0]){o=o[0];var r=[].concat((0,S.default)(this.state.selectedData)),a=r.findIndex(function(e){return e[n]==o[n]});-1!==a?r.splice(a,1):r.push(o),this.onMultTableCheck(r.map(function(e){return e[n]}),r)}}function l(e,t){var o=this.getTabsProps(),n=o.onCheck,r=this.state,a=r.inputId,i=r.inputName,s=[];t.length>0&&t.forEach(function(e){var t=(0,D.default)(e);t.id=e[a]||e.id||"",t.name=e[i+"span"]||e[i]||e.name||"",s.push(t)}),"function"===typeof n&&n(s),this.onCountChange(s),this.setState({selectedData:s})}function c(e,t,o){var n=this.getTabsProps(),r={};if(o){var a=(0,C.default)({},o);"22"==n.type&&(t=o.prop.fullName||t,a.name=t),o=[o],r={checkedKeys:[e],selectedData:o,idCache:e,nameCache:t}}else r={checkedKeys:[],selectedData:[],idCache:e,nameCache:t};this.setState(r)}function u(e,t){this.onCountChange(t),this.setState({selectedData:t})}function d(e,t){this.setState({leftTreeCheckedKeys:e,leftTreeCheckedData:t})}function p(e,t){this.setState({leftGroupCheckedKeys:e,leftGroupCheckedData:t})}function f(e){var t=this.getTabsProps(),o=t.count,n=this.count(e)||"";o&&o(n,e)}function h(e){var t=this.state,o=t.selectedData,n=t.inputId,r=(0,D.default)(o),a=n;this.isCrm()&&(a="nodeid");var i=r.findIndex(function(t){return t[a]===e[a]});if(-1!=i){var s,l=r[i];(s=r).splice.apply(s,[i,1].concat((0,S.default)(l.users||[]))),r=this.filterDuplData([],r,a)}this.setState({selectedData:r})}function m(e){if(e.length>0){var t=this.state,o=t.inputId,n=t.selectedData,r=o;this.isCrm()&&(r="nodeid");var a=e.map(function(e){return n.find(function(t){return t[r]===e})});this.setState({rightCheckedData:a})}else this.setState({rightCheckedData:[]})}function v(e){var t=this;if(Array.isArray(e)||(e=[e]),e){var o=this.state,n=o.selectedData,r=o.rightCheckedData,a=o.inputId,i=this.isCrm()?"nodeid":a,s=n.filter(function(t){return!e.some(function(e){return e===t[i]})}),l=r.filter(function(t){return!e.some(function(e){return e===t[i]})});this.onCountChange(s),this.setState({selectedData:s,rightCheckedData:l},function(){t.propsOnChange()})}}function g(e,t){this.setState({leftCheckedData:t})}function y(e){var t=this,o=this.state,n=o.selectedData,r=o.inputId,a=o.leftCheckedData,i=this.filterDuplData(n,e,r||"id");this.onCountChange(i);var s=(0,O.toJS)(a).filter(function(t){return t.nodeid!=e[0].nodeid});this.setState({selectedData:i,leftCheckedData:s},function(){t.propsOnChange()})}function b(e){var t=this,o=this.state,n=o.inputId,r=o.selectedData;this.setState({loading:!0});var a={};a.selectids=e.map(function(e){return e[n]||e.id||""}),this.callSelectedReq(a,e).then(function(e){var o={};(0,T.default)(e.columns)||(o=(0,C.default)({},o,t.getRowNameKeyFromColumns(e.columns)));var a=t.isCrm()?"nodeid":o.inputId||n||"id",i=t.isCrm()?t.formatData(e.datas||[]):e.datas,s=t.filterDuplData(r,i,a);t.onCountChange(s),o=(0,C.default)({},o,{loading:!1,selectedData:s,leftTreeCheckedData:[],leftTreeCheckedKeys:[],leftGroupCheckedData:[],leftGroupCheckedKeys:[]}),t.setState(o,function(){t.propsOnChange()})})}Object.defineProperty(t,"__esModule",{value:!0});var w=o(23),S=n(w),_=o(6),C=n(_);t.onTableCheck=r,t.onHrmTableChange=a,t.onTableChange=i,t.onMultTableChange=s,t.onMultTableCheck=l,t.onTreeClick=c,t.onTreeMultCheck=u,t.onLeftTreeCheck=d,t.onLeftGroupCheck=p,t.onCountChange=f,t.onSelectedGroupExpand=h,t.onSelectedListCheck=m,t.onSelectedListDoubleClick=v,t.onleftClick=g,t.onleftDoubleClick=y,t.onleftTreeDoubleClick=b;var I=o(228),k=(n(I),o(29)),T=n(k),E=o(67),D=n(E),O=(o(0),o(8))},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(8),C=o(24),I=o(45),k=n(I),T=o(0),E=o(41),D=(r=(0,w.inject)("odocRequestStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getTypeName=function(e,t){var n=o.props.odocRequestStore,r=n.tableConfig;r=(0,_.toJS)(r);var a=r,i=a[e],s=void 0===i?[]:i;return s=s.filter(function(e){return e.key==t}),s.length>0?s[0].showname:""},o.getColumnTitle=function(e){var t=o.props.odocRequestStore,n=t.tableConfig;n=(0,_.toJS)(n);var r=n,a=r.columns,i=void 0===a?[]:a;return i=i.filter(function(t){return t.key==e}),i.length>0?i[0].title:""},o.onEditItem=function(e){o.props.odocRequestStore.setMember({editNodeId:e})},o.onDeleteItem=function(e){o.props.odocRequestStore.delSelectedItem(e)},o.getSelectItems=function(){var e=o.props.odocRequestStore,t=e.selectedNodeList,n=e.nodeConfig,r=e.editNodeId;t=(0,_.toJS)(t),n=(0,_.toJS)(n);var a=n,i=a.copyType,l=void 0===i?0:i,c=a.transferType,u=void 0===c?0:c,d=a.signType,p=void 0===d?0:d;return t.map(function(e,t){var n=e.nodeid,a=e.nodename,i=e.userIds,c=void 0===i?{}:i,d=e.ccUserIds,f=void 0===d?{}:d,h=e.userSignType,m=void 0===h?"":h,v=e.userTransferType,g=void 0===v?"":v,y=e.userCopyType,w=void 0===y?"":y,_=(e.disabled,c.userList),I=void 0===_?[]:_,T=f.userList,D=void 0===T?[]:T,O=o.getTypeName("signTypeOptions",m),P=o.getTypeName("transferTypeOptions",g),W=o.getTypeName("copyTypeOptions",w);(3!=l||(0,C.isEmpty)(w))&&(W=o.getColumnTitle("ccUserIds"));var R=I.map(function(e){var t=e.id,o=e.name;return b.default.createElement("a",{href:"javaScript:openhrm("+t+");",onClick:function(e){return window.pointerXY(e)},title:o,style:{"margin-right":"5px"}},o)}),A=D.map(function(e){var t=e.id,o=e.name;return b.default.createElement("a",{href:"javaScript:openhrm("+t+");",onClick:function(e){return window.pointerXY(e)},title:o,style:{"margin-right":"5px"}},o)}),x=[];4!=p||(0,C.isEmpty)(O)||x.push(O),3!=u||(0,C.isEmpty)(P)||x.push((0,E.odocGetLabel)(529050,"办理完成后")+" "+P);var L=r>0&&r==n,F=(0,k.default)([{"odoc-selected-item-btns-edit":L},{"odoc-selected-item-btns":!L}]);return b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item"}),b.default.createElement("li",null,b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-top"}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@z8jfun@"+t,type:"flex",align:"middle",className:"odoc-selected-item-row"},b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-node-name"}),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@fyyuni@"+t,span:14},b.default.createElement("span",{className:"odoc-selected-item-nodename"},a),L&&b.default.createElement("span",{className:"odoc-selected-item-edit"},b.default.createElement("i",{className:"icon-coms-edit"}),(0,E.odocGetLabel)(128079,"编辑中...")))),b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-operate"}),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@q95ifd@"+t,span:8,offset:2},b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@43axah@"+t,type:"flex",justify:"space-around",className:F},b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-operate-edit"}),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@mlofs4@"+t},b.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){o.onEditItem(n)}},(0,E.odocGetLabel)(93,"编辑")))),b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-operate-delete"}),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@cc6e3h@"+t},b.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){o.onDeleteItem(n)}},(0,E.odocGetLabel)(91,"删除"))))))))),b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-user"}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@mxhbnw@"+t,type:"flex",align:"middle",className:"odoc-selected-item-row"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@gyddph@"+t,span:24},R))),(4==p||3==u)&&x.length>0&&b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-signtype"}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@f9eqcm@"+t,type:"flex",align:"middle",className:"odoc-selected-item-row"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@nwj93u@"+t,span:24},x.join("，")))),D.length>0&&b.default.createElement(E.OverrideWedget,(0,s.default)({},o.cusCompProps,{compKey:"odoc-mode2-select-right-table-list-item-csuser"}),b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@zv6l3x@"+t,type:"flex",align:"middle",className:"odoc-selected-item-row"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@y9i6xh@"+t,span:24},b.default.createElement("span",null,W),b.default.createElement("span",null,"（"),b.default.createElement("span",null,A),b.default.createElement("span",null,"）"))))))})},o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){this.props.odocRequestStore;return b.default.createElement(E.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-mode2-select-table-render"}),b.default.createElement("div",{className:"odoc-selected-wrapper"},b.default.createElement("div",{className:"odoc-selected-main"},b.default.createElement(E.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-mode2-select-right-title"}),b.default.createElement("div",{className:"odoc-selected-title"},b.default.createElement(S.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@b5guzb",type:"flex",align:"middle",style:{height:"100%"}},b.default.createElement(E.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-mode2-select-right-title-label"}),b.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@krvhhz",span:6},(0,E.odocGetLabel)(512918,"设为常用去向"))),b.default.createElement(E.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-mode2-select-right-title-select"}),b.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@8q6fu3",span:8,offset:2,className:"odoc-selected-topbtns"},b.default.createElement(E.OverrideWedget,(0,s.default)({compKey:"odoc-mode2-select-right-title-select-btn",Comp:S.Button},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@y4mx6b",compProps:{onClick:this.props.openDirectionDialog}}),(0,E.odocGetLabel)(512917,"选择常用去向")))),b.default.createElement(E.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-mode2-select-right-title-set"}),b.default.createElement(S.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@73xmlr",span:8,className:"odoc-selected-topbtns"},b.default.createElement(E.OverrideWedget,(0,s.default)({compKey:"odoc-mode2-select-right-title-set-btn",Comp:S.Button},this.cusCompProps,{compProps:{onClick:this.props.openUsualDirectionDialog},ecId:(this&&this.props&&this.props.ecId||"")+"_Button@f2eivv"}),(0,E.odocGetLabel)(512918,"设为常用去向"))))))),b.default.createElement(E.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-mode2-select-right-table-list"}),b.default.createElement("div",{className:"odoc-selected-table"},b.default.createElement("ul",null,this.getSelectItems())))),b.default.createElement(T.WeaPopoverHrm,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaPopoverHrm@6xifo3",inDialog:!0})))}}]),t}(b.default.Component))||a)||a;t.default=D},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(84),S=n(w),_=o(10),C=(o(0),o(40)),I=n(C),k=o(239),T=o(41),E=(r=(0,_.inject)("odocCompsStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.changeRemarkInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.props.odocCompsStore.workflowStores.globalStore.changeSubmitParam)(e)},o.state={hasLoad:!1},o.changeRemarkInfo=o.changeRemarkInfo.bind(o),o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0})};S.default.isDefined("workflowPublic")?S.default.ready("workflowPublic",t):(0,S.default)(k.workflowPublicFiles,"workflowPublic",t)}},{key:"updateRemark",value:function(){var e=this;if(this.props.visible){var t=WfForm&&WfForm.getSignRemark();window.CK_REF&&window.CK_REF.oDocRemark&&window.CK_REF.oDocRemark.getEditor()?t&&window.CK_REF.oDocRemark.getEditor().setData(t):this.updateRemarkFn=window.setTimeout(function(){e.updateRemark()},300)}}},{key:"shouldComponentUpdate",value:function(e,t,o){return this.props.visible!=e.visible||this.state.hasLoad!=t.hasLoad}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state.hasLoad,t=this.props,o=t.odocCompsStore,n=t.showTitle,r=void 0!==n&&n,a=t.visible;if(e&&a){var i=window.weaWorkflowPublic.WfSignInput,l=o.workflowStores,c=l.globalStore,u=c.commonParam,d=c.submitParam,p=c.markInfo,f=void 0===p?{}:p,h=c.loadMarkInfo,m=u.requestid,v=u.requestType,g=f,y=g.remarkInfo,w=void 0===y?{}:y,S={remark:d.remark,"field-annexupload":d["field-annexupload"],signdocids:d.signdocids,signworkflowids:d.signworkflowids,remarkLocation:d.remarkLocation};w=(0,I.default)({},w,S),f=(0,I.default)({},f,S),f.remarkInfo=w;var _=b.default.createElement(T.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"signInputTitleCom"}),b.default.createElement("div",{className:"odoc-remark-title"},b.default.createElement("i",{className:"icon-coms-Need-feedback"}),b.default.createElement("span",{style:{color:"#A0A0A0"}},(0,T.odocGetLabel)(17614,"签字意见")))),C=b.default.createElement(T.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"signInputCom",Comp:i,ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@ootaq3",ref:"oDocRemarkCK",compProps:(0,s.default)({markInfo:f,requestType:v,requestid:m,isShowSignInput:!0,editorId:"oDocRemark",maxHeight:150,reRender:a},w,{changeRemarkInfo:this.changeRemarkInfo,onChange:this.changeRemarkInfo,saveCallBack:h})})),k=null;return k=r?b.default.createElement("div",{className:"odoc-remark-area"},_,C):b.default.createElement("div",{className:"odoc-remark-area"},C),b.default.createElement(T.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-remark-area",otherProps:{showTitle:r}}),k)}return b.default.createElement("div",null)}}]),t}(b.default.Component))||a)||a;t.default=E},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(45),_=n(S),C=o(0),I=o(56),k=n(I),T=o(8),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(T),D=o(41),O=C.WeaRichText.Textarea,P=(r=(0,w.inject)("odocRequestStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.onChangeRemark=function(e){o.props.odocRequestStore.setMember({assignRemark:e})},o.openAssignRemark=function(){o.setState({showRemark:!0})},o.closeAssignRemark=function(e){e&&e.target&&(0,k.default)(e.target).closest(".odoc-assign-remark").length<=0&&o.setState({showRemark:!1})},o.state={showRemark:!1},o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"resisterListener",value:function(){(0,k.default)(document.body).bind("click",this.closeAssignRemark)}},{key:"removeListener",value:function(){(0,k.default)(document.body).unbind("click",this.closeAssignRemark)}},{key:"componentDidMount",value:function(){this.props.visible?this.resisterListener():this.removeListener()}},{key:"componentWillUnMount",value:function(){this.removeListener()}},{key:"render",value:function(){var e=this.props.odocRequestStore,t=e.assignRemark,o=void 0===t?"":t,n=this.state.showRemark,r=e.nodeConfig;r=E.toJS(r);var a=r,i=a.openInputSign,l=void 0!==i&&i,c=l||o.length>0||n,u=(0,_.default)(["odoc-remark-area","odoc-assign-remark",{"odoc-assign-remark-open":c}]);return b.default.createElement(D.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-assign-remark"}),b.default.createElement("div",{className:u,onClick:this.openAssignRemark},b.default.createElement(D.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-assign-remark-title"}),b.default.createElement("div",{className:"odoc-remark-title"},b.default.createElement("i",{className:"icon-coms-Need-feedback"}),b.default.createElement("span",{style:{color:"#A0A0A0"}},(0,D.odocGetLabel)(531251,"交办意见")))),b.default.createElement(D.OverrideWedget,(0,s.default)({compKey:"odoc-assign-remark-text-area",Comp:O,ecId:(this&&this.props&&this.props.ecId||"")+"_Textarea@j8o704"},this.cusCompProps,{compProps:{value:o,onChange:this.onChangeRemark,bottomBarConfig:[],minRows:5,maxRows:10}}))))}}]),t}(b.default.Component))||a)||a;t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(0),C=o(19),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(C),k=o(41),T={labelCol:{span:6},wrapperCol:{span:18}},E=(r=(0,w.inject)("odocRequestStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.closeDialog=o.closeDialog.bind(o),o.saveDirection=o.saveDirection.bind(o),o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"closeDialog",value:function(){this.props.odocRequestStore.controlDialogVisible(I.USUAL_DIRECTION_DIALOG,!1)}},{key:"saveDirection",value:function(){var e=this.props,t=e.onSave,o=e.odocRequestStore,n=o.directname;if(!(void 0===n?"":n))return void S.message.error((0,k.odocGetLabel)(81968,"名称不能为空！"),1);t&&t()}},{key:"render",value:function(){var e=this.props.odocRequestStore,t=e.dialogVisible,o=e.directname,n=t.get(I.USUAL_DIRECTION_DIALOG),r=[];r.push(b.default.createElement(k.OverrideWedget,(0,s.default)({compKey:"odoc-usual-dialog-form-item",Comp:_.WeaFormItem,ecId:(this&&this.props&&this.props.ecId||"")+"_WeaFormItem@dhrpf1@formitem"},this.cusCompProps,{compProps:(0,s.default)({},T,{label:(0,k.odocGetLabel)(195,"名称")})}),b.default.createElement(k.OverrideWedget,(0,s.default)({compKey:"odoc-usual-dialog-input",ecId:(this&&this.props&&this.props.ecId||"")+"_WeaInput@6uhtqp@input",Comp:_.WeaInput},this.cusCompProps,{compProps:{className:"required",onChange:function(t){e.setMember({directname:t})},value:o}}))));var a=(0,k.odocGetLabel)(507875,"常用去向"),i={width:500,height:200},l=this.closeDialog,c=[b.default.createElement(k.OverrideWedget,(0,s.default)({Comp:S.Button,ecId:(this&&this.props&&this.props.ecId||"")+"_Button@ddqc2p@save"},this.cusCompProps,{compKey:"odoc-usual-dialog-save",compProps:{onClick:this.saveDirection,type:"primary"}}),(0,k.odocGetLabel)(86,"保存")),b.default.createElement(k.OverrideWedget,(0,s.default)({Comp:S.Button,ecId:(this&&this.props&&this.props.ecId||"")+"_Button@5r23me@cancel"},this.cusCompProps,{compKey:"odoc-usual-dialog-cancel",compProps:{onClick:this.closeDialog}}),(0,k.odocGetLabel)(31129,"取消"))],u={title:a,style:i,visible:n,onCancel:l,buttons:c};return b.default.createElement(k.OverrideWedget,(0,s.default)({compKey:"odoc-usual-dialog",Comp:_.WeaDialog},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@4pwf7t",compProps:(0,s.default)({},u)}),b.default.createElement(k.OverrideWedget,(0,s.default)({},this.cusCompProps,{compKey:"odoc-usual-dialog-content"}),b.default.createElement("div",{className:"odoc-usual-dialog"},r)))}}]),t}(b.default.Component))||a)||a;t.default=E},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(6),l=r(s),c=o(3),u=r(c),d=o(1),p=r(d),f=o(2),h=r(f),m=o(4),v=r(m),g=o(5),y=r(g),b=o(7),w=r(b),S=o(10),_=o(9),C=o(0),I=o(11),k=o(19),T=n(k),E=o(8),D=n(E),O=o(41),P=I.WeaTableNew.WeaTable,W=(a=(0,S.inject)("odocRequestStore","odocCompsStore"))(i=(0,S.observer)(i=function(e){function t(e){(0,p.default)(this,t);var o=(0,v.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return o.onOperatesClick=function(e,t,n,r,a){if("0"==r){var i=o.props,s=i.workflowid;(0,i.odocRequestStore.deleteDirection)({dataIds:e.randomFieldId,workflowid:s},function(){o.getTableList()})}},o.closeDialog=o.closeDialog.bind(o),o.onSearch=o.onSearch.bind(o),o.onRowClick=o.onRowClick.bind(o),o.getColumnsCustom=o.getColumnsCustom.bind(o),o.onOperatesClick=o.onOperatesClick.bind(o),o.cusCompProps={store:e.odocRequestStore,_this:o},o}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){this.getTableList()}},{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.getTableList()}},{key:"getTableList",value:function(){var e=this.props,t=e.workflowid,o=e.odocRequestStore,n=e.odocCompsStore,r=n.requestParam;r=D.toJS(r),delete r.markInfo,o.getTableList((0,l.default)({workflowid:t},r))}},{key:"closeDialog",value:function(){var e=this.props.odocRequestStore;e.controlDialogVisible(T.SELECT_DIRECTION_DIALOG,!1),e.resetTableStore()}},{key:"onRowClick",value:function(e){var t=this.props.onSelect;t&&t(e),this.closeDialog()}},{key:"onSearch",value:function(e){var t=this.props,o=t.workflowid,n=t.odocRequestStore,r=t.odocCompsStore,a=r.requestParam;a=D.toJS(a),delete a.markInfo,n.getTableList((0,l.default)({workflowid:o,directname:e},a))}},{key:"getColumnsCustom",value:function(e){return e.map(function(e){return(0,l.default)({},e,{className:"customWrap"})})}},{key:"render",value:function(){var e=this,t=this.props,o=t.odocRequestStore,n=t.visible,r=o.tableStore,a=(0,O.odocGetLabel)(512917,"选择常用去向"),i={width:800,height:600},s=this.closeDialog,c=r.selectedRowKeys,u=void 0===c?[]:c,d=[w.default.createElement(O.OverrideWedget,(0,l.default)({compKey:"odoc-select-dialog-ok",Comp:_.Button,ecId:(this&&this.props&&this.props.ecId||"")+"_Button@fc8x56@cancel"},this.cusCompProps,{compProps:{type:"primary",disabled:!u.length>0,onClick:function(){var t=r.datas,o=void 0===t?[]:t,n=u&&o.filter(function(e){var t=e.directionId,o=void 0===t?"":t;return-1!=u.indexOf(o)})[0]||{};e.onRowClick(n)}}}),(0,O.odocGetLabel)(826,"确定")),w.default.createElement(O.OverrideWedget,(0,l.default)({compKey:"odoc-select-dialog-cancel",Comp:_.Button,ecId:(this&&this.props&&this.props.ecId||"")+"_Button@fc8x56@cancel"},this.cusCompProps,{compProps:{onClick:this.closeDialog}}),(0,O.odocGetLabel)(31129,"取消"))],p={title:a,style:i,visible:n,onCancel:s,buttons:d};return w.default.createElement(O.OverrideWedget,(0,l.default)({compKey:"odoc-select-dialog",Comp:C.WeaDialog},this.cusCompProps,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@aj2yii",compProps:(0,l.default)({},p)}),w.default.createElement(O.OverrideWedget,(0,l.default)({},this.cusCompProps,{compKey:"odoc-select-dialog-content"}),w.default.createElement("div",{className:"odoc-select-dialog"},w.default.createElement("div",{className:"search"},w.default.createElement(O.OverrideWedget,(0,l.default)({compKey:"odoc-select-dialog-input-search",Comp:C.WeaInputSearch,ecId:(this&&this.props&&this.props.ecId||"")+"_WeaInputSearch@8kwytn"},this.cusCompProps,{compProps:{onSearch:this.onSearch}}))),w.default.createElement(O.OverrideWedget,(0,l.default)({compKey:"odoc-select-dialog-table",Comp:P,ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@gd866l"},this.cusCompProps,{compProps:{outerHeight:600,pageAutoWrap:!0,needScroll:!0,needRowClick:!0,getColumns:this.getColumnsCustom,comsWeaTableStore:r,onOperatesClick:this.onOperatesClick}})))))}}]),t}(w.default.Component))||i)||i;t.default=W},function(e,t,o){"use strict";o(606),o(607)},function(e,t){},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(11),S=o(0),_=o(8),C=o(241),I=n(C);o(242);var k=o(10),T=o(9),E=w.WeaTableNew.WeaTable,D=S.WeaLocaleProvider.getLabel,O=(r=(0,k.inject)("withDrawStore"))(a=(0,k.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getDoneCom=function(){var e=o.props.otherparams,t=void 0===e?{}:e,n=o.getWithDrawStore(),r=n.tableStore,a=n.submitparams,i=n.changeSubmitparams,l=n.coreparams,c=l.showSignInput,u=void 0===c||c,d=l.showMyTodo,p=void 0===d||d,f=t.height,h=void 0===f?800:f,m=t.doneOtherParams,v=void 0===m?{}:m;h-=100,u&&(h-=303),p&&(h-=25),h<100&&(h=100);var g=a.doneSk,y=void 0===g?[]:g,w=r.doenTableStore,C=(0,s.default)({pagination:!1,hasOrder:!0,scroll:{y:h}},v,{comsWeaTableStore:w,rowSelection:{onChange:function(e){i({doneSk:(0,_.toJS)(e)})}}});return b.default.createElement("div",null,b.default.createElement(S.WeaTab,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTab@xcmwr3",datas:[{title:D(511633,"请选择要撤回的在办人员:")+"（"+D(511632,"已选：")+y.length+" / "+w.count+"）",key:"1"}],keyParam:"key",searchType:["advanced"],searchsAd:o.getSearchs(),advanceHeight:120,buttonsAd:o.getButtonsAdQuick(),showSearchAd:o.state.showSearchAd,setShowSearchAd:o.setShowSearchAd}),b.default.createElement(E,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@r21u7s"},C)))},o.setShowSearchAd=function(e){o.setState({showSearchAd:e})},o.getButtonsAdQuick=function(){var e=o.props.allstore,t=e.withDrawStore,n=t.form,r=t.reloadLoad;return[b.default.createElement(T.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@hmwn84@search",type:"primary",onClick:function(){r(!0),o.setState({showSearchAd:!1})}},D(388113,"搜索")),b.default.createElement(T.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@swovoc@reset",type:"ghost",onClick:function(){n.resetForm()}},D(2022,"重置")),b.default.createElement(T.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@okijlg@cancel",type:"ghost",onClick:function(){return o.setState({showSearchAd:!1})}},D(201,"取消"))]},o.getSearchs=function(){var e=o.props.allstore,t=e.withDrawStore,n=t.condition,r=t.form,a=[];return r.isFormInit&&n.map(function(e,t){a.push(b.default.createElement(S.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@urawk1@"+t,needTigger:!1,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:b.default.createElement(S.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@tcx4k3@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol}},b.default.createElement(w.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@yroo0n@"+e.domkey[0],fieldConfig:e,form:r})),col:e.conditionType.toUpperCase()==S.WeaTools.types.CASCADER?1:2}})}))}),a},o.getMyTodoContetn=function(){var e=o.getWithDrawStore(),t=e.submitparams,n=e.changeSubmitparams,r=e.coreparams,a=t.myTodo,i=r.showMyTodo,l=void 0===i||i,c={ref:"",viewAttr:l?2:1,content:D(511630,"恢复我的办理权限"),value:a,onChange:function(e){n({myTodo:(0,_.toJS)(e)})}};return b.default.createElement(S.WeaCheckbox,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaCheckbox@zsog52"},c))},o.changecallback=function(e){(0,o.getWithDrawStore().changeSubmitparams)(e)},o.getWithDrawStore=function(){return o.props.allstore.withDrawStore},o.state={},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"componentWillMount",value:function(){this.props.visible&&this.loadData()}},{key:"loadData",value:function(){var e=this.props.allstore,t=e.withDrawStore,o=e.odocCompsStore,n={};try{var r=o.requestParam,a=void 0===r?{}:r;a=(0,_.toJS)(a),delete a.markInfo,n=(0,s.default)({},a)}catch(e){n={requestid:11918915}}(0,t.initLoad)(n)}},{key:"render",value:function(){var e=this.getWithDrawStore(),t=e.coreparams,o=e.load,n=e.refid,r=e.loadSignInput,a=void 0!==r&&r,i=e.signinput,s=t.showSignInput,l=void 0!==s&&s,c=t.showMyTodo,u=void 0===c||c,d=t.showDone,p=void 0===d||d;return t.refid=n,t.premarkinfo=i,o?b.default.createElement("div",{className:"widthdrawcontent"},b.default.createElement("div",null,p&&this.getDoneCom()),b.default.createElement("div",null,u&&this.getMyTodoContetn(),a&&l&&b.default.createElement(I.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocSignInput@c4cnn3",coreparams:t,allstore:this.props.allstore,allFunction:{changecallback:this.changecallback}}))):b.default.createElement("div",{className:"widthdrawcontent"})}}]),t}(y.Component))||a)||a;t.default=S.WeaTools.tryCatch(b.default,function(e){return b.default.createElement(S.WeaErrorPage,{ecId:"_WeaErrorPage@56d9sq",msg:e.error?e.error:D(385218,"对不起，该页面异常，请联系管理员！")})},{error:""})(O)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(11),S=o(0),_=o(9),C=o(8),I=o(241),k=n(I);o(242);var T=o(10),E=w.WeaTableNew.WeaTable,D=S.WeaLocaleProvider.getLabel,O=(r=(0,T.inject)("managerWithDrawStore"))(a=(0,T.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getTodoCom=function(){var e=o.props.otherparams,t=void 0===e?{}:e,n=o.getWithDrawStore(),r=n.tableStore,a=n.submitparams,i=n.changeSubmitparams,l=n.coreparams,c=l.showSignInput,u=void 0===c||c,d=r.todoTableStore,p=t.height,f=void 0===p?800:p,h=t.todoOtherParams,m=void 0===h?{}:h;f-=100,u&&(f-=303),f<100&&(f=100);var v=a.todoSk,g=void 0===v?[]:v,y=(0,s.default)({pagination:!1,hasOrder:!0,scroll:{y:f}},m,{comsWeaTableStore:d,rowSelection:{onChange:function(e,t){var o=[];t.map(function(e){o.push(e.id+"_"+e.isremark)}),i({todoSk:(0,C.toJS)(o)})}}});return b.default.createElement("div",null,b.default.createElement(S.WeaTab,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTab@skqj7v",datas:[{title:D(511633,"请选择要撤回的在办人员")+"：("+D(511632,"已选：")+g.length+" / "+d.count+")",key:"1"}],keyParam:"key",searchType:["advanced"],searchsAd:o.getSearchs(),advanceHeight:165,buttonsAd:o.getButtonsAdQuick(),showSearchAd:o.state.showSearchAd,setShowSearchAd:o.setShowSearchAd}),b.default.createElement(E,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@1m2fgq"},y)))},o.setShowSearchAd=function(e){o.setState({showSearchAd:e})},o.getButtonsAdQuick=function(){var e=o.props.managerWithDrawStore,t=e.form,n=e.reloadLoad;return[b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@04xy04@search",type:"primary",onClick:function(){n(!0),o.setState({showSearchAd:!1})}},D(388113,"搜索")),b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@msw6rz@reset",type:"ghost",onClick:function(){t.resetForm()}},D(2022,"重置")),b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@aoed0b@cancel",type:"ghost",onClick:function(){return o.setState({showSearchAd:!1})}},D(201,"取消"))]},o.getSearchs=function(){var e=o.props.managerWithDrawStore,t=e.condition,n=e.form,r=[];return n.isFormInit&&t.map(function(e,t){r.push(b.default.createElement(S.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@d0e2fa@"+t,needTigger:!1,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:b.default.createElement(S.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@5yz9wq@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol}},b.default.createElement(w.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@unosao@"+e.domkey[0],fieldConfig:e,form:n})),col:e.conditionType.toUpperCase()==S.WeaTools.types.CASCADER?1:2}})}))}),r},o.changecallback=function(e){(0,o.getWithDrawStore().changeSubmitparams)(e)},o.getWithDrawStore=function(){return o.props.managerWithDrawStore},o.state={},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadData()}},{key:"componentWillMount",value:function(){this.props.visible&&this.loadData()}},{key:"loadData",value:function(){var e=this.props.allstore,t=e.odocCompsStore,o={};try{var n=t.requestParam,r=void 0===n?{}:n;r=(0,C.toJS)(r),delete r.markInfo,o=(0,s.default)({},r)}catch(e){o={requestid:11918915}}(0,this.getWithDrawStore().initLoad)(o)}},{key:"render",value:function(){var e=this.getWithDrawStore(),t=e.coreparams,o=e.load,n=e.refid,r=e.loadSignInput,a=void 0!==r&&r,i=e.signinput,l=this.props.allstore,c=t.isManager,u=void 0===c||c,d=t.showSignInput,p=void 0===d||d,f=t.showTodo,h=void 0===f||f;return t.refid=n,t.premarkinfo=i,o?b.default.createElement("div",{className:"widthdrawcontent"},h&&u&&this.getTodoCom(),a&&p&&b.default.createElement(k.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_OdocSignInput@u8wh14",coreparams:t,allstore:(0,s.default)({workflowStores:this.getWithDrawStore()},l),allFunction:{changecallback:this.changecallback}})):b.default.createElement("div",{className:"widthdrawcontent"})}}]),t}(y.Component))||a)||a;t.default=S.WeaTools.tryCatch(b.default,function(e){return b.default.createElement(S.WeaErrorPage,{ecId:"_WeaErrorPage@g1rtlg",msg:e.error?e.error:D(385218,"对不起，该页面异常，请联系管理员！")})},{error:""})(O)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(11),_=o(9),C=o(10),I=o(24),k=o(611),T=n(k),E=o(612),D=n(E);o(159);var O=w.WeaLocaleProvider.getLabel,P=S.WeaTableNew.WeaTable,W=(r=(0,C.inject)("updateOperatorStore"))(a=(0,C.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.openAddOperatorDialog=function(){o.setState({addOperatorDialogVisible:!0,addOperatorDialogInit:!0})},o.closeAddOperatorDialog=function(){o.setState({addOperatorDialogVisible:!1})},o.openReduceOperatorDialog=function(e){e*=1,o.setState({reduceOperatorDialogVisible:!0,reduceOperatorDialogInit:!0,reduceDataId:e})},o.closeReduceOperatorDialog=function(){o.setState({reduceOperatorDialogVisible:!1})},o.init=function(){var e=o.props,t=e.updateOperatorStore,n=e.contentparams;t.init(n)},o.onAddOperatorBrowserOK=function(e,t,o){_.Modal.confirm({title:O(131329,"信息确认"),content:O(532805,"请确认将当前所选人员加入到已有的流转批次中吗？"),okText:O(826,"确定"),cancelText:O(201,"取消"),onOk:function(){o(e,t)}})},o.onAddOperatorBrowserChange=function(e,t){var n=o.props,r=n.updateOperatorStore,a=n.contentparams,i=void 0===a?{}:a;delete i.markInfo,r.addOperator2ExistBatch((0,s.default)({userIds:e,recordId:t},i),function(e){var t=e.api_msg,o=void 0===t?"":t,n=e.api_status;void 0!==n&&n?(r.loadTableList(),(0,I.isEmpty)(o)||_.message.success(o)):(0,I.isEmpty)(o)||_.Modal.error({title:O(131329,"信息确认"),content:o})})},o.getColumns=function(e){var t={type:17,isSingle:!1,viewAttr:2,customized:!0,icon:"icon-coms-hrm",iconBgcolor:"#217346",title:O(507242,"选择加签人员"),onBeforeBrowserOK:o.onAddOperatorBrowserOK};return e.map(function(e){var n=e.dataIndex;return"id"==(void 0===n?"":n)&&(e.render=function(e,n){return b.default.createElement("span",{className:"odoc-operate-btns"},b.default.createElement(w.WeaBrowser,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@dn317l"},t,{onChange:function(t,n){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).length>0&&o.onAddOperatorBrowserChange(t,e)}}),b.default.createElement("span",{title:O(31920,"加签")},b.default.createElement("i",{className:"icon-coms-Add-to-hot odoc-operate-btn"}))),b.default.createElement("span",{title:O(130109,"减签"),onClick:o.openReduceOperatorDialog.bind(o,e)},b.default.createElement("i",{className:"icon-coms-form-delete-hot odoc-operate-btn"})))}),e})},o.showEditTableCom=function(){var e=o.props,t=e.updateOperatorStore,n=e.contentparams,r=t.coreparams,a=void 0===r?{}:r,i=(t.changeCoreParams,t.signListStore),l=t.reducedSignature,c=t.loading,u=void 0!==c&&c,d=a.sltids,p=void 0===d?[]:d,f={type:"primary",style:{"margin-right":"15px"},disabled:!0,onClick:function(){return l({sltids:p,showcontent:O(520041,"确定要减去选择的流转吗？")})}};p.length>0&&!u&&(f.disabled=!1);var h={datas:[{title:O(512922,"已设流转"),key:"1"}],keyParam:"key",className:"tableOperatorContent",searchType:["advanced"],advanceHeight:150,buttons:[b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@tcm4n3@add",onClick:o.openAddOperatorDialog,type:"primary"},O(520038,"添加流转"))],buttonsAd:o.getButtonsAdQuick(),showSearchAd:o.state.showSearchAd,searchsAd:o.getSearchs(),setShowSearchAd:function(e){o.setState({showSearchAd:e})}},m=n.height,v=void 0===m?600:m,g={comsWeaTableStore:i,scroll:{y:v-46-48-44},onOperatesClick:o.onOperatesClick,getColumns:o.getColumns};return b.default.createElement(b.default.Fragment,null,b.default.createElement(w.WeaTab,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTab@imy3w7"},h)),b.default.createElement(P,(0,s.default)({ecId:(o&&o.props&&o.props.ecId||"")+"_WeaTable@pt9bwf"},g)))},o.getButtonsAdQuick=function(){var e=o.props.updateOperatorStore,t=e.form,n=e.loadTableList;return[b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@u9z82l@search",type:"primary",onClick:function(){n(),o.setState({showSearchAd:!1})}},O(388113,"搜索")),b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@qn463t@reset",type:"ghost",onClick:function(){t.resetForm()}},O(2022,"重置")),b.default.createElement(_.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@wefxto@cancel",type:"ghost",onClick:function(){return o.setState({showSearchAd:!1})}},O(201,"取消"))]},o.getSearchs=function(){var e=o.props.updateOperatorStore,t=e.condition,n=e.form,r=[];return n.isFormInit&&t.map(function(e,t){r.push(b.default.createElement(w.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@8m8opm@"+t,needTigger:!1,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:b.default.createElement(w.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@1kz88s@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol}},b.default.createElement(S.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@ola90p@"+e.domkey[0],fieldConfig:e,form:n})),col:e.conditionType.toUpperCase()==w.WeaTools.types.CASCADER?1:2}})}))}),r},o.onOperatesClick=function(e,t,n){"0"==n.index&&(0,o.props.updateOperatorStore.reducedSignature)({sltids:e.id+"_"+e.isremark,showcontent:O(520042,"确定要减签吗？")})},o.tablename="operatoredittable",o.state={addOperatorDialogVisible:!1,addOperatorDialogInit:!1,reduceOperatorDialogVisible:!1,reduceOperatorDialogInit:!1,reduceDataId:0},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.props.visible&&this.init()}},{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.init()}},{key:"render",value:function(){var e=this.state,t=e.addOperatorDialogVisible,o=void 0!==t&&t,n=e.addOperatorDialogInit,r=void 0!==n&&n,a=e.reduceOperatorDialogVisible,i=void 0!==a&&a,s=e.reduceOperatorDialogInit,l=void 0!==s&&s,c=e.reduceDataId,u=void 0===c?0:c;return b.default.createElement("div",{className:"updateOperatorCotent"},b.default.createElement("div",{className:"tableOperator"},this.showEditTableCom()),r&&b.default.createElement(T.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_AddOperatorDialog@abpyvj",visible:o,onClose:this.closeAddOperatorDialog}),l&&b.default.createElement(D.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_ReduceOperatorDialog@rle7fa",visible:i,dataId:u,onClose:this.closeReduceOperatorDialog}))}}]),t}(y.Component))||a)||a;t.default=W},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(8),_=o(10);o(159);var C=o(9),I=w.WeaLocaleProvider.getLabel,k=(r=(0,_.inject)("updateOperatorStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.doDirection=function(){var e=o.props.updateOperatorStore,t=e.showConfirm,n=e.showErrorMsg,r=e.selected,a=void 0===r?{}:r,i=e.changeSelectHrm,s=a.userList,l=void 0===s?[]:s,c=a.userSignType,u=void 0===c?"":c,d=a.nodeId,p=void 0===d?"":d;if(l.length<=0)return void n(I(385003,"请选择人员"));if(""==u)return void n(I(18214,"请选择")+I(125351,"会签属性"));if(""==p)return void n(I(512919,"请选择下一环节"));var f=[];l&&l.map(function(e){f.push(e.lastname)});var h="";h=f.length>20?f.slice(0,20).join(",")+"...":f.join(",");h="<span style='margin:0 5px; font-weight: bold;color: #2db7f5' title='"+f.join(",")+"'>"+h+"</span>";var m=I(513015,"确认将文件发送给$username处理？").replace("$username",h),v=function(){i(null,null,null),o.closeDialog()};t(null,b.default.createElement("span",{style:{"font-size":"18px"},dangerouslySetInnerHTML:{__html:m}}),function(){e.flowNext(v)})},o.showSelectNodeCom=function(){var e=[],t=o.props.updateOperatorStore,n=t.coreparams,r=void 0===n?{}:n,a=t.changeSelectNode,i=t.changeSelectHrm,s=t.changeSignType,l=t.selected,c=void 0===l?{}:l,u=t.loading,d=void 0!==u&&u,p=r.nodeOptions,f=void 0===p?[]:p,h=r.signTypeOptions,m=void 0===h?[]:h;f=(0,S.toJS)(f),m=(0,S.toJS)(m),e.push(b.default.createElement(w.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@z0gi93@next",labelCol:{span:6},wrapperCol:{span:18},label:I(512913,"下一环节")},b.default.createElement(w.WeaSelect,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@sqaqpu@next",options:f,value:c.nodeId,viewAttr:3,detailtype:3,onChange:function(e,t){a(e,t)}}))),e.push(b.default.createElement(w.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@8t2p1o@signType",labelCol:{span:6},wrapperCol:{span:18},label:I(125351,"会签属性")},b.default.createElement(w.WeaSelect,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSelect@66y33n@signType",options:m,value:c.userSignType,viewAttr:3,detailtype:3,onChange:function(e,t){s(e,t)}})));e.push(b.default.createElement(w.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@ee1zda@selectPeople",labelCol:{span:6},wrapperCol:{span:18},label:I(505966,"选择人员")},b.default.createElement(w.WeaBrowser,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@qpix9m@selectPeople",type:17,isSingle:!1,title:I(505966,"选择人员"),onChange:i,hasBorder:!0,viewAttr:3,maxBrowerHeight:50})));var v=c.userIds,g={disabled:!0};v&&!d&&(g.disabled=!1);var y=b.default.createElement("div",{className:"addOperatorContent"},b.default.createElement("div",{className:"addOperator"},e));return b.default.createElement(w.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@b236df",needTigger:!0,showGroup:!0,className:"addOperatorSearGroup",title:I(503272,"加签设置"),items:[{com:y,col:1}]})},o.closeDialog=function(){o.props.updateOperatorStore.resetSelected(),o.props.onClose()},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.visible,t=this.closeDialog,o=jQuery(".wf-req")[0],n={width:600,height:400},r=I(31920,"加签"),a=[b.default.createElement(C.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@k0owrx@submit",type:"primary",onClick:this.doDirection},I(501196,"确定")),b.default.createElement(C.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@yee5a0@cancel",onClick:this.closeDialog},I(31129,"取消"))],i={visible:e,onCancel:t,layout:o,style:n,title:r,buttons:a};return b.default.createElement(w.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@6fxdnu"},i),this.showSelectNodeCom())}}]),t}(b.default.Component))||a)||a;t.default=k},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(0),S=o(9),_=o(8),C=o(10),I=o(24);o(159);var k=w.WeaLocaleProvider.getLabel,T=(w.WeaTransfer.list,"odoc-reduce-operator"),E={leftSearch:[],rightSearch:[],selectedKeys:[],selectedDatas:[]},D=(r=(0,C.inject)("updateOperatorStore"))(a=(0,C.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.closeDialog=function(){o.props.updateOperatorStore.resetReduceData(),o.setState(E),o.props.onClose()},o.doReduce=function(){var e=o.props,t=e.updateOperatorStore,n=e.dataId,r=o.state.selectedKeys;if((0,I.isEmpty)(r))return void S.message.error(k(507245,"请选择减签人员！"));var a=k(533069,"请确认将当前已选人员从流程的操作者中删除吗？");t.reducedSignature({userIds:r,dataId:n,confirmMsg:a},function(){o.closeDialog()})},o.getLeftHeader=function(){return b.default.createElement("div",{className:T+"-header"},b.default.createElement("span",{className:T+"-header-title"},"待选"),b.default.createElement("span",{className:T+"-header-search"},b.default.createElement(w.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@ep8q8o",onSearchChange:o.onLeftSearchChange})))},o.getRightHeader=function(){return b.default.createElement("div",{className:T+"-header"},b.default.createElement("span",{className:T+"-header-title"},"已选"),b.default.createElement("span",{className:T+"-header-search"},b.default.createElement(w.WeaInputSearch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaInputSearch@msz34d",onSearchChange:o.onRightSearchChange})))},o.onLeftSearchChange=function(e){o.setState({leftSearch:e})},o.onRightSearchChange=function(e){o.setState({rightSearch:e})},o.filterLeft=function(e){var t=o.state.leftSearch;return o.filterItems(e,t)},o.filterRight=function(e){var t=o.state.rightSearch;return o.filterItems(e,t)},o.filterItems=function(e,t){return(0,I.isEmpty)(t)||(e=e.filter(function(e){return-1!=e.name.indexOf(t)})),e},o.onTransferChange=function(e,t){o.setState({selectedKeys:e,selectedDatas:t})},o.state=E,o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.updateOperatorStore,o=e.dataId;t.loadReduceData(o)}},{key:"componentWillReceiveProps",value:function(e,t){var o=this.props,n=o.visible,r=o.updateOperatorStore,a=e.visible,i=e.dataId;n!=a&&a&&r.loadReduceData(i)}},{key:"render",value:function(){var e=this.props,t=e.visible,o=e.updateOperatorStore,n=void 0===o?{}:o,r=this.closeDialog,a=jQuery(".wf-req")[0],i={width:600,height:475},l=k(507243,"选择减签人员"),c=n.reduceData,u=void 0===c?{}:c;u=(0,_.toJS)(u);var d=u,p=d.detailList,f=void 0===p?[]:p,h=[b.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@1amc1t@submit",type:"primary",onClick:this.doReduce},k(501196,"确定")),b.default.createElement(S.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@vhzioa@cancel",onClick:this.closeDialog},k(31129,"取消"))],m=T,v={visible:t,onCancel:r,layout:a,style:i,title:l,buttons:h,className:m},g=this.state.selectedKeys;return b.default.createElement(w.WeaDialog,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@lb8ffq"},v),b.default.createElement(w.WeaTransfer,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTransfer@ebqt3z",data:f,onChange:this.onTransferChange,selectedKeys:g,leftHeader:this.getLeftHeader(),rightHeader:this.getRightHeader(),filterLeft:this.filterLeft,filterRight:this.filterRight}))}}]),t}(b.default.Component))||a)||a;t.default=D},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(0),b=o(9),w=o(8),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(w),_=o(11),C=y.WeaLocaleProvider.getLabel,I=_.WeaTableNew.WeaTable,k=function(e){function t(e){(0,c.default)(this,t);var o=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return o.getButtonsAdQuick=function(){var e=o.props.updateSignLogStore,t=e.form,n=e.init;return[g.default.createElement(b.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@lxz4l0@search",type:"primary",onClick:function(){n(),o.setState({showSearchAd:!1})}},C(388113,"搜索")),g.default.createElement(b.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@w935o1@reset",type:"ghost",onClick:function(){t.resetForm()}},C(2022,"重置")),g.default.createElement(b.Button,{ecId:(o&&o.props&&o.props.ecId||"")+"_Button@v0ik4p@cancel",type:"ghost",onClick:function(){return o.setState({showSearchAd:!1})}},C(201,"取消"))]},o.getSearchs=function(){var e=o.props.updateSignLogStore,t=e.conditions,n=void 0===t?[]:t,r=e.form,a=[];return r.isFormInit&&n.length>0&&n.map(function(e,t){a.push(g.default.createElement(y.WeaSearchGroup,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSearchGroup@ay7ugj@"+t,needTigger:!1,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:g.default.createElement(y.WeaFormItem,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaFormItem@wb9v05@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol}},g.default.createElement(_.WeaSwitch,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaSwitch@bzawr3@"+e.domkey[0],fieldConfig:e,form:r})),col:e.conditionType.toUpperCase()==y.WeaTools.types.CASCADER?1:2}})}))}),a},o.onOperatesClick=function(e,t,n){var r=o.props.updateSignLogStore,a=n.index,i=e.logid;if("0"==a){var s=r.getSignInput;r.titleparams=e,i&&s({logid:i})}if("1"==a){var l=C(528292,'确定要删除#{userName}在"#{nodeName}"环节的操作意见吗？'),c=e.nodeidspan,u=e.nodeid,d=e.operatorspan,p=e.operator;l=l.replace("#{userName}"," "+(d||p)+" "),l=l.replace("#{nodeName}",c||u);var f=r.doDeleteSignLogByLogId,h=r.showConfirm;l=g.default.createElement("span",{dangerouslySetInnerHTML:{__html:l}}),h(null,l,function(){return f({logid:i})})}},o.getColumnsSignList=function(e){var t=o.props.updateSignLogStore,n=t.signListStore,r=void 0===n?{}:n,a=r.columns,i=o;return a&&a.map(function(e){var t=e.dataIndex,o=void 0===t?"":t;return e.render="_operateMenu"==o?function(e,t){var o=[{index:"0",text:C(103,"修改")},{index:"1",text:C(91,"删除")}];return g.default.createElement("span",{className:"operateMenu"},o&&o.map(function(e){return g.default.createElement("span",{onClick:function(){return i.onOperatesClick(t,null,e)}},e.text)}))}:"remark"==o?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.replace("src=","rep-src="),e=e.replace("original-src","src"),g.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}:function(e,t){return g.default.createElement("span",{dangerouslySetInnerHTML:{__html:t[o+"span"]||t.dataIndex}})},e}),a},o.state={hasLoad:!1},o}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.odocCompsStore,n=void 0===o?{}:o,r=t.updateSignLogStore,i={};try{var s=n.requestParam;i=S.toJS(s)}catch(e){i.requestid="11259256"}var l=r.signListStore,c=this.state.showSearchAd,u=void 0!==c&&c,d={searchType:["advanced"],advanceHeight:200,buttonsAd:this.getButtonsAdQuick(),showSearchAd:u,setShowSearchAd:function(t){return e.setState({showSearchAd:t})},searchsAd:this.getSearchs()},p={getColumns:this.getColumnsSignList,comsWeaTableStore:l,needScroll:!0,scroll:{y:500}};return g.default.createElement("div",null,g.default.createElement(y.WeaTab,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@nqavv5"},d)),g.default.createElement(I,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@sbq0xm"},p,{onOperatesClick:this.onOperatesClick})))}}]),t}(v.Component);t.default=y.WeaTools.tryCatch(g.default,function(e){return g.default.createElement(y.WeaErrorPage,{ecId:"_WeaErrorPage@hxwep2",msg:e.error?e.error:C(385218,"对不起，该页面异常，请联系管理员！")})},{error:""})(k)},function(e,t){},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=o(96),l=r(s),c=o(6),u=r(c),d=o(3),p=r(d),f=o(1),h=r(f),m=o(2),v=r(m),g=o(4),y=r(g),b=o(5),w=r(b),S=o(7),_=r(S),C=o(10),I=o(9),k=o(8),T=n(k),E=o(0),D=o(29),O=r(D),P=o(56),W=r(P),R=o(617),A=r(R),x=o(618),L=r(x),F=o(19),M=n(F),N=o(69),j=n(N),z=o(38);o(619);var B=o(621),q=(n(B),E.WeaLocaleProvider.getLabel),K=(a=(0,C.inject)("odocRequestRejectStore","odocCompsStore"))(i=(0,C.observer)(i=function(e){function t(e){(0,h.default)(this,t);var o=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return o.isNotEmptyList=function(){var e=o.props.odocRequestRejectStore,t=e.nodeOperatorMap,n=void 0===t?{}:t,r=e.getNextDirections();return n=T.toJS(n),r.some(function(e){var t=e.nodeid,o=(e.linkId,n),r=o[t],a=void 0===r?{}:r,i=a.userIds,s=void 0===i?{}:i,l=s.userList,c=void 0===l?[]:l;s.userIds;return c.length>0})},o.getCurrentDialogParam=function(){var e=o.props.odocCompsStore,t=M.ODOC_REJECT_DIALOG,n=e.dialogParam;n=(0,k.toJS)(n);var r=n,a=r[t];return void 0===a?{}:a},o.closeDialog=o.closeDialog.bind(o),o.doSubmit=o.doSubmit.bind(o),o}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentWillMount",value:function(){this.loadRejectData()}},{key:"componentWillReceiveProps",value:function(e){this.props.visible!=e.visible&&e.visible&&this.loadRejectData()}},{key:"loadRejectData",value:function(){var e=this.props,t=e.dataId,o=e.odocCompsStore,n=e.odocRequestRejectStore,r=o.requestParam,a=void 0===r?{}:r;a=T.toJS(a),delete a.markInfo;var i=(0,u.default)({dataId:t},a);n.loadRejectData(i)}},{key:"closeDialog",value:function(){var e=this.props,t=e.onClose,o=e.odocRequestRejectStore;t&&t(),o.resetStore()}},{key:"doSubmit",value:function(){var e=this.props,t=e.odocCompsStore,o=e.odocRequestRejectStore,n=t.requestParam;n=T.toJS(n);var r=n,a=r.workflowid;delete n.markInfo;var i=this.getCurrentDialogParam(),s=i.onSuccess,c=o.btnforbiden,d=o.nodeOperatorMap,p=void 0===d?{}:d,f=o.getNextDirections();if(p=T.toJS(p),!c){var h=[],m=new l.default,v={margin:"0 5px","font-weight":"bold",color:"#2db7f5"};if(!this.isNotEmptyList())return void j.showGlobalError(q(523407,"请至少设置1个环节的操作人员！"));if(!f.some(function(e){var t=e.nodeid,o=e.nodename,n=e.selected,r=void 0!==n&&n,a=(e.disabled,p),i=a[t],s=void 0===i?{}:i,l=s.userIds,c=void 0===l?{}:l,u=s.ccUserIds,d=void 0===u?{}:u,f=(s.userSignType,s.userTransferType,s.userCopyType,d.userList,c.userList),v=void 0===f?[]:f;if(r&&v.forEach(function(e){var t=e.id,o=e.name,n=e.lastname;m.has(t)||(m.add(t),h.push(o||n))}),r){if(v.length<=0){var g=q(523409,"请添加流转环节$nodename的操作人员");g=g.replace(/\$nodename/gi,'<span style="margin:0 5px;font-weight:bold;color:#2db7f5">'+o+"</span>"),j.showGlobalError(_.default.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),3)}}return r&&v.length<=0})){o.setMember({workflowid:a,btnforbiden:!0});var g="";window.CK_REF&&window.CK_REF.oDocRemark&&window.CK_REF.oDocRemark.getEditor()&&(g=window.CK_REF.oDocRemark.getEditor().getData());var y=t.workflowStores,b=void 0===y?{}:y,w=b.globalStore,S=void 0===w?{}:w,C=S.submitParam,k=void 0===C?{}:C,E=(0,u.default)({},k,{remark:g},n),D=S.markInfo,O=void 0===D?{}:D,P=O.isFormSignature,W=O.isSignMustInput;if("1"==P){if(!(0,(new z.Base).saveFormSignature)(E,"1"==W,"oDocRemark"))return}var R=function(e){var t=e.success,n=void 0===t?0:t,r=e.msg,a=void 0===r?"":r;1==n?(j.showGlobalMessage(a,3),window.setTimeout(function(){s&&s(e),o.resetStore()},100)):(o.setMember({btnforbiden:!1}),I.Modal.error({title:q(131329,"信息确认"),content:_.default.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),okText:q(309,"关闭")}))},A=q(513015,"确认将文件发送给$username处理？"),x=j.transformConfirmMsg(A,h,v);I.Modal.confirm({title:q(131329,"信息确认"),content:x,onOk:function(){o.flowReject(E,R)},onCancel:function(){o.setMember({btnforbiden:!1})}})}}}},{key:"replaceMsg",value:function(e,t,o,n){if(t&&t.length>0){var r=e.indexOf(t),a=r+t.length,i=e.substring(0,r),s=e.substring(a);return _.default.createElement("span",null,i,_.default.createElement("span",{style:n},o),s)}return e}},{key:"render",value:function(){var e=this.props,t=e.visible,o=e.workflowid,n=e.odocRequestRejectStore,r=(n.dialogVisible,n.rejectConfig),a=void 0===r?{}:r;a=T.toJS(a);var i=a,s=i.dialogWidth,l=i.dialogHeight,c=(i.radio,{width:s,height:l}),d=this.closeDialog,p=[],f=(0,W.default)(".wf-req")[0],h=q(236,"退回"),m=q(501196,"确定"),v=this.getCurrentDialogParam(),g=v.menuName;(0,O.default)(g)||(h=g,m=g),p.push(_.default.createElement(I.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@jg0jib@submit",onClick:this.doSubmit,type:"primary"},m)),p.push(_.default.createElement(I.Button,{ecId:(this&&this.props&&this.props.ecId||"")+"_Button@vyfo7z@canel",onClick:this.closeDialog},q(31129,"取消")));var y={title:h,style:c,visible:t,onCancel:d,buttons:p,layout:f,scalable:!0},b=_.default.createElement("div",{className:"odoc-page-main"},_.default.createElement("div",{className:"direction-top"},_.default.createElement("div",{className:"title"},q(521993,"请选择流转操作者")),_.default.createElement("div",{className:"direction-table"},_.default.createElement(A.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_DirectionTable@ubg7i2",workflowid:o}))),_.default.createElement("div",{className:"direction-bottom"},_.default.createElement(I.Row,{ecId:(this&&this.props&&this.props.ecId||"")+"_Row@edvkgh"},_.default.createElement(I.Col,{ecId:(this&&this.props&&this.props.ecId||"")+"_Col@xly2ov"},_.default.createElement(L.default,{ecId:(this&&this.props&&this.props.ecId||"")+"_Remark@ayuo16",visible:t,showTitle:!0})))));return _.default.createElement(E.WeaDialog,(0,u.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaDialog@uxvdo9"},y),_.default.createElement("div",{className:"odoc-request-reject"},_.default.createElement(E.WeaNewScroll,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaNewScroll@cn07fm",height:"100%"},b)))}}]),t}(_.default.Component))||i)||i;t.default=K},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(9),_=o(8),C=o(0),I=C.WeaLocaleProvider.getLabel,k=(r=(0,w.inject)("odocRequestRejectStore"))(a=(0,w.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.getInstance=function(e,t){o.instances?o.instances[e]=t:(o.instances=[],o.instances[e]=t)},o.getViewAttrBySelected=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.selected,n=void 0!==o&&o,r=e.isModifyOperator,a=void 0===r?1:r,i=2;return 1!=a&&"userIds"==t?i=1:n&&(i=3),i},o.getColumns=function(){var e=o.props.odocRequestRejectStore,t=e.tableConfig,n=e.rejectConfig;t=(0,_.toJS)(t),n=(0,_.toJS)(n);var r=t,a=r.columns,i=void 0===a?[]:a,l=n;l.copyType;return i.map(function(e,t){var n=e.key;"userIds"==n&&(e.render=function(e,r){var a=r.nodeid,i=r[n],l=(r.userCopyType,i.userList),c=void 0===l?[]:l,u=i.userIds,d=i.sqlwhere,p=void 0===d?"":d,f=i.sqlwhere1,h=void 0===f?"":f,m={sqlwhere:p},v={sqlwhere:h},g=o.getViewAttrBySelected(r,n),y=c&&c.length>0,w=b.default.createElement(C.WeaBrowser,{ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@k16iy3@"+t,type:17,value:u,ref:o.getInstance.bind(o,a),isSingle:!1,title:I(505966,"选择人员"),onChange:function(e,t,r){r=(0,_.toJS)(r);var i={userIds:e,userNames:t,userList:r};o.onUpdateRow(a,n,i)},viewAttr:g,maxBrowerHeight:60,completeParams:(0,s.default)({},v),conditionDataParams:(0,s.default)({},m),dataParams:(0,s.default)({},m),replaceDatas:c}),k=b.default.createElement("a",{className:"deletebtn",onClick:o.onClearRow.bind(o,a,n)},I(15504,"清空"));return b.default.createElement(S.Row,{ecId:(o&&o.props&&o.props.ecId||"")+"_Row@u8f6zs",type:"flex",align:"middle"},b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@q0k3kg",span:20},w),b.default.createElement(S.Col,{ecId:(o&&o.props&&o.props.ecId||"")+"_Col@rmk7lq",span:4},y&&1!=g?k:null))})}),i},o.onUpdateRow=function(e,t,n){o.props.odocRequestRejectStore.updateRow(e,t,n)},o.onClearRow=function(e,t){o.props.odocRequestRejectStore.clearRow(e,t)},o.onSelect=function(e,t,n){var r=o.props.odocRequestRejectStore,a=e.nodeid;r.updateSelectKeys(a,t)},o.onSelectAll=function(e,t,n){var r=o.props.odocRequestRejectStore,a=n.map(function(e){return e.nodeid});r.updateSelectKeys(a,e)},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.odocRequestRejectStore,t=e.nodeOperatorList,o=e.selectedRowKeys,n=e.tableConfig,r=void 0===n?{}:n;t=(0,_.toJS)(t),r=(0,_.toJS)(r);var a=r,i=a.tableType,s=void 0===i?"checkbox":i,l={type:s,selectedRowKeys:o,onSelect:this.onSelect,onSelectAll:this.onSelectAll};return b.default.createElement(C.WeaTable,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTable@vblhyv",columns:this.getColumns(),dataSource:t,rowSelection:l,pagination:!1,rowKey:"nodeid"})}}]),t}(b.default.Component))||a)||a;t.default=k},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(84),S=n(w),_=o(10),C=o(0),I=o(239),k=C.WeaLocaleProvider.getLabel,T=(r=(0,_.inject)("odocCompsStore"))(a=(0,_.observer)(a=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.changeRemarkInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.props.odocCompsStore.workflowStores.globalStore.changeSubmitParam)(e)},o.state={hasLoad:!1},o.changeRemarkInfo=o.changeRemarkInfo.bind(o),o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({hasLoad:!0}),e.updateRemark()};S.default.isDefined("workflowPublic")?S.default.ready("workflowPublic",t):(0,S.default)(I.workflowPublicFiles,"workflowPublic",t)}},{key:"updateRemark",value:function(){var e=this;if(this.props.visible){var t=WfForm&&WfForm.getSignRemark();window.CK_REF&&window.CK_REF.oDocRemark&&window.CK_REF.oDocRemark.getEditor()?t&&window.CK_REF.oDocRemark.getEditor().setData(t):this.updateRemarkFn=window.setTimeout(function(){e.updateRemark()},300)}}},{key:"componentDidUpdate",value:function(){this.updateRemark()}},{key:"render",value:function(){if(this.state.hasLoad){var e=window.weaWorkflowPublic.WfSignInput,t=this.props,o=t.odocCompsStore,n=t.showTitle,r=void 0!==n&&n,a=o.workflowStores,i=a.globalStore,l=i.commonParam,c=i.markInfo,u=void 0===c?{}:c,d=i.loadMarkInfo,p=l.requestid,f=l.requestType,h=u.remarkInfo,m=void 0===h?{}:h,v=b.default.createElement("div",{className:"odoc-remark-title"},b.default.createElement("i",{className:"icon-coms-Need-feedback"}),b.default.createElement("span",{style:{color:"#A0A0A0"}},k(17614,"签字意见"))),g=b.default.createElement(e,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WfSignInput@y9boe8",ref:"oDocRemarkCK",markInfo:u,requestType:f,requestid:p,isShowSignInput:!0,editorId:"oDocRemark",maxHeight:150},m,{changeRemarkInfo:this.changeRemarkInfo,saveCallBack:d}));return r?b.default.createElement("div",{className:"odoc-remark-area"},v,g):b.default.createElement("div",{className:"odoc-remark-area"},g)}return b.default.createElement("div",null)}}]),t}(b.default.Component))||a)||a;t.default=T},function(e,t,o){"use strict";o(620)},function(e,t){},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkRequiredFail=void 0;var n=o(24),r=o(0),a=o(69),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);t.default=e}(a),r.WeaLocaleProvider.getLabel);t.checkRequiredFail=function(e,t){var o=t.signType,r=void 0===o?0:o,a=t.transferType,s=void 0===a?0:a,l=t.copyType,c=void 0===l?0:l,u=e.userIds,d=void 0===u?{}:u,p=e.ccUserIds,f=void 0===p?{}:p,h=e.userSignType,m=void 0===h?"":h,v=e.userTransferType,g=void 0===v?"":v,y=e.userCopyType,b=void 0===y?"":y,w=d.userList,S=void 0===w?[]:w,_=f.userList,C=void 0===_?[]:_,I=!1,k="";return k=S.length<=0?i(523429,"请选择操作人员"):i(387847,"必要信息不完整，红色星号为必填项！"),I=S.length<=0||4==r&&(0,n.isEmpty)(m)||3==s&&(0,n.isEmpty)(g)||C.length>0&&3==c&&(0,n.isEmpty)(b),{result:I,message:k}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(53),s=n(i),l=o(6),c=n(l),u=o(3),d=n(u),p=o(1),f=n(p),h=o(2),m=n(h),v=o(4),g=n(v),y=o(5),b=n(y),w=o(7),S=n(w),_=o(9),C=o(0),I=o(8),k=o(10),T=o(19),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(T);o(623);var D=C.WeaLocaleProvider.getLabel,O=(_.Menu.Item,(r=(0,k.inject)("odocDispatchStore","odocCompsStore"))(a=(0,k.observer)(a=function(e){function t(e){(0,f.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return o.openModal=function(e){(0,o.props.odocDispatchStore.getFilesData)(e),o.dispatchBrowser&&o.dispatchBrowser.openModal()},o.listenData=function(e,t){var n=o.props.odocDispatchStore,r=n.setIds,a=(n.setIdNames,n.setFileDatas);if(t&&t.length>=0){var i=n.showIds,s=n.datas,l=t.map(function(e){return e.id}),c=i?i.split(","):[],u=o.getNotIndex(c,l),d=o.getNotIndex(l,c),p=o.refreshAttachmentSelectedIds(s,u,d);r(l.toString()),a(p)}},o.clearData=function(){(0,o.props.odocDispatchStore.initData)()},o.goBack=function(){o.clearData(),o.dispatchBrowser.closeModal(),"function"==typeof o.props.onClose&&o.props.onClose()},o.getColumns=function(e,t){var n=o.props.odocDispatchStore,r=n.showIds,a=n.idNames,i=n.datas,l=[];return e.map(function(e){if("1"==t)if("receiverId"==e.key){var n=(0,c.default)({},e,{render:function(e,t,n){var l,c=o.getReplaceDatas(t,i,a);return S.default.createElement(C.WeaBrowser,(l={ecId:(o&&o.props&&o.props.ecId||"")+"_WeaBrowser@d5khaw",type:"distributeDoc",isSingle:!1,pageSize:10,inputStyle:{width:"400px"},maxBrowerHeight:60,title:D("533707","请选择接收单位"),defaultExpandedLevel:1,icon:"icon-coms-hrm",tabs:[{name:D("320","列表"),key:"1",dataParams:{cmd:"List",q:1},url:""},{name:D("16455","组织结构"),key:"2",dataParams:{cmd:"Organization",q:2},url:""},{name:D("17619","公共组"),key:"3",dataParams:{cmd:"PublicGroup",q:1},url:""},{name:D("17618","私人组"),key:"4",dataParams:{cmd:"PrivateGroup",q:2},url:""}],hasAdvanceSerach:!0,isMultCheckbox:!1,showSearchAd:!0},(0,s.default)(l,"defaultExpandedLevel",1),(0,s.default)(l,"replaceDatas",c),(0,s.default)(l,"dataParams",{showIds:r,isAttachment:1}),(0,s.default)(l,"onChange",function(e,n,r){o.onTabEditChange(t.imagefileid,e,i)}),l))}});l.push(n)}else l.push((0,c.default)({},e));else if("receiverId"!=e.key){var u=(0,c.default)({},e);"imagefilename"==e.key&&(u.width="90%"),l.push(u)}}),"1"==t&&l.push({title:"",dataIndex:"randomFieldOperate",key:"randomFieldOperate",className:"wea-table-operates",display:"true",width:"10%",com:[{}],render:function(e,t,n){return S.default.createElement("div",null,S.default.createElement("a",{className:"odoc-dispatch-clear-btn",href:"javascript:void(0);",onClick:function(){o.onTabEditChange(t.imagefileid,"",i)}},D("15504","清空")))}}),l},o.cheack=function(e){var t=o.props.odocDispatchStore,n=t.showIds,r=t.datas,a=t.setFileDatas,i=t.setVisible;if(1==e){a((0,I.toJS)(r).map(function(e){return e.receiverId&&(e.receiverId=n),e}))}i(e)},o.getNotIndex=function(e,t){var o=[];return e&&e.length>0&&(t&&t.length>0?e.map(function(e){t.indexOf(e)<0&&o.push(e)}):o=e),o},o.refreshAttachmentSelectedIds=function(e,t,o){var n=(0,I.toJS)(e),r=[];return n.length>0&&n.forEach(function(e){var n=e.receiverId?e.receiverId.split(","):[];t&&t.map&&t.map(function(e){n.indexOf(e)>=0&&n.remove(e)}),o&&o.map&&o.map(function(e){n.indexOf(e)<0&&n.push(e)}),e.receiverId=n.toString(),r.push(e)}),r},o.getObjById=function(e,t){var o=null;return t&&e&&e.map&&e.map(function(e){e&&e.id==t&&(o=e)}),o},o.getReplaceDatas=function(e,t,n){var r=[];return e&&t&&t.map&&t.map(function(t){if(t.imagefileid==e.imagefileid){(t.receiverId?t.receiverId.split(","):[]).map(function(e){var t=o.getObjById(n,e);t&&r.push(t)})}}),r},o.onTabEditChange=function(e,t,o){o&&o.map&&o.map(function(o){o.imagefileid==e&&(o.receiverId=t)})},o}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.odocCompsStore,t=e.dialogParam,o=void 0===t?{}:t,n=o[E.ODOC_DISPATCH_DOC_DIALOG]||{},r=n.requestid,a=n.f_weaver_belongto_userid,i=n.f_weaver_belongto_usertype,s=n.workflowid,l=n.nodeid;if(r>0){var u={requestid:r,f_weaver_belongto_userid:a,f_weaver_belongto_usertype:i,workflowid:s,nodeid:l};this.openModal(u)}var d=(0,c.default)({},n,{openModalFun:this.openModal});e.setDialogParam(E.ODOC_DISPATCH_DOC_DIALOG,d)}},{key:"render",value:function(){var e=this,t=this.props.odocDispatchStore,o=t.checked,n=t.columns,r=t.datas,a=t.sendFilesData,i=t.setSelectedIds,s=t.isloading,l=t.attachmentNum,c=void 0===l?0:l,u=(0,I.toJS)(r);return S.default.createElement("div",{style:{height:"100%",width:"100%"}},S.default.createElement(C.WeaBrowser,{ecId:(this&&this.props&&this.props.ecId||"")+"_WeaBrowser@i6v7qa",type:"distributeDoc",isSingle:!1,pageSize:10,customized:!0,contentHeight:400,browserModalProps:{className:"dispatch-browser-modal-class"},onChange:function(e,t,o){i(e),a()},ref:function(t){return e.dispatchBrowser=t},count:function(t,o){e.listenData(t,o)},title:D("532400","文件分发")+"-"+D("533707","请选择接收单位"),icon:"icon-coms-hrm",tabs:[{name:D("320","列表"),key:"1",dataParams:{cmd:"List",q:1},url:""},{name:D("16455","组织结构"),key:"2",dataParams:{cmd:"Organization",q:2},url:""},{name:D("17619","公共组"),key:"3",dataParams:{cmd:"PublicGroup",q:1},url:""},{name:D("17618","私人组"),key:"4",dataParams:{cmd:"PrivateGroup",q:2},url:""}],hasAdvanceSerach:!0,isMultCheckbox:!1,showSearchAd:!0,defaultExpandedLevel:1,getRenderModule:function(t,r){var a=t.props,i=a.isSingle;a.browserModalProps.hideClear=!0;var l=t.state,d=l.contentType,p=l.selectedData,f=0===p.length;return{module_2:[r.module_2,S.default.createElement("div",{style:{padding:"0 10px 0 10px"}},S.default.createElement("div",{className:"odoc-dispatch-attachment-operate-left"},D("532737","待发送文件列表")+"("+c+")"),S.default.createElement("div",{className:"odoc-dispatch-attachment-operate-right"},S.default.createElement(C.WeaCheckbox,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaCheckbox@8plh62",id:"test",value:o,onChange:function(t){e.cheack(t)}}),S.default.createElement("span",null,D("532736","自定义文件分发范围"))),S.default.createElement(C.WeaNewScroll,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaNewScroll@vkejzj",height:240},S.default.createElement(_.Spin,{ecId:(e&&e.props&&e.props.ecId||"")+"_Spin@j2rp67",spinning:s,size:"small"},S.default.createElement(C.WeaTableEditable,{ecId:(e&&e.props&&e.props.ecId||"")+"_WeaTableEditable@mzs7aj",className:"odoc-dispatch-attachment-table",pageSize:10,isModalEdit:!1,columns:e.getColumns((0,I.toJS)(n),o),datas:u,showAdd:!1,showDelete:!1,showCopy:!1,getRowSelection:function(){return!1},showTitle:!1}))))],module_3_1:[(i&&3==d||!i)&&S.default.createElement(_.Button,{ecId:(e&&e.props&&e.props.ecId||"")+"_Button@lps4is",key:"submit",type:"primary",disabled:f,onClick:t.handleOk},[D("826","确定"),i||f?"":t.count(p)]),S.default.createElement(_.Button,{ecId:(e&&e.props&&e.props.ecId||"")+"_Button@2civs8",key:"back",type:"ghost",onClick:e.goBack},D("31129","取消"))]}}}))}}]),t}(S.default.Component))||a)||a);t.default=O},function(e,t){},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s,l=o(3),c=r(l),u=o(1),d=r(u),p=o(2),f=r(p),h=o(4),m=r(h),v=o(5),g=r(v),y=o(53),b=r(y),w=o(7),S=r(w),_=o(10),C=o(8),I=n(C),k=o(19),T=n(k),E=o(223),D=r(E),O=o(240),P=r(O),W=o(243),R=r(W),A=o(244),x=r(A),L=o(245),F=r(L),M=o(146),N=r(M),j=o(246),z=r(j),B=o(248),q=r(B),K=o(249),U=r(K),V=o(250),H=r(V),G=o(251),J=r(G),Q=(a={},(0,b.default)(a,T.ODOC_TRANSFER_DIALOG,D.default),(0,b.default)(a,T.ODOC_WITHDRAW_DIALOG,P.default),(0,b.default)(a,T.ODOC_WITHDRAW_MANAGER_DIALOG,R.default),(0,b.default)(a,T.ODOC_UPDATEOPERATOR_DIALOG,x.default),(0,b.default)(a,T.ODOC_APPEND_SIGNLOG,z.default),(0,b.default)(a,T.ODOC_APPEND_SIGNLOG_SELF,q.default),(0,b.default)(a,T.ODOC_UPDATE_SIGNLOG,U.default),(0,b.default)(a,T.ODOC_FILL_REMARK_DIALOG,F.default),(0,b.default)(a,T.ODOC_CHANGE_ODOC_TYPE_DIALOG,N.default),(0,b.default)(a,T.ODOC_ADJUST_LOG,H.default),(0,b.default)(a,T.ODOC_ASSIGN_REMARK_LIST,J.default),a),Y=(i=(0,_.inject)("odocCompsStore"))(s=(0,_.observer)(s=function(e){function t(e){(0,d.default)(this,t);var o=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return o.closeDialog=function(e){var t=o.props,n=t.odocCompsStore,r=t.dialogKey,a=n.dialogParam;a=I.toJS(a);var i=a[r];if(i&&i.onClose&&"function"==typeof i.onClose){var s=e||{},l=s.api_status,c=void 0!==l&&l,u=s.status,d=void 0!==u&&u;i.onClose(c||d,e)}n.setDialogVisible(r,!1)},o}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dialogKey,o=e.odocCompsStore,n=(o.dialogInit,o.dialogVisible),r=Q[t];return S.default.createElement(r,{ecId:(this&&this.props&&this.props.ecId||"")+"_CommonDialog@x5jovi",visible:n.get(t),onClose:this.closeDialog})}}]),t}(S.default.Component))||s)||s;t.default=Y},function(e,t){},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(6),i=r(a),s=o(1),l=r(s),c=o(2),u=r(c),d=o(9),p=o(0),f=o(24),h=o(56),m=r(h),v=o(627),g=r(v),y=o(97),b=n(y),w=o(19),S=n(w),_=o(69),C=n(_),I=o(13),k=r(I),T=o(8),E=n(T),D=p.WeaLocaleProvider.getLabel,O=window.WfForm,P=function(){function e(t){var o=this;(0,l.default)(this,e),this.workflowStores={},this.odocStores={},this.doCheckSignApprovalFile=function(e,t,o){var n=O.getGlobalStore().commonParam,r=n.f_weaver_belongto_userid,a=n.f_weaver_belongto_usertype;b.checkSeal({requestid:e,checktype:t,userid:o,f_weaver_belongto_userid:r,f_weaver_belongto_usertype:a}).then(function(){})},this.fnTabClick=function(e,t){var o=(0,m.default)(".wea-new-top-req-content").height();(0,m.default)(".wf-append-iframe").css({display:"block",height:o}),(0,m.default)(".custom-tab-iframe").attr({src:t,key:(new Date).getTime()})},this.doEndMyRequestConfirm=function(e,t){var n=o.workflowStores,r=n.commonParam,a=void 0===r?{}:r,i=n.submitParam,s=void 0===i?{}:i,l=n.baseParam,c=void 0===l?{}:l,u=a.workflowid,p=a.nodeid,f=s.requestid,h=e.isEndPerson?1:0,m=c.f_weaver_belongto_userid,v=c.f_weaver_belongto_usertype,g="";try{g=window.CK_REF.remark.getEditor().getData()}catch(e){}var y={isend:1,workflowid:u,nodeid:p,requestid:f,remark:g,isDrawEnd:h,f_weaver_belongto_userid:m,f_weaver_belongto_usertype:v};b.doEndPersonTreat(y).then(function(e){e.api_status&&1==e.api_status?t.onSuccess():(d.message.error(D(30651,"操作失败")),t.onClose())})},this.doEndMyRequest=function(e){var t=o,n=o.workflowStores,r=n.submitParam,a=void 0===r?{}:r,i=n.baseParam,s=void 0===i?{}:i,l=a.requestid,c=s.f_weaver_belongto_userid,u=s.f_weaver_belongto_usertype;b.isEndTreatPerson({requestid:l,f_weaver_belongto_userid:c,f_weaver_belongto_usertype:u}).then(function(o){if(o.api_status&&1==o.api_status){var n="";n=1==o.isEndPerson?D(519952,"您是此公文的唯一办理人员，确定要把文件送归档员存档吗？"):D(519953,"您确认结束本人处理吗？"),d.Modal.confirm({title:D(131329,"信息确认"),content:n,okText:D(826,"确定"),cancelText:D(201,"取消"),onOk:function(){t.doEndMyRequestConfirm(o,e)},onCancel:function(){e.onClose()}})}})},this.doFollowRequest=function(e,t){var n=o.workflowStores,r=n.submitParam,a=void 0===r?{}:r,i=n.commonParam,s=void 0===i?{}:i,l=a.requestid,c=s.f_weaver_belongto_userid,u=s.f_weaver_belongto_usertype;l&&l>0&&(1==e?b.doFollowRequest({requestid:l,f_weaver_belongto_userid:c,f_weaver_belongto_usertype:u}).then(function(e){e.api_status&&1==e.api_status?(d.message.success(""+D(131972,"流程跟踪")+D(15242,"成功")),t()):d.message.error(""+D(131972,"流程跟踪")+D(498,"失败"))}):b.removeFollowRequest({requestid:l,f_weaver_belongto_userid:c,f_weaver_belongto_usertype:u}).then(function(e){e.api_status&&1==e.api_status?(d.message.success(""+D(201,"取消")+D(131972,"流程跟踪")+D(15242,"成功")),t()):d.message.error(""+D(201,"取消")+D(131972,"流程跟踪")+D(498,"失败"))}))},this.showAssignRemark=function(){var e=o.odocStores.odocCompsStore,t=o.workflowStores.commonParam,n=void 0===t?{}:t;if((0,f.isEmpty)(n))window.setTimeout(function(){o.showAssignRemark()},300);else{var r=e.requestParam;r=E.toJS(r);var a=r,s=a.requestid,l=a.requestType;delete r.markInfo,1==l&&s>0&&b.loadAssginRemarkCount((0,i.default)({},r)).then(function(t){var o=t.count;(void 0===o?0:o)>0&&e.setDialogVisible(S.ODOC_ASSIGN_REMARK_LIST,!0)})}},this.loadRejectConfig=function(e,t){var n=o.odocStores,r=n.odocCompsStore,a=n.odocRequestRejectStore,s=r.requestParam;s=E.toJS(s);var l=s,c=l.requestid;delete s.markInfo;var u="";try{u=window.CK_REF.remark.getEditor().getData()}catch(e){}var p=o;b.loadRejectConfig(s).then(function(o){var n=o.rejectConfig,l=void 0===n?{}:n,f=l.rejectType,h=void 0===f?"0":f;1==h||2==h?b.flowReject((0,i.default)({},s,{remark:u,rejectType:h})).then(function(o){var n=o.success,r=o.msg,a=void 0===r?"":r,i=o.reloadPage,s=void 0!==i&&i;if(1==n){if(O.reloadListPage(),window.WfForm&&s)return void O.reloadPage({requestid:c});t&&"function"===typeof t&&t()}else d.Modal.error({title:D(131329,"信息确认"),content:React.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),okText:D(309,"关闭"),onOk:function(){p.reloadFormByCondition(e,c)}})}):"3"!=h&&"4"!=h||(e.onSuccess=function(e){r.setDialogVisible(S.ODOC_REJECT_DIALOG,!1),O.reloadListPage();var o=e.reloadPage,n=void 0!==o&&o;if(window.WfForm&&n)return void O.reloadPage({requestid:c});t&&"function"===typeof t&&t()},a.setMember({rejectConfig:l}),r.setDialogParam(S.ODOC_REJECT_DIALOG,e),r.setDialogVisible(S.ODOC_REJECT_DIALOG,!0))})},this.setWorkflowStores=this.setWorkflowStores.bind(this),this.resetWorkflowStores=this.resetWorkflowStores.bind(this),this.getLastOperateInfo=this.getLastOperateInfo.bind(this),this.odocStores=t}return(0,u.default)(e,[{key:"setWorkflowStores",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.workflowStores=e}},{key:"resetWorkflowStores",value:function(){this.workflowStores={}}},{key:"goSignApprovalEvent",value:function(e){var t=(0,m.default)(".wea-new-top-req-content").height();(0,m.default)(".wf-append-iframe").css({display:"block",height:t}),(0,m.default)(".custom-tab-iframe").css({display:"none"}),(0,m.default)(".custom-haoqian-iframe").length<=0?(0,m.default)(".wf-append-iframe").append('<iframe class="custom-haoqian-iframe" src="'+(0,k.default)(e)+'" style="width:100%;height:100%;border:none"></iframe>'):(0,m.default)(".custom-haoqian-iframe").css({display:"block"})}},{key:"sendConfirmTip",value:function(e,t,o){""==e&&(e=D("28535","信息提示")),d.Modal.warning({title:e,content:t,onOk:function(){o&&"function"==typeof o&&o()},okText:D("826","确定")})}},{key:"bindSignApprovalTabEvent",value:function(){var e=this,t=setInterval(function(){var o=O.getGlobalStore().commonParam;if(o.requestid&&o.requestid>0){clearInterval(t);var n=o.workflowid,r=o.nodeid,a=o.requestid,i=o.f_weaver_belongto_userid,s=o.f_weaver_belongto_usertype,l={workflowid:n,requestid:a,nodeid:r,islock:1,f_weaver_belongto_userid:i,f_weaver_belongto_usertype:s},c=(0,k.default)("/spa/odoc/static/index.html#/main/offical/odocSignApproval?workflowid="+n+"&requestid="+a+"&nodeid="+r);b.isSeal(l).then(function(t){if(t.api_status&&1==t.api_status){if(1==t.isView&&(O.registerAction(O.ACTION_SWITCHTAB,function(t,o){"custom_iframe_haoqian"==t?e.goSignApprovalEvent(c):"custom_iframe_haoqian"==o&&((0,m.default)(".custom-haoqian-iframe").css({display:"none"}),(0,m.default)(".custom-tab-iframe").css({display:"block"}))}),t.isOpen&&1==t.isOpen&&(O.getGlobalStore().setTabKey("custom_iframe_haoqian"),e.goSignApprovalEvent(c)),t.isSeal&&1==t.isSeal)){window.openSignApproval=!0,window.onbeforeunload=function(){e.doCheckSignApprovalFile(a,2,t.userid)};var o=6e4*parseInt(t.recheckoutminute)||6e5;setInterval(function(){e.doCheckSignApprovalFile(a,1,t.userid)},o)}}else d.message.error(t.msg||"获取数据异常");t.isMust&&1==t.isMust&&O.registerCheckEvent(O.OPER_SUBMIT,function(o){b.hasSeal(l).then(function(n){if(n.api_status&&1==n.api_status)if(n.hasSeal&&1==n.hasSeal)o();else{var r=(0,m.default)(".custom-haoqian-iframe");if(r.length>0){var a=r[0].contentWindow.signApprovalCtx;a?(a.CloseWrite(),a.CheckoutHasUnsaveData()?(a.SimulateClickBtn("wsSaveBtn"),setTimeout(function(){o()},1e3)):e.sendConfirmTip("",n.msg||"签批未完成,无法提交此流程",function(){if(O.switchTab("custom_iframe_haoqian"),(n.sealTerminal&&n.sealTerminal<1||1==t.defaultSign)&&r[0].contentWindow.odocSignApprovalStore){var e=r[0].contentWindow.odocSignApprovalStore;1!=e.qpSelected&&1!=t.defaultSign||(e.setQpSelected(!0),a.SimulateClickBtn("writeBtn"))}})):e.sendConfirmTip("",n.msg||"签批未完成,无法提交此流程")}else e.sendConfirmTip("",n.msg||"签批未完成,无法提交此流程",function(){O.switchTab("custom_iframe_haoqian")})}else d.message.error(n.msg||"获取数据异常")})})})}},500)}},{key:"bindCustomTabEvent",value:function(){var e=this,t=(0,g.default)(),o=t.workflowid,n=void 0===o?"":o,r=t.requestid,a=void 0===r?"":r,i=t._workflowid,s=void 0===i?"":i;n=""==n?""==s?"":s:n;var l={workflowid:n,requestid:a};b.getOdocTabManagerDatas(l).then(function(t){if(t.api_status&&1==t.api_status){t.customTabs.map(function(t){var o=t.key,n=t.url;o.indexOf("custom_iframe_workflowCusTab_")>=0&&window.WfForm.bindCustomTabEvnent(o,function(){e.fnTabClick(o,(0,k.default)(n))})})}})}},{key:"getLastOperateInfo",value:function(e,t){b.getLastOperateInfo({requestid:e}).then(function(e){t&&"function"==typeof t&&t(e)})}},{key:"doForceArchive",value:function(e){var t=this,o=function(){var o=t.workflowStores,n=o.commonParam,r=void 0===n?{}:n,a=o.submitParam,i=void 0===a?{}:a,s=r.workflowid,l=r.nodeid,c=r.f_weaver_belongto_userid,u=r.f_weaver_belongto_usertype,p=i.requestid,f="";try{f=window.CK_REF.remark.getEditor().getData()}catch(e){}var h={workflowid:s,nodeid:l,requestid:p,f_weaver_belongto_userid:c,f_weaver_belongto_usertype:u,remark:f};b.forceArchive(h).then(function(t){if(t.success)e&&"function"==typeof e&&e();else{var o=t.msg,n=void 0===o?D(30651,"操作失败"):o;d.message.error(n)}})};d.Modal.confirm({title:D(131329,"信息确认"),content:D(131982,"是否强制归档此流程"),okText:D(826,"确定"),cancelText:D(201,"取消"),onOk:o.bind(this),onCancel:function(){}})}},{key:"reloadFormByCondition",value:function(e,t){var o=e.layoutStore,n=e.onClose;o.detailMap.size>0&&O.reloadPage({requestid:t}),n&&"function"==typeof n&&n()}},{key:"loadConfig",value:function(e,t){var o=e.globalStore,n=e.layoutStore,r=o.commonParam,a=void 0===r?{}:r,s=o.submitParam,l=void 0===s?{}:s,c=n.containSignInput,u=a.showDefaultSign,p=void 0===u?"0":u,f=a.isHideInput,h=void 0===f?"0":f,v=this.odocStores,g=v.odocCompsStore,y=v.odocRequestStore,w=g.requestParam;w=E.toJS(w);var _=w,I=_.requestid;delete w.markInfo;var k=this;b.loadConfig((0,i.default)({},w)).then(function(o){var n=o.success,r=void 0===n?0:n,a=o.nodeConfig,s=void 0===a?{}:a,u=o.menuName,f=void 0===u?"":u,v=o.message,_=void 0===v?"":v,T=o.receiveUserList,E=void 0===T?[]:T,P=o.pageMode,W=void 0===P?1:P,R=o.workflowSet,A=void 0===R?{}:R,x="";try{x=window.CK_REF.remark.getEditor().getData()}catch(e){}if(1==r){var L=s.submitType,F=void 0===L?0:L;if(1==F||2==F){var M=function(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;arguments[2];b.flowNext((0,i.default)({},l,w,{isend:1,remark:n,submitType:F})).then(function(n){var r=n.success,a=void 0===r?0:r,i=n.msg,s=void 0===i?"":i,l=n.reloadPage,c=void 0!==l&&l;if(1==a){if(o&&"function"===typeof o&&o(),window.WfForm&&c)return void O.reloadPage({requestid:I});O.reloadListPage(),t&&"function"===typeof t&&t()}else 2==a||d.Modal.error({title:D(131329,"信息确认"),content:React.createElement("span",{dangerouslySetInnerHTML:{__html:s}}),okText:D(309,"关闭"),onOk:function(){k.reloadFormByCondition(e,I)}})})};if("1"!=p&&!c||"1"==h)e.submitFn=M,e.menuName=f,e.submitType=F,e.receiveUserList=E,g.setDialogParam(S.ODOC_FILL_REMARK_DIALOG,e),g.setDialogVisible(S.ODOC_FILL_REMARK_DIALOG,!0);else if(1==F){var N=A.needaffirmance,j=void 0!==N&&N;if(j){var z=E.map(function(e){return e.name}),B=D(513015,"确认将文件发送给$username处理？"),q=C.transformConfirmMsg(B,z);d.Modal.confirm({title:D(131329,"信息确认"),content:q,onOk:function(){M()},onCancel:function(){k.reloadFormByCondition(e,I)}})}else M()}else M()}else if(3==F){var K=s.dialogHeight;if(2==W){var U=(0,m.default)(document.body).height();U*=.8,K<U&&(K=U),s.dialogHeight=K}y.setMember({nodeConfig:s,pageMode:W}),e.menuName=f,e.onSuccess=function(e,o){g.setDialogVisible(S.ODOC_TRANSFER_DIALOG,!1);var n=o||{},r=n.reloadPage,a=void 0!==r&&r;"1"!==e||a?O.reloadPage({requestid:I}):(O.reloadListPage(),t&&"function"===typeof t&&t())},g.setDialogParam(S.ODOC_TRANSFER_DIALOG,e),g.setDialogVisible(S.ODOC_TRANSFER_DIALOG,!0)}}else d.Modal.error({title:D(131329,"信息确认"),content:React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),okText:D(309,"关闭"),onOk:function(){k.reloadFormByCondition(e,I)}})})}}]),e}();t.default=P},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),a=n(r),i=o(628),s=n(i);t.default=function(){var e=window.location.search.replace("?",""),t=window.location.hash.indexOf("?")>-1?window.location.hash.split("?")[1]:"";return(0,a.default)({},s.default.parse(t),s.default.parse(e))}},function(e,t,o){"use strict";t.decode=t.parse=o(629),t.encode=t.stringify=o(630)},function(e,t,o){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,a){t=t||"&",o=o||"=";var i={};if("string"!==typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var l=1e3;a&&"number"===typeof a.maxKeys&&(l=a.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,f,h,m=e[u].replace(s,"%20"),v=m.indexOf(o);v>=0?(d=m.substr(0,v),p=m.substr(v+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),n(i,f)?r(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,o){"use strict";function n(e,t){if(e.map)return e.map(t);for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,o,s){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"===typeof e?n(i(e),function(i){var s=encodeURIComponent(r(i))+o;return a(e[i])?n(e[i],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[i]))}).join(t):s?encodeURIComponent(r(s))+o+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=o(6),s=n(i),l=o(3),c=n(l),u=o(1),d=n(u),p=o(2),f=n(p),h=o(4),m=n(h),v=o(5),g=n(v),y=o(7),b=n(y),w=o(10),S=o(11),_=o(0),C=o(9),I=o(24),k=S.WeaTableNew.WeaTable,T=_.WeaLocaleProvider.getLabel,E=(r=(0,w.inject)("subWorkflowStore"))(a=(0,w.observer)(a=function(e){function t(){var e,o,n,r;(0,d.default)(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=n=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(i))),n.loadData=function(){var e=n.props,t=e.location,o=void 0===t?{}:t,r=e.subWorkflowStore,a=o.query||{};a.requestid=a.requestid||5245254,r.init(a)},n.getRequestRemarkCom=function(){var e=n.props.subWorkflowStore,t=void 0===e?{}:e,o=t.hasShowDialog,r=t.updateShowDialog,a=t.getDialogUrl,i=t.showDialogParamsStr,s=void 0===i?{}:i,l=s.requestname,c={title:l+":"+T(17614,"签字意见"),style:{width:1e3,height:800},icon:"icon-coms-Print-log",hasScroll:!0,visible:o,destroyBodyOnClose:!0,onCancel:function(){return r(!1)},url:a};return b.default.createElement(_.WeaDialog,c)},n.getColumns=function(e){return e.map(function(e,t){return"_operatr"==e.dataIndex?(0,s.default)({},e,{render:function(e,o){return b.default.createElement("div",{style:{color:"#67aff7",cursor:"pointer"},onClick:function(){n.onOperatesClick(o,t,null,0)}},b.default.createElement("span",null,T(532316,"查看意见")))}}):e})},n.onOperatesClick=function(e,t,o,r){if(0==r){var a=n.props.subWorkflowStore;(0,(void 0===a?{}:a).updateShowDialog)(!0,e)}},n.getSearchsComp=function(){var e=n.props.subWorkflowStore,t=e.condition,o=void 0===t?[]:t,r=e.form,a=[];return r.isFormInit&&!(0,I.isEmpty)(o)&&o.map(function(e,t){a.push(b.default.createElement(_.WeaSearchGroup,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSearchGroup@d0e2fa@"+t,needTigger:!1,showGroup:e.defaultshow,items:e.items.map(function(e){return{com:b.default.createElement(_.WeaFormItem,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaFormItem@5yz9wq@"+e.domkey[0],label:e.label,labelCol:{span:e.labelcol},wrapperCol:{span:e.fieldcol}},b.default.createElement(S.WeaSwitch,{ecId:(n&&n.props&&n.props.ecId||"")+"_WeaSwitch@unosao@"+e.domkey[0],fieldConfig:e,form:r})),col:e.conditionType.toUpperCase()==_.WeaTools.types.CASCADER?1:2}})}))}),a},n.getButtonsAdQuick=function(){var e=n.props.subWorkflowStore,t=e.form,o=e.reloadLoad,r=e.updateShowSearchs;return[b.default.createElement(C.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@04xy04@search",type:"primary",onClick:function(){o(!0),r(!1)}},T(388113,"搜索")),b.default.createElement(C.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@msw6rz@reset",type:"ghost",onClick:function(){t.resetForm()}},T(2022,"重置")),b.default.createElement(C.Button,{ecId:(n&&n.props&&n.props.ecId||"")+"_Button@aoed0b@cancel",type:"ghost",onClick:function(){return r(!1)}},T(201,"取消"))]},r=o,(0,m.default)(n,r)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props.subWorkflowStore,t=void 0===e?{}:e,o=t.tableStore,n=t.updateShowSearchs,r=t.form,a=t.showSearchs,i=void 0!==a&&a,l=t.getFormParams,c=void 0===l?{}:l,u=(t.searchValue,t.setSerarchValue,t.reloadLoad),d=(t.load,t.hasShowDialog),p=c.qWfTitle,f={keyParam:"key",className:"subWorkflowList",searchType:["base","advanced"],advanceHeight:210,showSearchAd:i,buttonsAd:this.getButtonsAdQuick(),searchsAd:this.getSearchsComp(),setShowSearchAd:n,searchsBaseValue:p,onSearchChange:function(e){r.updateFields({qWfTitle:{value:e}})},onSearch:u},h={pagination:!0,hasOrder:!0,needScroll:!0,comsWeaTableStore:o,size:"small",onOperatesClick:this.onOperatesClick,getColumns:this.getColumns};return o?b.default.createElement(b.default.Fragment,null,b.default.createElement(_.WeaRightMenu,{datas:this.getRightMenu()},b.default.createElement(_.WeaTab,(0,s.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_WeaTab@imy3w7"},f)),b.default.createElement(k,h),d&&this.getRequestRemarkCom())):b.default.createElement("div",{style:{"text-align":"center"}},b.default.createElement(C.Spin,{tip:T(385487,"正在加载数据...")}))}},{key:"getRightMenu",value:function(){var e=[],t=this.props.subWorkflowStore,o=void 0===t?{}:t,n=o.tableStore,r=o.setColVisible;return(void 0===r||r)&&n&&e.push({key:"colSet",icon:b.default.createElement("i",{className:"icon-coms-Custom"}),content:T(382660,"显示列定制"),onClick:function(e){n.setColSetVisible(!0),n.tableColSet(!0)}}),e}}]),t}(y.Component))||a)||a;t.default=_.WeaTools.tryCatch(b.default,function(e){return b.default.createElement(_.WeaErrorPage,{ecId:"_WeaErrorPage@o8ovhs",msg:e.error?e.error:T(383324,"对不起，该页面异常，请联系管理员")})},{error:""})(E)},function(e,t,o){"use strict";o(633),o(634),o(635),o(636),o(637),o(638),o(639),o(640),o(641),o(642),o(643),o(644),o(645),o(646),o(647),o(220),o(648),o(649),o(650),o(651),o(652),o(653),o(654)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OdocPortalElement=void 0;var r=o(6),a=n(r),i=o(3),s=n(i),l=o(1),c=n(l),u=o(2),d=n(u),p=o(4),f=n(p),h=o(5),m=n(h),v=o(7),g=n(v),y=o(94),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(y),w=o(10),S=o(0),_=o(219),C=n(_),I=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){S.WeaLocaleProvider.getLocaleLabel.bind(this,"odoc")}},{key:"render",value:function(){return g.default.createElement(w.Provider,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_Provider@o3s9pf"},b),g.default.createElement(C.default,(0,a.default)({ecId:(this&&this.props&&this.props.ecId||"")+"_PortalElement@jpnuce"},this.props)))}}]),t}(v.Component);t.OdocPortalElement=I}])});
//# sourceMappingURL=index.js.map?v=0798d0a2